
// https://fe-static.xhscdn.com/formula-static/ugc/public/resource/js/index.1d95cfef.js
;(self.webpackChunkugc = self.webpackChunkugc || []).push([["980"], {
    8115: function(n, d, v) {
        var m = {
            "./empty.vue": ["63609", "420"],
            "./fail.vue": ["21434", "420"],
            "./guide.vue": ["57586", "420"],
            "./forbidden.vue": ["10768", "420"],
            "./success.vue": ["52689", "420"],
            "./constructing.vue": ["16664", "420"],
            "./404.vue": ["88388", "420"],
            "./resultless.vue": ["99123", "420"],
            "./unrelated.vue": ["22596", "420"]
        };
        function webpackAsyncContext(n) {
            if (!v.o(m, n))
                return Promise.resolve().then(function() {
                    var d = Error("Cannot find module '" + n + "'");
                    throw d.code = "MODULE_NOT_FOUND",
                    d
                });
            var d = m[n]
              , h = d[0];
            return v.e(d[1]).then(function() {
                return v(h)
            })
        }
        webpackAsyncContext.keys = function() {
            return Object.keys(m)
        }
        ,
        webpackAsyncContext.id = 8115,
        n.exports = webpackAsyncContext
    },
    27102: function(n, d, v) {
        var m = {
            "./empty.vue": ["95219", "420"],
            "./fail.vue": ["68352", "420"],
            "./guide.vue": ["90600", "420"],
            "./forbidden.vue": ["52990", "420"],
            "./success.vue": ["74527", "420"],
            "./constructing.vue": ["30397", "420"],
            "./404.vue": ["51094", "420"],
            "./resultless.vue": ["64301", "420"],
            "./unrelated.vue": ["40179", "420"]
        };
        function webpackAsyncContext(n) {
            if (!v.o(m, n))
                return Promise.resolve().then(function() {
                    var d = Error("Cannot find module '" + n + "'");
                    throw d.code = "MODULE_NOT_FOUND",
                    d
                });
            var d = m[n]
              , h = d[0];
            return v.e(d[1]).then(function() {
                return v(h)
            })
        }
        webpackAsyncContext.keys = function() {
            return Object.keys(m)
        }
        ,
        webpackAsyncContext.id = 27102,
        n.exports = webpackAsyncContext
    },
    66947: function(n, d, v) {
        "use strict";
        v.r(d),
        v.d(d, {
            default: function() {
                return ep
            }
        });
        var m = v(66993);
        v(34885);
        var h = v(88771)
          , y = {
            id: "header-area"
        }
          , N = ["src"]
          , k = {
            class: "name-box"
        }
          , I = {
            class: "menu-list"
        }
          , C = {
            key: 0,
            class: "popover_text flex-center"
        }
          , x = {
            key: 0,
            class: "mobile-warn"
        }
          , M = {
            id: "content-area"
        };
        function render(n, d, v, S, _, V) {
            var B, O, R, U, z, Z, Q = (0,
            h.resolveComponent)("router-link"), J = (0,
            h.resolveComponent)("TopBar"), H = (0,
            h.resolveComponent)("MenuPanel"), G = (0,
            h.resolveComponent)("microapp-loader"), Y = (0,
            h.resolveComponent)("NewBsBox"), W = (0,
            h.resolveComponent)("router-view"), q = (0,
            h.resolveComponent)("beer-button"), X = (0,
            h.resolveComponent)("beer-modal"), K = (0,
            h.resolveComponent)("ExpireModal"), $ = (0,
            h.resolveComponent)("ThemeProvider");
            return (0,
            h.openBlock)(),
            (0,
            h.createBlock)($, {
                theme: n.$options.businessTheme,
                class: "main-page-container"
            }, {
                default: (0,
                h.withCtx)(function() {
                    return [(0,
                    h.createElementVNode)("div", y, [(0,
                    h.createVNode)(J, {
                        bs: {
                            paddingLeft: 20,
                            height: 64
                        },
                        title: "创作服务平台",
                        class: "logoIcon",
                        onClick: V.goHome
                    }, (0,
                    h.createSlots)({
                        _: 2
                    }, [V.userInfo ? _.isMobile ? {
                        name: "right",
                        fn: (0,
                        h.withCtx)(function() {
                            return [d[11] || (d[11] = (0,
                            h.createElementVNode)("span", null, null, -1))]
                        }),
                        key: "2"
                    } : {
                        name: "right",
                        fn: (0,
                        h.withCtx)(function() {
                            return ["mcn" === V.userInfo.role ? ((0,
                            h.openBlock)(),
                            (0,
                            h.createElementBlock)("img", {
                                key: 0,
                                class: "message cursor-pointer",
                                src: "https://fe-img-qc.xhscdn.com/7ce486f9f27f4b0ac3315e1937db3aadcae29150",
                                alt: "消息中心",
                                onClick: d[0] || (d[0] = function() {
                                    for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                        d[v] = arguments[v];
                                    return V.messageCenter && (B = V).messageCenter.apply(B, (0,
                                    m._)(d))
                                }
                                )
                            })) : (0,
                            h.createCommentVNode)("", !0), (0,
                            h.createElementVNode)("div", {
                                class: "cursor-pointer flex-center user-info",
                                onClick: d[3] || (d[3] = function() {
                                    for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                        d[v] = arguments[v];
                                    return V.showDropdown && (O = V).showDropdown.apply(O, (0,
                                    m._)(d))
                                }
                                )
                            }, [(0,
                            h.createElementVNode)("img", {
                                src: V.userInfo.userAvatar,
                                class: "user_avatar"
                            }, null, 8, N), (0,
                            h.createElementVNode)("span", k, (0,
                            h.toDisplayString)(V.userInfo.userName), 1), d[10] || (d[10] = (0,
                            h.createElementVNode)("img", {
                                class: "arrow",
                                src: "https://fe-img-qc.xhscdn.com/48fd625e5dfe43f5a44ea81f99668b223802391d"
                            }, null, -1)), (0,
                            h.withDirectives)((0,
                            h.createElementVNode)("div", I, [(0,
                            h.createElementVNode)("div", {
                                class: "popover_text flex-center",
                                onClick: d[1] || (d[1] = function() {
                                    for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                        d[v] = arguments[v];
                                    return V.handleLogout && (R = V).handleLogout.apply(R, (0,
                                    m._)(d))
                                }
                                )
                            }, d[8] || (d[8] = [(0,
                            h.createElementVNode)("img", {
                                src: "https://fe-img-qc.xhscdn.com/c058818aacf2f30e1031d70e63c2124501b41718",
                                alt: "登出"
                            }, null, -1), (0,
                            h.createElementVNode)("span", {
                                class: "inline-block"
                            }, "退出登录", -1)])), "mcn" === V.userInfo.role && -1 !== V.userInfo.permissions.indexOf("mcnManage") ? ((0,
                            h.openBlock)(),
                            (0,
                            h.createElementBlock)("div", C, [d[9] || (d[9] = (0,
                            h.createElementVNode)("img", {
                                src: "https://fe-img-qc.xhscdn.com/0aeb0122af9bd22561e32744025817d6ecac732f",
                                alt: "账号管理"
                            }, null, -1)), (0,
                            h.createElementVNode)("span", {
                                class: "inline-block",
                                onClick: d[2] || (d[2] = function() {
                                    for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                        d[v] = arguments[v];
                                    return V.countManagement && (U = V).countManagement.apply(U, (0,
                                    m._)(d))
                                }
                                )
                            }, " 账号管理 ")])) : (0,
                            h.createCommentVNode)("", !0)], 512), [[h.vShow, _.isShowDropdown]])])]
                        }),
                        key: "1"
                    } : {
                        name: "right",
                        fn: (0,
                        h.withCtx)(function() {
                            return [(0,
                            h.createVNode)(Q, {
                                to: "/",
                                tag: "span",
                                class: "link"
                            }, {
                                default: (0,
                                h.withCtx)(function() {
                                    return d[7] || (d[7] = [(0,
                                    h.createTextVNode)(" 登录 ")])
                                }),
                                _: 1
                            })]
                        }),
                        key: "0"
                    }]), 1032, ["onClick"]), _.showMobileWarn ? ((0,
                    h.openBlock)(),
                    (0,
                    h.createElementBlock)("div", x, [d[12] || (d[12] = (0,
                    h.createElementVNode)("span", {
                        class: "mobile-warn-info-icon"
                    }, null, -1)), d[13] || (d[13] = (0,
                    h.createElementVNode)("span", {
                        class: "mobile-warn-text"
                    }, "移动端暂不支持网页发布,", -1)), (0,
                    h.createElementVNode)("span", {
                        class: "open-app-text",
                        onClick: d[4] || (d[4] = function() {
                            for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                d[v] = arguments[v];
                            return V.openApp && (z = V).openApp.apply(z, (0,
                            m._)(d))
                        }
                        )
                    }, " 点击打开小红书App "), (0,
                    h.createElementVNode)("span", {
                        class: "mobile-warn-close-icon",
                        onClick: d[5] || (d[5] = function() {
                            for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                d[v] = arguments[v];
                            return V.closeMobileWarn && (Z = V).closeMobileWarn.apply(Z, (0,
                            m._)(d))
                        }
                        )
                    })])) : (0,
                    h.createCommentVNode)("", !0)]), (0,
                    h.createElementVNode)("div", M, [(0,
                    h.createVNode)(Y, {
                        bs: {
                            mt: "3x",
                            mx: "auto",
                            display: "flex",
                            alignItems: "flex-start",
                            marginTop: "0",
                            borderTop: "1px solid #EDF0F7"
                        },
                        as: "main"
                    }, {
                        default: (0,
                        h.withCtx)(function() {
                            return [V.userInfo ? ((0,
                            h.openBlock)(),
                            (0,
                            h.createBlock)(H, {
                                key: 0,
                                bs: {
                                    mr: 0,
                                    borderRadius: "0",
                                    borderRight: "1px solid #EDF0F7"
                                },
                                class: "menu-panel"
                            })) : (0,
                            h.createCommentVNode)("", !0), (0,
                            h.withDirectives)((0,
                            h.createVNode)(Y, {
                                class: "microapp-container",
                                bs: {
                                    flex: 1,
                                    alignSelf: "stretch"
                                }
                            }, {
                                default: (0,
                                h.withCtx)(function() {
                                    return [(0,
                                    h.createVNode)(G, {
                                        "start-opts": _.startOpts,
                                        manual: !1,
                                        "load-cmp": !1
                                    }, null, 8, ["start-opts"])]
                                }),
                                _: 1
                            }, 512), [[h.vShow, n.$route.meta.micro]]), n.$route.meta.micro ? (0,
                            h.createCommentVNode)("", !0) : ((0,
                            h.openBlock)(),
                            (0,
                            h.createBlock)(Y, {
                                key: 1,
                                class: "microapp-container",
                                bs: {
                                    flex: 1,
                                    alignSelf: "stretch"
                                }
                            }, {
                                default: (0,
                                h.withCtx)(function() {
                                    return [(0,
                                    h.createVNode)(W)]
                                }),
                                _: 1
                            }))]
                        }),
                        _: 1
                    })]), (0,
                    h.createVNode)(X, {
                        show: _.showLogout,
                        "onUpdate:show": d[6] || (d[6] = function(n) {
                            return _.showLogout = n
                        }
                        )
                    }, {
                        title: (0,
                        h.withCtx)(function() {
                            return d[14] || (d[14] = [(0,
                            h.createTextVNode)("退出登录")])
                        }),
                        footer: (0,
                        h.withCtx)(function() {
                            return [(0,
                            h.createVNode)(q, {
                                variant: "secondary",
                                onClick: V.cancelLogout
                            }, {
                                default: (0,
                                h.withCtx)(function() {
                                    return d[15] || (d[15] = [(0,
                                    h.createTextVNode)(" 取消 ")])
                                }),
                                _: 1
                            }, 8, ["onClick"]), (0,
                            h.createVNode)(q, {
                                onClick: V.confirmLogout
                            }, {
                                default: (0,
                                h.withCtx)(function() {
                                    return d[16] || (d[16] = [(0,
                                    h.createTextVNode)("确定")])
                                }),
                                _: 1
                            }, 8, ["onClick"])]
                        }),
                        default: (0,
                        h.withCtx)(function() {
                            return [d[17] || (d[17] = (0,
                            h.createElementVNode)("div", null, "确定要退出登录吗？", -1))]
                        }),
                        _: 1
                    }, 8, ["show"]), V.userInfo && "mcn" === V.userInfo.role ? ((0,
                    h.openBlock)(),
                    (0,
                    h.createBlock)(K, {
                        key: 0
                    })) : (0,
                    h.createCommentVNode)("", !0)]
                }),
                _: 1
            }, 8, ["theme"])
        }
        var S = v(41622)
          , _ = v(31547)
          , V = v(377);
        v(15066),
        v(86651);
        var B = v(48661)
          , O = v(61334)
          , R = v(67982)
          , U = v(95267)
          , z = v(63782)
          , Z = v(68392)
          , Q = v(16782)
          , J = v(46353)
          , H = v(40529)
          , G = v(63674)
          , Y = v(70879)
          , W = v(27337);
        v(87535),
        v(75204),
        v(97357),
        v(34333),
        v(87989),
        v(42876),
        v(33933);
        var q = v(25618)
          , X = v(8614)
          , K = v(83249)
          , $ = v(86881)
          , ee = v(85629)
          , et = v(59179)
          , en = v(13334)
          , ea = {
            class: "menu-container"
        }
          , eo = {
            class: "list"
        }
          , er = {
            key: 0,
            class: "publish-video"
        }
          , ei = (0,
        h.defineComponent)({
            __name: "MenuPanel",
            props: {
                bs: {},
                getNodeBs: {
                    type: Function
                }
            },
            setup: function(n) {
                var d = et.Z.mcnMenu
                  , v = et.Z.mcnApplyMenu
                  , y = et.Z.mcnRenewMenu
                  , N = et.Z.creatorMenu
                  , k = et.Z.commonMenu
                  , I = et.Z.totalPermissions
                  , C = et.Z.newDataPanel
                  , x = et.Z.creatorMenuWithSkit;
                (0,
                h.computed)(function() {
                    var n, d;
                    return null !== (d = null === (n = en.h.getters.userExp) || void 0 === n ? void 0 : n.flags) && void 0 !== d ? d : []
                });
                var getMenuName = function(n, d) {
                    for (var v = 0; v < n.length; v++) {
                        var m = n[v];
                        if (m.path === d)
                            return m.name;
                        if (m.children) {
                            var h = getMenuName(m.children, d);
                            if (h)
                                return h
                        }
                    }
                    return ""
                }
                  , getPermissionName = function(n, d, v) {
                    for (var m = [], h = 0; h < n.length; h++) {
                        var y = n[h];
                        if (-1 !== d.indexOf(I[y.name]))
                            m.push(y);
                        else if (y.children) {
                            var N, k = getPermissionName(y.children, d, y);
                            (null === (N = k.children) || void 0 === N ? void 0 : N.length) && m.push(k)
                        }
                    }
                    return v ? (v.children = m,
                    v) : m
                }
                  , M = (0,
                K.yj)()
                  , S = (0,
                K.tv)()
                  , _ = (0,
                h.ref)(!1)
                  , V = (0,
                h.ref)("")
                  , B = (0,
                h.ref)("")
                  , O = (0,
                h.computed)(function() {
                    var n = M.path;
                    return "creator" === V.value && "/mcn/mcn-entry" !== n && "/mcn/mcn-renew" !== n
                })
                  , handleGoVideoPage = function() {
					debugger
                    // null === (n = window) || void 0 === n || n.eaglet.push(q.tracker["31274"]((0,
                    // H.Js)())),
                    // B.value = "";
                    // var n, d = "/publish/publish";
                    // M.path !== d && S.push({
                    //     path: d,
                    //     query: (0,
                    //     W._)((0,
                    //     Y._)({}, (0,
                    //     H.O6)()), {
                    //         from: "menu"
                    //     })
                    // })
                }
                  , onClick = function(n) {
                    var d, v = n.node;
                    if (!!v.isLeaf) {
                        var m = v || {}
                          , h = m.path
                          , y = m.name
                          , N = m.title;
                        null === (d = window) || void 0 === d || d.eaglet.push(q.tracker["31278"]({
                            channelTabName: N
                        })),
                        M.path !== h && (h ? S.push({
                            path: h,
                            query: (0,
                            H.O6)()
                        }) : S.push({
                            name: y,
                            query: (0,
                            H.O6)()
                        }),
                        B.value = y)
                    }
                }
                  , trackMenusImpression = function(n) {
                    n.forEach(function(n) {
                        var d, v = n.title, m = n.children;
                        Array.isArray(m) && trackMenusImpression(m),
                        null === (d = window) || void 0 === d || d.eaglet.push(q.tracker["31277"]((0,
                        Y._)({
                            channelTabName: v
                        }, (0,
                        H.Js)())))
                    })
                }
                  , R = (0,
                $.oR)()
                  , U = (0,
                h.computed)(function() {
                    var n, d;
                    return null === (d = R.state) || void 0 === d ? void 0 : null === (n = d.Auth) || void 0 === n ? void 0 : n.userInfo
                })
                  , z = U.value || {}
                  , Z = z.role
                  , Q = z.permissions
                  , J = (0,
                m._)(d).concat((0,
                m._)(k))
                  , G = (0,
                m._)(k)
                  , ei = (0,
                h.computed)(function() {
                    var n;
                    switch (null === (n = U.value) || void 0 === n ? void 0 : n.role) {
                    case "creator":
                        return (0,
                        m._)((null == Q ? void 0 : Q.includes("SKETCH_COLLECTION")) ? x : N).concat((0,
                        m._)(C), (0,
                        m._)(getPermissionName(G, Q)));
                    case "mcn":
                        return getPermissionName(J, Q);
                    default:
                        return (0,
                        m._)(k)
                    }
                })
                  , el = (0,
                h.computed)(function() {
                    return "/mcn/mcn-entry" === window.location.pathname ? v : "/mcn/mcn-renew" === window.location.pathname ? y : ei.value
                });
                (0,
                h.watch)(M, function(n) {
                    var d = getMenuName(el.value, n.path);
                    B.value = d || ""
                });
                var ec = (0,
                h.computed)(function() {
                    return null == Q ? void 0 : Q.includes("LIVE_PREVIEW")
                })
                  , eu = (0,
                h.computed)(function() {
                    return !localStorage.getItem("creator-publish-liveNotice") && ec.value
                })
                  , es = (0,
                h.ref)(!1)
                  , ed = (0,
                h.ref)("")
                  , check = function() {
                    if (eu.value) {
                        var n;
                        ed.value = "笔记发布支持关联直播预告啦～",
                        null === (n = window) || void 0 === n || n.eaglet.push(q.tracker["63126"]({
                            tagContent: "group"
                        })),
                        _.value = eu.value,
                        es.value = !0
                    }
                };
                (0,
                h.watch)([es], function() {
                    check()
                }),
                (0,
                h.onMounted)(function() {
                    check()
                });
                var closePopover = function() {
                    _.value && (_.value = !1),
                    eu.value && es.value && localStorage.setItem("creator-publish-liveNotice", "true"),
                    document.removeEventListener("click", closePopover)
                };
                document.addEventListener("click", closePopover),
                trackMenusImpression(el.value);
                var ev = getMenuName(el.value, window.location.pathname);
                return (0,
                H.hd)({
                    loginUserType: V
                }),
                V.value = Z,
                B.value = ev || "",
                function(n, d) {
                    return (0,
                    h.openBlock)(),
                    (0,
                    h.createElementBlock)("div", ea, [(0,
                    h.createElementVNode)("div", eo, [O.value ? ((0,
                    h.openBlock)(),
                    (0,
                    h.createElementBlock)("div", er, [(0,
                    h.createVNode)((0,
                    h.unref)(ee.$t), {
                        "show-arrow": "",
                        visible: _.value,
                        placement: "right",
                        width: 238,
                        transition: "fade",
                        content: ed.value
                    }, {
                        reference: (0,
                        h.withCtx)(function() {
                            return [(0,
                            h.createElementVNode)("a", {
                                class: "btn",
                                onClick: handleGoVideoPage
                            }, " 发布笔记 ")]
                        }),
                        _: 1
                    }, 8, ["visible", "content"])])) : (0,
                    h.createCommentVNode)("", !0), (0,
                    h.createVNode)((0,
                    h.unref)(X.Z), {
                        "active-id": B.value,
                        "onUpdate:activeId": d[0] || (d[0] = function(n) {
                            return B.value = n
                        }
                        ),
                        bs: n.bs,
                        list: el.value,
                        "handle-click": onClick,
                        "get-node-bs": n.getNodeBs,
                        "default-expand-all": !0,
                        "text-key": "title",
                        "id-key": "name"
                    }, {
                        title: (0,
                        h.withCtx)(function(n) {
                            var d = n.treeNode;
                            return [(0,
                            h.createElementVNode)("span", {
                                class: (0,
                                h.normalizeClass)({
                                    "new-tag": d.isNew
                                })
                            }, (0,
                            h.toDisplayString)(d.text), 3)]
                        }),
                        _: 1
                    }, 8, ["active-id", "bs", "list", "get-node-bs"])])])
                }
            }
        })
          , el = v(97104);
        let ec = (0,
        el.default)(ei, [["__scopeId", "data-v-188672e6"]]);
        var eu = v(85338)
          , es = v(19002)
          , ed = v(63185)
          , ev = v(54797)
          , em = "creator-platform-mobile-warn"
          , ef = {
            name: "AppLayout",
            components: {
                TopBar: B.Z,
                NewBsBox: O.Z,
                MenuPanel: ec,
                BeerButton: R.Z,
                BeerModal: U.Z,
                ThemeProvider: z.Z,
                ExpireModal: es.Z
            },
            data: function() {
                return {
                    showLogout: !1,
                    isShowDropdown: !1,
                    isMobile: ev.tq,
                    showMobileWarn: ev.tq && !localStorage.getItem(em),
                    startOpts: {
                        prefetch: !1,
                        singular: !0,
                        sandbox: {
                            experimentalStyleIsolation: !0
                        }
                    },
                    mounted: !1
                }
            },
            businessTheme: Z.Z,
            computed: {
                userInfo: function() {
                    var n, d;
                    return null === (d = this.$store.state) || void 0 === d ? void 0 : null === (n = d.Auth) || void 0 === n ? void 0 : n.userInfo
                }
            },
            created: function() {
                this.MicroappMountContainer = eu.Z
            },
            mounted: function() {
                var n = this;
                window.document.documentElement.style.overflowY = "hidden",
                document.addEventListener("click", function() {
                    n.isShowDropdown = !1
                }),
                (0,
                G.Td)(function(d) {
                    n.$eaglet.sendApm({
                        event: "microapp-load-fail",
                        message: d.message,
                        type: d.appOrParcelName
                    }, "SnsWebPublish"),
                    n.$eaglet.sendCustomError(d, {
                        title: "微前端加载错误"
                    })
                }),
                window.addEventListener("storage", this.onUserChange)
            },
            unmounted: function() {
                window.removeEventListener("storage", this.onUserChange)
            },
            methods: {
                openApp: function() {
                    (0,
                    J.ld)({
                        deeplink: "https://www.xiaohongshu.com/picasso_pages/author-center/main?fullscreen=true"
                    })
                },
                onUserChange: function(n) {
                    "USER_INFO_FOR_BIZ" === n.key && (alert("该账户已退出登录"),
                    window.location.reload())
                },
                closeMobileWarn: function() {
                    this.showMobileWarn = !1,
                    localStorage.setItem(em, "true")
                },
                showDropdown: function(n) {
                    n.stopPropagation(),
                    this.isShowDropdown = !this.isShowDropdown
                },
                messageCenter: function() {
                    this.$router.push({
                        path: "/mcn/notificationList"
                    })
                },
                countManagement: function() {
                    this.$router.push({
                        path: "/mcn/countInfo"
                    })
                },
                handleLogout: function() {
                    this.showLogout = !0
                },
                cancelLogout: function() {
                    this.showLogout = !1
                },
                goHome: function(n) {
                    if ("object" === (0,
                    _._)(n.target.farthestViewportElement) || "创作服务平台" === n.target.innerHTML) {
                        var d, v = null === (d = this.userInfo) || void 0 === d ? void 0 : d.role;
                        if (!!v) {
                            var m = "creator" === v ? "/new/home" : "/newmcn/home";
                            m !== window.location.pathname && this.$router.push({
                                path: m,
                                query: (0,
                                H.O6)()
                            })
                        }
                    }
                },
                confirmLogout: function() {
                    return (0,
                    S._)(function() {
                        return (0,
                        V.Jh)(this, function(n) {
                            switch (n.label) {
                            case 0:
                                return this.showLogout = !1,
                                [4, Q.l3().catch(function(n) {
                                    console.log(n)
                                })];
                            case 1:
                                return n.sent(),
                                localStorage.removeItem("USER_INFO"),
                                localStorage.removeItem("USER_INFO_FOR_BIZ"),
                                window.location.href = "/login?selfLogout=true",
                                (0,
                                ed.t$)(),
                                [2]
                            }
                        })
                    }).apply(this)
                }
            }
        }
          , ep = (0,
        el.default)(ef, [["render", render], ["__scopeId", "data-v-18f7ed28"]])
    },
    19002: function(n, d, v) {
        "use strict";
        v.d(d, {
            Z: function() {
                return V
            }
        });
        var m = v(88771)
          , h = {
            class: "desc"
        };
        function render(n, d, v, y, N, k) {
            var I = (0,
            m.resolveComponent)("Modal");
            return (0,
            m.openBlock)(),
            (0,
            m.createBlock)(I, {
                bs: {
                    position: "relative",
                    width: 400,
                    paddingTop: 16,
                    paddingBottom: 16,
                    ".header": {
                        paddingBottom: 8,
                        paddingLeft: 48
                    },
                    ".footer": {
                        display: "none"
                    }
                },
                fixed: "",
                show: n.visible,
                title: n.title,
                class: "fallback-model",
                onClose: y.handleCloseClick
            }, {
                default: (0,
                m.withCtx)(function() {
                    return [d[0] || (d[0] = (0,
                    m.createElementVNode)("span", {
                        class: "icon info"
                    }, null, -1)), (0,
                    m.createElementVNode)("div", h, (0,
                    m.toDisplayString)(n.desc), 1), d[1] || (d[1] = (0,
                    m.createElementVNode)("a", {
                        href: "/mcn/mcn-renew",
                        target: "__blank"
                    }, "立即续约", -1))]
                }),
                _: 1
            }, 8, ["show", "title", "onClose"])
        }
        var y = v(41622)
          , N = v(70879)
          , k = v(27337)
          , I = v(377);
        v(87989),
        v(87535),
        v(75204),
        v(97357),
        v(34333);
        var C = v(95267)
          , x = v(77202)
          , M = v(20509)
          , S = v(34079)
          , _ = {
            name: "ExpireModal",
            components: {
                Modal: C.Z
            },
            setup: function() {
                var n = (0,
                m.reactive)({
                    visible: !1,
                    title: "",
                    desc: ""
                })
                  , getExpireTip = function(d) {
                    var v = Date.now();
                    [{
                        api: S.r_,
                        condition: v < d && (0,
                        M.Z)(v).add(30, "day").valueOf() >= d,
                        title: "合作到期提醒",
                        desc: "您与小红书平台的合同将于 ".concat((0,
                        M.Z)(d).format("YYYY-MM-DD"), " 到期，为不影响后续合作，请您尽快续约。")
                    }, {
                        api: S.yT,
                        condition: v >= d && (0,
                        M.Z)(d).add(30, "day").valueOf() >= v,
                        title: "合作过期提醒",
                        desc: "您与小红书平台的合同已过期，完成续约，重新开通MCN管理相关功能权限。"
                    }].forEach(function(d) {
                        var v = d.api
                          , m = d.condition
                          , h = d.title
                          , y = d.desc;
                        m && v().then(function(d) {
                            var v = d.monthLoginCount
                              , m = d.dayLoginRecord;
                            if (!(v > 3))
                                !m && (n.visible = !0,
                                n.title = h,
                                n.desc = y)
                        })
                    })
                };
                return (0,
                m.onMounted)((0,
                y._)(function() {
                    var n, d;
                    return (0,
                    I.Jh)(this, function(v) {
                        switch (v.label) {
                        case 0:
                            return [4, x.q6({}).catch(function() {})];
                        case 1:
                            if (d = (n = v.sent()).endTime,
                            1 !== n.mcnType || !d)
                                return [2];
                            return getExpireTip(d),
                            [2]
                        }
                    })
                })),
                (0,
                k._)((0,
                N._)({}, (0,
                m.toRefs)(n)), {
                    handleCloseClick: function() {
                        n.visible = !1
                    }
                })
            }
        }
          , V = (0,
        v(97104).default)(_, [["render", render], ["__scopeId", "data-v-fd18059e"]])
    },
    85338: function(n, d, v) {
        "use strict";
        v.d(d, {
            Z: function() {
                return y
            }
        });
        var m = v(88771)
          , h = {
            ref: "microContainer",
            class: "microapp-container"
        };
        function render(n, d, v, y, N, k) {
            return (0,
            m.openBlock)(),
            (0,
            m.createElementBlock)("div", h, [(0,
            m.renderSlot)(n.$slots, "default", {}, void 0, !0)], 512)
        }
        var y = (0,
        v(97104).default)({
            name: "MicroContainer",
            updated: function() {
                var n = this.$refs.microContainer;
                n && (n.scrollTop = 0)
            }
        }, [["render", render], ["__scopeId", "data-v-6d98d4a6"]])
    },
    88329: function(n, d, v) {
        "use strict";
        v.r(d),
        v.d(d, {
            AVLTree: function() {
                return Y
            },
            BitStatus: function() {
                return U
            },
            CustomError: function() {
                return CustomError
            },
            CustomSuccess: function() {
                return CustomSuccess
            },
            Events: function() {
                return O
            },
            FIFOCache: function() {
                return _
            },
            FunctionExt: function() {
                return x
            },
            LFUCache: function() {
                return B
            },
            LRUCache: function() {
                return S
            },
            LinkedList: function() {
                return Z
            },
            MaxHeap: function() {
                return H
            },
            MaxHeapWithArray: function() {
                return G
            },
            MemoryMap: function() {
                return z
            },
            Mutex: function() {
                return M
            },
            Node: function() {
                return Node$1
            },
            Plugin: function() {
                return Plugin
            },
            Plugins: function() {
                return R
            },
            Queue: function() {
                return Q
            },
            Stack: function() {
                return J
            },
            TTLCache: function() {
                return V
            },
            apply: function() {
                return apply
            },
            call: function() {
                return call
            },
            compose: function() {
                return compose
            },
            debounce: function() {
                return m.Z
            },
            detectBrowser: function() {
                return detectBrowser
            },
            formatDate: function() {
                return formatDate
            },
            formatNumberWithCommas: function() {
                return formatNumberWithCommas
            },
            getByteLength: function() {
                return getByteLength
            },
            getChromeVersion: function() {
                return getChromeVersion
            },
            getFirefoxVersion: function() {
                return getFirefoxVersion
            },
            getLast30DaysDate: function() {
                return getLast30DaysDate
            },
            getLast30DaysTimestamp: function() {
                return getLast30DaysTimestamp
            },
            getLast7DaysDate: function() {
                return getLast7DaysDate
            },
            getLast7DaysTimestamp: function() {
                return getLast7DaysTimestamp
            },
            getSafariVersion: function() {
                return getSafariVersion
            },
            getTodayDate: function() {
                return getTodayDate
            },
            getTodayTimestamp: function() {
                return getTodayTimestamp
            },
            getYesterdayDate: function() {
                return getYesterdayDate
            },
            getYesterdayTimestamp: function() {
                return getYesterdayTimestamp
            },
            isAsync: function() {
                return isAsync
            },
            isAsyncLike: function() {
                return isAsyncLike
            },
            isChrome: function() {
                return isChrome
            },
            isFirefox: function() {
                return isFirefox
            },
            isSafari: function() {
                return isSafari
            },
            isSupportSharedArrayBuffer: function() {
                return isSupportSharedArrayBuffer
            },
            isSupportWasm: function() {
                return isSupportWasm
            },
            omit: function() {
                return y.Z
            },
            omitBy: function() {
                return N.Z
            },
            throttle: function() {
                return h.Z
            },
            toAsyncBoolean: function() {
                return toAsyncBoolean
            },
            toDeferredBoolean: function() {
                return toDeferredBoolean
            },
            transforrmMDfromTimestamp: function() {
                return transforrmMDfromTimestamp
            },
            uniq: function() {
                return k.Z
            },
            uniqBy: function() {
                return I.Z
            },
            uniqWith: function() {
                return C.Z
            }
        });
        var m = v(76729)
          , h = v(68461)
          , y = v(27416)
          , N = v(67912)
          , k = v(23813)
          , I = v(78493)
          , C = v(52922);
        function isAsyncLike(n) {
            return "object" == typeof n && n.then && "function" == typeof n.then
        }
        function isAsync(n) {
            return null != n && (n instanceof Promise || isAsyncLike(n))
        }
        function toAsyncBoolean() {
            for (var n = [], d = arguments.length, v = Array(d), m = 0; m < d; m++)
                v[m] = arguments[m];
            return (v.forEach(function(d) {
                Array.isArray(d) ? n.push.apply(n, d) : n.push(d)
            }),
            n.some(function(n) {
                return isAsync(n)
            })) ? Promise.all(n.map(function(n) {
                return isAsync(n) ? n : Promise.resolve(!1 !== n)
            })).then(function(n) {
                return n.reduce(function(n, d) {
                    return !1 !== d && n
                }, !0)
            }) : n.every(function(n) {
                return !1 !== n
            })
        }
        function toDeferredBoolean() {
            for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                d[v] = arguments[v];
            var m = toAsyncBoolean(d);
            return "boolean" == typeof m ? Promise.resolve(m) : m
        }
        function apply(n, d, v) {
            if (v)
                switch (v.length) {
                case 0:
                    break;
                case 1:
                    return n.call(d, v[0]);
                case 2:
                    return n.call(d, v[0], v[1]);
                case 3:
                    return n.call(d, v[0], v[1], v[2]);
                case 4:
                    return n.call(d, v[0], v[1], v[2], v[3]);
                case 5:
                    return n.call(d, v[0], v[1], v[2], v[3], v[4]);
                case 6:
                    return n.call(d, v[0], v[1], v[2], v[3], v[4], v[5]);
                default:
                    return n.apply(d, v)
                }
            return n.call(d)
        }
        function call(n, d) {
            for (var v = arguments.length, m = Array(v > 2 ? v - 2 : 0), h = 2; h < v; h++)
                m[h - 2] = arguments[h];
            return apply(n, d, m)
        }
        function compose() {
            for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                d[v] = arguments[v];
            return function(n) {
                return d.reduce(function(n, d) {
                    return d(n)
                }, n)
            }
        }
        var x = {
            __proto__: null,
            isAsyncLike: isAsyncLike,
            isAsync: isAsync,
            toAsyncBoolean: toAsyncBoolean,
            toDeferredBoolean: toDeferredBoolean,
            apply: apply,
            call: call,
            debounce: m.Z,
            throttle: h.Z,
            compose: compose
        };
        function _arrayLikeToArray(n, d) {
            (null == d || d > n.length) && (d = n.length);
            for (var v = 0, m = Array(d); v < d; v++)
                m[v] = n[v];
            return m
        }
        function asyncGeneratorStep(n, d, v, m, h, y, N) {
            try {
                var k = n[y](N)
                  , I = k.value
            } catch (n) {
                return void v(n)
            }
            k.done ? d(I) : Promise.resolve(I).then(m, h)
        }
        function _asyncToGenerator(n) {
            return function() {
                var d = this
                  , v = arguments;
                return new Promise(function(m, h) {
                    var y = n.apply(d, v);
                    function _next(n) {
                        asyncGeneratorStep(y, m, h, _next, _throw, "next", n)
                    }
                    function _throw(n) {
                        asyncGeneratorStep(y, m, h, _next, _throw, "throw", n)
                    }
                    _next(void 0)
                }
                )
            }
        }
        function _defineProperties(n, d) {
            for (var v = 0; v < d.length; v++) {
                var m = d[v];
                m.enumerable = m.enumerable || !1,
                m.configurable = !0,
                "value"in m && (m.writable = !0),
                Object.defineProperty(n, _toPropertyKey(m.key), m)
            }
        }
        function _createClass(n, d, v) {
            return d && _defineProperties(n.prototype, d),
            v && _defineProperties(n, v),
            Object.defineProperty(n, "prototype", {
                writable: !1
            }),
            n
        }
        function _createForOfIteratorHelperLoose(n, d) {
            var v = "undefined" != typeof Symbol && n[Symbol.iterator] || n["@@iterator"];
            if (v)
                return (v = v.call(n)).next.bind(v);
            if (Array.isArray(n) || (v = _unsupportedIterableToArray(n)) || d && n && "number" == typeof n.length) {
                v && (n = v);
                var m = 0;
                return function() {
                    return m >= n.length ? {
                        done: !0
                    } : {
                        done: !1,
                        value: n[m++]
                    }
                }
            }
            throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        function _regeneratorRuntime() {
            _regeneratorRuntime = function() {
                return d
            }
            ;
            var n, d = {}, v = Object.prototype, m = v.hasOwnProperty, h = Object.defineProperty || function(n, d, v) {
                n[d] = v.value
            }
            , y = "function" == typeof Symbol ? Symbol : {}, N = y.iterator || "@@iterator", k = y.asyncIterator || "@@asyncIterator", I = y.toStringTag || "@@toStringTag";
            function define(n, d, v) {
                return Object.defineProperty(n, d, {
                    value: v,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }),
                n[d]
            }
            try {
                define({}, "")
            } catch (n) {
                define = function(n, d, v) {
                    return n[d] = v
                }
            }
            function wrap(n, d, v, m) {
                var y = Object.create((d && d.prototype instanceof Generator ? d : Generator).prototype);
                return h(y, "_invoke", {
                    value: makeInvokeMethod(n, v, new Context(m || []))
                }),
                y
            }
            function tryCatch(n, d, v) {
                try {
                    return {
                        type: "normal",
                        arg: n.call(d, v)
                    }
                } catch (n) {
                    return {
                        type: "throw",
                        arg: n
                    }
                }
            }
            d.wrap = wrap;
            var C = "suspendedStart"
              , x = "executing"
              , M = "completed"
              , S = {};
            function Generator() {}
            function GeneratorFunction() {}
            function GeneratorFunctionPrototype() {}
            var _ = {};
            define(_, N, function() {
                return this
            });
            var V = Object.getPrototypeOf
              , B = V && V(V(values([])));
            B && B !== v && m.call(B, N) && (_ = B);
            var O = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(_);
            function defineIteratorMethods(n) {
                ["next", "throw", "return"].forEach(function(d) {
                    define(n, d, function(n) {
                        return this._invoke(d, n)
                    })
                })
            }
            function AsyncIterator(n, d) {
                var v;
                function invoke(v, h, y, N) {
                    var k = tryCatch(n[v], n, h);
                    if ("throw" !== k.type) {
                        var I = k.arg
                          , C = I.value;
                        return C && "object" == typeof C && m.call(C, "__await") ? d.resolve(C.__await).then(function(n) {
                            invoke("next", n, y, N)
                        }, function(n) {
                            invoke("throw", n, y, N)
                        }) : d.resolve(C).then(function(n) {
                            I.value = n,
                            y(I)
                        }, function(n) {
                            return invoke("throw", n, y, N)
                        })
                    }
                    N(k.arg)
                }
                h(this, "_invoke", {
                    value: function(n, m) {
                        function callInvokeWithMethodAndArg() {
                            return new d(function(d, v) {
                                invoke(n, m, d, v)
                            }
                            )
                        }
                        return v = v ? v.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg()
                    }
                })
            }
            function makeInvokeMethod(d, v, m) {
                var h = C;
                return function(y, N) {
                    if (h === x)
                        throw Error("Generator is already running");
                    if (h === M) {
                        if ("throw" === y)
                            throw N;
                        return {
                            value: n,
                            done: !0
                        }
                    }
                    for (m.method = y,
                    m.arg = N; ; ) {
                        var k = m.delegate;
                        if (k) {
                            var I = maybeInvokeDelegate(k, m);
                            if (I) {
                                if (I === S)
                                    continue;
                                return I
                            }
                        }
                        if ("next" === m.method)
                            m.sent = m._sent = m.arg;
                        else if ("throw" === m.method) {
                            if (h === C)
                                throw h = M,
                                m.arg;
                            m.dispatchException(m.arg)
                        } else
                            "return" === m.method && m.abrupt("return", m.arg);
                        h = x;
                        var _ = tryCatch(d, v, m);
                        if ("normal" === _.type) {
                            if (h = m.done ? M : "suspendedYield",
                            _.arg === S)
                                continue;
                            return {
                                value: _.arg,
                                done: m.done
                            }
                        }
                        "throw" === _.type && (h = M,
                        m.method = "throw",
                        m.arg = _.arg)
                    }
                }
            }
            function maybeInvokeDelegate(d, v) {
                var m = v.method
                  , h = d.iterator[m];
                if (h === n)
                    return v.delegate = null,
                    "throw" === m && d.iterator.return && (v.method = "return",
                    v.arg = n,
                    maybeInvokeDelegate(d, v),
                    "throw" === v.method) || "return" !== m && (v.method = "throw",
                    v.arg = TypeError("The iterator does not provide a '" + m + "' method")),
                    S;
                var y = tryCatch(h, d.iterator, v.arg);
                if ("throw" === y.type)
                    return v.method = "throw",
                    v.arg = y.arg,
                    v.delegate = null,
                    S;
                var N = y.arg;
                return N ? N.done ? (v[d.resultName] = N.value,
                v.next = d.nextLoc,
                "return" !== v.method && (v.method = "next",
                v.arg = n),
                v.delegate = null,
                S) : N : (v.method = "throw",
                v.arg = TypeError("iterator result is not an object"),
                v.delegate = null,
                S)
            }
            function pushTryEntry(n) {
                var d = {
                    tryLoc: n[0]
                };
                1 in n && (d.catchLoc = n[1]),
                2 in n && (d.finallyLoc = n[2],
                d.afterLoc = n[3]),
                this.tryEntries.push(d)
            }
            function resetTryEntry(n) {
                var d = n.completion || {};
                d.type = "normal",
                delete d.arg,
                n.completion = d
            }
            function Context(n) {
                this.tryEntries = [{
                    tryLoc: "root"
                }],
                n.forEach(pushTryEntry, this),
                this.reset(!0)
            }
            function values(d) {
                if (d || "" === d) {
                    var v = d[N];
                    if (v)
                        return v.call(d);
                    if ("function" == typeof d.next)
                        return d;
                    if (!isNaN(d.length)) {
                        var h = -1
                          , i = function next() {
                            for (; ++h < d.length; )
                                if (m.call(d, h))
                                    return next.value = d[h],
                                    next.done = !1,
                                    next;
                            return next.value = n,
                            next.done = !0,
                            next
                        };
                        return i.next = i
                    }
                }
                throw TypeError(typeof d + " is not iterable")
            }
            return GeneratorFunction.prototype = GeneratorFunctionPrototype,
            h(O, "constructor", {
                value: GeneratorFunctionPrototype,
                configurable: !0
            }),
            h(GeneratorFunctionPrototype, "constructor", {
                value: GeneratorFunction,
                configurable: !0
            }),
            GeneratorFunction.displayName = define(GeneratorFunctionPrototype, I, "GeneratorFunction"),
            d.isGeneratorFunction = function(n) {
                var d = "function" == typeof n && n.constructor;
                return !!d && (d === GeneratorFunction || "GeneratorFunction" === (d.displayName || d.name))
            }
            ,
            d.mark = function(n) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(n, GeneratorFunctionPrototype) : (n.__proto__ = GeneratorFunctionPrototype,
                define(n, I, "GeneratorFunction")),
                n.prototype = Object.create(O),
                n
            }
            ,
            d.awrap = function(n) {
                return {
                    __await: n
                }
            }
            ,
            defineIteratorMethods(AsyncIterator.prototype),
            define(AsyncIterator.prototype, k, function() {
                return this
            }),
            d.AsyncIterator = AsyncIterator,
            d.async = function(n, v, m, h, y) {
                void 0 === y && (y = Promise);
                var N = new AsyncIterator(wrap(n, v, m, h),y);
                return d.isGeneratorFunction(v) ? N : N.next().then(function(n) {
                    return n.done ? n.value : N.next()
                })
            }
            ,
            defineIteratorMethods(O),
            define(O, I, "Generator"),
            define(O, N, function() {
                return this
            }),
            define(O, "toString", function() {
                return "[object Generator]"
            }),
            d.keys = function(n) {
                var d = Object(n)
                  , v = [];
                for (var m in d)
                    v.push(m);
                return v.reverse(),
                function next() {
                    for (; v.length; ) {
                        var n = v.pop();
                        if (n in d)
                            return next.value = n,
                            next.done = !1,
                            next
                    }
                    return next.done = !0,
                    next
                }
            }
            ,
            d.values = values,
            Context.prototype = {
                constructor: Context,
                reset: function(d) {
                    if (this.prev = 0,
                    this.next = 0,
                    this.sent = this._sent = n,
                    this.done = !1,
                    this.delegate = null,
                    this.method = "next",
                    this.arg = n,
                    this.tryEntries.forEach(resetTryEntry),
                    !d)
                        for (var v in this)
                            "t" === v.charAt(0) && m.call(this, v) && !isNaN(+v.slice(1)) && (this[v] = n)
                },
                stop: function() {
                    this.done = !0;
                    var n = this.tryEntries[0].completion;
                    if ("throw" === n.type)
                        throw n.arg;
                    return this.rval
                },
                dispatchException: function(d) {
                    if (this.done)
                        throw d;
                    var v = this;
                    function handle(m, h) {
                        return N.type = "throw",
                        N.arg = d,
                        v.next = m,
                        h && (v.method = "next",
                        v.arg = n),
                        !!h
                    }
                    for (var h = this.tryEntries.length - 1; h >= 0; --h) {
                        var y = this.tryEntries[h]
                          , N = y.completion;
                        if ("root" === y.tryLoc)
                            return handle("end");
                        if (y.tryLoc <= this.prev) {
                            var k = m.call(y, "catchLoc")
                              , I = m.call(y, "finallyLoc");
                            if (k && I) {
                                if (this.prev < y.catchLoc)
                                    return handle(y.catchLoc, !0);
                                if (this.prev < y.finallyLoc)
                                    return handle(y.finallyLoc)
                            } else if (k) {
                                if (this.prev < y.catchLoc)
                                    return handle(y.catchLoc, !0)
                            } else {
                                if (!I)
                                    throw Error("try statement without catch or finally");
                                if (this.prev < y.finallyLoc)
                                    return handle(y.finallyLoc)
                            }
                        }
                    }
                },
                abrupt: function(n, d) {
                    for (var v = this.tryEntries.length - 1; v >= 0; --v) {
                        var h = this.tryEntries[v];
                        if (h.tryLoc <= this.prev && m.call(h, "finallyLoc") && this.prev < h.finallyLoc) {
                            var y = h;
                            break
                        }
                    }
                    y && ("break" === n || "continue" === n) && y.tryLoc <= d && d <= y.finallyLoc && (y = null);
                    var N = y ? y.completion : {};
                    return N.type = n,
                    N.arg = d,
                    y ? (this.method = "next",
                    this.next = y.finallyLoc,
                    S) : this.complete(N)
                },
                complete: function(n, d) {
                    if ("throw" === n.type)
                        throw n.arg;
                    return "break" === n.type || "continue" === n.type ? this.next = n.arg : "return" === n.type ? (this.rval = this.arg = n.arg,
                    this.method = "return",
                    this.next = "end") : "normal" === n.type && d && (this.next = d),
                    S
                },
                finish: function(n) {
                    for (var d = this.tryEntries.length - 1; d >= 0; --d) {
                        var v = this.tryEntries[d];
                        if (v.finallyLoc === n)
                            return this.complete(v.completion, v.afterLoc),
                            resetTryEntry(v),
                            S
                    }
                },
                catch: function(n) {
                    for (var d = this.tryEntries.length - 1; d >= 0; --d) {
                        var v = this.tryEntries[d];
                        if (v.tryLoc === n) {
                            var m = v.completion;
                            if ("throw" === m.type) {
                                var h = m.arg;
                                resetTryEntry(v)
                            }
                            return h
                        }
                    }
                    throw Error("illegal catch attempt")
                },
                delegateYield: function(d, v, m) {
                    return this.delegate = {
                        iterator: values(d),
                        resultName: v,
                        nextLoc: m
                    },
                    "next" === this.method && (this.arg = n),
                    S
                }
            },
            d
        }
        function _toPrimitive(n, d) {
            if ("object" != typeof n || !n)
                return n;
            var v = n[Symbol.toPrimitive];
            if (void 0 !== v) {
                var m = v.call(n, d || "default");
                if ("object" != typeof m)
                    return m;
                throw TypeError("@@toPrimitive must return a primitive value.")
            }
            return ("string" === d ? String : Number)(n)
        }
        function _toPropertyKey(n) {
            var d = _toPrimitive(n, "string");
            return "symbol" == typeof d ? d : d + ""
        }
        function _unsupportedIterableToArray(n, d) {
            if (n) {
                if ("string" == typeof n)
                    return _arrayLikeToArray(n, d);
                var v = ({}).toString.call(n).slice(8, -1);
                return "Object" === v && n.constructor && (v = n.constructor.name),
                "Map" === v || "Set" === v ? Array.from(n) : "Arguments" === v || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v) ? _arrayLikeToArray(n, d) : void 0
            }
        }
        var M = function() {
            var n;
            function Mutex() {
                this.queue = [],
                this.locked = !1
            }
            return Mutex.prototype.acquire = (n = _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
                var n, d = this;
                return _regeneratorRuntime().wrap(function _callee$(v) {
                    for (; ; )
                        switch (v.prev = v.next) {
                        case 0:
                            if (n = function unlock() {
                                d.locked = !1,
                                d.queue.length > 0 && d.queue.shift()(n)
                            }
                            ,
                            !this.locked) {
                                v.next = 4;
                                break
                            }
                            return v.next = 4,
                            new Promise(function(n) {
                                return d.queue.push(n)
                            }
                            );
                        case 4:
                            return this.locked = !0,
                            v.abrupt("return", n);
                        case 6:
                        case "end":
                            return v.stop()
                        }
                }, _callee, this)
            })),
            function acquire() {
                return n.apply(this, arguments)
            }
            ),
            Mutex
        }()
          , S = function() {
            function LRUCache(n) {
                void 0 === n && (n = 5),
                this.capacity = n,
                this.cache = new Map
            }
            var n = LRUCache.prototype;
            return n.get = function get(n) {
                if (!this.cache.has(n))
                    return -1;
                var d = this.cache.get(n);
                return this.cache.delete(n),
                this.cache.set(n, d),
                d
            }
            ,
            n.put = function put(n, d) {
                this.cache.has(n) ? this.cache.delete(n) : this.cache.size >= this.capacity && this.cache.delete(this.cache.keys().next().value),
                this.cache.set(n, d)
            }
            ,
            LRUCache
        }()
          , _ = function() {
            function FIFOCache(n) {
                void 0 === n && (n = 5),
                this.capacity = n,
                this.cache = new Map,
                this.order = []
            }
            var n = FIFOCache.prototype;
            return n.get = function get(n) {
                return this.cache.has(n) ? this.cache.get(n) : -1
            }
            ,
            n.put = function put(n, d) {
                if (this.cache.has(n))
                    this.cache.set(n, d);
                else {
                    if (this.cache.size >= this.capacity) {
                        var v = this.order.shift();
                        this.cache.delete(v)
                    }
                    this.cache.set(n, d),
                    this.order.push(n)
                }
            }
            ,
            FIFOCache
        }()
          , V = function() {
            function TTLCache(n) {
                void 0 === n && (n = Number.MAX_SAFE_INTEGER),
                this.capacity = n,
                this.cache = new Map
            }
            var n = TTLCache.prototype;
            return n.get = function get(n) {
                var d = this.cache.get(n);
                return !d || Date.now() > d.expiry ? (this.cache.delete(n),
                -1) : d.value
            }
            ,
            n.put = function put(n, d, v) {
                this.cache.size >= this.capacity && this.cache.delete(this.cache.keys().next().value),
                this.cache.set(n, {
                    value: d,
                    expiry: Date.now() + v
                })
            }
            ,
            TTLCache
        }()
          , Node = function Node(n, d) {
            this.key = n,
            this.value = d,
            this.freq = 1
        }
          , B = function() {
            function LFUCache(n) {
                void 0 === n && (n = 5),
                this.capacity = n,
                this.cache = new Map,
                this.freqMap = new Map,
                this.minFreq = 0
            }
            var n = LFUCache.prototype;
            return n.get = function get(n) {
                if (!this.cache.has(n))
                    return -1;
                var d = this.cache.get(n);
                return this.updateFrequency(d),
                d.value
            }
            ,
            n.put = function put(n, d) {
                if (!(this.capacity <= 0)) {
                    if (this.cache.has(n)) {
                        var v = this.cache.get(n);
                        v.value = d,
                        this.updateFrequency(v)
                    } else {
                        this.cache.size >= this.capacity && this.evict();
                        var m = new Node(n,d);
                        this.cache.set(n, m),
                        this.freqMap.set(1, (this.freqMap.get(1) || new Set).add(m)),
                        this.minFreq = 1
                    }
                }
            }
            ,
            n.updateFrequency = function updateFrequency(n) {
                var d = n.freq;
                n.freq++,
                this.freqMap.get(d).delete(n),
                0 === this.freqMap.get(d).size && (this.freqMap.delete(d),
                this.minFreq === d && this.minFreq++),
                this.freqMap.set(d + 1, (this.freqMap.get(d + 1) || new Set).add(n))
            }
            ,
            n.evict = function evict() {
                var n = this.freqMap.get(this.minFreq)
                  , d = n.values().next().value;
                this.cache.delete(d.key),
                n.delete(d),
                0 === n.size && this.freqMap.delete(this.minFreq)
            }
            ,
            LFUCache
        }();
        function call$1(n, d) {
            for (var v = [], m = 0; m < n.length; m += 2) {
                var h = apply(n[m], n[m + 1], Array.isArray(d) ? d : [d]);
                v.push(h)
            }
            return toAsyncBoolean(v)
        }
        var O = function() {
            function Events() {
                this.listeners = {}
            }
            var n = Events.prototype;
            return n.on = function on(n, d, v) {
                return null == d ? this : (!this.listeners[n] && (this.listeners[n] = []),
                this.listeners[n].push(d, v),
                this)
            }
            ,
            n.once = function once(n, d, v) {
                var m = this
                  , _cb = function cb() {
                    m.off(n, _cb);
                    for (var h = arguments.length, y = Array(h), N = 0; N < h; N++)
                        y[N] = arguments[N];
                    return call$1([d, v], y)
                };
                return this.on(n, _cb, this)
            }
            ,
            n.off = function off(n, d, v) {
                if (!(n || d || v))
                    return this.listeners = {},
                    this;
                var m = this.listeners;
                return (n ? [n] : Object.keys(m)).forEach(function(n) {
                    var h = m[n];
                    if (!!h) {
                        if (!(d || v)) {
                            delete m[n];
                            return
                        }
                        for (var y = h.length - 2; y >= 0; y -= 2)
                            !(d && h[y] !== d || v && h[y + 1] !== v) && h.splice(y, 2)
                    }
                }),
                this
            }
            ,
            n.trigger = function trigger(n) {
                for (var d = !0, v = arguments.length, m = Array(v > 1 ? v - 1 : 0), h = 1; h < v; h++)
                    m[h - 1] = arguments[h];
                if ("*" !== n) {
                    var y = this.listeners[n];
                    null != y && (d = call$1([].concat(y), m))
                }
                var N = this.listeners["*"];
                return null != N ? toAsyncBoolean([d, call$1([].concat(N), [n].concat(m))]) : d
            }
            ,
            n.emit = function emit(n) {
                for (var d = arguments.length, v = Array(d > 1 ? d - 1 : 0), m = 1; m < d; m++)
                    v[m - 1] = arguments[m];
                return this.trigger.apply(this, [n].concat(v))
            }
            ,
            Events
        }();
        function detectBrowser() {
            var n = navigator.userAgent;
            if (n.includes("Firefox")) {
                var d = n.match(/Firefox\/([\d.]+)/);
                if (d)
                    return {
                        browser: "Firefox",
                        version: d[1]
                    }
            } else if (n.includes("Chrome")) {
                var v = n.match(/Chrome\/([\d.]+)/);
                if (v)
                    return {
                        browser: "Chrome",
                        version: v[1]
                    }
            } else if (n.includes("Safari")) {
                var m = n.match(/Version\/([\d.]+).*Safari/);
                if (m)
                    return {
                        browser: "Safari",
                        version: m[1]
                    }
            } else if (n.includes("MSIE") || n.includes("Trident/")) {
                var h = n.match(/(?:MSIE |rv:)(\d+(\.\d+)?)/);
                if (h)
                    return {
                        browser: "Internet Explorer",
                        version: h[1]
                    }
            }
            return {
                browser: "Unknown",
                version: "Unknown"
            }
        }
        function isChrome() {
            return navigator.userAgent.indexOf("Chrome") > -1
        }
        function isFirefox() {
            return navigator.userAgent.indexOf("Firefox") > -1
        }
        function isSafari() {
            var n = navigator.userAgent;
            return n.indexOf("Safari") > -1 && -1 === n.indexOf("Chrome")
        }
        function getChromeVersion() {
            var n = navigator.userAgent
              , d = n.indexOf("Chrome");
            return isChrome() ? parseInt(n.substring(d + 7).split(" ")[0].split(".")[0]) : -1
        }
        function getFirefoxVersion() {
            var n = navigator.userAgent
              , d = n.indexOf("Firefox");
            return isFirefox() ? parseInt(n.substring(d + 8).split(".")[0]) : -1
        }
        function getSafariVersion() {
            var n = navigator.userAgent.match(/Version\/(\d+)/);
            return n ? parseInt(n[1]) : -1
        }
        var isSupportWasm = function isSupportWasm() {
            return void 0 !== window.WebAssembly
        }
          , isSupportSharedArrayBuffer = function isSupportSharedArrayBuffer() {
            return void 0 !== window.SharedArrayBuffer
        }
          , R = function() {
            function Plugins() {
                this.plugins = new Map
            }
            var n = Plugins.prototype;
            return n.use = function use(n) {
                !this.plugins.get(n.name) && this.plugins.set(n.name, n)
            }
            ,
            n.getPlugin = function getPlugin(n) {
                return this.plugins.get(n)
            }
            ,
            n.bootstrap = function bootstrap(n) {
                for (var d = this.plugins.entries(), v, m = _createForOfIteratorHelperLoose(d); !(v = m()).done; ) {
                    var h = v.value[1];
                    h && h.bootstrap && h.bootstrap(n)
                }
            }
            ,
            n.unmount = function unmount() {
                for (var n = this.plugins.entries(), d, v = _createForOfIteratorHelperLoose(n); !(d = v()).done; ) {
                    var m = d.value[1];
                    m && m.unmount && m.unmount()
                }
            }
            ,
            Plugins
        }()
          , Plugin = function Plugin() {}
          , U = function() {
            function BitStatus(n) {
                var d, v;
                this._value = 0,
                this._statusMap = null != (d = n.status) ? d : {},
                this._value = null != (v = n.defaultValue) ? v : 0
            }
            var n = BitStatus.prototype;
            return n.append = function append(n) {
                this._value |= this._statusMap[n]
            }
            ,
            n.remove = function remove(n) {
                this._value ^= this._statusMap[n]
            }
            ,
            n.has = function has(n) {
                return this._value &= this._statusMap[n]
            }
            ,
            _createClass(BitStatus, [{
                key: "value",
                get: function get() {
                    return this._value
                }
            }])
        }()
          , transforrmMDfromTimestamp = function transforrmMDfromTimestamp(n, d) {
            void 0 === d && (d = "-");
            var v = new Date(n);
            return "" + String(v.getMonth() + 1).padStart(2, "0") + d + String(v.getDate()).padStart(2, "0")
        };
        function getTodayTimestamp() {
            var n = new Date;
            n.setHours(0, 0, 0, 0);
            var d = new Date;
            return d.setHours(23, 59, 59, 999),
            {
                start: n.getTime(),
                end: d.getTime()
            }
        }
        function getYesterdayTimestamp() {
            var n = new Date;
            n.setDate(n.getDate() - 1),
            n.setHours(0, 0, 0, 0);
            var d = new Date;
            return d.setDate(d.getDate() - 1),
            d.setHours(23, 59, 59, 999),
            {
                start: n.getTime(),
                end: d.getTime()
            }
        }
        function getLast7DaysTimestamp() {
            var n = new Date;
            n.setHours(23, 59, 59, 999);
            var d = new Date;
            return d.setDate(d.getDate() - 6),
            d.setHours(0, 0, 0, 0),
            {
                start: d.getTime(),
                end: n.getTime()
            }
        }
        function getLast30DaysTimestamp() {
            var n = new Date;
            n.setHours(23, 59, 59, 999);
            var d = new Date;
            return d.setDate(d.getDate() - 29),
            d.setHours(0, 0, 0, 0),
            {
                start: d.getTime(),
                end: n.getTime()
            }
        }
        function formatDate(n) {
            return n.getFullYear() + "-" + String(n.getMonth() + 1).padStart(2, "0") + "-" + String(n.getDate()).padStart(2, "0")
        }
        function getTodayDate() {
            var n = new Date;
            n.setHours(0, 0, 0, 0);
            var d = new Date;
            return d.setHours(23, 59, 59, 999),
            {
                start: formatDate(n),
                end: formatDate(d)
            }
        }
        function getYesterdayDate() {
            var n = new Date;
            n.setDate(n.getDate() - 1),
            n.setHours(0, 0, 0, 0);
            var d = new Date;
            return d.setDate(d.getDate() - 1),
            d.setHours(23, 59, 59, 999),
            {
                start: formatDate(n),
                end: formatDate(d)
            }
        }
        function getLast7DaysDate() {
            var n = new Date;
            n.setHours(23, 59, 59, 999);
            var d = new Date;
            return d.setDate(d.getDate() - 6),
            d.setHours(0, 0, 0, 0),
            {
                start: formatDate(d),
                end: formatDate(n)
            }
        }
        function getLast30DaysDate() {
            var n = new Date;
            n.setHours(23, 59, 59, 999);
            var d = new Date;
            return d.setDate(d.getDate() - 29),
            d.setHours(0, 0, 0, 0),
            {
                start: formatDate(d),
                end: formatDate(n)
            }
        }
        function formatNumberWithCommas(n) {
            return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
        }
        var z = function() {
            function MemoryMap() {
                this.memory = new Map
            }
            var n = MemoryMap.prototype;
            return n.set = function set(n, d) {
                this.memory.set(n, d)
            }
            ,
            n.get = function get(n) {
                return this.memory.get(n)
            }
            ,
            n.has = function has(n) {
                return this.memory.has(n)
            }
            ,
            n.delete = function _delete(n) {
                return this.memory.delete(n)
            }
            ,
            n.clear = function clear() {
                this.memory.clear()
            }
            ,
            _createClass(MemoryMap, [{
                key: "size",
                get: function get() {
                    return this.memory.size
                }
            }, {
                key: "keys",
                get: function get() {
                    return this.memory.keys()
                }
            }, {
                key: "values",
                get: function get() {
                    return this.memory.values()
                }
            }, {
                key: "entries",
                get: function get() {
                    return this.memory.entries()
                }
            }])
        }()
          , Node$1 = function Node(n) {
            this.value = n,
            this.next = null
        }
          , Z = function() {
            function LinkedList() {
                this.head = null,
                this.size = 0
            }
            var n = LinkedList.prototype;
            return n.append = function append(n) {
                var d = new Node$1(n);
                if (this.head) {
                    for (var v = this.head; v.next; )
                        v = v.next;
                    v.next = d
                } else
                    this.head = d;
                this.size++
            }
            ,
            n.insertAt = function insertAt(n, d) {
                if (!(d < 0) && !(d > this.size)) {
                    var v = new Node$1(n);
                    if (0 === d)
                        v.next = this.head,
                        this.head = v;
                    else {
                        for (var m = this.head, h = null, y = 0; y < d; y++)
                            h = m,
                            m = m.next;
                        v.next = m,
                        h.next = v
                    }
                    this.size++
                }
            }
            ,
            n.removeAt = function removeAt(n) {
                if (!(n < 0) && !(n >= this.size)) {
                    var d = this.head;
                    if (0 === n)
                        this.head = d.next;
                    else {
                        for (var v = null, m = 0; m < n; m++)
                            v = d,
                            d = d.next;
                        v.next = d.next
                    }
                    this.size--
                }
            }
            ,
            n.print = function print() {
                for (var n = this.head, d = []; n; )
                    d.push(n.value),
                    n = n.next;
                console.log(d.join(" -> "))
            }
            ,
            LinkedList
        }()
          , Q = function() {
            function Queue() {
                this.items = []
            }
            var n = Queue.prototype;
            return n.enqueue = function enqueue(n) {
                this.items.push(n)
            }
            ,
            n.dequeue = function dequeue() {
                return this.isEmpty() ? null : this.items.shift()
            }
            ,
            n.peek = function peek() {
                return this.isEmpty() ? null : this.items[0]
            }
            ,
            n.isEmpty = function isEmpty() {
                return 0 === this.items.length
            }
            ,
            n.size = function size() {
                return this.items.length
            }
            ,
            n.print = function print() {
                console.log(this.items.join(" <- "))
            }
            ,
            Queue
        }()
          , J = function() {
            function Stack() {
                this.items = []
            }
            var n = Stack.prototype;
            return n.push = function push(n) {
                this.items.push(n)
            }
            ,
            n.pop = function pop() {
                return this.isEmpty() ? null : this.items.pop()
            }
            ,
            n.peek = function peek() {
                return this.isEmpty() ? null : this.items[this.items.length - 1]
            }
            ,
            n.isEmpty = function isEmpty() {
                return 0 === this.items.length
            }
            ,
            n.size = function size() {
                return this.items.length
            }
            ,
            n.print = function print() {
                console.log(this.items.join(" <- "))
            }
            ,
            Stack
        }()
          , TreeNode = function TreeNode(n) {
            this.value = n,
            this.left = null,
            this.right = null
        }
          , H = function() {
            function MaxHeap() {
                this.root = null,
                this.size = 0
            }
            var n = MaxHeap.prototype;
            return n.insert = function insert(n) {
                var d = new TreeNode(n);
                0 === this.size ? this.root = d : this._insertNode(this.root, d),
                this.size++,
                this.bubbleUp(d)
            }
            ,
            n._insertNode = function _insertNode(n, d) {
                for (var v = [n]; v.length > 0; ) {
                    var m = v.shift();
                    if (m.left) {
                        if (!m.right) {
                            m.right = d;
                            return
                        }
                    } else {
                        m.left = d;
                        return
                    }
                    v.push(m.left),
                    v.push(m.right)
                }
            }
            ,
            n.bubbleUp = function bubbleUp(n) {
                for (var d = n; d; ) {
                    var v = this.getParent(d);
                    if (v && d.value > v.value) {
                        var m = [v.value, d.value];
                        d.value = m[0],
                        v.value = m[1],
                        d = v
                    } else
                        break
                }
            }
            ,
            n.getParent = function getParent(n) {
                for (var d = [this.root]; d.length > 0; ) {
                    var v = d.shift();
                    if (v.left === n || v.right === n)
                        return v;
                    v.left && d.push(v.left),
                    v.right && d.push(v.right)
                }
                return null
            }
            ,
            n.extractMax = function extractMax() {
                if (0 === this.size)
                    return null;
                var n = this.root.value;
                if (1 === this.size)
                    this.root = null;
                else {
                    var d = this.getLastNode();
                    this.root.value = d.value,
                    this.removeLastNode(),
                    this.bubbleDown(this.root)
                }
                return this.size--,
                n
            }
            ,
            n.bubbleDown = function bubbleDown(n) {
                for (var d = n; d; ) {
                    var v = d.left
                      , m = d.right
                      , h = d;
                    if (v && v.value > h.value && (h = v),
                    m && m.value > h.value && (h = m),
                    h !== d) {
                        var y = [h.value, d.value];
                        d.value = y[0],
                        h.value = y[1],
                        d = h
                    } else
                        break
                }
            }
            ,
            n.getLastNode = function getLastNode() {
                for (var n = [this.root], d = null; n.length > 0; )
                    (d = n.shift()).left && n.push(d.left),
                    d.right && n.push(d.right);
                return d
            }
            ,
            n.removeLastNode = function removeLastNode() {
                for (var n = [this.root]; n.length > 0; ) {
                    var d = n.shift();
                    if (d.left) {
                        if (!d.left.left && !d.left.right) {
                            d.left = null;
                            return
                        }
                        n.push(d.left)
                    }
                    if (d.right) {
                        if (!d.right.left && !d.right.right) {
                            d.right = null;
                            return
                        }
                        n.push(d.right)
                    }
                }
            }
            ,
            n.getMax = function getMax() {
                return this.root ? this.root.value : null
            }
            ,
            n.print = function print() {
                for (var n = [this.root], d = []; n.length > 0; ) {
                    var v = n.shift();
                    v ? (d.push(v.value),
                    n.push(v.left),
                    n.push(v.right)) : d.push(null)
                }
                console.log(d)
            }
            ,
            MaxHeap
        }()
          , G = function() {
            function MaxHeapWithArray() {
                this.heap = []
            }
            var n = MaxHeapWithArray.prototype;
            return n.insert = function insert(n) {
                this.heap.push(n),
                this.bubbleUp()
            }
            ,
            n.bubbleUp = function bubbleUp() {
                for (var n = this.heap.length - 1, d = this.heap[n]; n > 0; ) {
                    var v = Math.floor((n - 1) / 2)
                      , m = this.heap[v];
                    if (d <= m)
                        break;
                    this.heap[n] = m,
                    n = v
                }
                this.heap[n] = d
            }
            ,
            n.extractMax = function extractMax() {
                if (0 === this.heap.length)
                    return null;
                var n = this.heap[0]
                  , d = this.heap.pop();
                return this.heap.length > 0 && (this.heap[0] = d,
                this.bubbleDown()),
                n
            }
            ,
            n.bubbleDown = function bubbleDown() {
                for (var n = 0, d = this.heap.length, v = this.heap[0]; ; ) {
                    var m = 2 * n + 1
                      , h = 2 * n + 2
                      , y = void 0
                      , N = void 0
                      , k = null;
                    if (m < d && (y = this.heap[m]) > v && (k = m),
                    h < d && (N = this.heap[h],
                    (null === k && N > v || null !== k && N > y) && (k = h)),
                    null === k)
                        break;
                    this.heap[n] = this.heap[k],
                    n = k
                }
                this.heap[n] = v
            }
            ,
            n.getMax = function getMax() {
                return this.heap[0]
            }
            ,
            n.size = function size() {
                return this.heap.length
            }
            ,
            n.print = function print() {
                console.log(this.heap)
            }
            ,
            MaxHeapWithArray
        }()
          , AVLNode = function AVLNode(n) {
            this.value = n,
            this.left = null,
            this.right = null,
            this.height = 1
        }
          , Y = function() {
            function AVLTree() {
                this.root = null
            }
            var n = AVLTree.prototype;
            return n.getHeight = function getHeight(n) {
                return n ? n.height : 0
            }
            ,
            n.getBalance = function getBalance(n) {
                return n ? this.getHeight(n.left) - this.getHeight(n.right) : 0
            }
            ,
            n.rightRotate = function rightRotate(n) {
                if (!n.left)
                    return n;
                var d = n.left
                  , v = d.right;
                return d.right = n,
                n.left = v,
                n.height = Math.max(this.getHeight(n.left), this.getHeight(n.right)) + 1,
                d.height = Math.max(this.getHeight(d.left), this.getHeight(d.right)) + 1,
                d
            }
            ,
            n.leftRotate = function leftRotate(n) {
                if (!n.right)
                    return n;
                var d = n.right
                  , v = d.left;
                return d.left = n,
                n.right = v,
                n.height = Math.max(this.getHeight(n.left), this.getHeight(n.right)) + 1,
                d.height = Math.max(this.getHeight(d.left), this.getHeight(d.right)) + 1,
                d
            }
            ,
            n.insert = function insert(n, d) {
                if (!n)
                    return new AVLNode(d);
                if (d < n.value)
                    n.left = this.insert(n.left, d);
                else {
                    if (!(d > n.value))
                        return n;
                    n.right = this.insert(n.right, d)
                }
                n.height = Math.max(this.getHeight(n.left), this.getHeight(n.right)) + 1;
                var v = this.getBalance(n);
                return v > 1 && d < n.left.value ? this.rightRotate(n) : v < -1 && d > n.right.value ? this.leftRotate(n) : v > 1 && d > n.left.value ? (n.left = this.leftRotate(n.left),
                this.rightRotate(n)) : v < -1 && d < n.right.value ? (n.right = this.rightRotate(n.right),
                this.leftRotate(n)) : n
            }
            ,
            n.delete = function _delete(n, d) {
                if (!n)
                    return n;
                if (d < n.value)
                    n.left = this.delete(n.left, d);
                else if (d > n.value)
                    n.right = this.delete(n.right, d);
                else if (n.left && n.right) {
                    var v = this.getMinValueNode(n.right);
                    n.value = v.value,
                    n.right = this.delete(n.right, v.value)
                } else {
                    var m = n.left ? n.left : n.right;
                    return m ? m : null
                }
                n.height = Math.max(this.getHeight(n.left), this.getHeight(n.right)) + 1;
                var h = this.getBalance(n);
                return h > 1 && this.getBalance(n.left) >= 0 ? this.rightRotate(n) : h > 1 && 0 > this.getBalance(n.left) ? (n.left = this.leftRotate(n.left),
                this.rightRotate(n)) : h < -1 && 0 >= this.getBalance(n.right) ? this.leftRotate(n) : h < -1 && this.getBalance(n.right) > 0 ? (n.right = this.rightRotate(n.right),
                this.leftRotate(n)) : n
            }
            ,
            n.getMinValueNode = function getMinValueNode(n) {
                for (var d = n; d.left; )
                    d = d.left;
                return d
            }
            ,
            n.insertValue = function insertValue(n) {
                this.root = this.insert(this.root, n)
            }
            ,
            n.deleteValue = function deleteValue(n) {
                this.root = this.delete(this.root, n)
            }
            ,
            n.inorderTraversal = function inorderTraversal(n, d) {
                return void 0 === d && (d = []),
                n && (this.inorderTraversal(n.left, d),
                d.push(n.value),
                this.inorderTraversal(n.right, d)),
                d
            }
            ,
            n.getInOrder = function getInOrder() {
                return this.inorderTraversal(this.root)
            }
            ,
            AVLTree
        }()
          , CustomError = function CustomError(n) {
            this.success = !1,
            this.error = n
        }
          , CustomSuccess = function CustomSuccess(n) {
            this.success = !0,
            this.data = n
        }
          , getByteLength = function getByteLength(n) {
            if (!n)
                return 0;
            for (var d = 0, v = 0; v < n.length; v++) {
                var m = n.charCodeAt(v);
                m <= 127 ? d += 1 : m >= 19968 && m <= 40959 ? d += 2 : d += 4
            }
            return d
        }
    },
    78370: function(n, d, v) {
        "use strict";
        n.exports = v(92867)
    },
    92867: function(n, d, v) {
        "use strict";
        var m, h = v(63588), y = v(40505), N = v(88329), k = (m = v(18483)) && "object" == typeof m && "default"in m ? m.default : m;
        function i(n, d, v, m, h, y, N) {
            try {
                var k = n[y](N)
                  , I = k.value
            } catch (n) {
                return void v(n)
            }
            k.done ? d(I) : Promise.resolve(I).then(m, h)
        }
        function s(n) {
            return function() {
                var d = this
                  , v = arguments;
                return new Promise(function(m, h) {
                    var y = n.apply(d, v);
                    function o(n) {
                        i(y, m, h, o, u, "next", n)
                    }
                    function u(n) {
                        i(y, m, h, o, u, "throw", n)
                    }
                    o(void 0)
                }
                )
            }
        }
        function o(n, d) {
            for (var v = 0; v < d.length; v++) {
                var m = d[v];
                m.enumerable = m.enumerable || !1,
                m.configurable = !0,
                "value"in m && (m.writable = !0),
                Object.defineProperty(n, f(m.key), m)
            }
        }
        function u(n, d, v) {
            return d && o(n.prototype, d),
            v && o(n, v),
            Object.defineProperty(n, "prototype", {
                writable: !1
            }),
            n
        }
        function c() {
            c = function() {
                return d
            }
            ;
            var n, d = {}, v = Object.prototype, m = v.hasOwnProperty, h = Object.defineProperty || function(n, d, v) {
                n[d] = v.value
            }
            , y = "function" == typeof Symbol ? Symbol : {}, N = y.iterator || "@@iterator", k = y.asyncIterator || "@@asyncIterator", I = y.toStringTag || "@@toStringTag";
            function f(n, d, v) {
                return Object.defineProperty(n, d, {
                    value: v,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }),
                n[d]
            }
            try {
                f({}, "")
            } catch (n) {
                f = function(n, d, v) {
                    return n[d] = v
                }
            }
            function l(n, d, v, m) {
                var y = Object.create((d && d.prototype instanceof g ? d : g).prototype);
                return h(y, "_invoke", {
                    value: E(n, v, new P(m || []))
                }),
                y
            }
            function p(n, d, v) {
                try {
                    return {
                        type: "normal",
                        arg: n.call(d, v)
                    }
                } catch (n) {
                    return {
                        type: "throw",
                        arg: n
                    }
                }
            }
            d.wrap = l;
            var C = "suspendedStart"
              , x = "executing"
              , M = "completed"
              , S = {};
            function g() {}
            function b() {}
            function w() {}
            var _ = {};
            f(_, N, function() {
                return this
            });
            var V = Object.getPrototypeOf
              , B = V && V(V(A([])));
            B && B !== v && m.call(B, N) && (_ = B);
            var O = w.prototype = g.prototype = Object.create(_);
            function F(n) {
                ["next", "throw", "return"].forEach(function(d) {
                    f(n, d, function(n) {
                        return this._invoke(d, n)
                    })
                })
            }
            function L(n, d) {
                var v;
                function r(v, h, y, N) {
                    var k = p(n[v], n, h);
                    if ("throw" !== k.type) {
                        var I = k.arg
                          , C = I.value;
                        return C && "object" == typeof C && m.call(C, "__await") ? d.resolve(C.__await).then(function(n) {
                            r("next", n, y, N)
                        }, function(n) {
                            r("throw", n, y, N)
                        }) : d.resolve(C).then(function(n) {
                            I.value = n,
                            y(I)
                        }, function(n) {
                            return r("throw", n, y, N)
                        })
                    }
                    N(k.arg)
                }
                h(this, "_invoke", {
                    value: function(n, m) {
                        function a() {
                            return new d(function(d, v) {
                                r(n, m, d, v)
                            }
                            )
                        }
                        return v = v ? v.then(a, a) : a()
                    }
                })
            }
            function E(d, v, m) {
                var h = C;
                return function(y, N) {
                    if (h === x)
                        throw Error("Generator is already running");
                    if (h === M) {
                        if ("throw" === y)
                            throw N;
                        return {
                            value: n,
                            done: !0
                        }
                    }
                    for (m.method = y,
                    m.arg = N; ; ) {
                        var k = m.delegate;
                        if (k) {
                            var I = D(k, m);
                            if (I) {
                                if (I === S)
                                    continue;
                                return I
                            }
                        }
                        if ("next" === m.method)
                            m.sent = m._sent = m.arg;
                        else if ("throw" === m.method) {
                            if (h === C)
                                throw h = M,
                                m.arg;
                            m.dispatchException(m.arg)
                        } else
                            "return" === m.method && m.abrupt("return", m.arg);
                        h = x;
                        var _ = p(d, v, m);
                        if ("normal" === _.type) {
                            if (h = m.done ? M : "suspendedYield",
                            _.arg === S)
                                continue;
                            return {
                                value: _.arg,
                                done: m.done
                            }
                        }
                        "throw" === _.type && (h = M,
                        m.method = "throw",
                        m.arg = _.arg)
                    }
                }
            }
            function D(d, v) {
                var m = v.method
                  , h = d.iterator[m];
                if (h === n)
                    return v.delegate = null,
                    "throw" === m && d.iterator.return && (v.method = "return",
                    v.arg = n,
                    D(d, v),
                    "throw" === v.method) || "return" !== m && (v.method = "throw",
                    v.arg = TypeError("The iterator does not provide a '" + m + "' method")),
                    S;
                var y = p(h, d.iterator, v.arg);
                if ("throw" === y.type)
                    return v.method = "throw",
                    v.arg = y.arg,
                    v.delegate = null,
                    S;
                var N = y.arg;
                return N ? N.done ? (v[d.resultName] = N.value,
                v.next = d.nextLoc,
                "return" !== v.method && (v.method = "next",
                v.arg = n),
                v.delegate = null,
                S) : N : (v.method = "throw",
                v.arg = TypeError("iterator result is not an object"),
                v.delegate = null,
                S)
            }
            function j(n) {
                var d = {
                    tryLoc: n[0]
                };
                1 in n && (d.catchLoc = n[1]),
                2 in n && (d.finallyLoc = n[2],
                d.afterLoc = n[3]),
                this.tryEntries.push(d)
            }
            function T(n) {
                var d = n.completion || {};
                d.type = "normal",
                delete d.arg,
                n.completion = d
            }
            function P(n) {
                this.tryEntries = [{
                    tryLoc: "root"
                }],
                n.forEach(j, this),
                this.reset(!0)
            }
            function A(d) {
                if (d || "" === d) {
                    var v = d[N];
                    if (v)
                        return v.call(d);
                    if ("function" == typeof d.next)
                        return d;
                    if (!isNaN(d.length)) {
                        var h = -1
                          , i = function r() {
                            for (; ++h < d.length; )
                                if (m.call(d, h))
                                    return r.value = d[h],
                                    r.done = !1,
                                    r;
                            return r.value = n,
                            r.done = !0,
                            r
                        };
                        return i.next = i
                    }
                }
                throw TypeError(typeof d + " is not iterable")
            }
            return b.prototype = w,
            h(O, "constructor", {
                value: w,
                configurable: !0
            }),
            h(w, "constructor", {
                value: b,
                configurable: !0
            }),
            b.displayName = f(w, I, "GeneratorFunction"),
            d.isGeneratorFunction = function(n) {
                var d = "function" == typeof n && n.constructor;
                return !!d && (d === b || "GeneratorFunction" === (d.displayName || d.name))
            }
            ,
            d.mark = function(n) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(n, w) : (n.__proto__ = w,
                f(n, I, "GeneratorFunction")),
                n.prototype = Object.create(O),
                n
            }
            ,
            d.awrap = function(n) {
                return {
                    __await: n
                }
            }
            ,
            F(L.prototype),
            f(L.prototype, k, function() {
                return this
            }),
            d.AsyncIterator = L,
            d.async = function(n, v, m, h, y) {
                void 0 === y && (y = Promise);
                var N = new L(l(n, v, m, h),y);
                return d.isGeneratorFunction(v) ? N : N.next().then(function(n) {
                    return n.done ? n.value : N.next()
                })
            }
            ,
            F(O),
            f(O, I, "Generator"),
            f(O, N, function() {
                return this
            }),
            f(O, "toString", function() {
                return "[object Generator]"
            }),
            d.keys = function(n) {
                var d = Object(n)
                  , v = [];
                for (var m in d)
                    v.push(m);
                return v.reverse(),
                function e() {
                    for (; v.length; ) {
                        var n = v.pop();
                        if (n in d)
                            return e.value = n,
                            e.done = !1,
                            e
                    }
                    return e.done = !0,
                    e
                }
            }
            ,
            d.values = A,
            P.prototype = {
                constructor: P,
                reset: function(d) {
                    if (this.prev = 0,
                    this.next = 0,
                    this.sent = this._sent = n,
                    this.done = !1,
                    this.delegate = null,
                    this.method = "next",
                    this.arg = n,
                    this.tryEntries.forEach(T),
                    !d)
                        for (var v in this)
                            "t" === v.charAt(0) && m.call(this, v) && !isNaN(+v.slice(1)) && (this[v] = n)
                },
                stop: function() {
                    this.done = !0;
                    var n = this.tryEntries[0].completion;
                    if ("throw" === n.type)
                        throw n.arg;
                    return this.rval
                },
                dispatchException: function(d) {
                    if (this.done)
                        throw d;
                    var v = this;
                    function a(m, h) {
                        return N.type = "throw",
                        N.arg = d,
                        v.next = m,
                        h && (v.method = "next",
                        v.arg = n),
                        !!h
                    }
                    for (var h = this.tryEntries.length - 1; h >= 0; --h) {
                        var y = this.tryEntries[h]
                          , N = y.completion;
                        if ("root" === y.tryLoc)
                            return a("end");
                        if (y.tryLoc <= this.prev) {
                            var k = m.call(y, "catchLoc")
                              , I = m.call(y, "finallyLoc");
                            if (k && I) {
                                if (this.prev < y.catchLoc)
                                    return a(y.catchLoc, !0);
                                if (this.prev < y.finallyLoc)
                                    return a(y.finallyLoc)
                            } else if (k) {
                                if (this.prev < y.catchLoc)
                                    return a(y.catchLoc, !0)
                            } else {
                                if (!I)
                                    throw Error("try statement without catch or finally");
                                if (this.prev < y.finallyLoc)
                                    return a(y.finallyLoc)
                            }
                        }
                    }
                },
                abrupt: function(n, d) {
                    for (var v = this.tryEntries.length - 1; v >= 0; --v) {
                        var h = this.tryEntries[v];
                        if (h.tryLoc <= this.prev && m.call(h, "finallyLoc") && this.prev < h.finallyLoc) {
                            var y = h;
                            break
                        }
                    }
                    y && ("break" === n || "continue" === n) && y.tryLoc <= d && d <= y.finallyLoc && (y = null);
                    var N = y ? y.completion : {};
                    return N.type = n,
                    N.arg = d,
                    y ? (this.method = "next",
                    this.next = y.finallyLoc,
                    S) : this.complete(N)
                },
                complete: function(n, d) {
                    if ("throw" === n.type)
                        throw n.arg;
                    return "break" === n.type || "continue" === n.type ? this.next = n.arg : "return" === n.type ? (this.rval = this.arg = n.arg,
                    this.method = "return",
                    this.next = "end") : "normal" === n.type && d && (this.next = d),
                    S
                },
                finish: function(n) {
                    for (var d = this.tryEntries.length - 1; d >= 0; --d) {
                        var v = this.tryEntries[d];
                        if (v.finallyLoc === n)
                            return this.complete(v.completion, v.afterLoc),
                            T(v),
                            S
                    }
                },
                catch: function(n) {
                    for (var d = this.tryEntries.length - 1; d >= 0; --d) {
                        var v = this.tryEntries[d];
                        if (v.tryLoc === n) {
                            var m = v.completion;
                            if ("throw" === m.type) {
                                var h = m.arg;
                                T(v)
                            }
                            return h
                        }
                    }
                    throw Error("illegal catch attempt")
                },
                delegateYield: function(d, v, m) {
                    return this.delegate = {
                        iterator: A(d),
                        resultName: v,
                        nextLoc: m
                    },
                    "next" === this.method && (this.arg = n),
                    S
                }
            },
            d
        }
        function f(n) {
            var d = function(n, d) {
                if ("object" != typeof n || !n)
                    return n;
                var v = n[Symbol.toPrimitive];
                if (void 0 !== v) {
                    var m = v.call(n, "string");
                    if ("object" != typeof m)
                        return m;
                    throw TypeError("@@toPrimitive must return a primitive value.")
                }
                return String(n)
            }(n);
            return "symbol" == typeof d ? d : d + ""
        }
        var I = new (function() {
            function e() {}
            var n = e.prototype;
            return n.FfmpegRequireUrl = function() {
                throw Error("error: please input wasm url.")
            }
            ,
            n.shouldBootstrapFist = function() {
                throw Error("error: please bootstrap first.")
            }
            ,
            n.bootstrapFirst = function() {
                throw Error("error: please bootstrap first.")
            }
            ,
            e
        }())
          , C = function() {
            function e() {
                this.isInitDirs = !1,
                this._sliceFileChunk = function(n, d) {
                    return n.slice(0, 1024 * d * 1024)
                }
                ,
                this.instance = new h.FFmpeg
            }
            var n, d, v, m, N, k, C, x, M, S, _, V, B, O = e.prototype;
            return O.bootstrap = (n = s(c().mark(function e(n) {
                var d, v, m, h, N, k, I, C, x;
                return c().wrap(function(M) {
                    for (; ; )
                        switch (M.prev = M.next) {
                        case 0:
                            if (d = n.log,
                            v = n.classWorkerURL,
                            h = void 0 !== (m = n.mt) && m,
                            this.instance = n.ffmpeg,
                            !h) {
                                M.next = 16;
                                break
                            }
                            return M.next = 5,
                            y.toBlobURL("https://fe-video-qc.xhscdn.com/fe-platform/dfde0fb0c03b132ed1646b1ca7aa3bf42cb6ba1d/ffmpeg-core.worker.js?attname=fe-platform/dfde0fb0c03b132ed1646b1ca7aa3bf42cb6ba1d/ffmpeg-core.worker.js.js", "application/javascript");
                        case 5:
                            return N = M.sent,
                            M.next = 8,
                            y.toBlobURL("https://fe-video-qc.xhscdn.com/fe-platform/5945be923398bbccd53a9124f2135f2523fc4b8d/ffmpeg-core.js?attname=fe-platform/5945be923398bbccd53a9124f2135f2523fc4b8d/ffmpeg-core.js.js", "application/javascript");
                        case 8:
                            return k = M.sent,
                            M.next = 11,
                            y.toBlobURL("https://fe-video-qc.xhscdn.com/fe-platform/23b02bf4b81cb4eb5a37359a8b6787841488e5a9/ffmpeg-core.wasm?attname=fe-platform/23b02bf4b81cb4eb5a37359a8b6787841488e5a9/ffmpeg-core.wasm.wasm", "application/wasm");
                        case 11:
                            return I = M.sent,
                            M.next = 14,
                            this.instance.load({
                                coreURL: k,
                                wasmURL: I,
                                workerURL: N,
                                classWorkerURL: v
                            });
                        case 14:
                            M.next = 24;
                            break;
                        case 16:
                            return M.next = 18,
                            y.toBlobURL("https://fe-video-qc.xhscdn.com/fe-platform/9126fc5af088fabf9b38021009055b10e3356909/ffmpeg-core.js?attname=fe-platform/9126fc5af088fabf9b38021009055b10e3356909/ffmpeg-core.js.js", "application/javascript");
                        case 18:
                            return C = M.sent,
                            M.next = 21,
                            y.toBlobURL("https://fe-video-qc.xhscdn.com/fe-platform/2bde328aa3357ce17cb76d37c92055d821e8ff6f/ffmpeg-core.wasm?attname=fe-platform/2bde328aa3357ce17cb76d37c92055d821e8ff6f/ffmpeg-core.wasm.wasm", "application/wasm");
                        case 21:
                            return x = M.sent,
                            M.next = 24,
                            this.instance.load({
                                coreURL: C,
                                wasmURL: x,
                                classWorkerURL: v
                            });
                        case 24:
                            d && this.instance.on("log", function(n) {
                                console.log("[log]: " + n.message)
                            });
                        case 25:
                        case "end":
                            return M.stop()
                        }
                }, e, this)
            })),
            function(d) {
                return n.apply(this, arguments)
            }
            ),
            O.initDirs = (d = s(c().mark(function e() {
                return c().wrap(function(n) {
                    for (; ; )
                        switch (n.prev = n.next) {
                        case 0:
                            if (this.instance.loaded || I.bootstrapFirst(),
                            !this.isInitDirs) {
                                n.next = 3;
                                break
                            }
                            return n.abrupt("return");
                        case 3:
                            return n.next = 5,
                            this.instance.createDir("pv_videos");
                        case 5:
                            return n.next = 7,
                            this.instance.createDir("pv_images");
                        case 7:
                            return n.next = 9,
                            this.instance.createDir("pv_frames");
                        case 9:
                            return n.next = 11,
                            this.instance.createDir("pv_infos");
                        case 11:
                            this.isInitDirs = !0;
                        case 12:
                        case "end":
                            return n.stop()
                        }
                }, e, this)
            })),
            function() {
                return d.apply(this, arguments)
            }
            ),
            O.writeFile = (v = s(c().mark(function e(n, d) {
                var v;
                return c().wrap(function(m) {
                    for (; ; )
                        switch (m.prev = m.next) {
                        case 0:
                            if (this.instance.loaded || I.bootstrapFirst(),
                            "string" != typeof d) {
                                m.next = 8;
                                break
                            }
                            return m.next = 4,
                            y.fetchFile(d);
                        case 4:
                            return v = m.sent,
                            m.next = 7,
                            this.instance.writeFile(n, v);
                        case 7:
                        case 10:
                            return m.abrupt("return", m.sent);
                        case 8:
                            return m.next = 10,
                            this.instance.writeFile(n, d);
                        case 11:
                        case "end":
                            return m.stop()
                        }
                }, e, this)
            })),
            function(n, d) {
                return v.apply(this, arguments)
            }
            ),
            O.createDir = (m = s(c().mark(function e(n) {
                return c().wrap(function(d) {
                    for (; ; )
                        switch (d.prev = d.next) {
                        case 0:
                            return this.instance.loaded || I.bootstrapFirst(),
                            d.next = 3,
                            this.instance.createDir(n);
                        case 3:
                            return d.abrupt("return", d.sent);
                        case 4:
                        case "end":
                            return d.stop()
                        }
                }, e, this)
            })),
            function(n) {
                return m.apply(this, arguments)
            }
            ),
            O.deleteDir = (N = s(c().mark(function e(n) {
                return c().wrap(function(d) {
                    for (; ; )
                        switch (d.prev = d.next) {
                        case 0:
                            return this.instance.loaded || I.bootstrapFirst(),
                            d.next = 3,
                            this.instance.deleteDir(n);
                        case 3:
                            return d.abrupt("return", d.sent);
                        case 4:
                        case "end":
                            return d.stop()
                        }
                }, e, this)
            })),
            function(n) {
                return N.apply(this, arguments)
            }
            ),
            O.listDir = (k = s(c().mark(function e(n) {
                return c().wrap(function(d) {
                    for (; ; )
                        switch (d.prev = d.next) {
                        case 0:
                            return console.log("[log]this.instance.loaded", this.instance.loaded),
                            this.instance.loaded || I.bootstrapFirst(),
                            d.abrupt("return", this.instance.listDir(n));
                        case 3:
                        case "end":
                            return d.stop()
                        }
                }, e, this)
            })),
            function(n) {
                return k.apply(this, arguments)
            }
            ),
            O.is1LevelDirExist = (C = s(c().mark(function e(n) {
                var d;
                return c().wrap(function(v) {
                    for (; ; )
                        switch (v.prev = v.next) {
                        case 0:
                            return this.instance.loaded || I.bootstrapFirst(),
                            v.next = 3,
                            this.listDir("/");
                        case 3:
                            if (d = v.sent,
                            n = "/" === n[0] ? n.slice(1) : n,
                            !d.find(function(d) {
                                return d.name === n && d.isDir
                            })) {
                                v.next = 7;
                                break
                            }
                            return v.abrupt("return", !0);
                        case 7:
                            return v.abrupt("return", !1);
                        case 8:
                        case "end":
                            return v.stop()
                        }
                }, e, this)
            })),
            function(n) {
                return C.apply(this, arguments)
            }
            ),
            O.readFile = (x = s(c().mark(function e(n) {
                return c().wrap(function(d) {
                    for (; ; )
                        switch (d.prev = d.next) {
                        case 0:
                            return this.instance.loaded || I.bootstrapFirst(),
                            d.next = 3,
                            this.instance.readFile(n);
                        case 3:
                            return d.abrupt("return", d.sent);
                        case 4:
                        case "end":
                            return d.stop()
                        }
                }, e, this)
            })),
            function(n) {
                return x.apply(this, arguments)
            }
            ),
            O.transcodeH265ToH264 = (M = s(c().mark(function e(n, d) {
                var v, m, h = this;
                return c().wrap(function(N) {
                    for (; ; )
                        switch (N.prev = N.next) {
                        case 0:
                            return this.instance.loaded || I.bootstrapFirst(),
                            N.next = 3,
                            this.initDirs();
                        case 3:
                            return v = "pv_videos/" + n,
                            m = "pv_videos/h264_" + n,
                            N.next = 7,
                            this.instance.readFile(v).catch(s(c().mark(function e() {
                                return c().wrap(function(n) {
                                    for (; ; )
                                        switch (n.prev = n.next) {
                                        case 0:
                                            return n.t0 = h.instance,
                                            n.t1 = v,
                                            n.next = 4,
                                            y.fetchFile(d);
                                        case 4:
                                            return n.t2 = n.sent,
                                            n.next = 7,
                                            n.t0.writeFile.call(n.t0, n.t1, n.t2);
                                        case 7:
                                        case "end":
                                            return n.stop()
                                        }
                                }, e)
                            })));
                        case 7:
                            return N.next = 9,
                            this.instance.exec(["-i", v, "-c:v", "libx264", "-c:a", "copy", "-preset", "ultrafast", "-crf", "28", "-threads", "10", m], void 0).catch(function(n) {
                                "AbortError" === n.name && console.log(n.message)
                            });
                        case 9:
                            return N.next = 11,
                            this.instance.readFile(m);
                        case 11:
                            return N.abrupt("return", URL.createObjectURL(new Blob([N.sent.buffer],{
                                type: "video/mp4"
                            })));
                        case 13:
                        case "end":
                            return N.stop()
                        }
                }, e, this)
            })),
            function(n, d) {
                return M.apply(this, arguments)
            }
            ),
            O.transHEV1ToHVC1 = (S = s(c().mark(function e(n, d) {
                var v, m, h;
                return c().wrap(function(N) {
                    for (; ; )
                        switch (N.prev = N.next) {
                        case 0:
                            return this.instance.loaded || I.bootstrapFirst(),
                            N.next = 3,
                            this.initDirs();
                        case 3:
                            return v = "pv_videos/" + n,
                            m = "pv_videos/hvc1_" + n,
                            N.next = 7,
                            y.fetchFile(d);
                        case 7:
                            return h = N.sent,
                            N.next = 10,
                            this.instance.writeFile(v, h);
                        case 10:
                            return N.next = 12,
                            this.instance.exec(["-i", v, "-c:v", "copy", "-tag:v", "hvc1", "-threads", "4", m]);
                        case 12:
                            return N.next = 14,
                            this.instance.readFile(m);
                        case 14:
                            return N.abrupt("return", URL.createObjectURL(new Blob([N.sent.buffer],{
                                type: "video/mp4"
                            })));
                        case 16:
                        case "end":
                            return N.stop()
                        }
                }, e, this)
            })),
            function(n, d) {
                return S.apply(this, arguments)
            }
            ),
            O.onMessage = function(n) {
                this.instance.on("log", n)
            }
            ,
            O.offMessage = function(n) {
                this.instance ? this.instance.off("log", n) : I.shouldBootstrapFist()
            }
            ,
            O.onProgress = function(n) {
                this.instance.loaded || I.bootstrapFirst(),
                this.instance.on("progress", n)
            }
            ,
            O.offProgress = function(n) {
                this.instance ? this.instance.off("progress", n) : I.shouldBootstrapFist()
            }
            ,
            O.terminate = function() {
                this.instance.loaded || I.bootstrapFirst(),
                this.instance.terminate()
            }
            ,
            O.creatrIfNotExist = (_ = s(c().mark(function e(n) {
                var d = this;
                return c().wrap(function(v) {
                    for (; ; )
                        switch (v.prev = v.next) {
                        case 0:
                            return v.abrupt("return", new Promise(function() {
                                var v = s(c().mark(function e(v) {
                                    var m;
                                    return c().wrap(function(h) {
                                        for (; ; )
                                            switch (h.prev = h.next) {
                                            case 0:
                                                m = 0;
                                            case 1:
                                                if (!(m < n.length)) {
                                                    h.next = 11;
                                                    break
                                                }
                                                return h.next = 4,
                                                d.is1LevelDirExist(n[m]);
                                            case 4:
                                                if (h.sent) {
                                                    h.next = 8;
                                                    break
                                                }
                                                return h.next = 8,
                                                d.createDir(n[m]);
                                            case 8:
                                                m++,
                                                h.next = 1;
                                                break;
                                            case 11:
                                                v();
                                            case 12:
                                            case "end":
                                                return h.stop()
                                            }
                                    }, e)
                                }));
                                return function(n) {
                                    return v.apply(this, arguments)
                                }
                            }()));
                        case 1:
                        case "end":
                            return v.stop()
                        }
                }, e)
            })),
            function(n) {
                return _.apply(this, arguments)
            }
            ),
            O.getFirstFrame = (V = s(c().mark(function e(n, d, v) {
                var m, h, N, k, C;
                return c().wrap(function(x) {
                    for (; ; )
                        switch (x.prev = x.next) {
                        case 0:
                            return void 0 === v && (v = !1),
                            this.instance.loaded || (null == (m = window) || null == (m = m.eaglet) || null == m.push || m.push({
                                measurement_name: "sns_web_cover_error",
                                measurement_data: {
                                    error: "抽首帧之前ffmpeg未ready"
                                }
                            }, "ApmXrayTracker"),
                            I.bootstrapFirst()),
                            x.next = 4,
                            this.creatrIfNotExist(["pv_videos_" + n, "pv_frames_" + n]).catch(function(n) {
                                var d, v, m;
                                null == (d = window) || null == (d = d.eaglet) || null == d.push || d.push({
                                    measurement_name: "sns_web_cover_error",
                                    measurement_data: {
                                        error: null != (v = null != (m = null == n ? void 0 : n.message) ? m : null == n ? void 0 : n.msg) ? v : "create dir错误"
                                    }
                                }, "ApmXrayTracker")
                            });
                        case 4:
                            if (h = n.replaceAll(".", "-"),
                            N = "pv_videos_" + n + "/" + h,
                            k = "pv_frames_" + n + "/" + h + "_1.png",
                            v) {
                                x.next = 19;
                                break
                            }
                            if (!(d instanceof File)) {
                                x.next = 14;
                                break
                            }
                            return x.next = 11,
                            this.instance.mount("WORKERFS", {
                                files: [d]
                            }, "/pv_videos_" + n).catch(function(n) {
                                var d, v, m;
                                null == (d = window) || null == (d = d.eaglet) || null == d.push || d.push({
                                    measurement_name: "sns_web_cover_error",
                                    measurement_data: {
                                        error: null != (v = null != (m = null == n ? void 0 : n.message) ? m : null == n ? void 0 : n.msg) ? v : "文件mount错误"
                                    }
                                }, "ApmXrayTracker")
                            });
                        case 11:
                            N = "pv_videos_" + n + "/" + d.name,
                            x.next = 19;
                            break;
                        case 14:
                            return x.next = 16,
                            y.fetchFile(d);
                        case 16:
                            return C = x.sent,
                            x.next = 19,
                            this.writeFile(N, C);
                        case 19:
                            return x.next = 21,
                            this.instance.exec(["-i", N, "-vf", "select=eq(n\\,0)", "-frames:v", "1", k]).catch(function(n) {
                                var d, v, m;
                                null == (d = window) || null == (d = d.eaglet) || null == d.push || d.push({
                                    measurement_name: "sns_web_cover_error",
                                    measurement_data: {
                                        error: null != (v = null != (m = null == n ? void 0 : n.message) ? m : null == n ? void 0 : n.msg) ? v : "执行抽首帧命令错误"
                                    }
                                }, "ApmXrayTracker")
                            });
                        case 21:
                            return x.next = 23,
                            this.instance.readFile(k).catch(function(n) {
                                var d, v, m;
                                null == (d = window) || null == (d = d.eaglet) || null == d.push || d.push({
                                    measurement_name: "sns_web_cover_error",
                                    measurement_data: {
                                        error: null != (v = null != (m = null == n ? void 0 : n.message) ? m : null == n ? void 0 : n.msg) ? v : "写首帧封面命令错误"
                                    }
                                }, "ApmXrayTracker")
                            });
                        case 23:
                            return x.abrupt("return", {
                                uri: k,
                                file: x.sent
                            });
                        case 25:
                        case "end":
                            return x.stop()
                        }
                }, e, this)
            })),
            function(n, d, v) {
                return V.apply(this, arguments)
            }
            ),
            O.generatePictFrameFromR = (B = s(c().mark(function e(n, d, v, m) {
                var h, y, N, k, C, x, M, S, _;
                return c().wrap(function(d) {
                    for (; ; )
                        switch (d.prev = d.next) {
                        case 0:
                            return this.instance.loaded || I.bootstrapFirst(),
                            d.next = 4,
                            this.creatrIfNotExist(["pv_videos_" + n, "pv_frames_" + n]);
                        case 4:
                            if (h = "pv_videos_" + n + "/" + n,
                            y = "pv_frames_" + n + "/" + n + "_pre%02d.png",
                            N = "pv_frames_" + n + "/" + n + "_mid%02d.png",
                            k = "pv_frames_" + n + "/" + n + "_post%02d.png",
                            !(v <= 20)) {
                                d.next = 13;
                                break
                            }
                            return d.next = 11,
                            this.instance.exec(["-i", h, "-preset", "superfast", "-r", "1", "-fps_mode", "vfr", "-q:v", "20", k]).catch(function(n) {
                                var d, v, m;
                                null == (d = window) || null == (d = d.eaglet) || null == d.push || d.push({
                                    measurement_name: "sns_web_cover_error",
                                    measurement_data: {
                                        error: null != (v = null != (m = null == n ? void 0 : n.message) ? m : null == n ? void 0 : n.msg) ? v : "直接抽20帧命令错误"
                                    }
                                }, "ApmXrayTracker")
                            });
                        case 11:
                            d.next = 20;
                            break;
                        case 13:
                            return d.next = 15,
                            this.instance.exec(["-i", h, "-t", "6", "-preset", "superfast", "-r", "1", "-fps_mode", "vfr", "-frames:v", "6", y]).catch(function(n) {
                                var d, v, m;
                                null == (d = window) || null == (d = d.eaglet) || null == d.push || d.push({
                                    measurement_name: "sns_web_cover_error",
                                    measurement_data: {
                                        error: null != (v = null != (m = null == n ? void 0 : n.message) ? m : null == n ? void 0 : n.msg) ? v : "抽前10帧命令错误"
                                    }
                                }, "ApmXrayTracker")
                            });
                        case 15:
                            return C = Math.trunc(v / 3),
                            d.next = 18,
                            this.instance.exec(["-ss", String(C), "-t", "10", "-i", h, "-preset", "superfast", "-r", "1", "-fps_mode", "vfr", "-frames:v", "8", N]).catch(function(n) {
                                var d, v, m;
                                null == (d = window) || null == (d = d.eaglet) || null == d.push || d.push({
                                    measurement_name: "sns_web_cover_error",
                                    measurement_data: {
                                        error: null != (v = null != (m = null == n ? void 0 : n.message) ? m : null == n ? void 0 : n.msg) ? v : "抽中间10帧命令错误"
                                    }
                                }, "ApmXrayTracker")
                            });
                        case 18:
                            return d.next = 20,
                            this.instance.exec(["-sseof", "-6", "-i", h, "-preset", "superfast", "-r", "1", "-fps_mode", "vfr", "-frames:v", "6", "-compression_level", "6", "-q:v", "31", k]).catch(function(n) {
                                var d, v, m;
                                null == (d = window) || null == (d = d.eaglet) || null == d.push || d.push({
                                    measurement_name: "sns_web_cover_error",
                                    measurement_data: {
                                        error: null != (v = null != (m = null == n ? void 0 : n.message) ? m : null == n ? void 0 : n.msg) ? v : "抽后10帧命令错误"
                                    }
                                }, "ApmXrayTracker")
                            });
                        case 20:
                            return d.next = 22,
                            this.instance.unmount("/pv_videos_" + n).catch(function(n) {
                                var d, v, m;
                                null == (d = window) || null == (d = d.eaglet) || null == d.push || d.push({
                                    measurement_name: "sns_web_cover_error",
                                    measurement_data: {
                                        error: null != (v = null != (m = null == n ? void 0 : n.message) ? m : null == n ? void 0 : n.msg) ? v : "unmount命令错误"
                                    }
                                }, "ApmXrayTracker")
                            });
                        case 22:
                            return d.next = 24,
                            this.instance.listDir("/pv_frames_" + n);
                        case 24:
                            x = d.sent.filter(function(d) {
                                return d.name.startsWith(n)
                            }),
                            M = [],
                            S = 0;
                        case 28:
                            if (!(S < x.length)) {
                                d.next = 37;
                                break
                            }
                            return _ = "/pv_frames_" + n + "/" + x[S].name,
                            d.next = 32,
                            this.instance.readFile(_).catch(function(n) {
                                var d, v, m;
                                null == (d = window) || null == (d = d.eaglet) || null == d.push || d.push({
                                    measurement_name: "sns_web_cover_error",
                                    measurement_data: {
                                        error: null != (v = null != (m = null == n ? void 0 : n.message) ? m : null == n ? void 0 : n.msg) ? v : "写智能封面命令错误"
                                    }
                                }, "ApmXrayTracker")
                            });
                        case 32:
                            M.push({
                                uri: _,
                                file: d.sent
                            });
                        case 34:
                            S++,
                            d.next = 28;
                            break;
                        case 37:
                            return d.abrupt("return", M);
                        case 38:
                        case "end":
                            return d.stop()
                        }
                }, e, this)
            })),
            function(n, d, v, m) {
                return B.apply(this, arguments)
            }
            ),
            u(e, [{
                key: "loaded",
                get: function() {
                    var n;
                    return null != (n = this.instance.loaded) && n
                }
            }])
        }();
        d.Media = function() {
            function e(n) {
                var d, v = this;
                this.queryVideoFileInfo = (d = s(c().mark(function e(n) {
                    return c().wrap(function(d) {
                        for (; ; )
                            switch (d.prev = d.next) {
                            case 0:
                                return d.next = 2,
                                v._analyzeFile(n);
                            case 2:
                                return d.abrupt("return", d.sent);
                            case 3:
                            case "end":
                                return d.stop()
                            }
                    }, e)
                })),
                function(n) {
                    return d.apply(this, arguments)
                }
                ),
                this.isVideoAVC = function(n) {
                    var d = v.getVideoTrack(n);
                    return !!d && "AVC" === d.Format
                }
                ,
                this.isVideoHEVC = function(n) {
                    var d = v.getVideoTrack(n);
                    return !!d && "HEVC" === d.Format
                }
                ,
                this.isAudioAAC = function(n) {
                    var d = v.getAudioTrack(n);
                    return !!d && "AAC" === d.Format
                }
                ,
                this._canUseFFmpeg = N.isSupportWasm(),
                this._mediaInfoWasmPath = "https://fe-video-qc.xhscdn.com/fe-platform/bdd874a8d9ae731a367e24f362727b751357434a.wasm?attname=fe-platform/bdd874a8d9ae731a367e24f362727b751357434a.wasm.wasm",
                this._ffmpeg = new C,
                this.options = n
            }
            var n, d, v, m, h, x, M, S, _, V = e.prototype;
            return V.bootstrap = (n = s(c().mark(function e() {
                return c().wrap(function(n) {
                    for (; ; )
                        switch (n.prev = n.next) {
                        case 0:
                            if (!this.loaded) {
                                n.next = 2;
                                break
                            }
                            return n.abrupt("return");
                        case 2:
                            if (!this._canUseFFmpeg) {
                                n.next = 5;
                                break
                            }
                            return n.next = 5,
                            this._ffmpeg.bootstrap(this.options);
                        case 5:
                        case "end":
                            return n.stop()
                        }
                }, e, this)
            })),
            function() {
                return n.apply(this, arguments)
            }
            ),
            V.initDirs = (d = s(c().mark(function e() {
                return c().wrap(function(n) {
                    for (; ; )
                        switch (n.prev = n.next) {
                        case 0:
                            if (this._ffmpeg.isInitDirs) {
                                n.next = 2;
                                break
                            }
                            return n.abrupt("return");
                        case 2:
                            return n.next = 4,
                            this._ffmpeg.initDirs();
                        case 4:
                        case "end":
                            return n.stop()
                        }
                }, e, this)
            })),
            function() {
                return d.apply(this, arguments)
            }
            ),
            V.createDir = (v = s(c().mark(function e(n) {
                return c().wrap(function(d) {
                    for (; ; )
                        switch (d.prev = d.next) {
                        case 0:
                            if (this._ffmpeg.isInitDirs) {
                                d.next = 2;
                                break
                            }
                            return d.abrupt("return");
                        case 2:
                            return d.next = 4,
                            this._ffmpeg.createDir(n);
                        case 4:
                            return d.abrupt("return", d.sent);
                        case 5:
                        case "end":
                            return d.stop()
                        }
                }, e, this)
            })),
            function(n) {
                return v.apply(this, arguments)
            }
            ),
            V.deleteDir = (m = s(c().mark(function e(n) {
                return c().wrap(function(d) {
                    for (; ; )
                        switch (d.prev = d.next) {
                        case 0:
                            if (this._ffmpeg.isInitDirs) {
                                d.next = 2;
                                break
                            }
                            return d.abrupt("return");
                        case 2:
                            return d.next = 4,
                            this._ffmpeg.deleteDir(n);
                        case 4:
                            return d.abrupt("return", d.sent);
                        case 5:
                        case "end":
                            return d.stop()
                        }
                }, e, this)
            })),
            function(n) {
                return m.apply(this, arguments)
            }
            ),
            V.listDir = (h = s(c().mark(function e(n) {
                return c().wrap(function(d) {
                    for (; ; )
                        switch (d.prev = d.next) {
                        case 0:
                            return d.abrupt("return", this._ffmpeg.listDir(n));
                        case 1:
                        case "end":
                            return d.stop()
                        }
                }, e, this)
            })),
            function(n) {
                return h.apply(this, arguments)
            }
            ),
            V.is1LevelDirExist = (x = s(c().mark(function e(n) {
                var d;
                return c().wrap(function(v) {
                    for (; ; )
                        switch (v.prev = v.next) {
                        case 0:
                            if (this._ffmpeg.isInitDirs) {
                                v.next = 2;
                                break
                            }
                            return v.abrupt("return");
                        case 2:
                            return v.next = 4,
                            this.listDir("/");
                        case 4:
                            if (d = v.sent,
                            n = "/" === n[0] ? n.slice(1) : n,
                            !d.find(function(d) {
                                return d.name === n && d.isDir
                            })) {
                                v.next = 8;
                                break
                            }
                            return v.abrupt("return", !0);
                        case 8:
                            return v.abrupt("return", !1);
                        case 9:
                        case "end":
                            return v.stop()
                        }
                }, e, this)
            })),
            function(n) {
                return x.apply(this, arguments)
            }
            ),
            V.transcodeH265ToH264 = function(n, d) {
                return this._canUseFFmpeg ? this._ffmpeg.transcodeH265ToH264(n, d) : Promise.resolve("")
            }
            ,
            V.transHEV1ToHVC1 = function(n, d) {
                return this._canUseFFmpeg ? this._ffmpeg.transHEV1ToHVC1(n, d) : Promise.resolve("")
            }
            ,
            V.writeFile = (M = s(c().mark(function e(n, d) {
                return c().wrap(function(v) {
                    for (; ; )
                        switch (v.prev = v.next) {
                        case 0:
                            if (this._ffmpeg) {
                                v.next = 3;
                                break
                            }
                            return I.shouldBootstrapFist(),
                            v.abrupt("return");
                        case 3:
                            return v.abrupt("return", this._ffmpeg.writeFile(n, d));
                        case 4:
                        case "end":
                            return v.stop()
                        }
                }, e, this)
            })),
            function(n, d) {
                return M.apply(this, arguments)
            }
            ),
            V.onMessage = function(n) {
                this._ffmpeg ? this._ffmpeg.onMessage(n) : I.shouldBootstrapFist()
            }
            ,
            V.offMessage = function(n) {
                this._ffmpeg ? this._ffmpeg.offMessage(n) : I.shouldBootstrapFist()
            }
            ,
            V.onProgress = function(n) {
                this._ffmpeg ? this._ffmpeg.onProgress(n) : I.shouldBootstrapFist()
            }
            ,
            V.offProgress = function(n) {
                this._ffmpeg ? this._ffmpeg.offProgress(n) : I.shouldBootstrapFist()
            }
            ,
            V.terminate = function() {
                this._ffmpeg ? this._ffmpeg.terminate() : I.shouldBootstrapFist()
            }
            ,
            V.getFirstFrame = function(n, d, v) {
                if (void 0 === v && (v = !1),
                this._ffmpeg)
                    return this._ffmpeg.getFirstFrame(n, d, v);
                I.shouldBootstrapFist()
            }
            ,
            V.generatePictFrameFromR = function(n, d, v, m) {
                if (void 0 === m && (m = !1),
                this._ffmpeg)
                    return this._ffmpeg.generatePictFrameFromR(n, d, v, m);
                I.shouldBootstrapFist()
            }
            ,
            V.toBlobUrl = function(n, d) {
                return y.toBlobURL(n, d)
            }
            ,
            V._getMediaInfo = (S = s(c().mark(function e() {
                var n, d = this;
                return c().wrap(function(v) {
                    for (; ; )
                        switch (v.prev = v.next) {
                        case 0:
                            if (!window.mediaInfoToValidate) {
                                v.next = 2;
                                break
                            }
                            return v.abrupt("return", window.mediaInfoToValidate);
                        case 2:
                            return v.next = 4,
                            k({
                                format: "object",
                                locateFile: function() {
                                    return d._mediaInfoWasmPath
                                }
                            });
                        case 4:
                            return n = v.sent,
                            window.mediaInfoToValidate = n,
                            v.abrupt("return", n);
                        case 7:
                        case "end":
                            return v.stop()
                        }
                }, e)
            })),
            function() {
                return S.apply(this, arguments)
            }
            ),
            V._analyzeFile = (_ = s(c().mark(function e(n) {
                var d, v, m;
                return c().wrap(function(h) {
                    for (; ; )
                        switch (h.prev = h.next) {
                        case 0:
                            return d = function() {
                                return n.size
                            }
                            ,
                            v = function(d, v) {
                                return new Promise(function(m, h) {
                                    var y = new FileReader;
                                    y.onload = function() {
                                        m(new Uint8Array(y.result))
                                    }
                                    ,
                                    y.onerror = function() {
                                        h(Error("Error: Failed to read chunk."))
                                    }
                                    ;
                                    var N = n.slice(v, v + d);
                                    y.readAsArrayBuffer(N)
                                }
                                )
                            }
                            ,
                            h.prev = 2,
                            h.next = 5,
                            this._getMediaInfo();
                        case 5:
                            m = h.sent,
                            h.next = 11;
                            break;
                        case 8:
                            h.prev = 8,
                            h.t0 = h.catch(2),
                            console.log("error", h.t0);
                        case 11:
                            if (m && m.analyzeData) {
                                h.next = 13;
                                break
                            }
                            throw Error("miss function mediaInfo.analyzeData");
                        case 13:
                            return h.abrupt("return", m.analyzeData(d, v));
                        case 14:
                        case "end":
                            return h.stop()
                        }
                }, e, this, [[2, 8]])
            })),
            function(n) {
                return _.apply(this, arguments)
            }
            ),
            V.getVideoTrack = function(n) {
                var d = (n.media || {}).track;
                return (void 0 === d ? [] : d).find(function(n) {
                    return "Video" === n["@type"]
                })
            }
            ,
            V.getAudioTrack = function(n) {
                var d = (n.media || {}).track;
                return (void 0 === d ? [] : d).find(function(n) {
                    return "Audio" === n["@type"]
                })
            }
            ,
            V.getGeneralTrack = function(n) {
                var d = (n.media || {}).track;
                return (void 0 === d ? [] : d).find(function(n) {
                    return "General" === n["@type"]
                })
            }
            ,
            u(e, [{
                key: "loaded",
                get: function() {
                    var n, d;
                    return null != (n = null == (d = this._ffmpeg) ? void 0 : d.loaded) && n
                }
            }])
        }()
    },
    45203: function(n, d, v) {
        "use strict";
        v.d(d, {
            G$: function() {
                return ee
            },
            Rz: function() {
                return eT
            },
            zx: function() {
                return q
            },
            _$: function() {
                return ai
            },
            VZ: function() {
                return aF
            },
            gj: function() {
                return K
            },
            M2: function() {
                return aJ
            }
        });
        var m, h, y, N, k, I, C, x, M, S, _, V, B, O, R, U, z, Z, Q, J = v(51606), H = v(88771), G = v(42529), Y = (0,
        H.defineComponent)({
            __name: "Button",
            props: {
                type: {
                    type: String,
                    default: "default"
                },
                size: {
                    type: String,
                    default: "default"
                },
                disabled: {
                    type: Boolean,
                    default: !1
                },
                color: {
                    type: String,
                    default: ""
                },
                className: {
                    type: String,
                    default: ""
                }
            },
            setup: function(n) {
                return function(d, v) {
                    var m;
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createBlock)((0,
                    H.unref)(G.Z), {
                        type: n.type,
                        size: n.size,
                        disabled: n.disabled,
                        class: (0,
                        H.normalizeClass)(["custom-button", (m = {},
                        (0,
                        J._)(m, n.color, n.color),
                        (0,
                        J._)(m, "disabled", n.disabled),
                        (0,
                        J._)(m, n.className, !0),
                        m)])
                    }, {
                        default: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.renderSlot)(d.$slots, "default")]
                        }),
                        _: 3
                    }, 8, ["type", "size", "disabled", "class"])
                }
            }
        }), W = v(97104), q = (0,
        W.default)(Y, [["__scopeId", "data-v-018e6a26"]]), X = (0,
        H.defineComponent)({
            __name: "PublishBtn",
            props: {
                size: {
                    type: String,
                    default: "default"
                },
                disabled: {
                    type: Boolean,
                    default: !1
                },
                color: {
                    type: String,
                    default: ""
                },
                loading: {
                    type: Boolean,
                    default: !1
                }
            },
            setup: function(n) {
                return function(d, v) {
                    var m;
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createBlock)((0,
                    H.unref)(G.Z), {
                        size: n.size,
                        disabled: n.disabled,
                        loading: n.loading,
                        class: (0,
                        H.normalizeClass)(["custom-button", (m = {},
                        (0,
                        J._)(m, n.color, n.color),
                        (0,
                        J._)(m, "disabled", n.disabled),
                        m)])
                    }, {
                        default: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.renderSlot)(d.$slots, "default")]
                        }),
                        _: 3
                    }, 8, ["size", "disabled", "loading", "class"])
                }
            }
        }), K = (0,
        W.default)(X, [["__scopeId", "data-v-34b0c0bc"]]), $ = (0,
        H.defineComponent)({
            __name: "SaveBtn",
            props: {
                type: {
                    type: String,
                    default: "default"
                },
                size: {
                    type: String,
                    default: "default"
                },
                disabled: {
                    type: Boolean,
                    default: !1
                },
                loading: {
                    type: Boolean,
                    default: !1
                }
            },
            setup: function(n) {
                return function(d, v) {
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createBlock)((0,
                    H.unref)(G.Z), {
                        type: n.type,
                        size: n.size,
                        loading: n.loading,
                        class: (0,
                        H.normalizeClass)(["custom-button", {
                            disabled: n.disabled
                        }])
                    }, {
                        default: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.renderSlot)(d.$slots, "default")]
                        }),
                        _: 3
                    }, 8, ["type", "size", "loading", "class"])
                }
            }
        }), ee = (0,
        W.default)($, [["__scopeId", "data-v-4d788476"]]);
        v(87535),
        v(75204),
        v(97357),
        v(34333);
        var et = ["aria-details", "onClick"]
          , en = (0,
        H.defineComponent)({
            __name: "Tabs",
            props: {
                tabs: {
                    default: []
                },
                activeIdx: {},
                limitLines: {},
                containerWidth: {}
            },
            emits: ["tab-click", "impression"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                H.ref)(!0)
                  , h = (0,
                H.ref)(!1)
                  , y = (0,
                H.ref)([])
                  , N = (0,
                H.ref)(!1)
                  , k = (0,
                H.ref)([])
                  , I = (0,
                H.ref)(n.activeIdx && n.activeIdx >= 0 ? n.activeIdx : 0)
                  , selectTab = function(n, d) {
                    if (I.value !== n)
                        I.value = n,
                        v("tab-click", d, n)
                }
                  , handleShowAll = function() {
                    h.value = !h.value,
                    N.value = !h.value
                }
                  , cacheAndReturn = function(n, d, v) {
                    if (n.displayInfo = d,
                    v) {
                        var y, N;
                        m.value = null !== (y = v.showedAll) && void 0 !== y ? y : m.value,
                        h.value = null !== (N = v.canSpand) && void 0 !== N ? N : h.value
                    }
                    return d
                }
                  , isDisplay = function(d) {
                    if (N.value || !n.limitLines || !n.containerWidth)
                        return !0;
                    var v = k.value[d];
                    if (!v)
                        return !0;
                    var m = v.top
                      , h = v.left
                      , y = v.width
                      , I = v.displayInfo;
                    if (void 0 !== I)
                        return I;
                    var getRowPosition = function(n) {
                        return 28 * n + (n - 1) * 8
                    };
                    if (m <= getRowPosition(n.limitLines - 1))
                        return cacheAndReturn(v, !0);
                    var C = getRowPosition(n.limitLines);
                    if (m > C)
                        return cacheAndReturn(v, !1, {
                            showedAll: !1,
                            canSpand: !0
                        });
                    var x = n.containerWidth - 46 - y;
                    if (m <= C && h < x) {
                        var M = d === n.tabs.length - 1;
                        return cacheAndReturn(v, !0, {
                            showedAll: M,
                            canSpand: !M
                        })
                    }
                    return cacheAndReturn(v, !1, {
                        showedAll: !1,
                        canSpand: !0
                    })
                };
                return (0,
                H.onMounted)(function() {
                    var n;
                    null === (n = y.value) || void 0 === n || n.forEach(function(n, d) {
                        var v = n.offsetTop
                          , m = n.offsetLeft + n.offsetWidth
                          , h = n.offsetWidth;
                        k.value[d] = {
                            top: v,
                            left: m,
                            width: h,
                            displayInfo: void 0
                        }
                    })
                }),
                function(d, v) {
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)(H.Fragment, null, [((0,
                    H.openBlock)(!0),
                    (0,
                    H.createElementBlock)(H.Fragment, null, (0,
                    H.renderList)(n.tabs, function(n, d) {
                        return (0,
                        H.openBlock)(),
                        (0,
                        H.createElementBlock)("button", {
                            ref_for: !0,
                            ref_key: "tabItemEl",
                            ref: y,
                            key: n.id,
                            "aria-details": n.name,
                            class: (0,
                            H.normalizeClass)(["tab", {
                                active: d === I.value
                            }]),
                            style: (0,
                            H.normalizeStyle)({
                                display: isDisplay(d) ? "block" : "none"
                            }),
                            onClick: function(v) {
                                return selectTab(d, n)
                            }
                        }, (0,
                        H.toDisplayString)(n.name), 15, et)
                    }), 128)), m.value ? (0,
                    H.createCommentVNode)("", !0) : ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("button", {
                        key: 0,
                        class: "tab",
                        onClick: handleShowAll
                    }, [(0,
                    H.createTextVNode)((0,
                    H.toDisplayString)(h.value ? "展开" : "收起") + " ", 1), (0,
                    H.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADBSURBVHgB7dO9DcIwFATg42cKKioWoGMH2IkBGIAMwAIwAEPQwABQUUFFxbMSSxYC5Z5Nmug+6borrLwLICIiIn81cHTnTXLcLHumOAZnYtmizNlyaSsNwXmg3JMpjcB5oX7UAnkqy5Epsg8KTpaZZQqfg2XDltmTRWvUA2WFbuXou/6yKHylHdldWa5w8JwsuoPbE70bFD4oaNuTazcp74ZSv/bk3k0qZ0Opb3ty7yaVe7Loc09Zu+nCsomIiPTeG55cH/UDF+cjAAAAAElFTkSuQmCC",
                        class: (0,
                        H.normalizeClass)(["spand", {
                            canSpand: !h.value
                        }])
                    }, null, 2)]))], 64)
                }
            }
        });
        let ea = (0,
        W.default)(en, [["__scopeId", "data-v-63cb94e2"]]);
        var eo = v(41622)
          , er = v(66993)
          , ei = v(377);
        v(6045),
        v(10364),
        v(67673),
        v(87989),
        v(64091),
        v(51109),
        v(63235),
        v(15368),
        v(12970),
        v(8503),
        v(32207),
        v(13598),
        v(23541),
        v(63827),
        v(30488),
        v(82236),
        v(51938),
        v(33913),
        v(94949),
        v(17891),
        v(44258),
        v(38609),
        v(4787),
        v(44211),
        v(29338),
        v(73405),
        v(98754),
        v(31832),
        v(88402),
        v(56712),
        v(27461),
        v(23339),
        v(43648),
        v(7608),
        v(64961),
        v(12996),
        v(59564),
        v(87394),
        v(94941),
        v(48421),
        v(92519),
        v(86651),
        v(67930),
        v(58486),
        v(85203),
        v(19077),
        v(75973),
        v(36277),
        v(63530),
        v(17114),
        v(25001),
        v(43645);
        var el = v(38253)
          , ec = v(49219)
          , eu = v(72637)
          , es = v(55095)
          , ed = v(64649)
          , ev = v(6487)
          , em = v(17908)
          , ef = v(24961)
          , ep = v(14698);
        v(55947);
        var createSearchId = function() {
            if ("undefined" == typeof BigInt) {
                var n = Date.now()
                  , d = Math.ceil(0x7ffffffe * Math.random());
                return parseInt(n.toString() + d.toString(), 10).toString(36)
            }
            var v = BigInt(Date.now())
              , m = BigInt(Math.ceil(0x7ffffffe * Math.random()));
            return v <<= BigInt(64),
            (v += m).toString(36)
        }
          , eg = {
            class: "content"
        }
          , eh = {
            class: "left"
        }
          , ey = {
            key: 0,
            class: "tab"
        }
          , eN = ["onMouseenter", "onClick"]
          , ek = {
            class: "user-name"
        }
          , eI = {
            key: 0,
            class: "plus"
        }
          , eC = {
            class: "right"
        }
          , eb = {
            class: "selected-count"
        }
          , eE = ["onMouseenter", "onClick"]
          , eA = {
            class: "user-name"
        }
          , ew = {
            class: "confirm"
        }
          , ex = (0,
        H.defineComponent)({
            __name: "Modal",
            props: {
                title: {},
                selectType: {},
                storageKey: {},
                selectedList: {},
                color: {},
                fetchFriendsMethod: {
                    type: Function
                },
                search: {
                    type: Function
                },
                fetchUserInfo: {
                    type: Function
                }
            },
            emits: ["onClose", "onConfirm"],
            setup: function(n, d) {
                var v, m, h, y, N = d.emit, k = (0,
                H.ref)(!0), I = (0,
                H.ref)([{
                    id: 0,
                    name: "最近选择"
                }, {
                    id: 1,
                    name: "全部好友与粉丝"
                }]), C = (0,
                H.ref)({
                    keyword: "",
                    page: 1,
                    pageSize: 20,
                    searchId: "",
                    searching: !1
                }), x = (0,
                H.ref)([]), M = (0,
                H.ref)([]), S = (0,
                H.ref)([]), _ = (0,
                H.ref)([]), V = (0,
                H.ref)([]), B = (0,
                H.ref)(0), O = (0,
                H.ref)(), R = (0,
                H.ref)(), U = (0,
                H.ref)(!1), z = (0,
                H.ref)({
                    cursor: "",
                    hasMore: !0
                }), handleClose = function() {
                    N("onClose")
                }, Z = (0,
                H.ref)(), Q = (0,
                H.ref)(), handleConfirm = function() {
                    if (!_.value.length) {
                        el.Z.info("请选择用户");
                        return
                    }
                    var d = _.value.map(function(n) {
                        return n.id
                    })
                      , v = x.value.map(function(n) {
                        return n.id
                    });
                    (v = Array.from(new Set(v = (0,
                    er._)(d).concat((0,
                    er._)(v))))).length > 10 && (v = v.slice(0, 10)),
                    localStorage.setItem(n.storageKey, JSON.stringify(v)),
                    N("onConfirm", d)
                }, checkDisplayedUser = function() {
                    S.value = S.value.map(function(n) {
                        return _.value.find(function(d) {
                            return d.id === n.id
                        }) ? n.selected = !0 : n.selected = !1,
                        n
                    })
                }, tabClick = function(n) {
                    Z.value && (Z.value.scrollTop = 0),
                    B.value = n.id,
                    0 === n.id ? S.value = x.value : S.value = M.value,
                    checkDisplayedUser()
                }, handleMouseEnter = function(n, d) {
                    "select" === d ? O.value = n : R.value = n
                }, handleMouseLeave = function() {
                    O.value = null,
                    R.value = null
                }, selectUser = function(n) {
                    var d = S.value.find(function(d) {
                        return d.id === n
                    });
                    if (!!d) {
                        if (d.selected)
                            d.selected = !1,
                            _.value = _.value.filter(function(d) {
                                return d.id !== n
                            });
                        else {
                            if (_.value.length >= 200) {
                                el.Z.info("最多选择200个用户");
                                return
                            }
                            d.selected = !0,
                            _.value.unshift(d),
                            Q.value && (Q.value.scrollTop = 0)
                        }
                        checkDisplayedUser()
                    }
                }, unSelectUser = function(n) {
                    if (!!_.value.find(function(d) {
                        return d.id === n
                    })) {
                        _.value = _.value.filter(function(d) {
                            return d.id !== n
                        });
                        var d = S.value.find(function(d) {
                            return d.id === n
                        });
                        d && (d.selected = !1),
                        checkDisplayedUser()
                    }
                }, G = (0,
                H.ref)(!1);
                var Y = (v = (0,
                eo._)(function(d) {
                    var v, m;
                    return (0,
                    ei.Jh)(this, function(h) {
                        switch (h.label) {
                        case 0:
                            if (G.value && d === C.value.keyword)
                                return [2];
                            G.value = !0,
                            h.label = 1;
                        case 1:
                            return h.trys.push([1, 3, , 4]),
                            C.value.searching = !0,
                            [4, n.search({
                                keyword: d,
                                page: C.value.page,
                                pageSize: C.value.pageSize,
                                searchId: C.value.searchId
                            })];
                        case 2:
                            return m = null === (v = h.sent().userList) || void 0 === v ? void 0 : v.map(function(n) {
                                return {
                                    id: n.userId,
                                    name: n.nickName,
                                    avatar: n.avatar,
                                    selected: !1
                                }
                            }),
                            V.value = (0,
                            er._)(V.value).concat((0,
                            er._)(m)),
                            C.value.keyword === d && (S.value = V.value,
                            checkDisplayedUser(),
                            C.value.page += 1),
                            [3, 4];
                        case 3:
                            return console.log(h.sent()),
                            [3, 4];
                        case 4:
                            return G.value = !1,
                            [2]
                        }
                    })
                }),
                function searchUser(n) {
                    return v.apply(this, arguments)
                }
                )
                  , W = (0,
                ec.N)(function() {
                    C.value.page = 1,
                    Z.value && (Z.value.scrollTop = 0),
                    V.value = [],
                    C.value.keyword.length ? (C.value.searchId = createSearchId(),
                    Y(C.value.keyword.trim())) : (C.value.searching = !1,
                    0 === B.value && x.value.length ? S.value = x.value : S.value = M.value),
                    checkDisplayedUser()
                }, {
                    delay: 200
                });
                var q = (m = (0,
                eo._)(function() {
                    var d, v;
                    return (0,
                    ei.Jh)(this, function(m) {
                        switch (m.label) {
                        case 0:
                            if (m.trys.push([0, 2, , 3]),
                            !(d = JSON.parse(localStorage.getItem(n.storageKey) || "[]") || []).length)
                                return [2];
                            return [4, n.fetchUserInfo(d)];
                        case 1:
                            return v = m.sent(),
                            x.value = v.userList.map(function(n) {
                                return {
                                    id: n.userId,
                                    name: n.nickName,
                                    avatar: n.avatar,
                                    selected: !1
                                }
                            }),
                            S.value = x.value,
                            checkDisplayedUser(),
                            [3, 3];
                        case 2:
                            return console.log(m.sent()),
                            [3, 3];
                        case 3:
                            return [2]
                        }
                    })
                }),
                function findRecentSelectUser() {
                    return m.apply(this, arguments)
                }
                );
                var X = (h = (0,
                eo._)(function(d) {
                    var v, m, h;
                    return (0,
                    ei.Jh)(this, function(y) {
                        switch (y.label) {
                        case 0:
                            if (!z.value.hasMore)
                                return [2];
                            y.label = 1;
                        case 1:
                            return y.trys.push([1, 3, , 4]),
                            [4, n.fetchFriendsMethod(z.value.cursor)];
                        case 2:
                            return h = null === (v = (m = y.sent()).userList) || void 0 === v ? void 0 : v.map(function(n) {
                                return {
                                    id: n.userId,
                                    name: n.nickName,
                                    avatar: n.avatar,
                                    selected: !1
                                }
                            }),
                            M.value = (0,
                            er._)(M.value).concat((0,
                            er._)(h)),
                            !d && !x.value.length && (S.value = M.value),
                            d && (S.value = M.value),
                            checkDisplayedUser(),
                            z.value.cursor = m.cursor,
                            z.value.hasMore = !!m.cursor,
                            [3, 4];
                        case 3:
                            return console.log(y.sent()),
                            [3, 4];
                        case 4:
                            return [2]
                        }
                    })
                }),
                function findFriendAndFans(n) {
                    return h.apply(this, arguments)
                }
                )
                  , K = (0,
                ec.N)(function(n) {
                    if (n.target.scrollTop > 200) {
                        if (C.value.searching) {
                            Y(C.value.keyword.trim());
                            return
                        }
                        (1 === B.value || !x.value.length) && (X(!0),
                        checkDisplayedUser())
                    }
                }, {
                    delay: 200
                });
                var $ = (y = (0,
                eo._)(function() {
                    var d, v;
                    return (0,
                    ei.Jh)(this, function(m) {
                        switch (m.label) {
                        case 0:
                            if (!n.selectedList.length)
                                return [2];
                            d = function(n, d) {
                                for (var v = [], m = 0; m < n.length; m += d)
                                    v.push(n.slice(m, m + d));
                                return v
                            }(n.selectedList, 30),
                            m.label = 1;
                        case 1:
                            return m.trys.push([1, 3, , 4]),
                            [4, Promise.all(d.map(function(d) {
                                return n.fetchUserInfo(d)
                            }))];
                        case 2:
                            return v = m.sent().flatMap(function(n) {
                                return n.userList.map(function(n) {
                                    return {
                                        id: n.userId,
                                        name: n.nickName,
                                        avatar: n.avatar,
                                        selected: !1
                                    }
                                })
                            }),
                            _.value = v,
                            checkDisplayedUser(),
                            [3, 4];
                        case 3:
                            return console.log(m.sent()),
                            [3, 4];
                        case 4:
                            return [2]
                        }
                    })
                }),
                function getSelectedUserInfo() {
                    return y.apply(this, arguments)
                }
                );
                return (0,
                H.onMounted)((0,
                eo._)(function() {
                    return (0,
                    ei.Jh)(this, function(n) {
                        switch (n.label) {
                        case 0:
                            return U.value = !0,
                            [4, q()];
                        case 1:
                            return n.sent(),
                            [4, Promise.all([X(!1), $()])];
                        case 2:
                            return n.sent(),
                            U.value = !1,
                            [2]
                        }
                    })
                })),
                function(n, d) {
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createBlock)((0,
                    H.unref)(eu.Z), {
                        visible: k.value,
                        "onUpdate:visible": d[2] || (d[2] = function(n) {
                            return k.value = n
                        }
                        ),
                        centered: "",
                        title: n.title,
                        "with-footer": !1,
                        style: {
                            width: "736px",
                            "min-height": "600px"
                        },
                        "mask-style": {
                            background: "rgba(0, 0, 0, 0.4)"
                        },
                        "z-index": 1e3,
                        onCancel: handleClose
                    }, {
                        default: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.withDirectives)(((0,
                            H.openBlock)(),
                            (0,
                            H.createElementBlock)("div", eg, [(0,
                            H.createElementVNode)("div", eh, [(0,
                            H.createVNode)((0,
                            H.unref)(es.Z), {
                                modelValue: C.value.keyword,
                                "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                                    return C.value.keyword = n
                                }
                                ),
                                placeholder: "搜索用户",
                                class: "search-input",
                                clearable: "",
                                onClear: (0,
                                H.unref)(W),
                                onInput: (0,
                                H.unref)(W),
                                onEnter: (0,
                                H.unref)(W)
                            }, {
                                prefix: (0,
                                H.withCtx)(function() {
                                    return [(0,
                                    H.createVNode)((0,
                                    H.unref)(ed.Z), {
                                        icon: (0,
                                        H.unref)(ep.olm),
                                        color: "text-description",
                                        size: "large"
                                    }, null, 8, ["icon"])]
                                }),
                                _: 1
                            }, 8, ["modelValue", "onClear", "onInput", "onEnter"]), x.value.length && !C.value.searching ? ((0,
                            H.openBlock)(),
                            (0,
                            H.createElementBlock)("div", ey, [(0,
                            H.createVNode)(ea, {
                                class: "tab-scroll-container",
                                tabs: I.value,
                                onTabClick: tabClick,
                                "active-idx": B.value
                            }, null, 8, ["tabs", "active-idx"])])) : (0,
                            H.createCommentVNode)("", !0), 0 === S.value.length ? ((0,
                            H.openBlock)(),
                            (0,
                            H.createBlock)((0,
                            H.unref)(ev.Z), {
                                key: 1,
                                status: "resultless",
                                "sub-title": G.value ? "没有搜索到相关用户" : "没有相关用户"
                            }, null, 8, ["sub-title"])) : ((0,
                            H.openBlock)(),
                            (0,
                            H.createElementBlock)(H.Fragment, {
                                key: 2
                            }, [S.value ? ((0,
                            H.openBlock)(),
                            (0,
                            H.createElementBlock)("div", {
                                key: 0,
                                ref_key: "userList",
                                ref: Z,
                                class: (0,
                                H.normalizeClass)(["user-list", {
                                    "no-tab": 0 === x.value.length || C.value.searching,
                                    "show-bottom": x.value.length ? S.value.length >= 7 : S.value.length >= 8
                                }]),
                                onScroll: d[1] || (d[1] = function(n) {
                                    return (0,
                                    H.unref)(K)(n)
                                }
                                )
                            }, [((0,
                            H.openBlock)(!0),
                            (0,
                            H.createElementBlock)(H.Fragment, null, (0,
                            H.renderList)(S.value, function(d) {
                                return (0,
                                H.openBlock)(),
                                (0,
                                H.createElementBlock)("div", {
                                    key: d.id,
                                    class: "user-item",
                                    onMouseenter: function(n) {
                                        return handleMouseEnter(d.id, "select")
                                    },
                                    onMouseleave: handleMouseLeave,
                                    onClick: function(n) {
                                        return selectUser(d.id)
                                    }
                                }, [(0,
                                H.createVNode)((0,
                                H.unref)(em.Z), {
                                    src: d.avatar
                                }, null, 8, ["src"]), (0,
                                H.createElementVNode)("div", ek, (0,
                                H.toDisplayString)(d.name), 1), O.value === d.id ? ((0,
                                H.openBlock)(),
                                (0,
                                H.createElementBlock)("div", eI, [d.selected ? ((0,
                                H.openBlock)(),
                                (0,
                                H.createBlock)((0,
                                H.unref)(ed.Z), {
                                    key: 1,
                                    icon: (0,
                                    H.unref)(ep.WF_),
                                    color: "text-description",
                                    size: "large"
                                }, null, 8, ["icon"])) : ((0,
                                H.openBlock)(),
                                (0,
                                H.createBlock)((0,
                                H.unref)(ed.Z), {
                                    key: 0,
                                    icon: (0,
                                    H.unref)(ep.v37),
                                    color: "text-description",
                                    size: "large"
                                }, null, 8, ["icon"]))])) : d.selected ? ((0,
                                H.openBlock)(),
                                (0,
                                H.createBlock)((0,
                                H.unref)(ed.Z), {
                                    key: 1,
                                    icon: (0,
                                    H.unref)(ep.JrY),
                                    color: "blue" === n.color ? "primary" : "danger",
                                    class: "plus",
                                    size: "large"
                                }, null, 8, ["icon", "color"])) : (0,
                                H.createCommentVNode)("", !0)], 40, eN)
                            }), 128))], 34)) : (0,
                            H.createCommentVNode)("", !0)], 64))]), (0,
                            H.createElementVNode)("div", eC, [(0,
                            H.createElementVNode)("div", eb, "已选择 " + (0,
                            H.toDisplayString)(_.value.length) + "/" + (0,
                            H.toDisplayString)(200) + " 个用户", 1), (0,
                            H.createElementVNode)("div", {
                                class: "user-list selected",
                                ref_key: "selectedListRef",
                                ref: Q
                            }, [_.value.length ? ((0,
                            H.openBlock)(!0),
                            (0,
                            H.createElementBlock)(H.Fragment, {
                                key: 1
                            }, (0,
                            H.renderList)(_.value, function(n) {
                                return (0,
                                H.openBlock)(),
                                (0,
                                H.createElementBlock)("div", {
                                    key: n.id,
                                    class: "user-item",
                                    onMouseenter: function(d) {
                                        return handleMouseEnter(n.id, "unselect")
                                    },
                                    onMouseleave: handleMouseLeave,
                                    onClick: function(d) {
                                        return unSelectUser(n.id)
                                    }
                                }, [(0,
                                H.createVNode)((0,
                                H.unref)(em.Z), {
                                    src: n.avatar
                                }, null, 8, ["src"]), (0,
                                H.createElementVNode)("div", eA, (0,
                                H.toDisplayString)(n.name), 1), R.value === n.id ? ((0,
                                H.openBlock)(),
                                (0,
                                H.createBlock)((0,
                                H.unref)(ed.Z), {
                                    key: 0,
                                    icon: (0,
                                    H.unref)(ep.WF_),
                                    color: "text-description",
                                    size: "large",
                                    class: "plus"
                                }, null, 8, ["icon"])) : (0,
                                H.createCommentVNode)("", !0)], 40, eE)
                            }), 128)) : ((0,
                            H.openBlock)(),
                            (0,
                            H.createBlock)((0,
                            H.unref)(ev.Z), {
                                key: 0,
                                status: "resultless",
                                "sub-title": "点击左侧区域选择用户"
                            }))], 512), (0,
                            H.createElementVNode)("div", ew, [(0,
                            H.createElementVNode)("div", {
                                class: (0,
                                H.normalizeClass)(["confirm-btn", (0,
                                J._)({}, n.color, n.color)]),
                                onClick: handleConfirm
                            }, " 确认 ", 2)])])])), [[(0,
                            H.unref)(ef.Z), U.value]])]
                        }),
                        _: 1
                    }, 8, ["visible", "title"])
                }
            }
        })
          , eT = (0,
        W.default)(ex, [["__scopeId", "data-v-76b64068"]])
          , eM = v(60080)
          , eS = v(46490)
          , e_ = v(90251);
        v(9557);
        let eV = {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        };
        function templatevue_type_template_id_6c0472e7_render(n, d) {
            return (0,
            H.openBlock)(),
            (0,
            H.createElementBlock)("svg", eV, d[0] || (d[0] = [(0,
            H.createElementVNode)("path", {
                d: "M3.9 15.1C3.9 16.235 3.9007 17.032 3.95151 17.6539C4.00146 18.2653 4.09531 18.6276 4.23788 18.9074C4.53509 19.4907 5.00933 19.9649 5.59263 20.2621C5.87243 20.4047 6.23475 20.4985 6.8461 20.5485C7.46795 20.5993 8.26504 20.6 9.4 20.6H15.6C16.735 20.6 17.532 20.5993 18.1539 20.5485C18.7653 20.4985 19.1276 20.4047 19.4074 20.2621L19.816 21.064L19.4074 20.2621C19.9907 19.9649 20.4649 19.4907 20.7621 18.9074C20.9047 18.6276 20.9985 18.2653 21.0485 17.6539C21.0993 17.032 21.1 16.235 21.1 15.1V8.9C21.1 7.76504 21.0993 6.96795 21.0485 6.3461C20.9985 5.73475 20.9047 5.37243 20.7621 5.09263C20.4649 4.50933 19.9907 4.03509 19.4074 3.73788C19.1276 3.59531 18.7653 3.50146 18.1539 3.45151C17.532 3.4007 16.735 3.4 15.6 3.4H9.4C8.26504 3.4 7.46795 3.4007 6.8461 3.45151C6.23475 3.50146 5.87243 3.59531 5.59263 3.73788C5.00933 4.03509 4.53509 4.50933 4.23788 5.09263L3.43888 4.68552L4.23788 5.09263C4.09531 5.37243 4.00146 5.73475 3.95151 6.3461C3.9007 6.96795 3.9 7.76504 3.9 8.9V15.1Z",
                stroke: "currentColor",
                "stroke-width": "1.8"
            }, null, -1), (0,
            H.createElementVNode)("path", {
                d: "M8 16L16 16",
                stroke: "currentColor",
                "stroke-width": "1.8",
                "stroke-linecap": "round"
            }, null, -1)]))
        }
        let eD = (0,
        W.default)({}, [["render", templatevue_type_template_id_6c0472e7_render]])
          , eB = {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        };
        function stickervue_type_template_id_0a997115_render(n, d) {
            return (0,
            H.openBlock)(),
            (0,
            H.createElementBlock)("svg", eB, d[0] || (d[0] = [(0,
            H.createElementVNode)("path", {
                d: "M10.05 10.4C10.05 11.1732 9.4232 11.8 8.65 11.8C7.8768 11.8 7.25 11.1732 7.25 10.4C7.25 9.6268 7.8768 9 8.65 9C9.4232 9 10.05 9.6268 10.05 10.4Z",
                fill: "currentColor"
            }, null, -1), (0,
            H.createElementVNode)("path", {
                d: "M16.85 10.4C16.85 11.1732 16.2232 11.8 15.45 11.8C14.6768 11.8 14.05 11.1732 14.05 10.4C14.05 9.6268 14.6768 9 15.45 9C16.2232 9 16.85 9.6268 16.85 10.4Z",
                fill: "currentColor"
            }, null, -1), (0,
            H.createElementVNode)("path", {
                d: "M9.67651 14.4555C10.2945 15.1946 11.1097 15.5823 12.0573 15.5823C13.0084 15.5823 13.8212 15.1914 14.4273 14.4461C14.7362 14.0662 14.6787 13.5077 14.2987 13.1988C13.9188 12.8898 13.3603 12.9473 13.0514 13.3273C12.7804 13.6605 12.4719 13.8089 12.0573 13.8089C11.6394 13.8089 11.3208 13.6573 11.0369 13.3179C10.7228 12.9422 10.1636 12.8923 9.78791 13.2065C9.41224 13.5206 9.36236 14.0798 9.67651 14.4555Z",
                fill: "currentColor"
            }, null, -1), (0,
            H.createElementVNode)("path", {
                d: "M6.5 2.5C4.29086 2.5 2.5 4.29086 2.5 6.5V17.5C2.5 19.7091 4.29086 21.5 6.5 21.5H17.5C19.7091 21.5 21.5 19.7091 21.5 17.5V6.5C21.5 4.29086 19.7091 2.5 17.5 2.5H6.5ZM17.5 4.3C18.715 4.3 19.7 5.28497 19.7 6.5V16.1325C19.1282 16.3531 18.5057 16.4176 17.8972 16.3162L17.1309 16.1885C16.5389 16.0898 16 16.5463 16 17.1465V19.7H6.5C5.28497 19.7 4.3 18.715 4.3 17.5V6.5C4.3 5.28497 5.28497 4.3 6.5 4.3H17.5Z",
                fill: "currentColor"
            }, null, -1)]))
        }
        let eL = (0,
        W.default)({}, [["render", stickervue_type_template_id_0a997115_render]])
          , eP = {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        };
        function fontvue_type_template_id_146f043e_render(n, d) {
            return (0,
            H.openBlock)(),
            (0,
            H.createElementBlock)("svg", eP, d[0] || (d[0] = [(0,
            H.createElementVNode)("path", {
                d: "M5 4H19",
                stroke: "currentColor",
                "stroke-opacity": "0.85",
                "stroke-width": "1.8",
                "stroke-linecap": "round"
            }, null, -1), (0,
            H.createElementVNode)("path", {
                d: "M12 4L12 20",
                stroke: "currentColor",
                "stroke-opacity": "0.85",
                "stroke-width": "1.8",
                "stroke-linecap": "round"
            }, null, -1)]))
        }
        let eO = (0,
        W.default)({}, [["render", fontvue_type_template_id_146f043e_render]])
          , eR = {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        };
        function filtervue_type_template_id_3b1599f2_render(n, d) {
            return (0,
            H.openBlock)(),
            (0,
            H.createElementBlock)("svg", eR, d[0] || (d[0] = [(0,
            H.createElementVNode)("path", {
                d: "M17.7 7.675C17.7 8.96156 17.2719 10.1481 16.5503 11.1C19.5601 11.1002 22 13.5402 22 16.55C22 19.56 19.56 22 16.55 22C14.6489 22 12.9752 21.0266 12 19.5511C11.0248 21.0266 9.35107 22 7.45 22C4.44005 22 2 19.56 2 16.55C2 13.54 4.44005 11.1 7.45 11.1L7.49985 11.1002C6.77819 10.1483 6.35 8.96166 6.35 7.675C6.35 4.54078 8.89078 2 12.025 2C15.1592 2 17.7 4.54078 17.7 7.675ZM7.45 12.9C5.43416 12.9 3.8 14.5342 3.8 16.55C3.8 18.5658 5.43416 20.2 7.45 20.2C9.46584 20.2 11.1 18.5658 11.1 16.55C11.1 14.5342 9.46584 12.9 7.45 12.9ZM12.025 11.55C14.1651 11.55 15.9 9.8151 15.9 7.675C15.9 5.5349 14.1651 3.8 12.025 3.8C9.8849 3.8 8.15 5.5349 8.15 7.675C8.15 9.8151 9.8849 11.55 12.025 11.55ZM12.9 16.55C12.9 18.5658 14.5342 20.2 16.55 20.2C18.5658 20.2 20.2 18.5658 20.2 16.55C20.2 14.5342 18.5658 12.9 16.55 12.9C14.5342 12.9 12.9 14.5342 12.9 16.55Z",
                fill: "currentColor",
                "fill-opacity": "0.85"
            }, null, -1)]))
        }
        let eU = (0,
        W.default)({}, [["render", filtervue_type_template_id_3b1599f2_render]]);
        var ej = ((m = {})[m.Template = 20] = "Template",
        m[m.Text = 5] = "Text",
        m[m.Sticker = 3] = "Sticker",
        m[m.Filter = 1] = "Filter",
        m);
        var eF = ((h = {})[h.Frame = 0] = "Frame",
        h[h.Upload = 1] = "Upload",
        h[h.Recommend = 2] = "Recommend",
        h);
        var ez = ((y = {})[y.FourToThree = 0] = "FourToThree",
        y[y.ThreeToFour = 1] = "ThreeToFour",
        y[y.OneToOne = 2] = "OneToOne",
        y);
        var eZ = ((N = {})[N.Delete = 0] = "Delete",
        N[N.Rotate = 1] = "Rotate",
        N[N.Copy = 2] = "Copy",
        N[N.Plus = 3] = "Plus",
        N[N.OBB = 4] = "OBB",
        N);
        var eQ = ((k = {})[k.ImageTranslate = 0] = "ImageTranslate",
        k[k.Rotate = 1] = "Rotate",
        k[k.Plus = 2] = "Plus",
        k[k.Translate = 3] = "Translate",
        k);
        var eJ = ((I = {}).Left = "0",
        I.Middle = "1",
        I.Right = "2",
        I);
        var eH = ((C = {}).Default = "default",
        C.Pointer = "pointer",
        C.Resize = "resize",
        C.Rotate = "rotate",
        C.Grabbing = "grabbing",
        C.Grab = "grab",
        C.Move = "move",
        C);
        var eG = ((x = {})[x.ugc = 1] = "ugc",
        x[x.ark = 2] = "ark",
        x[x.creator = 3] = "creator",
        x);
        var eY = ((M = {}).Title = "title",
        M.Head = "head",
        M.Label = "label",
        M.Font = "font",
        M);
        var eW = ((S = {})[S.Success = 0] = "Success",
        S[S.WebP = 1] = "WebP",
        S[S.NotJPGAndPng = 2] = "NotJPGAndPng",
        S)
          , eq = new (function() {
            function Graph() {
                (0,
                eS._)(this, Graph),
                (0,
                J._)(this, "nx", void 0),
                this.nx = 3
            }
            return (0,
            e_._)(Graph, [{
                key: "setNx",
                value: function setNx(n) {
                    this.nx = n
                }
            }]),
            Graph
        }())
          , eX = 477 * eq.nx
          , eK = 337 * eq.nx
          , e$ = 4 / 3 * 337
          , e0 = 3 / 4 * 337
          , e1 = e$ * eq.nx
          , e2 = e0 * eq.nx
          , e4 = 337 * eq.nx
          , e3 = e1 / eX
          , e5 = e2 / eX
          , e8 = e4 / eX
          , e6 = (477 - e$) / 2
          , e9 = e6 / 477
          , e7 = 1 - e9
          , te = Number((e6 / 477 + .5).toFixed(6))
          , tt = Number((.5 - e6 / 477).toFixed(6))
          , tn = (477 - e0) / 2
          , ta = (477 - e0) / 2 / 477
          , to = 1 - ta
          , tr = Number((tn / 477 + .5).toFixed(6))
          , ti = Number((.5 - tn / 477).toFixed(6))
          , tl = 70
          , tc = .14675052410901468
          , tu = .8532494758909853
          , ts = Number("0.646751")
          , td = Number((.5 - tl / 477).toFixed(6))
          , tv = 24 * eq.nx
          , tm = {
            iconUrl: "https://zeuseditor-static.xhscdn.com/EFFECT_ICON/9baca395732ff4d73de270029cc64902.svg ",
            name: "默认字体",
            md5: "366439e1f5bb4e9160d64f0575a9fc6c",
            status: 1,
            business: !0,
            id: "234",
            url: "https://fe-video-qc.xhscdn.com/athena-legacy/02026o0o0291ld7d867l181114458d4814140tn5rk07qs4az.ttf",
            updateTime: 1656049803e3,
            createTime: 1649828095e3
        }
          , tf = [{
            name: "思源黑体-Medium",
            prefabId: "1488",
            id: "480",
            type: 6,
            md5: tm.md5,
            url: tm.url
        }]
          , tp = "isUserActive"
          , tg = "textType"
          , th = "category"
          , ty = "1488"
          , tN = [{
            id: ej.Template,
            icon: eD,
            name: "模版"
        }, {
            id: ej.Sticker,
            icon: eL,
            name: "贴纸"
        }, {
            id: ej.Text,
            icon: eO,
            name: "文字"
        }, {
            id: ej.Filter,
            icon: eU,
            name: "滤镜"
        }]
          , tk = {
            class: "items"
        }
          , tI = ["onClick"]
          , tC = (0,
        H.defineComponent)({
            __name: "Category",
            props: {
                currentTab: {},
                hideTemplate: {
                    type: Boolean
                }
            },
            emits: ["set-current-tab"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                H.computed)(function() {
                    return n.hideTemplate ? tN.slice(1) : tN
                })
                  , handleCatoryClick = function(n) {
                    v("set-current-tab", n)
                };
                return function(d, v) {
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", tk, [((0,
                    H.openBlock)(!0),
                    (0,
                    H.createElementBlock)(H.Fragment, null, (0,
                    H.renderList)(m.value, function(d) {
                        return (0,
                        H.openBlock)(),
                        (0,
                        H.createElementBlock)("div", {
                            key: d.id,
                            class: (0,
                            H.normalizeClass)(["item", {
                                active: d.id === n.currentTab
                            }]),
                            onClick: function(n) {
                                return handleCatoryClick(d)
                            }
                        }, [((0,
                        H.openBlock)(),
                        (0,
                        H.createBlock)((0,
                        H.resolveDynamicComponent)(d.icon), {
                            class: (0,
                            H.normalizeClass)({
                                icon: !0,
                                active: d.id === n.currentTab
                            })
                        }, null, 8, ["class"])), ((0,
                        H.openBlock)(),
                        (0,
                        H.createElementBlock)("span", {
                            key: d.name,
                            class: (0,
                            H.normalizeClass)(["name", {
                                active: d.id === n.currentTab
                            }])
                        }, (0,
                        H.toDisplayString)(d.name), 3))], 10, tI)
                    }), 128))])
                }
            }
        });
        let tb = (0,
        W.default)(tC, [["__scopeId", "data-v-09be0523"]]);
        v(42876),
        v(33933);
        var tE = v(14300)
          , tA = v(53946)
          , tw = v(23744)
          , tx = v(39248);
        v(80181);
        var tT = {
            class: "container"
        }
          , tM = {
            key: 0,
            style: {
                position: "absolute"
            }
        }
          , tS = (0,
        H.defineComponent)({
            __name: "ColorPicker",
            emits: ["change"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                H.ref)(!1)
                  , onColorChange = function(n) {
                    v("change", n)
                }
                  , switchPanelOpen = function() {
                    console.log("============>switchPanelOpen"),
                    m.value = !m.value
                }
                  , switchPanelClose = function(n) {
                    var d = document.getElementById("color-btn")
                      , v = document.querySelector(".vc-colorpicker--container");
                    d && d.contains(n.target) && switchPanelOpen(),
                    v && !v.contains(n.target) && (m.value = !1)
                };
                return (0,
                H.onMounted)(function() {
                    document.addEventListener("click", switchPanelClose)
                }),
                (0,
                H.onBeforeUnmount)(function() {
                    document.removeEventListener("click", switchPanelClose)
                }),
                function(n, d) {
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", tT, [d[0] || (d[0] = (0,
                    H.createElementVNode)("div", {
                        id: "color-btn",
                        class: "color-btn",
                        style: {
                            backgroundImage: "url(https://picasso-static.xiaohongshu.com/fe-platform/4fb8beaf7779206821ad545d5309d287714ba406.png)",
                            backgroundSize: "cover"
                        }
                    }, null, -1)), m.value ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", tM, [(0,
                    H.createVNode)((0,
                    H.unref)(tx.z), {
                        pickerType: "chrome",
                        "is-widget": "",
                        useType: "pure",
                        format: "hex8",
                        onPureColorChange: onColorChange
                    })])) : (0,
                    H.createCommentVNode)("", !0)])
                }
            }
        });
        let t_ = (0,
        W.default)(tS, [["__scopeId", "data-v-32b1ea95"]]);
        var tV = v(98391)
          , tD = new (function() {
            function MojitoEvent() {
                (0,
                eS._)(this, MojitoEvent),
                (0,
                J._)(this, "bus", void 0),
                this.bus = (0,
                tV.Z)()
            }
            return (0,
            e_._)(MojitoEvent, [{
                key: "on",
                value: function on(n, d) {
                    this.bus.on(n, function(n) {
                        d(n)
                    })
                }
            }, {
                key: "emit",
                value: function emit(n, d) {
                    this.bus.emit(n, d)
                }
            }, {
                key: "off",
                value: function off(n) {
                    this.bus.off(n)
                }
            }]),
            MojitoEvent
        }())
          , tB = v(55210)
          , tL = v(65460);
        v(41593),
        v(18638),
        v(96336),
        v(87168),
        v(14190),
        v(4137),
        v(70805),
        v(5317),
        v(81167),
        v(22583),
        v(89655),
        v(88598),
        v(11530),
        v(16765),
        v(3398),
        v(90621),
        v(35904),
        v(73982),
        v(87683),
        v(59735),
        v(69167),
        v(27151),
        v(95341),
        v(53395),
        v(10074),
        v(31899),
        v(98398),
        v(94837),
        v(53077),
        v(14340),
        v(31578),
        v(46521),
        v(49932),
        v(78246),
        v(62444),
        v(34076),
        v(12334),
        v(68802),
        v(76267),
        v(83257),
        v(90834),
        v(907),
        v(18552),
        v(34885),
        v(74719),
        v(13396),
        v(91313),
        v(72169),
        v(25069),
        v(99808),
        v(57015),
        v(95477),
        v(13768),
        v(45697),
        v(91004);
        var tP = v.p + "resource/image/delete.1d1c19d7.png"
          , tO = v.p + "resource/image/rotate.b15866a9.png"
          , tR = v.p + "resource/image/copy.8d6a3751.png"
          , tU = v.p + "resource/image/plus.d6c322bd.png";
        var tj = (_ = (0,
        eo._)(function(n) {
            var d, v, m, h, y, N, k;
            return (0,
            ei.Jh)(this, function(I) {
                switch (I.label) {
                case 0:
                    return I.trys.push([0, 3, , 4]),
                    [4, fetch(n)];
                case 1:
                    if (d = I.sent(),
                    v = "image" + Date.now(),
                    !d.ok)
                        throw Error("HTTP error! status: ".concat(d.status));
                    return [4, d.arrayBuffer()];
                case 2:
                    return h = new Uint8Array(m = I.sent()),
                    y = v + ".jpeg",
                    N = "image/jpeg",
                    255 === h[0] && 216 === h[1] && (y = v + ".jpeg",
                    N = "image/jpeg"),
                    137 === h[0] && 80 === h[1] && 78 === h[2] && 71 === h[3] && (y = v + ".png",
                    N = "image/png"),
                    [2, new File([new Blob([m],{
                        type: N
                    })],y,{
                        type: N
                    })];
                case 3:
                    throw console.error("下载图片失败:", k = I.sent()),
                    k;
                case 4:
                    return [2]
                }
            })
        }),
        function downloadImageAsFile(n) {
            return _.apply(this, arguments)
        }
        )
          , util_render = function(n) {
            var d = n.getCanvas();
            d && (d.renderOneFrame(0),
            tD.emit("Render", void 0))
        }
          , getImageLayer = function(n) {
            var d = n.getCanvas();
            if (void 0 != d) {
                for (var v = d.getLayerCount(), m = void 0, h = 0; h < v; h++) {
                    var y = d.getLayer(h);
                    y.getType().value === eM.w$.Image && (m = y)
                }
                return m
            }
        }
          , resizeTemplate = function(n, d) {
            for (var v = 3; v <= 10; v++) {
                var m = 477 * v
                  , h = 337 * v;
                if (m >= d.x && h >= d.y) {
                    n.changeCanvasSize(m, h),
                    eq.nx = v;
                    return
                }
            }
            eq.nx = 10,
            n.changeCanvasSize(4770, 3370)
        }
          , getImageLayerOriginScale = function(n, d) {
            var v = d === ez.FourToThree ? e3 : d === ez.ThreeToFour ? e5 : e8
              , m = getImageLayer(n);
            if (!m)
                return 0;
            util_render(n);
            var h = m.getSize()
              , y = m.getAABB(0)
              , N = m.getScale().x
              , k = y.size.x / N
              , I = y.size.y / N;
            return h.x < h.y ? 1 / k * v : Math.max(1 / I, 1 / k * v)
        }
          , scaleImageAutoResize = function(n, d) {
            var v = getImageLayerOriginScale(d, n);
            setImageLayerScale(d, v, !1),
            util_render(d)
        }
          , recommendCutBox = function(n) {
            n.x > n.y ? tD.emit("SelectedCutBoxRate", {
                rate: ez.FourToThree
            }) : n.x === n.y ? tD.emit("SelectedCutBoxRate", {
                rate: ez.OneToOne
            }) : tD.emit("SelectedCutBoxRate", {
                rate: ez.ThreeToFour
            })
        };
        var tF = (V = (0,
        eo._)(function(n, d, v) {
            var m, h, y, N;
            return (0,
            ei.Jh)(this, function(k) {
                switch (k.label) {
                case 0:
                    if (!(m = getImageLayer(n)))
                        return [3, 3];
                    return [4, n.changeImageLayer(m, d, eM.B.AspectFit)];
                case 1:
                    return k.sent(),
                    resizeTemplate(n, m.getSize()),
                    [4, n.changeImageLayer(m, d, eM.B.AspectFit)];
                case 2:
                    return h = k.sent(),
                    scaleImageAutoResize(v.value, n),
                    util_render(n),
                    tD.emit("Edit", void 0),
                    [2, h];
                case 3:
                    return [4, n.addImageLayer(d)];
                case 4:
                    if (!(y = k.sent()).success)
                        return [3, 6];
                    return resizeTemplate(n, N = y.layer.getSize()),
                    util_render(n),
                    recommendCutBox(N),
                    [4, n.changeImageLayer(y.layer, d, eM.B.AspectFit)];
                case 5:
                    k.sent(),
                    scaleImageAutoResize(v.value, n),
                    util_render(n),
                    k.label = 6;
                case 6:
                    return [2, y];
                case 7:
                    return [2]
                }
            })
        }),
        function addOrReplaceImageLayer(n, d, v) {
            return V.apply(this, arguments)
        }
        )
          , setImageLayerScale = function(n, d) {
            var v = !(arguments.length > 2) || void 0 === arguments[2] || arguments[2]
              , m = getImageLayer(n);
            if (m) {
                var h = n.createNewVector2(d, d);
                m.setScale(h),
                console.warn("【seven log】scale", d),
                tD.emit("ChangeScale", {
                    scale: d
                }),
                v && tD.emit("Edit", void 0)
            }
        }
          , getImageLayerScale = function(n) {
            var d = getImageLayer(n);
            return d ? d.getScale() : {
                x: 1,
                y: 1
            }
        };
        var tz = (B = (0,
        eo._)(function(n, d) {
            var v;
            return (0,
            ei.Jh)(this, function(m) {
                switch (m.label) {
                case 0:
                    if (n.getCanvas())
                        return [3, 2];
                    return [4, n.createEmptyTemplate(d.width, d.height)];
                case 1:
                    if (!(v = m.sent()).success) {
                        if (!v.isGLContextValid)
                            return [2, {
                                success: !1,
                                msg: "glContextFailed"
                            }];
                        return [2, {
                            success: !1,
                            msg: "创建模版失败"
                        }]
                    }
                    n.autoResize(),
                    m.label = 2;
                case 2:
                    return [2, Promise.resolve({
                        success: !0,
                        msg: ""
                    })]
                }
            })
        }),
        function createEmptyTemplateIfNone(n, d) {
            return B.apply(this, arguments)
        }
        );
        function checkImageUpload(n) {
            var d = n.type;
            return "image/webp" === d ? {
                code: eW.WebP,
                type: d,
                msg: "上传失败，暂不支持webp格式的图片"
            } : -1 === d.indexOf("image/") ? {
                code: eW.NotJPGAndPng,
                msg: "上传失败，支持jpg、png等常见图片格式",
                type: d
            } : {
                code: eW.Success,
                msg: "",
                type: d
            }
        }
        var tryImageLayerTranslateX = function(n, d, v, m) {
            var h = (d || {}).x
              , y = n.getPosition().y
              , N = (1 - n.getAABB(0).size.x) / 2
              , k = m === ez.FourToThree ? tt : m === ez.ThreeToFour ? ti : td;
            if (h > (m === ez.FourToThree ? te : m === ez.ThreeToFour ? tr : ts) - N || h < k + N)
                return !1;
            var I = v.createNewVector2(h, y);
            return n.setPosition(I),
            I.delete(),
            tD.emit("Edit", void 0),
            !0
        }
          , tryImageLayerTranslateY = function(n, d, v) {
            var m = (d || {}).y
              , h = n.getPosition().x
              , y = n.getAABB(0).size.y / 2;
            if (m - y >= 0 || m + y <= 1)
                return !1;
            var N = v.createNewVector2(h, m);
            return n.setPosition(N),
            N.delete(),
            tD.emit("Edit", void 0),
            !0
        }
          , drawFourToThreeBox = function(n) {
            var d = n.getContext("2d");
            if (d) {
                d.clearRect(0, 0, n.width, n.height),
                d.setLineDash([5, 0]),
                d.strokeStyle = "rgba(255, 36, 66, 1)",
                d.lineWidth = 6;
                var v = (eX - e1) / 2;
                d.strokeRect(v + 3, 3.5, e1 - 6, eK - 6),
                d.fillStyle = "rgba(233,233,233,.7)",
                d.fillRect(0, 0, v, eK),
                d.fillRect(v + e1, 0, v, eK)
            }
        }
          , drawThreeToFourBox = function(n) {
            var d = n.getContext("2d");
            if (d) {
                d.clearRect(0, 0, n.width, n.height),
                d.setLineDash([5, 0]),
                d.strokeStyle = "rgba(255, 36, 66, 1)",
                d.lineWidth = 6;
                var v = (eX - e2) / 2;
                d.strokeRect(v + 3, 3.5, e2 - 6, eK - 6),
                d.fillStyle = "rgba(233,233,233,.7)",
                d.fillRect(0, 0, v, eK),
                d.fillRect(v + e2, 0, v, eK)
            }
        }
          , drawOneToOneBox = function(n) {
            var d = n.getContext("2d");
            if (d) {
                d.clearRect(0, 0, n.width, n.height),
                d.setLineDash([5, 0]),
                d.strokeStyle = "rgba(255, 36, 66, 1)",
                d.lineWidth = 6;
                var v = (eX - e4) / 2;
                d.strokeRect(v + 3, 3.5, e4 - 6, eK - 6),
                d.fillStyle = "rgba(233,233,233,.7)",
                d.fillRect(0, 0, v, eK),
                d.fillRect(v + e4, 0, v, eK)
            }
        }
          , drawCutBox = function(n, d) {
            n === ez.FourToThree ? drawFourToThreeBox(d) : n === ez.ThreeToFour ? drawThreeToFourBox(d) : n === ez.OneToOne && drawOneToOneBox(d)
        }
          , tZ = new Image;
        tZ.src = tP;
        var tQ = new Image;
        tQ.src = tO;
        var tJ = new Image;
        tJ.src = tR;
        var tH = new Image;
        tH.src = tU;
        var drawObb = function(n, d, v, m) {
            var h = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0
              , y = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 1
              , N = n.getContext("2d");
            if (N && d) {
                var k = d.getOBB(0);
                m.value = [],
                drawCutBox(v, n);
                var I = n.width
                  , C = n.height
                  , x = tv / 2
                  , M = x / I
                  , S = x / C;
                if (N.globalAlpha = y,
                N.setLineDash([1, 0]),
                N.strokeStyle = "rgba(255,255,255,.8)",
                N.lineWidth = 6,
                N.beginPath(),
                N.moveTo(k.leftD.x * I, k.leftD.y * C),
                N.lineTo(k.leftT.x * I, k.leftT.y * C),
                N.lineTo(k.rightT.x * I, k.rightT.y * C),
                N.lineTo(k.rightD.x * I, k.rightD.y * C),
                N.closePath(),
                N.stroke(),
                N.imageSmoothingEnabled = !0,
                N.imageSmoothingQuality = "high",
                N.drawImage(tZ, k.leftT.x * I - x, k.leftT.y * C - x, tv, tv),
                N.drawImage(tQ, k.rightT.x * I - x, k.rightT.y * C - x, tv, tv),
                N.drawImage(tJ, k.leftD.x * I - x, k.leftD.y * C - x, tv, tv),
                N.drawImage(tH, k.rightD.x * I - x, k.rightD.y * C - x, tv, tv),
                isText(d.getType().value)) {
                    var _ = d.toTextLayer().getEditableTextNumber();
                    if (_ > 0)
                        for (var V = 1; V <= _; V++) {
                            var B = d.getOBB(V)
                              , O = [{
                                x: B.leftD.x * I,
                                y: B.leftD.y * C
                            }, {
                                x: B.leftT.x * I,
                                y: B.leftT.y * C
                            }, {
                                x: B.rightT.x * I,
                                y: B.rightT.y * C
                            }, {
                                x: B.rightD.x * I,
                                y: B.rightD.y * C
                            }];
                            N.setLineDash([15, 12]),
                            N.lineDashOffset = 0,
                            V === h ? N.strokeStyle = "rgba(255, 36, 66, 0.80)" : N.strokeStyle = "rgba(255,255,255,.8)",
                            N.beginPath(),
                            N.moveTo(O[0].x, O[0].y);
                            for (var R = 1; R < O.length; R++)
                                N.lineTo(O[R].x, O[R].y);
                            N.closePath(),
                            N.stroke()
                        }
                }
                N.globalAlpha = 1;
                var U = {
                    leftT: {
                        x: k.leftT.x - M,
                        y: k.leftT.y - S
                    },
                    leftD: {
                        x: k.leftT.x - M,
                        y: k.leftT.y + S
                    },
                    rightT: {
                        x: k.leftT.x + M,
                        y: k.leftT.y - S
                    },
                    rightD: {
                        x: k.leftT.x + M,
                        y: k.leftT.y + S
                    },
                    type: eZ.Delete
                };
                m.value.push(U);
                var z = {
                    leftT: {
                        x: k.rightT.x - M,
                        y: k.rightT.y - S
                    },
                    leftD: {
                        x: k.rightT.x - M,
                        y: k.rightT.y + S
                    },
                    rightT: {
                        x: k.rightT.x + M,
                        y: k.rightT.y - S
                    },
                    rightD: {
                        x: k.rightT.x + M,
                        y: k.rightT.y + S
                    },
                    type: eZ.Rotate
                };
                m.value.push(z);
                var Z = {
                    leftT: {
                        x: k.leftD.x - M,
                        y: k.leftD.y - S
                    },
                    leftD: {
                        x: k.leftD.x - M,
                        y: k.leftD.y + S
                    },
                    rightT: {
                        x: k.leftD.x + M,
                        y: k.leftD.y - S
                    },
                    rightD: {
                        x: k.leftD.x + M,
                        y: k.leftD.y + S
                    },
                    type: eZ.Copy
                };
                m.value.push(Z);
                var Q = {
                    leftT: {
                        x: k.rightD.x - M,
                        y: k.rightD.y - S
                    },
                    leftD: {
                        x: k.rightD.x - M,
                        y: k.rightD.y + S
                    },
                    rightT: {
                        x: k.rightD.x + M,
                        y: k.rightD.y - S
                    },
                    rightD: {
                        x: k.rightD.x + M,
                        y: k.rightD.y + S
                    },
                    type: eZ.Plus
                };
                m.value.push(Q);
                var J = {
                    leftT: {
                        x: k.leftT.x,
                        y: k.leftT.y
                    },
                    leftD: {
                        x: k.leftD.x,
                        y: k.leftD.y
                    },
                    rightT: {
                        x: k.rightT.x,
                        y: k.rightT.y
                    },
                    rightD: {
                        x: k.rightD.x,
                        y: k.rightD.y
                    },
                    type: eZ.OBB
                };
                m.value.push(J)
            }
        }
          , clearObb = function(n, d, v) {
            n.getContext("2d") && (v.value = [],
            drawCutBox(d, n))
        }
          , findControl = function(n, d) {
            var v = !0
              , m = !1
              , h = void 0;
            try {
                for (var y, N = n[Symbol.iterator](); !(v = (y = N.next()).done); v = !0) {
                    var k = y.value;
                    if (d.x >= k.leftT.x && d.x <= k.rightT.x && d.y >= k.leftT.y && d.y <= k.rightD.y)
                        return k
                }
            } catch (n) {
                m = !0,
                h = n
            } finally {
                try {
                    !v && null != N.return && N.return()
                } finally {
                    if (m)
                        throw h
                }
            }
            return null
        }
          , isMaterial = function(n) {
            return 2 === n || 3 === n
        }
          , isImage = function(n) {
            return n === eM.w$.Image
        }
          , isStick = function(n) {
            return n === eM.w$.Sticker
        }
          , isText = function(n) {
            return n === eM.w$.Text
        }
          , deleteLayer = function(n, d, v, m, h) {
            v.getCanvas().deleteLayer(v),
            clearObb(n, d.value, m),
            util_render(h),
            tD.emit("Edit", void 0)
        }
          , rotateLayer = function(n, d, v) {
            var m = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
            d.setRotation(n),
            util_render(v),
            tD.emit("Edit", void 0),
            tD.emit("DrawObb", {
                layer: d,
                index: m,
                opacity: .4
            })
        }
          , scaleLayer = function(n, d, v) {
            var m = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0
              , h = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 3;
            util_render(v);
            var y = d.getAABB(0)
              , N = d.getScale().x
              , k = 477 * y.size.x
              , I = 337 * y.size.y
              , C = Math.max(24 * N / k, 24 * N / I)
              , x = Math.max(Math.min(n, h), C)
              , M = Math.max(Math.min(n, h), C)
              , S = v.createNewVector2(x, M);
            d.setScale(S),
            S.delete(),
            util_render(v),
            tD.emit("Edit", void 0),
            tD.emit("DrawObb", {
                layer: d,
                index: m,
                opacity: .4
            })
        }
          , tryMaterialTranslate = function(n, d, v) {
            var m = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0
              , h = d || {}
              , y = h.x
              , N = h.y
              , k = v.createNewVector2(y, N);
            n.setPosition(k),
            k.delete(),
            util_render(v),
            tD.emit("Edit", void 0),
            tD.emit("DrawObb", {
                layer: n,
                index: m,
                opacity: .4
            })
        }
          , setLayer2Bottom = function(n, d) {
            var v = d.getCanvas();
            if (!!v) {
                var m = getImageLayer(d);
                if (m) {
                    var h = v.getLayerIndex(n)
                      , y = v.getLayerIndex(m);
                    v.setLayerIndex(h, y + 1),
                    util_render(d),
                    tD.emit("Edit", void 0)
                }
            }
        }
          , setLayer2Top = function(n, d) {
            var v = d.getCanvas();
            if (void 0 != v) {
                var m = v.getLayerIndex(n)
                  , h = v.getLayerCount();
                v.setLayerIndex(m, h - 1),
                util_render(d),
                tD.emit("Edit", void 0)
            }
        };
        var tG = (O = (0,
        eo._)(function(n, d) {
            var v, m, h = arguments;
            return (0,
            ei.Jh)(this, function(y) {
                switch (y.label) {
                case 0:
                    return v = h.length > 2 && void 0 !== h[2] ? h[2] : "",
                    [4, n.addStickLayer(d)];
                case 1:
                    return (m = y.sent()).success && (tD.emit("Edit", void 0),
                    m.layer.setCustomTag(tp, "true"),
                    m.layer.setCustomTag(th, v)),
                    [2, m]
                }
            })
        }),
        function addStick(n, d) {
            return O.apply(this, arguments)
        }
        )
          , getTextType = function(n) {
            var d = eY.Title;
            return "4" === n ? d = eY.Head : "5" === n ? d = eY.Label : "6" === n && (d = eY.Font),
            d
        };
        var tY = (R = (0,
        eo._)(function(n, d, v) {
            var m;
            return (0,
            ei.Jh)(this, function(h) {
                switch (h.label) {
                case 0:
                    return [4, n.addTextLayer(d)];
                case 1:
                    return (m = h.sent()).success && (tD.emit("Edit", void 0),
                    m.layer.setCustomTag(tp, "true"),
                    m.layer.setCustomTag(tg, v)),
                    [2, m]
                }
            })
        }),
        function addTextLayer(n, d, v) {
            return R.apply(this, arguments)
        }
        )
          , areVectorsSameDirection = function(n, d) {
            var v = (0,
            tL._)(n, 2)
              , m = v[0]
              , h = v[1]
              , y = (0,
            tL._)(d, 2)
              , N = y[0]
              , k = y[1];
            return (0 !== m || 0 !== h) && (0 !== N || 0 !== k) && m * N + h * k > 0
        };
        var tW = (U = (0,
        eo._)(function(n, d) {
            var v, m, h;
            return (0,
            ei.Jh)(this, function(y) {
                switch (y.label) {
                case 0:
                    if (!(v = getImageLayer(n)))
                        return [2, {
                            success: !1
                        }];
                    return m = v.toImageLayer(),
                    [4, n.addFilterToLayer(d.id, d.url, d.iconUrl, d.name, m)];
                case 1:
                    return (h = y.sent()).success && (tD.emit("Edit", void 0),
                    h.layer.setCustomTag(tp, "true")),
                    [2, h]
                }
            })
        }),
        function addFilterToImageLayer(n, d) {
            return U.apply(this, arguments)
        }
        )
          , removeFilterFromImageLayer = function(n) {
            var d = getImageLayer(n);
            d && d.toImageLayer().removeFilterLayer()
        }
          , getImageLayerFilter = function(n) {
            var d = getImageLayer(n);
            if (d)
                return d.toImageLayer().getFilterLayer()
        }
          , setImageLayerFilterStrength = function(n, d) {
            var v = getImageLayer(n);
            if (!!v) {
                var m = v.toImageLayer().getFilterLayer();
                if (m)
                    return tD.emit("Edit", void 0),
                    m.setStrength(d)
            }
        }
          , getImageLayerFilterStrength = function(n) {
            var d = getImageLayer(n);
            if (!d)
                return 0;
            var v = d.toImageLayer().getFilterLayer();
            return v ? v.getStrength() : 0
        }
          , isGreaterThanValues = function(n, d) {
            return n >= d - .001
        }
          , isLessThanValues = function(n, d) {
            return n <= d - .001
        }
          , removeAllLayer = function(n) {
            var d = n.getCanvas();
            if (d) {
                for (var v = d.getLayerCount(), m = [], h = 0; h < v; h++) {
                    var y = d.getLayer(h);
                    m.push(y)
                }
                m.forEach(function(n) {
                    n.getCanvas().deleteLayer(n)
                })
            }
        }
          , setTextContent = function(n, d, v) {
            var m = n.toTextLayer();
            return tD.emit("Edit", void 0),
            m.setTextProperty(eM.Kg.TextPropertyText, v, d)
        }
          , getTextContent = function(n, d) {
            var v = n.toTextLayer();
            return tD.emit("Edit", void 0),
            v.getTextProperty(eM.Kg.TextPropertyText, d)
        }
          , setTextLineSpace = function(n, d, v) {
            var m = n.toTextLayer();
            return tD.emit("Edit", void 0),
            m.setTextProperty(eM.Kg.TextPropertyLineSpace, v.toString(), d)
        }
          , getTextLineSpace = function(n, d) {
            var v = n.toTextLayer();
            return tD.emit("Edit", void 0),
            v.getTextProperty(eM.Kg.TextPropertyLineSpace, d)
        }
          , getFontSize = function(n, d) {
            return n.toTextLayer().getTextProperty("fontSize", d)
        }
          , setTextWordSpace = function(n, d, v) {
            var m = n.toTextLayer()
              , h = +m.getTextProperty(eM.Kg.TextPropertyFontSize, d);
            return tD.emit("Edit", void 0),
            m.setTextProperty(eM.Kg.TextProertyWordSpace, (h * v).toString(), d)
        }
          , getTextWordSpace = function(n, d) {
            var v = n.toTextLayer()
              , m = +v.getTextProperty(eM.Kg.TextPropertyFontSize, d);
            return +v.getTextProperty(eM.Kg.TextProertyWordSpace, d) / m
        }
          , setTextFontColor = function(n, d, v) {
            var m = n.toTextLayer();
            return tD.emit("Edit", void 0),
            m.setTextProperty(eM.Kg.TextPropertyTextColor, v, d)
        }
          , util_setTextOutlineColor = function(n, d, v) {
            var m = n.toTextLayer();
            return tD.emit("Edit", void 0),
            m.setTextProperty(eM.Kg.TextPropertyOutlineColor, v, d)
        }
          , util_setTextShadowColor = function(n, d, v) {
            var m = n.toTextLayer();
            return tD.emit("Edit", void 0),
            m.setTextProperty(eM.Kg.TextPropertyShadowColor, v, d)
        };
        var tq = (z = (0,
        eo._)(function(n, d, v, m, h, y) {
            var N, k, I;
            return (0,
            ei.Jh)(this, function(C) {
                switch (C.label) {
                case 0:
                    return N = d.toTextLayer(),
                    [4, n.loadWebFont(h, y)];
                case 1:
                    return (k = C.sent()).success && (I = n.createFontIDResource(h, k.path, m, v),
                    N.applyResourceLocalMapping(I),
                    I.delete(),
                    tD.emit("Edit", void 0)),
                    [2]
                }
            })
        }),
        function setFont(n, d, v, m, h, y) {
            return z.apply(this, arguments)
        }
        )
          , setTextLeftAlignment = function(n, d) {
            var v = n.toTextLayer();
            return tD.emit("Edit", void 0),
            v.setTextProperty(eM.Kg.TextPropertyAlignment, eJ.Left, d)
        }
          , setTextMiddleAlignment = function(n, d) {
            var v = n.toTextLayer();
            return tD.emit("Edit", void 0),
            v.setTextProperty(eM.Kg.TextPropertyAlignment, eJ.Middle, d)
        }
          , setTextRightAlignment = function(n, d) {
            var v = n.toTextLayer();
            return tD.emit("Edit", void 0),
            v.setTextProperty(eM.Kg.TextPropertyAlignment, eJ.Right, d)
        }
          , convertHexWithAlpha = function(n, d) {
            d > 1 && (d /= 100);
            var v = n.replace(/^#/, "");
            if (!/^([A-Fa-f0-9]{3}){1,2}$/.test(v))
                throw Error("Invalid hex color string");
            3 === v.length && (v = v.split("").map(function(n) {
                return n + n
            }).join(""));
            var m = Math.round(255 * Math.min(1, Math.max(0, d))).toString(16).padStart(2, "0").slice(0, 2).toLowerCase();
            return "#".concat(v).concat(m).toUpperCase()
        }
          , splitHexColor = function(n) {
            var d = n.replace(/^#/, "")
              , v = d.length;
            (3 === v || 4 === v) && (d = d.split("").map(function(n) {
                return n + n
            }).join(""));
            var m = d.length;
            if (console.log("==============>hex", n, d),
            6 !== m && 8 !== m)
                return {
                    color: "#ffffff",
                    alpha: 1
                };
            var h = d.substring(0, 6).toUpperCase()
              , y = parseInt(8 === m ? d.substring(6, 8) : "ff", 16) / 255;
            return {
                color: "#".concat(h),
                alpha: y
            }
        }
          , setTextShadowXYOffset = function(n, d, v) {
            var m = n.toTextLayer();
            m.setTextProperty(eM.Kg.TextPropertyShadowOffsetX, v.toString(), d),
            m.setTextProperty(eM.Kg.TextPropertyShadowOffsetY, v.toString(), d),
            tD.emit("Edit", void 0)
        }
          , getTextShadowXYOffset = function(n, d) {
            var v = n.toTextLayer();
            return {
                x: v.getTextProperty(eM.Kg.TextPropertyShadowOffsetX, d),
                y: v.getTextProperty(eM.Kg.TextPropertyShadowOffsetY, d)
            }
        }
          , util_setTextShadowBlur = function(n, d, v) {
            var m = n.toTextLayer();
            return tD.emit("Edit", void 0),
            m.setTextProperty(eM.Kg.TextPropertyShawodBlurIntensity, v.toString(), d)
        }
          , setTextOutlineStrength = function(n, d, v) {
            var m = n.toTextLayer();
            return tD.emit("Edit", void 0),
            m.setTextProperty(eM.Kg.TextPropertyOutlineSize, v.toString(), d)
        }
          , dataURLtoFile = function(n) {
            for (var d = n.split(","), v = d[0].match(/:(.*?);/)[1], m = v.split("/")[1], h = atob(d[1]), y = h.length, N = new Uint8Array(y); y--; )
                N[y] = h.charCodeAt(y);
            return new File([N],"cover.".concat(m),{
                type: v
            })
        }
          , getLayersId = function(n) {
            var d = n.getCanvas();
            if (d) {
                var v = d.getLayerCount()
                  , m = {}
                  , h = d.getCustomTag("templateId");
                h && (m.template_id = [h]);
                for (var y = 0; y < v; y++) {
                    var N = d.getLayer(y)
                      , k = N.getType()
                      , I = N.getCustomTag(tp);
                    if (isImage(k.value)) {
                        var C = N.toImageLayer().getFilterLayer();
                        if (C && C.getCustomTag(tp)) {
                            var x = C.getMainResource().id;
                            m.filter_id = m.filter_id ? (0,
                            er._)(m.filter_id).concat([x]) : [x]
                        }
                    }
                    if (I) {
                        var M = N.getMainResource().id;
                        isText(k.value) && (m.text_id = m.text_id ? (0,
                        er._)(m.text_id).concat([M]) : [M]),
                        isStick(k.value) && (m.stick_id = m.stick_id ? (0,
                        er._)(m.stick_id).concat([M]) : [M])
                    }
                }
                for (var S in m)
                    m[S] = m[S].join(",");
                return JSON.stringify(m)
            }
        }
          , getUserActiveCoverTemplate = function(n) {
            var d = n.getCanvas();
            if (d) {
                var v = d.getLayerCount()
                  , m = {
                    crop: !0,
                    canvas: !0,
                    template: !1,
                    filter: !1,
                    text: !1,
                    sticker: !1
                };
                d.getCustomTag("templateId") && (m.template = !0);
                for (var h = 0; h < v; h++) {
                    var y = d.getLayer(h)
                      , N = y.getType()
                      , k = y.getCustomTag(tp);
                    if (isImage(N.value)) {
                        var I = y.toImageLayer().getFilterLayer();
                        I && I.getCustomTag(tp) && (m.filter = !0)
                    }
                    k && (isText(N.value) && (m.text = !0),
                    isStick(N.value) && (m.sticker = !0))
                }
                return JSON.stringify(m)
            }
        }
          , getTemplateId = function(n) {
            var d = n.getCanvas();
            if (!d)
                return "";
            var v = d.getCustomTag("templateId");
            return null != v ? v : ""
        }
          , getStickerInfo = function(n) {
            var d = n.getCanvas();
            if (!d)
                return [];
            for (var v = d.getLayerCount(), m = [], h = 0; h < v; h++) {
                var y = d.getLayer(h)
                  , N = y.getCustomTag(th)
                  , k = y.getType()
                  , I = y.getMainResource().id
                  , C = y.getMainResource().type.value;
                isStick(k.value) && C !== eM._g.RT_CUSTOM_STICK && m.push({
                    id: I,
                    category: N
                })
            }
            return m
        }
          , getTextInfo = function(n) {
            var d = n.getCanvas();
            if (d) {
                for (var v = d.getLayerCount(), m = [], h = 0; h < v; h++) {
                    var y = d.getLayer(h)
                      , N = y.getType()
                      , k = y.getMainResource().id;
                    if (isText(N.value)) {
                        var I, C = getTextContent(y, 0), x = y.toTextLayer(), M = x.getFontId(0), S = [], _ = [], V = y.toTextLayer().getEditableTextNumber();
                        if (V > 0)
                            for (var B = 1; B <= V; B++) {
                                var O = getTextContent(y, B);
                                _.push(O);
                                var R = x.getFontId(B);
                                S.push(R)
                            }
                        else
                            S = [M],
                            _ = [C];
                        var U = y.getCustomTag(tg);
                        m.push({
                            type: (I = U) === eY.Title ? "title_fonts" : I === eY.Head ? "head_fonts" : I === eY.Label ? "label_fonts" : "font",
                            detail: {
                                id: k,
                                fontIdList: (0,
                                er._)(new Set(S)),
                                value: C,
                                subtitleList: _
                            }
                        })
                    }
                }
                return m
            }
        };
        var tX = (Z = (0,
        eo._)(function(n, d, v) {
            var m, h, y, N, k, I, C, x, M, S, _;
            return (0,
            ei.Jh)(this, function(V) {
                switch (V.label) {
                case 0:
                    if (!(m = n.getCanvas()))
                        return [2];
                    if (h = m.getWidth(),
                    y = m.getHeight(),
                    !(N = getImageLayer(n)))
                        return [2, {
                            success: !1
                        }];
                    return k = N.toImageLayer().getImagePath(),
                    I = N.getScale().x,
                    [4, n.loadTemplate(d)];
                case 1:
                    if (C = V.sent(),
                    (x = n.getCanvas()).setCustomTag("templateId", v),
                    M = x.getWidth(),
                    S = x.getHeight(),
                    n.changeCanvasSize(h, y),
                    null == n || n.fitLayers(M, S),
                    !(_ = getImageLayer(n)))
                        return [2, {
                            success: !1
                        }];
                    return [4, n.changeImageLayerWithFSPath(_, k, eM.B.AspectFit)];
                case 2:
                    return V.sent(),
                    setImageLayerScale(n, I),
                    util_render(n),
                    [2, C]
                }
            })
        }),
        function loadTemplate(n, d, v) {
            return Z.apply(this, arguments)
        }
        );
        var tK = (Q = (0,
        eo._)(function(n) {
            var d, v, m, h, y, N;
            return (0,
            ei.Jh)(this, function(k) {
                switch (k.label) {
                case 0:
                    if (!(d = n.getCanvas()))
                        return [2];
                    if (v = d.getWidth(),
                    m = d.getHeight(),
                    !(h = getImageLayer(n)))
                        return [2];
                    return y = h.toImageLayer().getImagePath(),
                    N = h.getScale().x,
                    [4, n.createEmptyTemplate(v, m)];
                case 1:
                    return k.sent(),
                    [4, null == n ? void 0 : n.addImageLayerWithFSPath(y)];
                case 2:
                    return k.sent(),
                    setImageLayerScale(n, N),
                    util_render(n),
                    [2]
                }
            })
        }),
        function loadEmptyTemplate(n) {
            return Q.apply(this, arguments)
        }
        )
          , t$ = v(12787)
          , t0 = v(14978)
          , t1 = v.n(t0)
          , t2 = {
            class: "container"
        }
          , t4 = {
            key: 0,
            class: "slider-value"
        }
          , t3 = (0,
        H.defineComponent)({
            __name: "Slider",
            props: {
                type: {
                    type: String,
                    default: "percent"
                },
                max: {
                    type: Number,
                    default: 100
                },
                min: {
                    type: Number,
                    default: 0
                },
                defaultValue: {
                    type: Number,
                    default: 0
                },
                step: {
                    type: Number,
                    default: 1
                },
                showVal: {
                    type: Boolean,
                    default: !0
                },
                value: {
                    type: Number,
                    default: 0
                },
                showToolTip: {
                    type: Boolean,
                    default: !1
                }
            },
            emits: ["change"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                H.ref)(n.defaultValue);
                (0,
                H.watch)(function() {
                    return n.defaultValue
                }, function(n) {
                    !m.value && (m.value = Number(n.toFixed(0)))
                }),
                (0,
                H.watch)(function() {
                    return n.value
                }, function(n) {
                    m.value = Number(n.toFixed(0))
                });
                var h = t1()(function(d) {
                    v("change", "percent" === n.type ? d / 100 : d)
                }, 32)
                  , formatter = function(n) {
                    return n
                };
                return function(d, v) {
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", t2, [(0,
                    H.createVNode)((0,
                    H.unref)(t$.Z), {
                        modelValue: m.value,
                        "onUpdate:modelValue": v[0] || (v[0] = function(n) {
                            return m.value = n
                        }
                        ),
                        step: n.step,
                        max: n.max,
                        min: n.min,
                        onChange: (0,
                        H.unref)(h),
                        "tip-formatter": n.showToolTip ? formatter : null
                    }, null, 8, ["modelValue", "step", "max", "min", "onChange", "tip-formatter"]), n.showVal ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("span", t4, (0,
                    H.toDisplayString)(m.value.toFixed(0)) + (0,
                    H.toDisplayString)("percent" === n.type ? "%" : ""), 1)) : (0,
                    H.createCommentVNode)("", !0)])
                }
            }
        });
        let t5 = (0,
        W.default)(t3, [["__scopeId", "data-v-711f046c"]]);
        var t8 = {
            class: "attribute-container"
        }
          , t6 = {
            key: 0,
            class: "text-bar"
        }
          , t9 = {
            class: "text-bar-left"
        }
          , t7 = {
            class: "font-select"
        }
          , ne = {
            class: "input-container"
        }
          , nt = {
            class: (0,
            H.normalizeClass)(["custom-option", "--color-bg-fill-light"])
        }
          , nn = ["src"]
          , na = {
            key: 0,
            class: "is-business"
        }
          , no = {
            class: "select-font-container"
        }
          , nr = ["src"]
          , ni = {
            key: 1,
            class: "custom-placeholder"
        }
          , nl = {
            class: "text-spacing-container"
        }
          , nc = {
            class: "text-align-container"
        }
          , nu = {
            class: "color-container"
        }
          , ns = {
            class: "color-list"
        }
          , nd = ["onClick"]
          , nv = {
            class: "color-container text-outline"
        }
          , nm = {
            class: "color-list"
        }
          , nf = ["onClick"]
          , np = {
            class: "color-container text-shadow"
        }
          , ng = {
            class: "color-list"
        }
          , nh = ["onClick"]
          , ny = {
            class: "text-bar-right"
        }
          , nN = {
            key: 1,
            class: "sticker-bar"
        }
          , nk = {
            key: 2,
            class: "filter-bar"
        }
          , nI = {
            class: "base-item"
        }
          , nC = {
            key: 3,
            class: "base-bar"
        }
          , nb = {
            class: "base-item"
        }
          , nE = {
            class: "ratio-select"
        }
          , nA = {
            class: "ratio-text"
        }
          , nw = {
            class: "ratio-select-menu"
        }
          , nx = {
            class: "base-item image-size"
        }
          , nT = (0,
        H.defineComponent)({
            __name: "Attribute",
            props: {
                fontFamilyList: {},
                rate: {},
                zeusEngine: {},
                currentTab: {}
            },
            emits: ["ratio-change", "cover-size-change", "set-layer-index", "select-font-family", "on-handle-cover"],
            setup: function(n, d) {
                var v, m, h, y, N = d.emit, k = (m = {},
                (0,
                J._)(m, ej.Filter, "滤镜"),
                (0,
                J._)(m, ej.Text, "文字"),
                (0,
                J._)(m, ej.Sticker, "贴纸"),
                (0,
                J._)(m, ej.Template, "模板"),
                m), I = (0,
                H.ref)(!1), C = (0,
                H.ref)(!1), x = (0,
                H.ref)(""), M = (0,
                H.ref)(""), S = (0,
                H.ref)(-1), _ = (0,
                H.ref)("3:4"), V = (0,
                H.ref)(100), B = (0,
                H.ref)(100), O = (0,
                H.ref)(""), R = (0,
                H.ref)(["#FFFFFF", "#000000", "#E76259", "#ED7F40", "#F1A34E", "#FEC893", "#FCE758", "#FDF1A3", "#CFF7AA", "#A1E087", "#6ED445", "#A6FA84", "#9CFCD6", "#B2E9F5", "#7EE2FB", "#78C5FF", "#6F6EFF", "#A6B2FF", "#FFD3DF", "#FFA4C4", "#FE9280"]), U = (0,
                H.ref)(""), z = (0,
                H.ref)(0), Z = (0,
                H.ref)(0), Q = (0,
                H.ref)(100), G = (0,
                H.ref)("#FFFFFF"), Y = (0,
                H.ref)("#FFFFFF"), W = (0,
                H.ref)(100), q = (0,
                H.ref)(0), X = (0,
                H.ref)("#FFFFFF"), K = (0,
                H.ref)(100), $ = (0,
                H.ref)(0), ee = (0,
                H.ref)(0), et = (0,
                H.computed)(function() {
                    return isStick(S.value)
                }), en = (0,
                H.computed)(function() {
                    return n.rate
                }), ea = (0,
                H.computed)(function() {
                    return isText(S.value)
                }), el = (0,
                H.computed)(function() {
                    return n.currentTab === ej.Filter
                }), ec = (0,
                H.computed)(function() {
                    return n.currentTab
                });
                (0,
                H.watch)(function() {
                    return el.value
                }, function(d) {
                    if (d && getImageLayerFilter(n.zeusEngine)) {
                        var v = getImageLayerFilterStrength(n.zeusEngine);
                        B.value = +Number(v).toFixed(0)
                    }
                }),
                (0,
                H.watch)(function() {
                    return n.rate
                }, function(d) {
                    _.value = d === ez.ThreeToFour ? "3:4" : d === ez.FourToThree ? "4:3" : "1:1",
                    tD.off("ChangeScale"),
                    tD.on("ChangeScale", function(d) {
                        var v = d.scale
                          , m = getImageLayerOriginScale(n.zeusEngine, en.value)
                          , h = +(100 * (v - m > 0 ? v - m : 0)).toFixed(0) + 100;
                        V.value = h
                    })
                }, {
                    immediate: !0
                });
                var ev = (0,
                H.computed)(function() {
                    var d = n.fontFamilyList || [];
                    return [{
                        label: tm.name,
                        value: tm.md5,
                        extra: tm
                    }].concat((0,
                    er._)(d.filter(function(n) {
                        return n.md5 !== tm.md5
                    }).map(function(n) {
                        return {
                            value: n.md5,
                            label: n.name,
                            extra: n
                        }
                    })))
                })
                  , em = (0,
                H.computed)(function() {
                    var n, d = M.value, v = null === (n = ev.value.find(function(n) {
                        var v;
                        return (null == n ? void 0 : null === (v = n.extra) || void 0 === v ? void 0 : v.md5) === d
                    })) || void 0 === n ? void 0 : n.extra;
                    return v ? v.iconUrl : ""
                })
                  , selectRatio = function(n) {
                    switch (_.value = n,
                    N("on-handle-cover", {
                        channelTabName: k[ec.value]
                    }),
                    n) {
                    case "3:4":
                        N("ratio-change", ez.ThreeToFour);
                        break;
                    case "4:3":
                        N("ratio-change", ez.FourToThree);
                        break;
                    case "1:1":
                        N("ratio-change", ez.OneToOne)
                    }
                }
                  , filterStrengthChange = function(d) {
                    var v = 100 * d;
                    v !== B.value && (B.value = v,
                    setImageLayerFilterStrength(n.zeusEngine, 100 * d),
                    util_render(n.zeusEngine))
                }
                  , ef = t1()(function(n) {
                    var d = 100 * n;
                    V.value !== n && (V.value = d,
                    N("on-handle-cover", {
                        channelTabName: k[ec.value]
                    }),
                    N("cover-size-change", Number((d / 100).toFixed(2))))
                }, 16)
                  , setLayerTop = function() {
                    N("set-layer-index", {
                        actionResult: "top",
                        contentName: ea.value ? "text" : "sticker"
                    }),
                    setLayer2Top(h, n.zeusEngine)
                }
                  , setLayerBottom = function() {
                    N("set-layer-index", {
                        actionResult: "bottom",
                        contentName: ea.value ? "text" : "sticker"
                    }),
                    setLayer2Bottom(h, n.zeusEngine)
                }
                  , setTextAlign = function(d) {
                    "left" === d && setTextLeftAlignment(h, y),
                    "center" === d && setTextMiddleAlignment(h, y),
                    "right" === d && setTextRightAlignment(h, y),
                    U.value = d,
                    util_render(n.zeusEngine)
                }
                  , tarnsformSpaceToSDKVal = function(n) {
                    var d = +getFontSize(h, y);
                    return d * (1 + n) / d
                }
                  , setTextColor = function(d) {
                    var v = convertHexWithAlpha(d, Q.value);
                    G.value = d,
                    setTextFontColor(h, y, v),
                    util_render(n.zeusEngine)
                }
                  , setTextColorFromPanel = function(d) {
                    var v = splitHexColor(d)
                      , m = v.color
                      , N = v.alpha;
                    G.value = m,
                    Q.value = +Number(100 * N).toFixed(0),
                    setTextFontColor(h, y, d),
                    util_render(n.zeusEngine)
                }
                  , setTextOutlineColor = function(d) {
                    Y.value = d;
                    var v = convertHexWithAlpha(d, W.value);
                    util_setTextOutlineColor(h, y, v),
                    util_render(n.zeusEngine)
                }
                  , setTextOutlineAlpha = function(n) {
                    W.value = 100 * n,
                    setTextOutlineColor(Y.value)
                }
                  , setTextOutlineColorFromPanel = function(d) {
                    var v = splitHexColor(d)
                      , m = v.color
                      , N = v.alpha;
                    Y.value = m,
                    W.value = +Number(100 * N).toFixed(0),
                    util_setTextOutlineColor(h, y, d),
                    util_render(n.zeusEngine)
                }
                  , setTextOutlineWidth = function(d) {
                    q.value = d,
                    setTextOutlineStrength(h, y, d),
                    util_render(n.zeusEngine)
                }
                  , onWordSpaceChange = function(d) {
                    z.value = +Number(100 * d).toFixed(0),
                    setTextWordSpace(h, y, d),
                    util_render(n.zeusEngine),
                    tD.emit("DrawObb", {
                        layer: h
                    })
                }
                  , onLineSpaceChange = function(d) {
                    Z.value = +Number(100 * d).toFixed(0);
                    var v = tarnsformSpaceToSDKVal(d);
                    setTextLineSpace(h, y, v),
                    util_render(n.zeusEngine),
                    tD.emit("DrawObb", {
                        layer: h
                    })
                }
                  , onTextAlphaChange = function(d) {
                    Q.value = 100 * d;
                    var v = convertHexWithAlpha(G.value, d);
                    setTextFontColor(h, y, v),
                    util_render(n.zeusEngine)
                }
                  , setTextShadowColor = function(d) {
                    X.value = d;
                    var v = convertHexWithAlpha(d, K.value);
                    util_setTextShadowColor(h, y, v),
                    util_render(n.zeusEngine)
                }
                  , setTextShadowColorFromPanel = function(d) {
                    var v = splitHexColor(d)
                      , m = v.color
                      , N = v.alpha;
                    X.value = m,
                    K.value = +Number(100 * N).toFixed(0),
                    util_setTextShadowColor(h, y, d),
                    util_render(n.zeusEngine)
                }
                  , setTextShadowAlpha = function(n) {
                    K.value = +Number(100 * n).toFixed(0),
                    setTextShadowColor(X.value)
                }
                  , setTextShadowDistance = function(d) {
                    $.value = d,
                    setTextShadowXYOffset(h, y, d),
                    util_render(n.zeusEngine)
                }
                  , setTextShadowBlur = function(d) {
                    ee.value = +Number(100 * d).toFixed(0),
                    util_setTextShadowBlur(h, y, d),
                    util_render(n.zeusEngine)
                };
                var ep = (v = (0,
                eo._)(function(d) {
                    var v, m;
                    return (0,
                    ei.Jh)(this, function(d) {
                        switch (d.label) {
                        case 0:
                            if (!(m = null === (v = ev.value.find(function(n) {
                                var d;
                                return (null == n ? void 0 : null === (d = n.extra) || void 0 === d ? void 0 : d.md5) === M.value
                            })) || void 0 === v ? void 0 : v.extra))
                                return [2];
                            return tD.emit("OpenLoading", void 0),
                            [4, tq(n.zeusEngine, h, y, m.md5, m.id, m.url)];
                        case 1:
                            return d.sent(),
                            util_render(n.zeusEngine),
                            tD.emit("DrawObb", {
                                layer: h
                            }),
                            tD.emit("CloseLoading", void 0),
                            N("select-font-family", {
                                componentId: m.id
                            }),
                            [2]
                        }
                    })
                }),
                function onFontFamilySelect(n) {
                    return v.apply(this, arguments)
                }
                )
                  , fontFamilyFilter = function(n, d) {
                    return d.label.includes(n)
                }
                  , transformSpaceToSliderVal = function(n) {
                    var d = +getFontSize(h, y);
                    return (n * d - d) / d
                }
                  , setDefaultValue = function() {
                    if (ea.value) {
                        var n, d, v, m, N, k, I, C, x, S, _, V, B, O, R, J = (B = h,
                        O = y,
                        B.toTextLayer().getFontMd5(O)), H = null === (R = ev.value.find(function(n) {
                            var d;
                            return (null == n ? void 0 : null === (d = n.extra) || void 0 === d ? void 0 : d.md5) === J
                        })) || void 0 === R ? void 0 : R.extra;
                        M.value = H ? H.md5 : "";
                        var et = +(n = h,
                        d = y,
                        n.toTextLayer().getTextProperty(eM.Kg.TextPropertyAlignment, d)) || -1
                          , en = ["left", "center", "right"];
                        et && en[et] && (U.value = en[et]);
                        var eo = getTextWordSpace(h, y)
                          , er = transformSpaceToSliderVal(+getTextLineSpace(h, y));
                        z.value = +Number(100 * eo).toFixed(0),
                        Z.value = +Number(100 * er).toFixed(0);
                        var ei = splitHexColor((v = h,
                        m = y,
                        v.toTextLayer().getTextProperty(eM.Kg.TextPropertyTextColor, m)))
                          , el = ei.color
                          , ec = ei.alpha;
                        G.value = el,
                        Q.value = +Number(100 * ec).toFixed(0);
                        var eu = (N = h,
                        k = y,
                        N.toTextLayer().getTextProperty(eM.Kg.TextPropertyOutlineSize, k));
                        var es = splitHexColor((I = h,
                        C = y,
                        I.toTextLayer().getTextProperty(eM.Kg.TextPropertyOutlineColor, C)))
                          , ed = es.color
                          , em = es.alpha;
                        Y.value = ed,
                        W.value = +Number(100 * em).toFixed(0),
                        q.value = +Number(eu).toFixed(0);
                        var ef = getTextShadowXYOffset(h, y).x;
                        var ep = splitHexColor((x = h,
                        S = y,
                        x.toTextLayer().getTextProperty(eM.Kg.TextPropertyShadowColor, S)))
                          , eg = ep.color
                          , eh = ep.alpha;
                        var ey = +(_ = h,
                        V = y,
                        _.toTextLayer().getTextProperty(eM.Kg.TextPropertyShawodBlurIntensity, V));
                        X.value = eg,
                        K.value = +Number(100 * eh).toFixed(0),
                        $.value = +Number(ef || 0).toFixed(0),
                        ee.value = +Number(100 * (ey || 0)).toFixed(0)
                    }
                }
                  , handleClose = function() {
                    C.value = !1,
                    x.value = ""
                }
                  , handleChangeText = function() {
                    var d = x.value;
                    setTextContent(h, y || 0, d),
                    util_render(n.zeusEngine),
                    tD.emit("DrawObb", {
                        layer: h
                    }),
                    C.value = !1,
                    x.value = ""
                }
                  , handleResizeGuide = function() {
                    !localStorage.getItem("showResizeGuide") && (I.value = !0,
                    localStorage.setItem("showResizeGuide", "true"),
                    setTimeout(function() {
                        I.value = !1
                    }, 3e3))
                };
                return (0,
                H.onMounted)(function() {
                    handleResizeGuide(),
                    tD.on("PickedLayer", function(n) {
                        var d = n.layer
                          , v = n.index
                          , m = d.getType().value;
                        S.value = m,
                        h = d,
                        y = v || 0,
                        setDefaultValue()
                    }),
                    tD.on("FilterChanged", function() {
                        var d = getImageLayerFilterStrength(n.zeusEngine);
                        B.value = +Number(d).toFixed(0)
                    }),
                    tD.on("DoubleClickLayer", function(n) {
                        var d = n.layer
                          , v = n.index;
                        if (isText(d.getType().value)) {
                            var m = getTextContent(d, v || 0);
                            x.value = m,
                            C.value = !0
                        }
                    })
                }),
                function(n, d) {
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)(H.Fragment, null, [(0,
                    H.createElementVNode)("div", t8, [ea.value ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", t6, [(0,
                    H.createElementVNode)("div", t9, [(0,
                    H.createElementVNode)("div", t7, [(0,
                    H.createVNode)((0,
                    H.unref)(tE.Z), {
                        modelValue: M.value,
                        "onUpdate:modelValue": d[1] || (d[1] = function(n) {
                            return M.value = n
                        }
                        ),
                        "filter-value": O.value,
                        "onUpdate:filterValue": d[2] || (d[2] = function(n) {
                            return O.value = n
                        }
                        ),
                        options: ev.value,
                        filterable: "",
                        filter: fontFamilyFilter,
                        style: {
                            width: "200px",
                            height: "26px",
                            "text-align": "center"
                        },
                        onChange: ep
                    }, {
                        top: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.createElementVNode)("div", ne, [(0,
                            H.createVNode)((0,
                            H.unref)(es.Z), {
                                placeholder: "搜索字体",
                                style: {
                                    borderRadius: "var(--size-radius-default) var(--size-radius-default) 0 0",
                                    background: "#FFF",
                                    width: "192px"
                                },
                                modelValue: O.value,
                                "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                                    return O.value = n
                                }
                                )
                            }, {
                                prefix: (0,
                                H.withCtx)(function() {
                                    return [(0,
                                    H.createVNode)((0,
                                    H.unref)(ed.Z), {
                                        icon: (0,
                                        H.unref)(tB.olm)
                                    }, null, 8, ["icon"])]
                                }),
                                _: 1
                            }, 8, ["modelValue"])])]
                        }),
                        option: (0,
                        H.withCtx)(function(n) {
                            var v = n.option;
                            return [(0,
                            H.createElementVNode)("div", nt, [(0,
                            H.createElementVNode)("img", {
                                class: "custom-option-img",
                                src: v.extra.iconUrl
                            }, null, 8, nn), v.extra.business ? (0,
                            H.createCommentVNode)("", !0) : ((0,
                            H.openBlock)(),
                            (0,
                            H.createElementBlock)("div", na, [(0,
                            H.createVNode)((0,
                            H.unref)(tA.Z), {
                                trigger: "hover",
                                placement: "right"
                            }, {
                                content: (0,
                                H.withCtx)(function() {
                                    return d[11] || (d[11] = [(0,
                                    H.createElementVNode)("div", {
                                        class: "font-business-text"
                                    }, " 未经授权，不得商用 ", -1)])
                                }),
                                default: (0,
                                H.withCtx)(function() {
                                    return [d[12] || (d[12] = (0,
                                    H.createElementVNode)("img", {
                                        class: "font-business-icon",
                                        src: "https://picasso-static.xiaohongshu.com/fe-platform/e8f4ee7f57962f80797e3274a755bbedd4111ee0.png"
                                    }, null, -1))]
                                }),
                                _: 1
                            })]))])]
                        }),
                        whole: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.createElementVNode)("div", no, [em.value ? ((0,
                            H.openBlock)(),
                            (0,
                            H.createElementBlock)("img", {
                                key: 0,
                                style: {
                                    width: "100%",
                                    height: "100%",
                                    "object-fit": "contain"
                                },
                                src: em.value
                            }, null, 8, nr)) : ((0,
                            H.openBlock)(),
                            (0,
                            H.createElementBlock)("div", ni, "选择字体"))])]
                        }),
                        _: 1
                    }, 8, ["modelValue", "filter-value", "options"])]), (0,
                    H.createVNode)((0,
                    H.unref)(tA.Z), {
                        trigger: "hover",
                        placement: "bottom-start"
                    }, {
                        content: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.createElementVNode)("div", nl, [(0,
                            H.createElementVNode)("div", null, [d[13] || (d[13] = (0,
                            H.createTextVNode)(" 字间距 ")), (0,
                            H.createVNode)(t5, {
                                value: z.value,
                                "default-value": z.value,
                                onChange: onWordSpaceChange
                            }, null, 8, ["value", "default-value"])]), (0,
                            H.createElementVNode)("div", null, [d[14] || (d[14] = (0,
                            H.createTextVNode)(" 行间距 ")), (0,
                            H.createVNode)(t5, {
                                value: Z.value,
                                "default-value": Z.value,
                                onChange: onLineSpaceChange
                            }, null, 8, ["value", "default-value"])])])]
                        }),
                        default: (0,
                        H.withCtx)(function() {
                            return [d[15] || (d[15] = (0,
                            H.createElementVNode)("img", {
                                class: "bar-icon",
                                src: "https://picasso-static.xiaohongshu.com/fe-platform/bb9a46ba2a981d6a48a03ce078adbec665afbd40.png"
                            }, null, -1))]
                        }),
                        _: 1
                    }), (0,
                    H.createVNode)((0,
                    H.unref)(tA.Z), {
                        trigger: "hover",
                        placement: "bottom-start"
                    }, {
                        content: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.createElementVNode)("div", nc, [(0,
                            H.createElementVNode)("img", {
                                class: (0,
                                H.normalizeClass)(["text-align-item", {
                                    "text-align-item-active": "left" === U.value
                                }]),
                                src: "https://picasso-static.xiaohongshu.com/fe-platform/cc332012ed2825c74e582638e2e591769eb8c972.png",
                                onClick: d[3] || (d[3] = function(n) {
                                    return setTextAlign("left")
                                }
                                )
                            }, null, 2), (0,
                            H.createElementVNode)("img", {
                                class: (0,
                                H.normalizeClass)(["text-align-item", {
                                    "text-align-item-active": "center" === U.value
                                }]),
                                src: "https://picasso-static.xiaohongshu.com/fe-platform/5902b8ab28a343758ac91c7e6a600dc38db5f73e.png",
                                onClick: d[4] || (d[4] = function(n) {
                                    return setTextAlign("center")
                                }
                                )
                            }, null, 2), (0,
                            H.createElementVNode)("img", {
                                class: (0,
                                H.normalizeClass)(["text-align-item", {
                                    "text-align-item-active": "right" === U.value
                                }]),
                                src: "https://picasso-static.xiaohongshu.com/fe-platform/1a22f9e5c6e8e6bec27061cb03622a2e7363ba7b.png",
                                onClick: d[5] || (d[5] = function(n) {
                                    return setTextAlign("right")
                                }
                                )
                            }, null, 2)])]
                        }),
                        default: (0,
                        H.withCtx)(function() {
                            return [d[16] || (d[16] = (0,
                            H.createElementVNode)("img", {
                                class: "bar-icon",
                                src: "https://picasso-static.xiaohongshu.com/fe-platform/9da02e3afc682945d6cdbf769132b7e599ec20b9.png"
                            }, null, -1))]
                        }),
                        _: 1
                    }), (0,
                    H.createVNode)((0,
                    H.unref)(tA.Z), {
                        trigger: "hover",
                        placement: "bottom-start"
                    }, {
                        content: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.createElementVNode)("div", nu, [(0,
                            H.createElementVNode)("div", null, [d[17] || (d[17] = (0,
                            H.createElementVNode)("span", null, "文字颜色", -1)), (0,
                            H.createElementVNode)("div", ns, [((0,
                            H.openBlock)(!0),
                            (0,
                            H.createElementBlock)(H.Fragment, null, (0,
                            H.renderList)(R.value, function(n, d) {
                                return (0,
                                H.openBlock)(),
                                (0,
                                H.createElementBlock)("div", {
                                    key: d,
                                    style: (0,
                                    H.normalizeStyle)({
                                        border: n === G.value ? "1px solid ".concat("#FFFFFF" === n ? "rgba(0, 0, 0, 0.1)" : n) : "none"
                                    }),
                                    class: "color-item",
                                    onClick: function(d) {
                                        return setTextColor(n)
                                    }
                                }, [(0,
                                H.createElementVNode)("div", {
                                    class: "color-item-inner",
                                    style: (0,
                                    H.normalizeStyle)({
                                        backgroundColor: "#FFFFFF" === n ? "none" : n,
                                        border: "#FFFFFF" === n ? "1px solid rgba(0, 0, 0, 0.1)" : "none"
                                    })
                                }, null, 4)], 12, nd)
                            }), 128)), (0,
                            H.createVNode)(t_, {
                                onChange: setTextColorFromPanel
                            })])]), (0,
                            H.createElementVNode)("div", null, [d[18] || (d[18] = (0,
                            H.createElementVNode)("span", null, "透明度", -1)), (0,
                            H.createVNode)(t5, {
                                value: Q.value,
                                "default-value": Q.value,
                                onChange: onTextAlphaChange
                            }, null, 8, ["value", "default-value"])])])]
                        }),
                        default: (0,
                        H.withCtx)(function() {
                            return [d[19] || (d[19] = (0,
                            H.createElementVNode)("div", {
                                class: "font-color-btn"
                            }, null, -1))]
                        }),
                        _: 1
                    }), (0,
                    H.createVNode)((0,
                    H.unref)(tA.Z), {
                        trigger: "hover",
                        placement: "bottom-start"
                    }, {
                        content: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.createElementVNode)("div", nv, [(0,
                            H.createElementVNode)("div", null, [d[20] || (d[20] = (0,
                            H.createElementVNode)("span", null, "描边颜色", -1)), (0,
                            H.createElementVNode)("div", nm, [((0,
                            H.openBlock)(!0),
                            (0,
                            H.createElementBlock)(H.Fragment, null, (0,
                            H.renderList)(R.value, function(n, d) {
                                return (0,
                                H.openBlock)(),
                                (0,
                                H.createElementBlock)("div", {
                                    key: d,
                                    style: (0,
                                    H.normalizeStyle)({
                                        border: n === Y.value ? "1px solid ".concat("#FFFFFF" === n ? "rgba(0, 0, 0, 0.1)" : n) : "none"
                                    }),
                                    class: "color-item",
                                    onClick: function(d) {
                                        return setTextOutlineColor(n)
                                    }
                                }, [(0,
                                H.createElementVNode)("div", {
                                    class: "color-item-inner",
                                    style: (0,
                                    H.normalizeStyle)({
                                        backgroundColor: "#FFFFFF" === n ? "none" : n,
                                        border: "#FFFFFF" === n ? "1px solid rgba(0, 0, 0, 0.1)" : "none"
                                    })
                                }, null, 4)], 12, nf)
                            }), 128)), (0,
                            H.createVNode)(t_, {
                                onChange: setTextOutlineColorFromPanel
                            })])]), (0,
                            H.createElementVNode)("div", null, [d[21] || (d[21] = (0,
                            H.createElementVNode)("span", null, "透明度", -1)), (0,
                            H.createVNode)(t5, {
                                value: W.value,
                                "default-value": W.value,
                                onChange: setTextOutlineAlpha
                            }, null, 8, ["value", "default-value"])]), (0,
                            H.createElementVNode)("div", null, [d[22] || (d[22] = (0,
                            H.createElementVNode)("span", null, "粗细", -1)), (0,
                            H.createVNode)(t5, {
                                value: q.value,
                                type: "number",
                                max: 10,
                                min: 0,
                                "default-value": q.value,
                                onChange: setTextOutlineWidth
                            }, null, 8, ["value", "default-value"])])])]
                        }),
                        default: (0,
                        H.withCtx)(function() {
                            return [d[23] || (d[23] = (0,
                            H.createElementVNode)("div", {
                                class: "font-outline-btn"
                            }, null, -1))]
                        }),
                        _: 1
                    }), (0,
                    H.createVNode)((0,
                    H.unref)(tA.Z), {
                        trigger: "hover",
                        placement: "bottom-start"
                    }, {
                        content: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.createElementVNode)("div", np, [(0,
                            H.createElementVNode)("div", null, [d[24] || (d[24] = (0,
                            H.createElementVNode)("span", null, "投影颜色", -1)), (0,
                            H.createElementVNode)("div", ng, [((0,
                            H.openBlock)(!0),
                            (0,
                            H.createElementBlock)(H.Fragment, null, (0,
                            H.renderList)(R.value, function(n, d) {
                                return (0,
                                H.openBlock)(),
                                (0,
                                H.createElementBlock)("div", {
                                    key: d,
                                    style: (0,
                                    H.normalizeStyle)({
                                        border: n === X.value ? "1px solid ".concat("#FFFFFF" === n ? "rgba(0, 0, 0, 0.1)" : n) : "none"
                                    }),
                                    class: "color-item",
                                    onClick: function(d) {
                                        return setTextShadowColor(n)
                                    }
                                }, [(0,
                                H.createElementVNode)("div", {
                                    class: "color-item-inner",
                                    style: (0,
                                    H.normalizeStyle)({
                                        backgroundColor: "#FFFFFF" === n ? "none" : n,
                                        border: "#FFFFFF" === n ? "1px solid rgba(0, 0, 0, 0.1)" : "none"
                                    })
                                }, null, 4)], 12, nh)
                            }), 128)), (0,
                            H.createVNode)(t_, {
                                onChange: setTextShadowColorFromPanel
                            })])]), (0,
                            H.createElementVNode)("div", null, [d[25] || (d[25] = (0,
                            H.createElementVNode)("span", null, "透明度", -1)), (0,
                            H.createVNode)(t5, {
                                value: K.value,
                                "default-value": K.value,
                                onChange: setTextShadowAlpha
                            }, null, 8, ["value", "default-value"])]), (0,
                            H.createElementVNode)("div", null, [d[26] || (d[26] = (0,
                            H.createElementVNode)("span", null, "距离", -1)), (0,
                            H.createVNode)(t5, {
                                value: $.value,
                                "default-value": $.value,
                                type: "number",
                                max: 10,
                                onChange: setTextShadowDistance
                            }, null, 8, ["value", "default-value"])]), (0,
                            H.createElementVNode)("div", null, [d[27] || (d[27] = (0,
                            H.createElementVNode)("span", null, "模糊", -1)), (0,
                            H.createVNode)(t5, {
                                value: ee.value,
                                "default-value": ee.value,
                                onChange: setTextShadowBlur
                            }, null, 8, ["value", "default-value"])])])]
                        }),
                        default: (0,
                        H.withCtx)(function() {
                            return [d[28] || (d[28] = (0,
                            H.createElementVNode)("div", {
                                class: "font-shadow-btn"
                            }, null, -1))]
                        }),
                        _: 1
                    })]), (0,
                    H.createElementVNode)("div", ny, [(0,
                    H.createVNode)((0,
                    H.unref)(tA.Z), {
                        trigger: "hover",
                        placement: "bottom-start"
                    }, {
                        content: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.createElementVNode)("div", {
                                class: "layer-index-container"
                            }, [(0,
                            H.createElementVNode)("div", {
                                class: "layer-index-item",
                                onClick: setLayerTop
                            }, "置顶"), (0,
                            H.createElementVNode)("div", {
                                class: "layer-index-item",
                                onClick: setLayerBottom
                            }, "置底")])]
                        }),
                        default: (0,
                        H.withCtx)(function() {
                            return [d[29] || (d[29] = (0,
                            H.createElementVNode)("img", {
                                class: "index-icon",
                                src: "https://picasso-static.xiaohongshu.com/fe-platform/6cd79cfbe000adc6d399f13fbd9fcf678d047a10.png"
                            }, null, -1))]
                        }),
                        _: 1
                    })])])) : et.value ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", nN, [(0,
                    H.createVNode)((0,
                    H.unref)(tA.Z), {
                        trigger: "hover",
                        placement: "bottom-start"
                    }, {
                        content: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.createElementVNode)("div", {
                                class: "layer-index-container"
                            }, [(0,
                            H.createElementVNode)("div", {
                                class: "layer-index-item",
                                onClick: setLayerTop
                            }, "置顶"), (0,
                            H.createElementVNode)("div", {
                                class: "layer-index-item",
                                onClick: setLayerBottom
                            }, "置底")])]
                        }),
                        default: (0,
                        H.withCtx)(function() {
                            return [d[30] || (d[30] = (0,
                            H.createElementVNode)("img", {
                                class: "index-icon",
                                src: "https://picasso-static.xiaohongshu.com/fe-platform/6cd79cfbe000adc6d399f13fbd9fcf678d047a10.png"
                            }, null, -1))]
                        }),
                        _: 1
                    })])) : el.value ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", nk, [(0,
                    H.createElementVNode)("div", nI, [d[31] || (d[31] = (0,
                    H.createTextVNode)(" 强度 ")), (0,
                    H.createVNode)(t5, {
                        value: B.value,
                        "default-value": B.value,
                        max: 100,
                        min: 0,
                        onChange: filterStrengthChange
                    }, null, 8, ["value", "default-value"])])])) : ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", nC, [(0,
                    H.createElementVNode)("div", nb, [d[33] || (d[33] = (0,
                    H.createTextVNode)(" 封面比例 ")), (0,
                    H.createVNode)((0,
                    H.unref)(tA.Z), {
                        trigger: "hover",
                        placement: "bottom-start"
                    }, {
                        content: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.createElementVNode)("div", nw, [(0,
                            H.createElementVNode)("div", {
                                class: (0,
                                H.normalizeClass)(["ratio-item ratio-3-4", ["3:4" === _.value ? "active" : ""]]),
                                onClick: d[6] || (d[6] = function(n) {
                                    return selectRatio("3:4")
                                }
                                )
                            }, " 3:4 ", 2), (0,
                            H.createElementVNode)("div", {
                                class: (0,
                                H.normalizeClass)(["ratio-item ratio-4-3", ["4:3" === _.value ? "active" : ""]]),
                                onClick: d[7] || (d[7] = function(n) {
                                    return selectRatio("4:3")
                                }
                                )
                            }, " 4:3 ", 2), (0,
                            H.createElementVNode)("div", {
                                class: (0,
                                H.normalizeClass)(["ratio-item ratio-1-1", ["1:1" === _.value ? "active" : ""]]),
                                onClick: d[8] || (d[8] = function(n) {
                                    return selectRatio("1:1")
                                }
                                )
                            }, " 1:1 ", 2)])]
                        }),
                        default: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.createElementVNode)("div", nE, [(0,
                            H.createElementVNode)("span", nA, (0,
                            H.toDisplayString)(_.value), 1), d[32] || (d[32] = (0,
                            H.createElementVNode)("img", {
                                class: "select-icon",
                                src: "https://picasso-static.xiaohongshu.com/fe-platform/c9a81426a1dcb5ef44042557e3ce52e732ef1fb6.png"
                            }, null, -1))])]
                        }),
                        _: 1
                    })]), (0,
                    H.createElementVNode)("div", nx, [(0,
                    H.createVNode)((0,
                    H.unref)(tA.Z), {
                        trigger: "manual",
                        visible: I.value,
                        placement: "top-end"
                    }, {
                        content: (0,
                        H.withCtx)(function() {
                            return d[34] || (d[34] = [(0,
                            H.createElementVNode)("div", {
                                class: "resize-guide-tip",
                                style: {
                                    padding: "var(--size-space-default)"
                                }
                            }, " 图片可以放大缩小、拖动哦 ", -1)])
                        }),
                        default: (0,
                        H.withCtx)(function() {
                            return [d[35] || (d[35] = (0,
                            H.createTextVNode)(" 图片大小 "))]
                        }),
                        _: 1
                    }, 8, ["visible"]), (0,
                    H.createVNode)(t5, {
                        type: "percent",
                        "default-value": V.value,
                        value: V.value,
                        max: 200,
                        min: 100,
                        onChange: (0,
                        H.unref)(ef),
                        showToolTip: !0
                    }, null, 8, ["default-value", "value", "onChange"])])]))]), (0,
                    H.createVNode)((0,
                    H.unref)(eu.Z), {
                        visible: C.value,
                        "onUpdate:visible": d[10] || (d[10] = function(n) {
                            return C.value = n
                        }
                        ),
                        title: "输入文字",
                        centered: "",
                        confirmButtonProps: {
                            class: "creator-cover-bg-red"
                        },
                        cancelButtonProps: {
                            class: "creator-cover-bg-cancel"
                        },
                        onConfirm: handleChangeText,
                        onCancel: handleClose,
                        zIndex: 299
                    }, {
                        default: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.createVNode)((0,
                            H.unref)(tw.Z), {
                                style: {
                                    width: "100%",
                                    height: "100px"
                                },
                                modelValue: x.value,
                                "onUpdate:modelValue": d[9] || (d[9] = function(n) {
                                    return x.value = n
                                }
                                ),
                                placeholder: "请输入封面文案"
                            }, null, 8, ["modelValue"])]
                        }),
                        _: 1
                    }, 8, ["visible"])], 64)
                }
            }
        });
        let nM = (0,
        W.default)(nT, [["__scopeId", "data-v-7d3adfad"]]);
        v(80156),
        v(50721),
        v(29112),
        v(67275),
        v(59989),
        v(7099);
        var nS = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAgCAYAAADud3N8AAABh0lEQVR4XsVX23HCMBCkBErwDFaGT0pQZDKTz3QQOoEOTAeko5SQEijhojtpgr2SjGyksDP3c9zDuz7Jx2qVCWo+1qTMwdqF2u6bWnO1Rt6u4lPdRWJsLObPAm3fG2r3PTS5b/wANhfrTUKYtYabhQXn2RFrRyHslPmJFFhmXGuKNam33URDlvhk5da01c1fTqPX4tuYczKX/bb2oJVPTjEU315jfAp+4OJ1cMiigZvuzExGgRkQ9swc6w2bWscxCLBS3sosA9eI1nPHImR4S30MwnowA87JZ2rYULSfL2k23OQBSzsIGFcUMmnAEmOKI5C24LtMwl/eA3nzz+NiEF7keHhrYMzSEP5eBc9qOpYXD3ENPGeQ1OsXSHzCmOIILgcrN8YUh78GYf/5D4nxuxf72JYGTyxIzGx7jCuOgK2zvE1uKeTdxtYV3nlrSi0yxxrLJlfxG0tKp1dQtxX2sm6WZp9kjPbSfWLuw6DxJhezOheJYx1clc5qrzZ+ug/uAfhv4fLh+gUhOWz3reAb5AAAAABJRU5ErkJggg=="
          , n_ = v(70879)
          , nV = v(88329)
          , nD = {
            class: "cover-choose-container"
        }
          , nB = ["src"]
          , nL = {
            key: 1,
            ref: "list",
            class: "list"
        }
          , nP = ["src", "data-index"]
          , nO = {
            class: "recommend-bar"
        }
          , nR = ["onClick"]
          , nU = ["src"]
          , nj = {
            key: 2,
            class: "bgfill"
        }
          , nF = (0,
        H.defineComponent)({
            __name: "Cursor",
            props: {
                backupCoverUrls: {},
                videoUrl: {},
                rate: {},
                zeusEngine: {},
                recommendCovers: {},
                activeRecommendCoverIdx: {},
                videoRatio: {}
            },
            emits: ["update-cover", "upload-file-fail", "recommend-tag-click"],
            setup: function(n, d) {
                var v, m, h = this, y = d.emit, N = (0,
                H.computed)(function() {
                    return n.backupCoverUrls
                }), k = (0,
                H.computed)(function() {
                    return n.videoUrl
                }), I = (0,
                H.computed)(function() {
                    return n.recommendCovers
                }), C = (0,
                H.computed)(function() {
                    var d = n.videoRatio;
                    if (!d)
                        return {
                            width: "44px",
                            height: "44px"
                        };
                    d > 4 / 3 && (d = 4 / 3),
                    d < 9 / 16 && (d = 9 / 16);
                    var v = 44 * d;
                    return {
                        width: "".concat(v, "px"),
                        height: "".concat(44, "px")
                    }
                }), x = !1, M = 0, S = 0, _ = (0,
                H.ref)(-1);
                (0,
                H.watch)(function() {
                    return n.activeRecommendCoverIdx
                }, function(n) {
                    n !== _.value && (_.value = n)
                }, {
                    immediate: !0
                });
                var V = (0,
                H.ref)()
                  , B = (0,
                H.ref)()
                  , O = (0,
                H.ref)(0)
                  , R = (0,
                H.ref)(0)
                  , U = (0,
                H.ref)(0)
                  , z = (0,
                H.ref)(-1)
                  , Z = (0,
                H.ref)()
                  , setTime = function(n) {
                    V.value.currentTime = n,
                    setTimeout(function() {
                        var d;
                        (null === (d = V.value) || void 0 === d ? void 0 : d.seeking) && V.value.currentTime === n && setTime(n + .001)
                    }, 1e3)
                }
                  , changeCover = function() {
                    new Promise(function(n, d) {
                        var v = V.value
                          , m = B.value;
                        if (m) {
                            var h = m.getContext("2d")
                              , seekedFn = function() {
                                m.width = O.value,
                                m.height = R.value,
                                h.drawImage(v, 0, 0, m.width, m.height);
                                var d = .5;
                                return d = 1,
                                n(m.toDataURL("image/jpeg", d))
                            }
                              , y = setTimeout(function() {
                                return d("seek timeout, list.length: ".concat(N.value.length))
                            }, 2e3);
                            v.addEventListener("seeked", function() {
                                clearTimeout(y),
                                (0,
                                nV.isSafari)() && 0 === N.value.length ? setTimeout(function() {
                                    seekedFn()
                                }, 100) : seekedFn()
                            }, {
                                once: !0,
                                capture: !1
                            })
                        }
                    }
                    ).then(function(n) {
                        _.value = -1,
                        y("update-cover", {
                            cover: n,
                            type: eF.Frame,
                            recommendIdx: _.value,
                            frameTime: 1e3 * V.value.currentTime
                        })
                    }).catch(function(n) {
                        console.log("[seven] error info:", n)
                    })
                }
                  , handleMousedown = function(n) {
                    x = !0;
                    var d = n.currentTarget.getBoundingClientRect().left
                      , v = document.getElementById("images-ul")
                      , m = null == v ? void 0 : v.clientWidth
                      , h = n.clientX - d + -1;
                    S = n.clientX,
                    m && h >= -8 && h <= m && (z.value = h,
                    h === m - -1 ? setTime(U.value * h / (m - -1) - .1) : setTime(U.value * h / (m - -1)),
                    M = h)
                }
                  , getDuration = function() {
                    if (!!V.value)
                        !U.value && (U.value = V.value.duration,
                        O.value = V.value.videoWidth,
                        R.value = V.value.videoHeight,
                        B.value.width = O.value,
                        B.value.height = R.value)
                }
                  , resetVideo = function() {
                    U.value = 0,
                    O.value = 0,
                    R.value = 0,
                    z.value = 0
                }
                  , timeupdate = function(n) {
                    !k.value && resetVideo(),
                    changeCover()
                }
                  , Q = t1()(function(n) {
                    V.value.currentTime = n
                }, 100)
                  , J = t1()(function(n) {
                    if (x) {
                        var d = document.getElementById("images-ul")
                          , v = null == d ? void 0 : d.clientWidth;
                        if (v) {
                            var m = n.clientX - S
                              , h = M + m;
                            h >= -1 && h <= v && (z.value = h,
                            h === v - -1 ? Q(U.value * h / (v - -1) - .1) : Q(U.value * h / (v - -1)))
                        }
                    }
                }, 16)
                  , openFilePicker = function() {
                    var n, d;
                    null === (d = Z.value) || void 0 === d || null === (n = d.click) || void 0 === n || n.call(d)
                };
                var G = (v = (0,
                eo._)(function() {
                    var n, d, v, m;
                    return (0,
                    ei.Jh)(this, function(h) {
                        if (!Z.value)
                            return [2];
                        if (d = null === (n = Z.value.files) || void 0 === n ? void 0 : n[0],
                        v = null,
                        d && (v = URL.createObjectURL(d)),
                        d) {
                            if (m = checkImageUpload(d),
                            tD.emit("CheckImageType", {
                                type: m.type
                            }),
                            m.code !== eW.Success)
                                return el.Z.danger(m.msg),
                                Z.value.value = "",
                                y("upload-file-fail"),
                                [2];
                            _.value = -1,
                            y("update-cover", {
                                cover: d,
                                type: eF.Upload,
                                recommendIdx: _.value,
                                isUpload: !0,
                                blob: v
                            })
                        }
                        return [2]
                    })
                }),
                function handleUploadCover() {
                    return v.apply(this, arguments)
                }
                )
                  , handleMouseup = function() {
                    x = !1
                };
                var Y = (m = (0,
                eo._)(function(n) {
                    var d, v;
                    return (0,
                    ei.Jh)(this, function(m) {
                        switch (m.label) {
                        case 0:
                            var h;
                            return d = I.value[n],
                            _.value = n,
                            [4, (h = d.url,
                            new Promise(function(n, d) {
                                if (!h) {
                                    n("");
                                    return
                                }
                                var v = new Image;
                                v.crossOrigin = "anonymous",
                                v.src = h,
                                v.onload = function() {
                                    var d = document.createElement("canvas");
                                    d.width = v.width,
                                    d.height = v.height;
                                    var m = d.getContext("2d");
                                    null == m || m.drawImage(v, 0, 0),
                                    n(d.toDataURL())
                                }
                                ,
                                v.onerror = function() {
                                    d("")
                                }
                            }
                            ))];
                        case 1:
                            return v = m.sent(),
                            y("recommend-tag-click", void 0),
                            y("update-cover", {
                                cover: v,
                                type: eF.Recommend,
                                recommendIdx: _.value
                            }),
                            [2]
                        }
                    })
                }),
                function useRecommendCover(n) {
                    return m.apply(this, arguments)
                }
                )
                  , addMouseUpListener = function() {
                    document.addEventListener("mouseup", handleMouseup)
                };
                return (0,
                H.onMounted)(function() {
                    addMouseUpListener()
                }),
                (0,
                H.onBeforeUnmount)(function() {
                    document.removeEventListener("mouseup", handleMouseup)
                }),
                function(n, d) {
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)(H.Fragment, null, [(0,
                    H.createElementVNode)("input", {
                        ref_key: "uploaderRef",
                        ref: Z,
                        accept: "image/png, image/jpeg, image/*",
                        type: "file",
                        style: {
                            display: "none"
                        },
                        onChange: G
                    }, null, 544), (0,
                    H.createElementVNode)("div", nD, [(0,
                    H.createElementVNode)("canvas", {
                        id: "canvas",
                        ref_key: "canvasRef",
                        ref: B,
                        style: {
                            display: "none"
                        }
                    }, null, 512), k.value ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("video", {
                        key: 0,
                        ref_key: "videoRef",
                        ref: V,
                        class: "cover-video video",
                        crossorigin: "anonymous",
                        src: k.value,
                        controls: !1,
                        onCanplay: getDuration,
                        onTimeupdate: timeupdate
                    }, null, 40, nB)) : (0,
                    H.createCommentVNode)("", !0), N.value.length ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", nL, [(0,
                    H.createElementVNode)("ul", {
                        id: "images-ul",
                        onMousedown: handleMousedown,
                        onMousemove: d[0] || (d[0] = function() {
                            for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                d[v] = arguments[v];
                            return (0,
                            H.unref)(J) && (0,
                            H.unref)(J).apply(h, (0,
                            er._)(d))
                        }
                        ),
                        onMouseup: handleMouseup
                    }, [((0,
                    H.openBlock)(!0),
                    (0,
                    H.createElementBlock)(H.Fragment, null, (0,
                    H.renderList)(N.value.filter(function(n, d) {
                        return !(1 & d)
                    }), function(n, d) {
                        return (0,
                        H.openBlock)(),
                        (0,
                        H.createElementBlock)("li", {
                            key: d,
                            class: "item"
                        }, [n ? ((0,
                        H.openBlock)(),
                        (0,
                        H.createElementBlock)("img", {
                            key: 0,
                            src: n,
                            "data-index": d,
                            draggable: "false",
                            alt: "",
                            onDragstart: (0,
                            H.withModifiers)(function() {
                                return !1
                            }, ["prevent"])
                        }, null, 40, nP)) : (0,
                        H.createCommentVNode)("", !0)])
                    }), 128)), (0,
                    H.withDirectives)((0,
                    H.createElementVNode)("li", {
                        ref_key: "point",
                        ref: z,
                        id: "point",
                        style: (0,
                        H.normalizeStyle)({
                            left: z.value + "px"
                        }),
                        class: "point"
                    }, d[1] || (d[1] = [(0,
                    H.createElementVNode)("span", {
                        class: "span1"
                    }, null, -1), (0,
                    H.createElementVNode)("span", {
                        class: "span2"
                    }, null, -1)]), 4), [[H.vShow, -1 === _.value]])], 32), (0,
                    H.createElementVNode)("div", nO, [((0,
                    H.openBlock)(!0),
                    (0,
                    H.createElementBlock)(H.Fragment, null, (0,
                    H.renderList)(I.value, function(n, d) {
                        return (0,
                        H.openBlock)(),
                        (0,
                        H.createElementBlock)("div", {
                            key: d
                        }, [(0,
                        H.createVNode)((0,
                        H.unref)(tA.Z), {
                            placement: "top",
                            trigger: "manual",
                            prepend: "",
                            visible: _.value === d
                        }, {
                            content: (0,
                            H.withCtx)(function() {
                                return [(0,
                                H.createElementVNode)("div", {
                                    class: "recommend-cover-container",
                                    style: (0,
                                    H.normalizeStyle)((0,
                                    n_._)({}, C.value))
                                }, [(0,
                                H.createElementVNode)("img", {
                                    class: "recommend-cover-image",
                                    src: n.url
                                }, null, 8, nU)], 4)]
                            }),
                            default: (0,
                            H.withCtx)(function() {
                                return [(0,
                                H.createElementVNode)("div", {
                                    class: "recommend-tag",
                                    style: (0,
                                    H.normalizeStyle)({
                                        border: _.value === d ? "0.4px solid rgba(255, 36, 66, 1)" : "0.2px solid rgba(0, 0, 0, 0.1)",
                                        background: _.value === d ? "rgba(255, 237, 235, 1)" : "#FFF",
                                        color: _.value === d ? "rgba(255, 36, 66, 1)" : "rgba(149, 149, 149, 1)"
                                    }),
                                    onClick: function(n) {
                                        return Y(d)
                                    }
                                }, " 推荐 ", 12, nR)]
                            }),
                            _: 2
                        }, 1032, ["visible"])])
                    }), 128))])], 512)) : ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", nj, " 正在解析视频流... ")), (0,
                    H.createElementVNode)("div", {
                        class: "upload-btn",
                        onClick: openFilePicker
                    }, [d[4] || (d[4] = (0,
                    H.createElementVNode)("img", {
                        class: "upload-icon",
                        src: "https://picasso-static.xiaohongshu.com/fe-platform/7ba438bf912f21fb82df387638ee7f8c3b88739e.png"
                    }, null, -1)), d[5] || (d[5] = (0,
                    H.createTextVNode)(" 上传图片 ")), (0,
                    H.createVNode)((0,
                    H.unref)(tA.Z), {
                        arrow: "",
                        placement: "bottom-start"
                    }, {
                        content: (0,
                        H.withCtx)(function() {
                            return d[2] || (d[2] = [(0,
                            H.createElementVNode)("div", {
                                class: "popover-cover-content"
                            }, [(0,
                            H.createElementVNode)("div", null, " 格式要求：支持png、jpg、jpeg，不支持webp、gif、live及其转化后的图片 "), (0,
                            H.createElementVNode)("div", null, " 比例要求：仅支持3:4至4:3比例图片，若超出该比例支持上传但需要裁切 "), (0,
                            H.createElementVNode)("div", null, " 图片大小：不超过32M ")], -1)])
                        }),
                        default: (0,
                        H.withCtx)(function() {
                            return d[3] || (d[3] = [(0,
                            H.createElementVNode)("img", {
                                class: "upload-info",
                                src: "https://picasso-static.xiaohongshu.com/fe-platform/e8f4ee7f57962f80797e3274a755bbedd4111ee0.png"
                            }, null, -1)])
                        }),
                        _: 1
                    })])])], 64)
                }
            }
        });
        let nz = (0,
        W.default)(nF, [["__scopeId", "data-v-46feff59"]]);
        var useHandleWheel = function(n) {
            var d, v = n.zeusEngine;
            return {
                handleWheel: t1()((d = (0,
                eo._)(function(n, d) {
                    var m, h, y, N, k, I, C, x, M, S, _, V, B, O, R, U, z, Z, Q, J;
                    return (0,
                    ei.Jh)(this, function(H) {
                        return (n.preventDefault(),
                        m = d === ez.FourToThree ? e7 : d === ez.ThreeToFour ? to : tu,
                        h = d === ez.FourToThree ? e9 : d === ez.ThreeToFour ? ta : tc,
                        y = getImageLayer(v)) ? (N = getImageLayerScale(v).y,
                        I = k = getImageLayerOriginScale(v, d),
                        C = k + 1,
                        x = N,
                        n.deltaY < 0 ? ((M = N + .1) > C && (x = C),
                        x = Math.min(C, M)) : ((S = N - .1) < I && (x = I),
                        x = Math.max(I, S)),
                        setImageLayerScale(v, x),
                        util_render(v),
                        y) ? (_ = y.getPosition(),
                        x < N && (B = (V = y.getAABB(0)).size.x + V.position.x,
                        O = _.x,
                        R = _.y,
                        isLessThanValues(B, m) && (U = m - B,
                        O = _.x + U),
                        isGreaterThanValues(V.position.x, h) && (z = h - V.position.x,
                        O = _.x + z),
                        isGreaterThanValues(V.position.y, 0) && (Z = -V.position.y,
                        R = _.y + Z),
                        isLessThanValues(V.size.y + V.position.y, 1) && (Q = 1 - (V.size.y + V.position.y),
                        R = _.y + Q),
                        J = v.createNewVector2(O, R),
                        y.setPosition(J),
                        J.delete(),
                        v.getCanvas().renderOneFrame(0)),
                        [2]) : [2] : [2]
                    })
                }),
                function(n, v) {
                    return d.apply(this, arguments)
                }
                ), 32, {
                    leading: !0
                })
            }
        }
          , nZ = {
            class: "canvas-container"
        }
          , nQ = {
            class: "cover-container"
        }
          , nJ = {
            id: "workspace",
            class: "cover"
        }
          , nH = ["width", "height"]
          , nG = ["width", "height"]
          , nY = {
            class: "loading"
        }
          , nW = {
            class: "cover-loading"
        }
          , nq = {
            class: "cover-loading-text"
        }
          , nX = {
            class: "problem"
        }
          , nK = (0,
        H.defineComponent)({
            __name: "Canvas",
            props: {
                coverUrl: {},
                backupCoverUrls: {},
                rate: {},
                zeusEngine: {},
                defaultTemplate: {},
                videoUrl: {},
                recommendCovers: {},
                activeRecommendCoverIdx: {},
                videoRatio: {}
            },
            emits: ["cover-type-change", "upload-file-fail", "recommend-tag-click"],
            setup: function(n, d) {
                var v, m, h, y, N, k = this, I = d.emit, C = (0,
                H.ref)(n.coverUrl), x = n.zeusEngine, M = (0,
                H.computed)(function() {
                    return n.coverUrl
                }), S = (0,
                H.computed)(function() {
                    return n.backupCoverUrls
                }), _ = (0,
                H.computed)(function() {
                    return n.rate
                }), V = (0,
                H.computed)(function() {
                    return n.defaultTemplate
                }), B = (0,
                H.computed)(function() {
                    return n.videoUrl
                }), O = (0,
                H.computed)(function() {
                    return n.recommendCovers
                }), R = (0,
                H.computed)(function() {
                    return n.activeRecommendCoverIdx
                }), U = (0,
                H.computed)(function() {
                    return n.videoRatio
                }), z = (0,
                H.ref)(!1), Z = (0,
                H.ref)(!1), Q = (0,
                H.ref)(!1), J = (0,
                H.ref)(eH.Default), G = (0,
                H.ref)([]), Y = 0, W = 0, q = 0, X = 0, K = 0, $ = null, ee = 0, et = null, en = (0,
                H.ref)(!1), ea = (0,
                H.ref)(!1), ec = eQ.ImageTranslate;
                var eu = (v = (0,
                eo._)(function() {
                    var n, d, v, m, h, y;
                    return (0,
                    ei.Jh)(this, function(N) {
                        switch (N.label) {
                        case 0:
                            if (!x || !C.value)
                                return console.warn("ZeusEngine is not provided by the plugin."),
                                [2];
                            N.label = 1;
                        case 1:
                            return N.trys.push([1, 5, , 6]),
                            [4, tz(x, {
                                width: 477 * eq.nx,
                                height: 337 * eq.nx
                            })];
                        case 2:
                            if (!(n = N.sent()).success)
                                return "glContextFailed" === n.msg && (z.value = !0),
                                tD.emit("Error", {
                                    message: n.msg || "render cover2canvas error"
                                }),
                                el.Z.danger("发生了一些错误，请刷新后重试"),
                                [2];
                            return [4, tj(C.value)];
                        case 3:
                            return [4, tF(x, N.sent(), _)];
                        case 4:
                            return (d = N.sent()).success ? Q.value = !0 : (tD.emit("Error", {
                                message: null !== (v = null == d ? void 0 : d.error) && void 0 !== v ? v : "render cover2canvas error"
                            }),
                            el.Z.danger("发生了一些错误，请刷新后重试")),
                            [3, 6];
                        case 5:
                            return m = N.sent(),
                            tD.emit("Error", {
                                message: JSON.stringify({
                                    message: null !== (h = null == m ? void 0 : m.message) && void 0 !== h ? h : "render cover2canvas error",
                                    stack: null !== (y = null == m ? void 0 : m.stack) && void 0 !== y ? y : ""
                                })
                            }),
                            [3, 6];
                        case 6:
                            return [2]
                        }
                    })
                }),
                function renderCover2Canvas() {
                    return v.apply(this, arguments)
                }
                )
                  , handleMouseUp = function(n) {
                    en.value = !1;
                    try {
                        if ($) {
                            var d, v = $.getType();
                            if (isMaterial(v.value)) {
                                var m = document.getElementById("overlayCanvas");
                                if (!m)
                                    return;
                                drawObb(m, $, _.value, G, ee)
                            }
                            var h = findControl(G.value, {
                                x: n.offsetX / 477,
                                y: n.offsetY / 337
                            });
                            h && (h.type === eZ.Delete && (J.value = eH.Pointer),
                            h.type === eZ.Copy && (J.value = eH.Pointer),
                            h.type === eZ.Rotate && (J.value = eH.Grab),
                            h.type === eZ.Plus && (J.value = eH.Pointer),
                            h.type === eZ.OBB && (J.value = eH.Move))
                        } else
                            J.value = eH.Default
                    } catch (n) {
                        console.error(n),
                        tD.emit("Error", {
                            message: JSON.stringify(null !== (d = null == n ? void 0 : n.message) && void 0 !== d ? d : "渲染错误")
                        })
                    }
                }
                  , pickLayer = function(n) {
                    var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    $ = n,
                    ee = d,
                    tD.emit("PickedLayer", {
                        layer: n,
                        index: d
                    }),
                    n && (et = n.getAABB(0))
                }
                  , handleDbClick = function(n) {
                    var d = n.offsetX
                      , v = n.offsetY
                      , m = x.createNewVector2(d / 477, v / 337)
                      , h = x.getCanvas();
                    if (!!h) {
                        var y = h.pickPoint(m);
                        if (m.delete(),
                        y) {
                            var N = y.get(0).layer
                              , k = y.get(0).index;
                            tD.emit("DoubleClickLayer", {
                                layer: N,
                                index: k
                            })
                        }
                    }
                };
                var es = (m = (0,
                eo._)(function(n) {
                    var d, v, m, h, y, N, k, I, C, M, S, V, B, O;
                    return (0,
                    ei.Jh)(this, function(R) {
                        if (Y = n.offsetX,
                        q = n.offsetX,
                        W = n.offsetY,
                        X = n.offsetY,
                        v = Y / 477,
                        m = W / 337,
                        h = x.createNewVector2(v, m),
                        y = null === (d = x.getCanvas()) || void 0 === d ? void 0 : d.pickPoint(h),
                        h.delete(),
                        !y)
                            return [2];
                        if (ec = eQ.ImageTranslate,
                        en.value = !0,
                        N = document.getElementById("overlayCanvas"),
                        k = findControl(G.value, {
                            x: v,
                            y: m
                        }))
                            k.type === eZ.Delete ? (tD.emit("DeleteLayer", {
                                layer: $
                            }),
                            (I = getImageLayer(x)) && pickLayer(I, 0),
                            G.value = []) : k.type === eZ.Copy ? tD.emit("CopyLayer", {
                                layer: $,
                                index: ee
                            }) : k.type === eZ.Rotate ? (ec = eQ.Rotate,
                            C = $.getRotation(),
                            M = $.getPosition(),
                            K = -(Math.atan2(X - 337 * M.y, q - 477 * M.x) * (180 / Math.PI) * 1) - C,
                            J.value = eH.Grabbing) : k.type === eZ.Plus ? ec = eQ.Plus : k.type === eZ.OBB && (ec = eQ.Translate,
                            S = y.get(0).layer,
                            pickLayer(S, V = y.get(0).index || 1),
                            drawObb(N, $, _.value, G, V),
                            J.value = eH.Move);
                        else {
                            if (B = y.get(0).layer,
                            pickLayer(B, O = y.get(0).index || 1),
                            isMaterial($.getType().value)) {
                                if (ec = eQ.Translate,
                                !N)
                                    return [2];
                                drawObb(N, $, _.value, G, O)
                            } else
                                clearObb(N, _.value, G);
                            J.value = eH.Default
                        }
                        return [2]
                    })
                }),
                function handleMouseDown(n) {
                    return m.apply(this, arguments)
                }
                );
                var ed = t1()((h = (0,
                eo._)(function(n) {
                    var d, v, m, h, y, N, k, I, C, M, S, V, B, O, R, U, z, Z;
                    return (0,
                    ei.Jh)(this, function(Q) {
                        if (!en.value)
                            return $ && (d = findControl(G.value, {
                                x: n.offsetX / 477,
                                y: n.offsetY / 337
                            })) ? (d.type === eZ.Delete && (J.value = eH.Pointer),
                            d.type === eZ.Copy && (J.value = eH.Pointer),
                            d.type === eZ.Rotate && (J.value = eH.Grab),
                            d.type === eZ.Plus && (J.value = eH.Pointer),
                            d.type === eZ.OBB && (J.value = eH.Move)) : J.value = eH.Default,
                            [2];
                        if (v = n.offsetX - Y,
                        m = n.offsetY - W,
                        Y = n.offsetX,
                        W = n.offsetY,
                        !$)
                            return [2];
                        if (h = $.getPosition(),
                        N = (y = x.createDenormalizeVector2(h)).x + v * eq.nx,
                        k = y.y + m * eq.nx,
                        I = x.createNormalizeVector2(N, k),
                        isMaterial($.getType().value)) {
                            if (ec === eQ.Rotate && (tD.emit("RotateLayer", {
                                layer: $,
                                position: h
                            }),
                            J.value = eH.Grabbing),
                            ec === eQ.Plus) {
                                var H;
                                if (!v && !m)
                                    return [2];
                                C = [v, m],
                                M = $.getPosition(),
                                S = $.getScale().x,
                                V = 477 * M.x,
                                B = 337 * M.y,
                                O = areVectorsSameDirection([q - V, X - B], C),
                                U = (R = {
                                    width: 477 * (H = et).size.x,
                                    height: 337 * H.size.y
                                }).width,
                                z = Math.max(Math.abs(v / (U / S)), Math.abs(m / (R.height / S))),
                                Z = O ? S + z : S - z,
                                tD.emit("ScaleLayer", {
                                    layer: $,
                                    scale: Z
                                }),
                                J.value = eH.Pointer
                            }
                            ec === eQ.Translate && (tD.emit("TranslateLayer", {
                                layer: $,
                                position: I
                            }),
                            J.value = eH.Move)
                        } else
                            tryImageLayerTranslateX($, I, x, _.value),
                            tryImageLayerTranslateY($, I, x),
                            util_render(x);
                        return I.delete(),
                        y.delete(),
                        [2]
                    })
                }),
                function(n) {
                    return h.apply(this, arguments)
                }
                ), 16);
                (0,
                H.onMounted)((0,
                eo._)(function() {
                    var n, d, v, m;
                    return (0,
                    ei.Jh)(this, function(h) {
                        switch (h.label) {
                        case 0:
                            if (document.addEventListener("mouseup", handleMouseUp),
                            !V.value)
                                return [3, 5];
                            return n = URL.createObjectURL(V.value),
                            [4, x.loadTemplate(n)];
                        case 1:
                            if (!(d = h.sent()).success)
                                return [3, 2];
                            return (null == d ? void 0 : d.isFontLost) && el.Z.danger("有字体下架，已替换成默认字体"),
                            util_render(x),
                            v = getImageLayerScale(x),
                            tD.emit("ChangeScale", {
                                scale: v.x
                            }),
                            Q.value = !0,
                            [3, 4];
                        case 2:
                            return [4, eu()];
                        case 3:
                            h.sent(),
                            h.label = 4;
                        case 4:
                            return [3, 7];
                        case 5:
                            return [4, eu()];
                        case 6:
                            h.sent(),
                            h.label = 7;
                        case 7:
                            if (!(m = document.getElementById("overlayCanvas")))
                                return [2];
                            return Z.value = !0,
                            Q.value && tD.emit("CanvasReady", void 0),
                            tD.on("PickLayer", function(n) {
                                pickLayer(n.layer, n.index)
                            }),
                            tD.on("OpenLoading", function() {
                                ea.value = !0
                            }),
                            tD.on("CloseLoading", function() {
                                ea.value = !1
                            }),
                            tD.on("Clear", function() {
                                clearObb(m, _.value, G)
                            }),
                            tD.on("DeleteLayer", function(n) {
                                deleteLayer(m, _, n.layer, G, x)
                            }),
                            tD.on("ScaleLayer", function(n) {
                                var d = n.layer;
                                scaleLayer(n.scale, d, x, ee)
                            }),
                            tD.on("RotateLayer", function(n) {
                                var d = n.layer
                                  , v = n.position;
                                rotateLayer(-(180 / Math.PI * Math.atan2(W - 337 * v.y, Y - 477 * v.x) * 1) - K, d, x, ee)
                            }),
                            tD.on("TranslateLayer", function(n) {
                                tryMaterialTranslate(n.layer, n.position, x, ee)
                            }),
                            tD.on("CopyLayer", function(n) {
                                var d = n.layer
                                  , v = n.index
                                  , h = d.copyLayer();
                                pickLayer(h, v),
                                x.getCanvas().renderOneFrame(0),
                                h && drawObb(m, h, _.value, G, ee)
                            }),
                            tD.on("DrawObb", function(n) {
                                var d = n.layer
                                  , v = n.index
                                  , h = n.opacity;
                                drawObb(m, d, _.value, G, v, h)
                            }),
                            tD.on("ClearObb", function() {
                                clearObb(m, _.value, G)
                            }),
                            drawCutBox(_.value, m),
                            [2]
                        }
                    })
                })),
                (0,
                H.onBeforeUnmount)((0,
                eo._)(function() {
                    return (0,
                    ei.Jh)(this, function(n) {
                        return document.removeEventListener("mouseup", handleMouseUp),
                        tD.off("Clear"),
                        tD.off("DeleteLayer"),
                        tD.off("ScaleLayer"),
                        tD.off("RotateLayer"),
                        tD.off("TranslateLayer"),
                        tD.off("CopyLayer"),
                        tD.off("DrawObb"),
                        tD.off("OpenLoading"),
                        tD.off("CloseLoading"),
                        tD.off("PickLayer"),
                        x.clear(),
                        [2]
                    })
                })),
                (0,
                H.watch)(M, (y = (0,
                eo._)(function(n, d) {
                    var v;
                    return (0,
                    ei.Jh)(this, function(n) {
                        if (!M.value || Q.value)
                            return [2];
                        if (d) {
                            if (removeAllLayer(x),
                            !(v = document.getElementById("overlayCanvas")))
                                return [2];
                            clearObb(v, _.value, G)
                        }
                        return !C.value && Z.value && tD.emit("CanvasReady", void 0),
                        C.value = M.value,
                        (0,
                        H.nextTick)(function() {
                            eu()
                        }),
                        [2]
                    })
                }),
                function(n, d) {
                    return y.apply(this, arguments)
                }
                ));
                var ev = (N = (0,
                eo._)(function(n) {
                    var d, v, m, h, y, N, k, C;
                    return (0,
                    ei.Jh)(this, function(M) {
                        switch (M.label) {
                        case 0:
                            return d = n.cover,
                            v = n.type,
                            m = n.recommendIdx,
                            y = void 0 === (h = n.frameTime) ? 0 : h,
                            k = void 0 !== (N = n.isUpload) && N,
                            C = n.blob,
                            [4, tz(x, {
                                width: 477 * eq.nx,
                                height: 337 * eq.nx
                            })];
                        case 1:
                            if (M.sent(),
                            "string" != typeof d)
                                return [3, 3];
                            return [4, tF(x, dataURLtoFile(d), _)];
                        case 2:
                            return M.sent(),
                            [3, 5];
                        case 3:
                            return [4, tF(x, d, _)];
                        case 4:
                            M.sent(),
                            M.label = 5;
                        case 5:
                            return !Q.value && (Q.value = !0,
                            Z.value && tD.emit("CanvasReady", void 0)),
                            I("cover-type-change", {
                                type: v,
                                recommendCoverIdx: m,
                                frameTime: y,
                                isUpload: k,
                                blob: C
                            }),
                            [2]
                        }
                    })
                }),
                function handleUpdateCover(n) {
                    return N.apply(this, arguments)
                }
                )
                  , em = useHandleWheel({
                    zeusEngine: x
                }).handleWheel;
                return function(n, d) {
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", nZ, [(0,
                    H.createElementVNode)("div", nQ, [(0,
                    H.createElementVNode)("div", nJ, [(0,
                    H.createElementVNode)("canvas", {
                        id: "zeusGL",
                        width: (0,
                        H.unref)(eX),
                        height: (0,
                        H.unref)(eK),
                        class: (0,
                        H.normalizeClass)(["canvas-gl", J.value]),
                        onMousedown: es,
                        onDblclick: handleDbClick,
                        onMousemove: d[0] || (d[0] = function() {
                            for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                d[v] = arguments[v];
                            return (0,
                            H.unref)(ed) && (0,
                            H.unref)(ed).apply(k, (0,
                            er._)(d))
                        }
                        ),
                        onWheel: d[1] || (d[1] = (0,
                        H.withModifiers)(function(n) {
                            return (0,
                            H.unref)(em)(n, _.value)
                        }, ["prevent"]))
                    }, null, 42, nH), (0,
                    H.createElementVNode)("canvas", {
                        id: "overlayCanvas",
                        width: (0,
                        H.unref)(eX),
                        height: (0,
                        H.unref)(eK),
                        class: "canvas-overlay"
                    }, null, 8, nG), (0,
                    H.withDirectives)((0,
                    H.createElementVNode)("div", nY, d[4] || (d[4] = [(0,
                    H.createElementVNode)("img", {
                        class: "loading-icon",
                        src: nS
                    }, null, -1)]), 512), [[H.vShow, ea.value]]), (0,
                    H.withDirectives)((0,
                    H.createElementVNode)("div", nW, [(0,
                    H.withDirectives)((0,
                    H.createElementVNode)("span", nq, d[5] || (d[5] = [(0,
                    H.createElementVNode)("img", {
                        class: "loading-icon",
                        src: nS
                    }, null, -1), (0,
                    H.createTextVNode)(" 视频加载中，可上传图片或加载完成后选取视频帧 ")]), 512), [[H.vShow, !z.value]]), (0,
                    H.withDirectives)((0,
                    H.createVNode)((0,
                    H.unref)(tA.Z), {
                        arrow: "",
                        trigger: "hover",
                        placement: "bottom-start"
                    }, {
                        content: (0,
                        H.withCtx)(function() {
                            return d[7] || (d[7] = [(0,
                            H.createElementVNode)("div", {
                                class: "problem-container"
                            }, [(0,
                            H.createElementVNode)("div", {
                                class: "title"
                            }, "解决措施"), (0,
                            H.createElementVNode)("div", {
                                class: "desc"
                            }, "第 1 步：打开浏览器设置"), (0,
                            H.createElementVNode)("div", {
                                class: "desc"
                            }, "第 2 步：在设置中搜索【图形加速】/【硬件加速】插件并打开开关"), (0,
                            H.createElementVNode)("img", {
                                class: "problem-image",
                                src: "https://picasso-static.xiaohongshu.com/fe-platform/249a5f125b11c3b9a1ff4a0930d8c87429e97824.png",
                                alt: "步骤2"
                            }), (0,
                            H.createElementVNode)("div", {
                                class: "desc"
                            }, "第 3 步：点击【重新启动】"), (0,
                            H.createElementVNode)("img", {
                                class: "problem-image",
                                src: "https://picasso-static.xiaohongshu.com/fe-platform/7af1692072e0c283c86a86bbf6666a44c1dcf06b.png",
                                alt: "步骤3"
                            }), (0,
                            H.createElementVNode)("div", {
                                class: "desc"
                            }, "第 4 步：重新尝试，如仍遇到问题请联系客服")], -1)])
                        }),
                        default: (0,
                        H.withCtx)(function() {
                            return [(0,
                            H.withDirectives)((0,
                            H.createElementVNode)("div", nX, d[6] || (d[6] = [(0,
                            H.createElementVNode)("span", null, "视频加载遇到问题，", -1), (0,
                            H.createTextVNode)(" 查看解决方案 ")]), 512), [[H.vShow, z.value]])]
                        }),
                        _: 1
                    }, 512), [[H.vShow, z.value]])], 512), [[H.vShow, !Q.value || !Z.value]])]), (0,
                    H.createVNode)(nz, {
                        "backup-cover-urls": S.value,
                        rate: _.value,
                        "video-url": B.value,
                        "zeus-engine": (0,
                        H.unref)(x),
                        "recommend-covers": O.value,
                        activeRecommendCoverIdx: R.value,
                        videoRatio: U.value,
                        onUpdateCover: ev,
                        onRecommendTagClick: d[2] || (d[2] = function() {
                            return I("recommend-tag-click")
                        }
                        ),
                        onUploadFileFail: d[3] || (d[3] = function() {
                            return I("upload-file-fail")
                        }
                        )
                    }, null, 8, ["backup-cover-urls", "rate", "video-url", "zeus-engine", "recommend-covers", "activeRecommendCoverIdx", "videoRatio"])])])
                }
            }
        });
        let n$ = (0,
        W.default)(nK, [["__scopeId", "data-v-596d1834"]]);
        v(85945);
        var useGetImage = function(n) {
            var d, v, m, h = n.zeusEngine, y = "", getX = function(n) {
                switch (n) {
                case ez.FourToThree:
                    return e9;
                case ez.ThreeToFour:
                    return ta;
                case ez.OneToOne:
                    return tc;
                default:
                    return e9
                }
            };
            var N = (d = (0,
            eo._)(function(n) {
                var d, v;
                return (0,
                ei.Jh)(this, function(m) {
                    if (!(d = h.getCanvas()))
                        return [2, 0];
                    switch (v = d.getWidth(),
                    n) {
                    case ez.FourToThree:
                        return [2, v * e3];
                    case ez.ThreeToFour:
                        return [2, v * e5];
                    case ez.OneToOne:
                        return [2, v * e8];
                    default:
                        return [2, v]
                    }
                    return [2]
                })
            }),
            function getWidth(n) {
                return d.apply(this, arguments)
            }
            );
            var k = (v = (0,
            eo._)(function() {
                var n;
                return (0,
                ei.Jh)(this, function(d) {
                    return (n = h.getCanvas()) ? [2, n.getHeight()] : [2, 0]
                })
            }),
            function getHeight() {
                return v.apply(this, arguments)
            }
            );
            return {
                getImageUrl: (m = (0,
                eo._)(function(n) {
                    var d, v, m, I, C, x, M, S, _, V;
                    return (0,
                    ei.Jh)(this, function(B) {
                        switch (B.label) {
                        case 0:
                            return v = getX(d = n.rate),
                            m = 0,
                            [4, N(d)];
                        case 1:
                            return I = B.sent(),
                            [4, k()];
                        case 2:
                            if (C = B.sent(),
                            !I || !C)
                                return [2, ""];
                            if (x = Math.trunc(I),
                            M = Math.trunc(C),
                            S = Math.trunc(x / 5),
                            _ = Math.trunc(M / 5),
                            V = h.getExportImage(!1, v, m, x, M, S, _),
                            !y)
                                return [2, y = URL.createObjectURL(V)];
                            return URL.revokeObjectURL(y),
                            [2, y = URL.createObjectURL(V)]
                        }
                    })
                }),
                function getImageUrl(n) {
                    return m.apply(this, arguments)
                }
                )
            }
        }
          , n0 = v.p + "resource/image/topbar.cb7941f1.png"
          , n1 = v.p + "resource/image/homebar.5e8b4e25.png"
          , n2 = ["src"]
          , n4 = {
            key: 0,
            src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK2SURBVHgBtZa/b9NAFMffXYIUfigyEkFWEFJEkeIBihWlP0YPDAyo7UQXpCB1YESo/0EHtkpNs6JUYSoSA2VAtEKVK1WJES21ypJsJirE2dw0gTSkNu8SUmiaOE7qfgf77Ht3H/veu/eOQA9JkuQrlX6JpmnxAGaIEOKzLMvH+gixdLwalkWyAJc1VZUNu7mIHcQwyuM4+Xhr8t6iKsAluRu0IywSGUOAKTmHnBCCCAI/q+0dnvYXohhlkPvY9MJgYh8o8HwQdP2H1hXGQHiTwB2F2oGef6AREW8PwF2FgkG+WigU9tgDbYIkDsCS4ByEkSqxYDuGAfyU8MLBOQhhjahmbU/zrw6n7AYMD9/lFhcXJkdHR67t7n4tViqVOvQh3I+8IIS3PDwfEPBZsDOenX0+hqDo0NCt0MTEwzscd7WqKJ+K4BznrdWqZUoIFaAP+f1+LhZ7PLW29v4p+2On40yT8OgzayBfBQIBPpVKPltaejnpDEpCFDMFD2eQKN4TE4mF2MzMk7CdHfrNR8EFsaWdnn4k2dmwqESfkSqcUTX0/vLy641edl7Mgww2SMJtKJ1OK3NzLzaKxaLtR7NyhMnW0rApQp/K5/NaPJ5YXV+XdWcjiOGl1Kub5pGt2cFB+bDVLpVKRir1ajWZTGWhD7EC6/X7L6r7+xXb2rWy8i4bjUbCuVzu2/x8XOm1ZJ31W2sUT5dLSwdZqqpuv22EPsddUdyIyi7Cyn0ks0ajnmmaVg8Gb9ZxKW+D6yIfVPWLdgxjKhS+77HKigqBe8KzyJbSejhxLGAl3EUgA8n/vzh14GkCb7CjGMuZfW925ntKzY87O9ub7X2eTgMQqPP8ddxHBGHEUaL+G2CbGGxvMpmM1tGm1ySiKGL5uIAnYQvrHuVaVYJN3kx1VKOU6Gy/yrJsG9F/ALiRGbHTdzoJAAAAAElFTkSuQmCC",
            alt: "",
            class: "video-icon"
        }
          , n3 = {
            key: 0,
            class: "target"
        }
          , n5 = {
            class: "title"
        }
          , n8 = {
            class: "info"
        }
          , n6 = {
            class: "left"
        }
          , n9 = ["src"]
          , n7 = (0,
        H.defineComponent)({
            __name: "SingleNote",
            props: {
                noteInfo: {
                    default: function() {
                        return {
                            ratio: 4 / 3,
                            url: "",
                            userIcon: "",
                            title: "",
                            name: "",
                            noteType: "image"
                        }
                    }
                },
                size: {
                    default: "small"
                }
            },
            setup: function(n) {
                var d = (0,
                H.ref)(null)
                  , v = (0,
                H.ref)(0);
                (0,
                H.onMounted)(function() {
                    d.value && (v.value = d.value.getBoundingClientRect().width || 121)
                });
                var m = (0,
                H.computed)(function() {
                    var d, m = (d = n.noteInfo.ratio) >= 4 / 3 ? 4 / 3 : d <= 3 / 4 ? 3 / 4 : d;
                    return v.value ? (v.value / m).toFixed(2) : 0
                });
                return function(n, v) {
                    return n.noteInfo ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", {
                        key: 0,
                        ref_key: "noteRef",
                        ref: d,
                        class: "single-note"
                    }, [n.noteInfo.url ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", {
                        key: 0,
                        class: "cover",
                        style: (0,
                        H.normalizeStyle)({
                            height: "".concat(m.value, "px")
                        })
                    }, [(0,
                    H.createElementVNode)("img", {
                        src: n.noteInfo.url,
                        alt: "",
                        class: "cover",
                        style: (0,
                        H.normalizeStyle)({
                            height: "".concat(m.value, "px")
                        })
                    }, null, 12, n2), "video" === n.noteInfo.noteType ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("img", n4)) : (0,
                    H.createCommentVNode)("", !0)], 4)) : ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", {
                        key: 1,
                        class: "blank",
                        style: (0,
                        H.normalizeStyle)({
                            height: "".concat(m.value, "px")
                        })
                    }, [n.noteInfo.target && !n.noteInfo.url ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", n3, "请选择封面")) : (0,
                    H.createCommentVNode)("", !0)], 4)), (0,
                    H.createElementVNode)("div", {
                        class: (0,
                        H.normalizeClass)(["info-container", (0,
                        J._)({}, n.size, n.size)])
                    }, [(0,
                    H.createElementVNode)("div", n5, [(0,
                    H.createElementVNode)("div", {
                        class: (0,
                        H.normalizeClass)(["ellipsis", (0,
                        J._)({}, n.size, n.size)])
                    }, (0,
                    H.toDisplayString)(n.noteInfo.title || "请先填写标题"), 3)]), (0,
                    H.createElementVNode)("div", n8, [(0,
                    H.createElementVNode)("div", n6, [((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("img", {
                        key: n.noteInfo.userIcon,
                        src: n.noteInfo.userIcon,
                        alt: "",
                        class: (0,
                        H.normalizeClass)(["icon user", (0,
                        J._)({}, n.size, n.size)])
                    }, null, 10, n9)), (0,
                    H.createElementVNode)("span", {
                        class: (0,
                        H.normalizeClass)(["name", (0,
                        J._)({}, n.size, n.size)])
                    }, (0,
                    H.toDisplayString)(n.noteInfo.name), 3)]), v[0] || (v[0] = (0,
                    H.createElementVNode)("div", {
                        class: "like"
                    }, [(0,
                    H.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAARCAYAAADQWvz5AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFSSURBVHgBrZTBbYMwFIZtp3DiwAZNJmgkFqAbZINwAMSRDWgmCEeEkMoI3SDuAEhhA0boHQT9H8JSohIKKL9kPz8bPj+/Z+DsRq7r2jB7zvm267qqaZqvPM8rtSaEsDFvwr3WdS3VGolT5ziOqWnaJwAHuCVBCIbxG8Y5xj0AthzeeyUf7ZRlWUwTL9Tpun6BMbHje5IkUu0SBMG2bdsL2rdhGGEcxz9qzff9EOAzImUE457nOZiIBkjFFohgiCrCMXd4XxwBkkshpDRN+2MhLQeBsHcUOlspBHKlfAr2JAk6FuyRrRCqTdfExokk5agvLxK3GIbcnGEqVE2KodwntHwJDNWme7enapO/oa4oCmlZFl3OGLaCX86A2LdXZqMW58LGIHegObBHkD+gKdgUhMTZAyHxHzARmkMlnoKMRjQWGSDmmm/xTvgD2GEYmv899wvdq8O+oFvUSwAAAABJRU5ErkJggg==",
                        alt: "",
                        class: "icon"
                    }), (0,
                    H.createElementVNode)("span", null, "0")], -1))])], 2)], 512)) : (0,
                    H.createCommentVNode)("", !0)
                }
            }
        });
        let ae = (0,
        W.default)(n7, [["__scopeId", "data-v-a3e7bd1a"]]);
        var at = {
            class: "cover"
        }
          , an = {
            class: "content"
        }
          , aa = {
            class: "left"
        }
          , ao = {
            class: "right"
        }
          , ar = (0,
        H.defineComponent)({
            __name: "Index",
            props: {
                title: {
                    default: ""
                },
                noteType: {},
                coverRatio: {},
                coverUrl: {},
                userInfo: {},
                usreInfo: {},
                size: {}
            },
            setup: function(n) {
                var d = [{
                    url: "",
                    ratio: 1,
                    userIcon: "https://picasso-static.xiaohongshu.com/fe-platform/6544a4b19792523b3a9c97aa0fec738f821381cf.png",
                    title: "示例笔记标题1",
                    name: "用户名",
                    noteType: "image"
                }, {
                    url: "",
                    ratio: .75,
                    userIcon: "https://picasso-static.xiaohongshu.com/fe-platform/6544a4b19792523b3a9c97aa0fec738f821381cf.png",
                    title: "示例笔记标题3",
                    name: "用户名",
                    noteType: "image"
                }, {
                    url: "",
                    ratio: 1,
                    userIcon: "https://picasso-static.xiaohongshu.com/fe-platform/6544a4b19792523b3a9c97aa0fec738f821381cf.png",
                    title: "示例笔记标题1",
                    name: "用户名",
                    noteType: "image"
                }]
                  , v = (0,
                H.computed)(function() {
                    var d, v;
                    return [{
                        url: n.coverUrl || "",
                        ratio: n.coverRatio,
                        userIcon: (null === (d = n.userInfo) || void 0 === d ? void 0 : d.image) || "https://picasso-static.xiaohongshu.com/fe-platform/6544a4b19792523b3a9c97aa0fec738f821381cf.png",
                        title: n.title || "示例笔记标题1",
                        name: (null === (v = n.userInfo) || void 0 === v ? void 0 : v.nickname) || "用户名",
                        noteType: n.noteType,
                        target: !0
                    }, {
                        url: "",
                        ratio: 3 / 4,
                        userIcon: "https://picasso-static.xiaohongshu.com/fe-platform/6544a4b19792523b3a9c97aa0fec738f821381cf.png",
                        title: "示例笔记标题2",
                        name: "用户名",
                        noteType: "image"
                    }, {
                        url: "",
                        ratio: 1,
                        userIcon: "https://picasso-static.xiaohongshu.com/fe-platform/6544a4b19792523b3a9c97aa0fec738f821381cf.png",
                        title: "示例笔记标题4",
                        name: "用户名",
                        noteType: "image"
                    }]
                });
                return function(n, m) {
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", at, [m[0] || (m[0] = (0,
                    H.createElementVNode)("img", {
                        src: n0,
                        alt: "",
                        class: "topbar"
                    }, null, -1)), (0,
                    H.createElementVNode)("div", an, [(0,
                    H.createElementVNode)("div", aa, [((0,
                    H.openBlock)(!0),
                    (0,
                    H.createElementBlock)(H.Fragment, null, (0,
                    H.renderList)(v.value, function(d, v) {
                        return (0,
                        H.openBlock)(),
                        (0,
                        H.createBlock)(ae, {
                            key: v,
                            "note-info": d,
                            size: n.size
                        }, null, 8, ["note-info", "size"])
                    }), 128))]), (0,
                    H.createElementVNode)("div", ao, [((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)(H.Fragment, null, (0,
                    H.renderList)(d, function(d, v) {
                        return (0,
                        H.createVNode)(ae, {
                            key: v,
                            "note-info": d,
                            size: n.size
                        }, null, 8, ["note-info", "size"])
                    }), 64))])]), m[1] || (m[1] = (0,
                    H.createElementVNode)("img", {
                        src: n1,
                        alt: "",
                        class: "bottom"
                    }, null, -1))])
                }
            }
        })
          , ai = (0,
        W.default)(ar, [["__scopeId", "data-v-93cdd416"]])
          , al = v(51899)
          , ac = v.n(al)
          , au = {
            class: "preview-container"
        }
          , as = (0,
        H.defineComponent)({
            __name: "Preview",
            props: {
                rate: {},
                zeusEngine: {}
            },
            setup: function(n) {
                var d, v = (0,
                H.toRefs)(n), m = v.rate, h = v.zeusEngine, y = (0,
                H.computed)(function() {
                    return m.value
                }), N = useGetImage({
                    zeusEngine: h.value
                }).getImageUrl, k = (0,
                H.ref)("");
                var I = (d = (0,
                eo._)(function() {
                    var n;
                    return (0,
                    ei.Jh)(this, function(d) {
                        switch (d.label) {
                        case 0:
                            return [4, N({
                                rate: y.value
                            })];
                        case 1:
                            return n = d.sent(),
                            k.value = n,
                            [2]
                        }
                    })
                }),
                function render() {
                    return d.apply(this, arguments)
                }
                )
                  , C = ac()(I, 1e3);
                (0,
                H.onMounted)(function() {
                    tD.on("Render", C)
                }),
                (0,
                H.onBeforeUnmount)(function() {
                    tD.off("Render")
                });
                var x = (0,
                H.computed)(function() {
                    switch (y.value) {
                    case ez.FourToThree:
                        return 4 / 3;
                    case ez.ThreeToFour:
                        return 3 / 4;
                    case ez.OneToOne:
                        return 1;
                    default:
                        return 3 / 4
                    }
                });
                return function(n, d) {
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", au, [(0,
                    H.createVNode)(ai, {
                        "cover-url": k.value,
                        title: "",
                        "note-type": "video",
                        "cover-ratio": x.value,
                        size: "small"
                    }, null, 8, ["cover-url", "cover-ratio"])])
                }
            }
        });
        let ad = (0,
        W.default)(as, [["__scopeId", "data-v-8bbc67bc"]]);
        var av = v(22522)
          , getBaseUrl = function() {
            return "beta" == (window.location.host.match(/\.sl\.sit\.xiaohongshu\.com$/) ? "slSit" : window.location.host.match(/\.sit\.xiaohongshu\.com$/) ? "sit" : window.location.host.match(/\.beta\.xiaohongshu\.com$/) ? "beta" : "prod") ? "https://zeuswebsdk.beta.xiaohongshu.com" : "https://zeuswebsdk.xiaohongshu.com"
        }
          , getFontFamily = function() {
            var n = getBaseUrl();
            return av.dJ.get("".concat(n, "/api/web/get-all-web-fonts"))
        }
          , am = function() {
            function RequestHelper() {
                (0,
                eS._)(this, RequestHelper)
            }
            return (0,
            e_._)(RequestHelper, [{
                key: "getSignature",
                value: function getSignature(n) {
                    return (0,
                    eo._)(function() {
                        return (0,
                        ei.Jh)(this, function(d) {
                            switch (d.label) {
                            case 0:
                                if (void 0 !== RequestHelper.signatureModule)
                                    return [3, 2];
                                return [4, (0,
                                eM.rc)()];
                            case 1:
                                RequestHelper.signatureModule = d.sent(),
                                d.label = 2;
                            case 2:
                                return [2, RequestHelper.signatureModule.getSignature(n)]
                            }
                        })
                    })()
                }
            }, {
                key: "postRequest",
                value: function postRequest(n, d) {
                    var v = this;
                    return (0,
                    eo._)(function() {
                        var m, h, y, N;
                        return (0,
                        ei.Jh)(this, function(k) {
                            switch (k.label) {
                            case 0:
                                return k.trys.push([0, 3, , 4]),
                                m = Date.now(),
                                d.timestamp = m.toString(),
                                h = JSON.stringify(d),
                                [4, v.getSignature(h)];
                            case 1:
                                return y = k.sent(),
                                N = "".concat(n, "?signature=").concat(y),
                                [4, av.dJ.post(N, d)];
                            case 2:
                                return [2, k.sent()];
                            case 3:
                                return console.error("请求出错:", k.sent()),
                                [2, void 0];
                            case 4:
                                return [2]
                            }
                        })
                    })()
                }
            }], [{
                key: "getInstance",
                value: function getInstance() {
                    return !RequestHelper.instance && (RequestHelper.instance = new RequestHelper),
                    RequestHelper.instance
                }
            }]),
            RequestHelper
        }();
        (0,
        J._)(am, "instance", null),
        (0,
        J._)(am, "signatureModule", void 0);
        var getMaterial = function(n, d) {
            var v = getBaseUrl();
            return am.getInstance().postRequest("".concat(v, "/api/web/athena-categories"), {
                type: n,
                channel: d
            })
        }
          , getMaterialDetail = function(n) {
            var d = getBaseUrl();
            return am.getInstance().postRequest("".concat(d, "/api/web/list-athena-assets4category"), n)
        }
          , af = {
            key: 0,
            "d-loading-text": "素材加载中",
            class: "material-container loading"
        }
          , ap = {
            key: 1,
            class: "material-container"
        }
          , ag = ["onClick"]
          , ah = ["src"]
          , ay = {
            key: 1
        }
          , aN = {
            key: 2,
            class: "material-container error"
        }
          , ak = (0,
        H.defineComponent)({
            __name: "Material",
            props: {
                currentTab: {},
                currentMaterialTab: {},
                coverUrl: {},
                tabMaterials: {}
            },
            emits: ["set-current-material-tab", "material-click", "set-tab-materials", "set-tab-materials-detail", "report-material-points"],
            setup: function(n, d) {
                var v, m, h, y, N, k = d.emit, I = (0,
                H.computed)(function() {
                    return n.currentMaterialTab[n.currentTab].idx
                }), C = (0,
                H.ref)(null), x = (0,
                H.ref)(null), M = (0,
                H.ref)(""), S = (0,
                H.computed)(function() {
                    return n.tabMaterials[n.currentTab][I.value]
                }), _ = (0,
                H.ref)("none"), V = (0,
                H.ref)("none"), B = (0,
                H.ref)("loading");
                var O = (v = (0,
                eo._)(function(d, v, m) {
                    var h, y, N, C, x;
                    return (0,
                    ei.Jh)(this, function(M) {
                        switch (M.label) {
                        case 0:
                            if (null === (N = n.tabMaterials[v]) || void 0 === N ? void 0 : null === (y = N[d]) || void 0 === y ? void 0 : null === (h = y.materials) || void 0 === h ? void 0 : h.length)
                                return [2];
                            M.label = 1;
                        case 1:
                            if (M.trys.push([1, 3, , 4]),
                            !m)
                                throw Error("categoryId is required");
                            return [4, getMaterialDetail({
                                categoryId: m,
                                type: v,
                                channel: eG.creator,
                                page: 1,
                                pageSize: 20
                            })];
                        case 2:
                            return x = M.sent(),
                            v === ej.Text && "6" === m && x.athenaAssets.forEach(function(n) {
                                n.dependencies = tf
                            }),
                            null == x || null === (C = x.athenaAssets) || void 0 === C || C.forEach(function(d) {
                                var v, m;
                                k("report-material-points", "materialImpression", {
                                    channelTabName: null === (v = tN.find(function(d) {
                                        return d.id === n.currentTab
                                    })) || void 0 === v ? void 0 : v.name,
                                    componentId: null === (m = n.tabMaterials[n.currentTab][I.value]) || void 0 === m ? void 0 : m.id,
                                    contentId: d.id
                                })
                            }),
                            k("set-tab-materials-detail", v, m, x),
                            [3, 4];
                        case 3:
                            return console.error(M.sent()),
                            B.value = "error",
                            [3, 4];
                        case 4:
                            return [2]
                        }
                    })
                }),
                function fetchMaterialDetail(n, d, m) {
                    return v.apply(this, arguments)
                }
                );
                var R = (m = (0,
                eo._)(function(d) {
                    var v, m, h, y, N, I;
                    return (0,
                    ei.Jh)(this, function(C) {
                        switch (C.label) {
                        case 0:
                            if (null === (v = n.tabMaterials[d]) || void 0 === v ? void 0 : v.length)
                                return [2];
                            C.label = 1;
                        case 1:
                            return C.trys.push([1, 3, , 4]),
                            B.value = "loading",
                            [4, getMaterial(d, eG.creator)];
                        case 2:
                            if (k("set-tab-materials", d, null == (N = C.sent()) ? void 0 : N.assetCategories),
                            !(null == N ? void 0 : null === (m = N.assetCategories) || void 0 === m ? void 0 : m.length))
                                throw Error("no category list");
                            return I = n.currentMaterialTab[n.currentTab].idx,
                            O(0, d, null == N ? void 0 : null === (y = N.assetCategories) || void 0 === y ? void 0 : null === (h = y[I]) || void 0 === h ? void 0 : h.id),
                            B.value = "success",
                            [3, 4];
                        case 3:
                            return console.error(C.sent()),
                            B.value = "error",
                            [3, 4];
                        case 4:
                            return [2]
                        }
                    })
                }),
                function fetchMaterials(n) {
                    return m.apply(this, arguments)
                }
                );
                (0,
                H.watch)(function() {
                    return n.currentTab
                }, (h = (0,
                eo._)(function(n, d) {
                    return (0,
                    ei.Jh)(this, function(v) {
                        return n !== d && R(n),
                        [2]
                    })
                }),
                function(n, d) {
                    return h.apply(this, arguments)
                }
                ));
                var U = (y = (0,
                eo._)(function(d, v) {
                    var m, h;
                    return (0,
                    ei.Jh)(this, function(y) {
                        return h = null === (m = tN.find(function(d) {
                            return d.id === n.currentTab
                        })) || void 0 === m ? void 0 : m.name,
                        k("set-current-material-tab", d.id, v),
                        k("report-material-points", "chooseCategory", {
                            channelTabName: h,
                            componentId: d.id
                        }),
                        O(v, n.currentTab, d.id),
                        [2]
                    })
                }),
                function tabClick(n, d) {
                    return y.apply(this, arguments)
                }
                );
                (0,
                H.onMounted)((0,
                eo._)(function() {
                    return (0,
                    ei.Jh)(this, function(d) {
                        return R(n.currentTab),
                        [2]
                    })
                }));
                var materialClick = function(d) {
                    var v;
                    if (k("report-material-points", "materialClick", {
                        channelTabName: null === (v = tN.find(function(d) {
                            return d.id === n.currentTab
                        })) || void 0 === v ? void 0 : v.name,
                        componentId: n.tabMaterials[n.currentTab][I.value].id,
                        contentId: d.id
                    }),
                    !n.currentMaterialTab[n.currentTab].loading && (n.currentTab !== ej.Template || _.value !== d.id))
                        (n.currentTab !== ej.Filter || V.value !== d.id) && (n.currentTab === ej.Template && (_.value = d.id),
                        n.currentTab === ej.Filter && (V.value = d.id),
                        M.value = "".concat(I.value).concat(d.id),
                        k("material-click", d))
                }
                  , z = (0,
                H.ref)(!1);
                var Z = (N = (0,
                eo._)(function() {
                    var d;
                    return (0,
                    ei.Jh)(this, function(v) {
                        switch (v.label) {
                        case 0:
                            if (z.value || !S.value.totalNum || !S.value.materials || S.value.totalNum <= S.value.materials.length)
                                return [2];
                            return z.value = !0,
                            [4, getMaterialDetail({
                                categoryId: S.value.id,
                                type: n.currentTab,
                                channel: eG.creator,
                                page: S.value.page || 1,
                                pageSize: 20
                            })];
                        case 1:
                            return d = v.sent(),
                            n.currentTab === ej.Text && "6" === S.value.id && d.athenaAssets.forEach(function(n) {
                                n.dependencies = tf
                            }),
                            null == d || d.athenaAssets.forEach(function(d) {
                                var v;
                                k("report-material-points", "materialImpression", {
                                    channelTabName: null === (v = tN.find(function(d) {
                                        return d.id === n.currentTab
                                    })) || void 0 === v ? void 0 : v.name,
                                    componentId: n.tabMaterials[n.currentTab][I.value].id,
                                    contentId: d.id
                                })
                            }),
                            k("set-tab-materials-detail", n.currentTab, S.value.id, d, !0),
                            z.value = !1,
                            [2]
                        }
                    })
                }),
                function loadMore() {
                    return N.apply(this, arguments)
                }
                )
                  , handleMaterialsScroll = function() {
                    if (C.value && x.value) {
                        var n = x.value;
                        n.clientHeight + n.scrollTop >= n.scrollHeight && Z()
                    }
                }
                  , addText = function() {
                    k("report-material-points", "addText", {}),
                    k("material-click", {
                        id: ty,
                        type: n.currentTab,
                        name: "#请输入文字",
                        iconUrl: "https://fe-img-qc.xhscdn.com/athena-legacy/6bae6b8c3c9981532c4d97579995459612174bd6",
                        url: "https://fe-video-qc.xhscdn.com/athena-legacy/82c6bbe425421db7a7c63e1a91098ac6ed525aaa/wenziyangshi00.zip",
                        dependencies: tf
                    })
                }
                  , retry = function() {
                    R(n.currentTab)
                };
                return function(d, v) {
                    var m;
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)(H.Fragment, null, ["loading" === B.value ? (0,
                    H.withDirectives)(((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", af, null, 512)), [[(0,
                    H.unref)(ef.Z), !0]]) : (0,
                    H.createCommentVNode)("", !0), (null === (m = d.tabMaterials[d.currentTab]) || void 0 === m ? void 0 : m.length) && "success" === B.value ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", ap, [d.currentTab === (0,
                    H.unref)(ej).Text ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", {
                        key: 0,
                        class: "add-text",
                        onClick: addText
                    }, [(0,
                    H.createVNode)((0,
                    H.unref)(ed.Z), {
                        icon: (0,
                        H.unref)(ep.v37),
                        size: "large"
                    }, null, 8, ["icon"]), v[0] || (v[0] = (0,
                    H.createElementVNode)("span", null, "添加文字", -1))])) : (0,
                    H.createCommentVNode)("", !0), ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", {
                        ref_key: "containerRef",
                        ref: C,
                        key: d.currentTab,
                        class: "tab-container"
                    }, [(0,
                    H.createVNode)(ea, {
                        tabs: d.tabMaterials[d.currentTab],
                        "active-idx": I.value,
                        "limit-lines": 3,
                        "container-width": 202,
                        onTabClick: U
                    }, null, 8, ["tabs", "active-idx"])])), (0,
                    H.createElementVNode)("div", {
                        ref_key: "materialsDetailRef",
                        ref: x,
                        class: "materials-area",
                        onScroll: handleMaterialsScroll
                    }, [((0,
                    H.openBlock)(!0),
                    (0,
                    H.createElementBlock)(H.Fragment, null, (0,
                    H.renderList)(S.value.materials, function(v) {
                        var m;
                        return (0,
                        H.withDirectives)(((0,
                        H.openBlock)(),
                        (0,
                        H.createElementBlock)("div", {
                            key: v.id,
                            class: (0,
                            H.normalizeClass)(["material", {
                                square: d.currentTab === (0,
                                H.unref)(ej).Sticker || d.currentTab === (0,
                                H.unref)(ej).Text,
                                selected: (m = v.id,
                                n.currentTab === ej.Template ? _.value === m : n.currentTab === ej.Filter && V.value === m)
                            }]),
                            "d-loading-background": "rgba(0, 0, 0, 0.15)",
                            onClick: function(n) {
                                return materialClick(v)
                            }
                        }, [(0,
                        H.createElementVNode)("img", {
                            src: v.iconUrl || d.coverUrl,
                            alt: "",
                            class: "cover"
                        }, null, 8, ah), d.currentTab === (0,
                        H.unref)(ej).Filter || d.currentTab === (0,
                        H.unref)(ej).Template ? ((0,
                        H.openBlock)(),
                        (0,
                        H.createElementBlock)("div", {
                            key: 0,
                            class: (0,
                            H.normalizeClass)(["name", {
                                none: "none" === v.id,
                                filter: d.currentTab === (0,
                                H.unref)(ej).Filter
                            }])
                        }, ["none" === v.id ? ((0,
                        H.openBlock)(),
                        (0,
                        H.createBlock)((0,
                        H.unref)(ed.Z), {
                            key: 0,
                            icon: (0,
                            H.unref)(ep.HI6),
                            size: "large"
                        }, null, 8, ["icon"])) : (0,
                        H.createCommentVNode)("", !0), "none" === v.id || d.currentTab === (0,
                        H.unref)(ej).Filter ? ((0,
                        H.openBlock)(),
                        (0,
                        H.createElementBlock)("span", ay, (0,
                        H.toDisplayString)(v.name), 1)) : (0,
                        H.createCommentVNode)("", !0)], 2)) : (0,
                        H.createCommentVNode)("", !0)], 10, ag)), [[(0,
                        H.unref)(ef.Z), M.value === "".concat(I.value).concat(v.id) && d.currentMaterialTab[d.currentTab].loading]])
                    }), 128))], 544)])) : (0,
                    H.createCommentVNode)("", !0), "error" === B.value ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", aN, [v[2] || (v[2] = (0,
                    H.createElementVNode)("img", {
                        class: "image",
                        src: "https://picasso-static.xiaohongshu.com/fe-platform/974590cce90363bfbf40e2ea8bfb1b39e7bc9862.png",
                        alt: ""
                    }, null, -1)), (0,
                    H.createElementVNode)("div", {
                        class: "error-text"
                    }, [v[1] || (v[1] = (0,
                    H.createTextVNode)(" 加载页面失败 ")), (0,
                    H.createElementVNode)("span", {
                        class: "error-text retry",
                        onClick: retry
                    }, "重试")])])) : (0,
                    H.createCommentVNode)("", !0)], 64)
                }
            }
        });
        let aI = (0,
        W.default)(ak, [["__scopeId", "data-v-54728c00"]]);
        var useGetImageFile = function() {
            var n, d, v, getX = function(n) {
                switch (n) {
                case ez.FourToThree:
                    return e9;
                case ez.ThreeToFour:
                    return ta;
                case ez.OneToOne:
                    return tc;
                default:
                    return e9
                }
            };
            var m = (n = (0,
            eo._)(function(n, d) {
                var v, m;
                return (0,
                ei.Jh)(this, function(h) {
                    if (!(v = d.getCanvas()))
                        return [2];
                    switch (m = v.getWidth(),
                    n) {
                    case ez.FourToThree:
                        return [2, m * e3];
                    case ez.ThreeToFour:
                        return [2, m * e5];
                    case ez.OneToOne:
                        return [2, m * e8];
                    default:
                        return [2, m]
                    }
                    return [2]
                })
            }),
            function getWidth(d, v) {
                return n.apply(this, arguments)
            }
            );
            var h = (d = (0,
            eo._)(function(n) {
                var d;
                return (0,
                ei.Jh)(this, function(v) {
                    return (d = n.getCanvas()) ? [2, d.getHeight()] : [2]
                })
            }),
            function getHeight(n) {
                return d.apply(this, arguments)
            }
            );
            return {
                getImageFile: (v = (0,
                eo._)(function(n) {
                    var d, v, y, N, k, I, C, x;
                    return (0,
                    ei.Jh)(this, function(M) {
                        switch (M.label) {
                        case 0:
                            if (d = n.rate,
                            !(v = n.zeusEngine))
                                return [2, null];
                            return y = getX(d),
                            N = 0,
                            [4, m(d, v)];
                        case 1:
                            return k = M.sent(),
                            [4, h(v)];
                        case 2:
                            if (I = M.sent(),
                            C = Math.trunc(k),
                            x = Math.trunc(I),
                            !C || !x)
                                return [2, null];
                            return [2, {
                                file: v.getExportImage(!1, y, N, C, x, C, x),
                                width: C,
                                height: x
                            }]
                        }
                    })
                }),
                function getImageFile(n) {
                    return v.apply(this, arguments)
                }
                )
            }
        }
          , aC = {
            instance: null,
            isInited: !1,
            initPromise: null
        }
          , zeusEngineCleanUp = function() {
            aC.instance && aC.instance.clear(),
            aC.instance = null,
            aC.initPromise = null,
            aC.isInited = !1
        }
          , initializeZeusEngine = function() {
            aC.instance = new eM.ZP,
            aC.initPromise = new Promise(function(n, d) {
                aC.instance.initialize().then(function() {
                    aC.instance.setDefaultImgUrl("https://fe-static.xhscdn.com/data/formula-static/release/2025_0118_19/dist/defaultImage.png"),
                    console.log("ZeusEngineSdk is fully initialized and ready to use."),
                    aC.isInited = !0,
                    n()
                }).catch(function(n) {
                    console.error("ZeusEngineSdk initialization failed:", n),
                    d(n)
                })
            }
            )
        }
          , useChangeScale = function() {
            var n;
            return {
                handleChangeScale: t1()((n = (0,
                eo._)(function(n, d, v) {
                    var m, h, y, N, k, I, C, x, M, S, _, V, B, O, R, U, z;
                    return (0,
                    ei.Jh)(this, function(Z) {
                        return (m = d === ez.FourToThree ? e7 : d === ez.ThreeToFour ? to : tu,
                        h = d === ez.FourToThree ? e9 : d === ez.ThreeToFour ? ta : tc,
                        y = getImageLayer(v)) ? (N = y.getScale(),
                        k = getImageLayerOriginScale(v, d),
                        I = n - 1,
                        C = y.getPosition(),
                        setImageLayerScale(v, x = k + I),
                        util_render(v),
                        x < N.x && (S = (M = y.getAABB(0)).size.x + M.position.x,
                        _ = C.x,
                        V = C.y,
                        isLessThanValues(S, m) && (B = m - S,
                        _ = C.x + B),
                        isGreaterThanValues(M.position.x, h) && (O = h - M.position.x,
                        _ = C.x + O),
                        isGreaterThanValues(M.position.y, 0) && (R = -M.position.y,
                        V = C.y + R),
                        isLessThanValues(M.size.y + M.position.y, 1) && (U = 1 - (M.size.y + M.position.y),
                        V = C.y + U),
                        z = v.createNewVector2(_, V),
                        y.setPosition(z),
                        z.delete(),
                        v.getCanvas().renderOneFrame(0)),
                        [2]) : [2]
                    })
                }),
                function(d, v, m) {
                    return n.apply(this, arguments)
                }
                ), 16)
            }
        };
        let ab = {
            class: "s-bg"
        };
        function Loadingvue_type_template_id_1ec3289a_scoped_true_render(n, d) {
            return (0,
            H.openBlock)(),
            (0,
            H.createElementBlock)("div", ab, d[0] || (d[0] = [(0,
            H.createStaticVNode)('<div class="s-category" data-v-1ec3289a><div class="block" data-v-1ec3289a></div><div class="block" data-v-1ec3289a></div><div class="block" data-v-1ec3289a></div><div class="block" data-v-1ec3289a></div></div><div class="s-materials" data-v-1ec3289a><div class="s-flex" data-v-1ec3289a><div class="s-filter" data-v-1ec3289a></div><div class="s-filter" data-v-1ec3289a></div><div class="s-filter" data-v-1ec3289a></div><div class="s-filter" data-v-1ec3289a></div></div><div class="s-flex mt8" data-v-1ec3289a><div class="s-filter" data-v-1ec3289a></div><div class="s-filter" data-v-1ec3289a></div><div class="s-filter" data-v-1ec3289a></div></div><div class="s-flex" data-v-1ec3289a><div class="s-material" data-v-1ec3289a></div><div class="s-material" data-v-1ec3289a></div></div><div class="s-flex" data-v-1ec3289a><div class="s-material" data-v-1ec3289a></div><div class="s-material" data-v-1ec3289a></div></div><div class="s-flex" data-v-1ec3289a><div class="s-material" data-v-1ec3289a></div><div class="s-material" data-v-1ec3289a></div></div><div class="s-flex" data-v-1ec3289a><div class="s-material" data-v-1ec3289a></div><div class="s-material" data-v-1ec3289a></div></div></div><div class="right" data-v-1ec3289a><div class="rt" data-v-1ec3289a><div class="s-canvas" data-v-1ec3289a><div class="s-attribute" data-v-1ec3289a></div><div class="s-graph" data-v-1ec3289a></div><div class="s-bar" data-v-1ec3289a></div></div><div class="s-preview" data-v-1ec3289a><div class="s-phone" data-v-1ec3289a></div></div></div><div class="rb" data-v-1ec3289a><div class="s-btn" data-v-1ec3289a></div><div class="s-btn" data-v-1ec3289a></div></div></div>', 3)]))
        }
        let aE = (0,
        W.default)({}, [["render", Loadingvue_type_template_id_1ec3289a_scoped_true_render], ["__scopeId", "data-v-1ec3289a"]]);
        var aA = {
            class: "s-bg"
        }
          , aw = (0,
        H.defineComponent)({
            __name: "Error",
            setup: function(n) {
                return function(n, d) {
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", aA, [(0,
                    H.createVNode)((0,
                    H.unref)(ev.Z), {
                        status: "fail",
                        title: "加载失败",
                        "sub-title": "加载失败，请尝试更换新版浏览器后重试"
                    })])
                }
            }
        })
          , ax = ["data-impression"]
          , aT = {
            key: 0,
            class: "mojito-content-container"
        }
          , aM = {
            class: "category"
        }
          , aS = {
            key: 0,
            class: "category-mask"
        }
          , a_ = {
            class: "material"
        }
          , aV = {
            key: 0,
            class: "material-mask"
        }
          , aD = {
            class: "right-side"
        }
          , aB = {
            class: "graph"
        }
          , aL = {
            class: "preview"
        }
          , aP = {
            class: "bottom"
        }
          , aO = {
            id: "mojito-btn-container",
            class: "bottom-content"
        }
          , aR = {
            key: 1,
            class: "loading-container"
        }
          , aU = {
            key: 2,
            class: "loading-container"
        }
          , aj = (0,
        H.defineComponent)({
            __name: "Index",
            props: {
                coverUrl: {},
                width: {},
                height: {},
                defaultTemplate: {},
                backupCoverUrls: {},
                impression: {},
                videoUrl: {},
                needTranscode: {
                    type: Boolean
                },
                hideTemplate: {
                    type: Boolean
                },
                confirmLoading: {
                    type: Boolean
                },
                transcodeVideoUrl: {},
                recommendCover: {},
                activeRecommendCoverIdx: {},
                defaultRate: {},
                coverContextUrl: {},
                videoRatio: {}
            },
            emits: ["confirm", "close", "sdkTracker", "report-material-points", "tracker-event"],
            setup: function(n, d) {
                var v, m, h, y, N, k = d.emit, I = (0,
                H.computed)(function() {
                    return n.needTranscode ? n.transcodeVideoUrl : n.videoUrl
                }), C = (0,
                H.computed)(function() {
                    return n.videoRatio
                }), x = (0,
                H.computed)(function() {
                    return n.activeRecommendCoverIdx
                }), M = (0,
                H.computed)(function() {
                    return n.confirmLoading
                }), S = (0,
                H.ref)(ej.Text), _ = (0,
                H.ref)((h = {},
                (0,
                J._)(h, ej.Template, {
                    idx: 0,
                    loading: !1
                }),
                (0,
                J._)(h, ej.Sticker, {
                    idx: 0,
                    loading: !1
                }),
                (0,
                J._)(h, ej.Text, {
                    idx: 3,
                    loading: !1
                }),
                (0,
                J._)(h, ej.Filter, {
                    idx: 0,
                    loading: !1
                }),
                h)), V = (0,
                H.ref)((y = {},
                (0,
                J._)(y, ej.Template, []),
                (0,
                J._)(y, ej.Sticker, []),
                (0,
                J._)(y, ej.Text, []),
                (0,
                J._)(y, ej.Filter, []),
                y)), B = (0,
                H.ref)(n.defaultRate), O = (0,
                H.ref)(100), R = (0,
                H.ref)(!1), U = (0,
                H.ref)(!1), z = (0,
                H.ref)(!1), Z = (0,
                H.ref)(!0), Q = (0,
                H.ref)(eF.Frame), G = (0,
                H.ref)(!1), Y = (0,
                H.ref)(-1), W = (0,
                H.ref)(0), X = (0,
                H.ref)(!1), K = (0,
                H.ref)([]), $ = (0,
                H.computed)(function() {
                    return n.recommendCover
                }), setCurrentTab = function(n) {
                    S.value = n.id,
                    k("report-material-points", "chooseTab", {
                        channelTabName: n.name
                    })
                }, setCurrentMaterialTab = function(n, d) {
                    _.value[S.value].idx = d
                }, resizeCutBox = function(n) {
                    (0,
                    H.nextTick)(function() {
                        var d = getImageLayer(N);
                        if (!!d) {
                            tD.emit("ResizeCutBox", {
                                rate: n
                            }),
                            scaleImageAutoResize(n, N);
                            var v = N.createNewVector2(.5, .5);
                            d.setPosition(v),
                            v.delete();
                            var m = document.getElementById("overlayCanvas");
                            m && drawCutBox(n, m)
                        }
                    })
                }, selectCutBoxRate = function(n) {
                    B.value = n,
                    resizeCutBox(n)
                }, ee = useChangeScale().handleChangeScale, coverSizeChange = function(n) {
                    N && (O.value = n,
                    ee(n, B.value, N))
                }, et = (0,
                H.computed)(function() {
                    return n.coverUrl
                }), en = (0,
                H.computed)(function() {
                    return n.defaultTemplate
                }), ea = (0,
                H.computed)(function() {
                    return n.backupCoverUrls
                }), er = (0,
                H.computed)(function() {
                    return n.impression
                }), ec = useGetImageFile().getImageFile, es = (0,
                H.ref)(""), trackerEvent = function(n, d) {
                    k("tracker-event", {
                        event: n,
                        params: d
                    })
                }, ed = t1()((0,
                eo._)(function() {
                    var n, d, v, m, h, y, I, C, x, M, S, _;
                    return (0,
                    ei.Jh)(this, function(V) {
                        switch (V.label) {
                        case 0:
                            if (!N)
                                return [2];
                            return n = getTemplateId(N),
                            d = getStickerInfo(N).map(function(n) {
                                return {
                                    blendMode: "0",
                                    category: n.category,
                                    stickerId: n.id
                                }
                            }),
                            v = getTextInfo(N),
                            m = {
                                cover_effect: getUserActiveCoverTemplate(N)
                            },
                            h = getLayersId(N),
                            [4, ec({
                                rate: B.value,
                                zeusEngine: N
                            })];
                        case 1:
                            if (!(y = V.sent()))
                                return el.Z.danger("发生错误，请刷新后重试"),
                                [2];
                            return I = y.file,
                            C = y.width,
                            x = y.height,
                            M = Date.now(),
                            [4, N.dump()];
                        case 2:
                            if (S = V.sent(),
                            k("sdkTracker", {
                                type: "dump",
                                errorType: "",
                                errorMsg: Date.now() - M
                            }),
                            !S.success)
                                return el.Z.danger("发生错误，请刷新后重试"),
                                [2];
                            return _ = S.data,
                            k("confirm", {
                                blob: I,
                                frametime: W.value,
                                isUpload: X.value,
                                width: C,
                                height: x,
                                templateBlob: _,
                                trackerData: h,
                                rate: B.value,
                                type: Q.value,
                                recommendCoverIdx: Y.value,
                                neptune: d,
                                fonts: v,
                                coverTemplateId: n,
                                extra_info_json: m
                            }),
                            tD.emit("Clear", void 0),
                            [2]
                        }
                    })
                }), 200, {
                    leading: !0
                });
                var ev = (v = (0,
                eo._)(function() {
                    var n;
                    return (0,
                    ei.Jh)(this, function(d) {
                        switch (d.label) {
                        case 0:
                            if (!aC)
                                return k("sdkTracker", {
                                    type: "error",
                                    errorType: "initError",
                                    errorMsg: "无zeusEngineProvider"
                                }),
                                [2];
                            if (aC.isInited)
                                return [3, 2];
                            return initializeZeusEngine(),
                            k("sdkTracker", {
                                type: "initStart",
                                errorType: "",
                                errorMsg: ""
                            }),
                            n = Date.now(),
                            [4, aC.initPromise];
                        case 1:
                            d.sent(),
                            k("sdkTracker", {
                                type: "initEnd",
                                errorType: "",
                                errorMsg: String(Date.now() - n)
                            }),
                            k("sdkTracker", {
                                type: "initTimeStemp",
                                errorType: "",
                                errorMsg: String(Date.now() - n)
                            }),
                            d.label = 2;
                        case 2:
                            return [2, Promise.resolve(aC.instance)]
                        }
                    })
                }),
                function getZeusEngine() {
                    return v.apply(this, arguments)
                }
                );
                (0,
                H.onMounted)((0,
                eo._)(function() {
                    var n;
                    return (0,
                    ei.Jh)(this, function(d) {
                        switch (d.label) {
                        case 0:
                            return k("sdkTracker", {
                                type: "init",
                                errorType: "",
                                errorMsg: ""
                            }),
                            [4, ev().catch(function(n) {
                                var d;
                                k("sdkTracker", {
                                    type: "error",
                                    errorType: "initError",
                                    errorMsg: JSON.stringify(null !== (d = null == n ? void 0 : n.message) && void 0 !== d ? d : "初始化失败")
                                }),
                                z.value = !0
                            })];
                        case 1:
                            if (n = d.sent(),
                            window.zeusEngine = n,
                            !n)
                                return z.value = !0,
                                [2];
                            return (N = n).on(eM.sq.Log, function(n) {
                                k("sdkTracker", {
                                    type: "log",
                                    errorType: "",
                                    errorMsg: n.message
                                })
                            }),
                            N.on(eM.sq.Exception, function(n) {
                                var d = n.exception;
                                k("sdkTracker", {
                                    type: "error",
                                    errorType: "sdkError",
                                    errorMsg: "sdk内部错误:" + JSON.stringify({
                                        message: null == d ? void 0 : d.message,
                                        stack: null == d ? void 0 : d.stack
                                    })
                                })
                            }),
                            R.value = !0,
                            tD.on("Error", function(n) {
                                k("sdkTracker", {
                                    type: "error",
                                    errorType: "sdkError",
                                    errorMsg: n.message
                                })
                            }),
                            tD.on("SelectedCutBoxRate", function(n) {
                                selectCutBoxRate(n.rate)
                            }),
                            tD.on("Edit", function() {
                                U.value = !0
                            }),
                            tD.on("CanvasReady", function() {
                                G.value = !0,
                                Z.value = !1
                            }),
                            tD.on("OpenLoading", function() {
                                Z.value = !0
                            }),
                            tD.on("CloseLoading", function() {
                                Z.value = !1
                            }),
                            tD.on("CheckImageType", function(n) {
                                k("sdkTracker", {
                                    type: "uploadCover",
                                    errorType: "",
                                    errorMsg: n.type
                                })
                            }),
                            setFontFamilyList(),
                            [2]
                        }
                    })
                }));
                var setFontFamilyList = function() {
                    getFontFamily().then(function(n) {
                        K.value = n.fontsInfo
                    })
                }
                  , handleCancel = function() {
                    tD.emit("Clear", void 0),
                    N && k("close", {
                        trackerData: getLayersId(N),
                        type: Q.value,
                        rate: B.value
                    })
                }
                  , handleOpenCancelModal = function() {
                    if (!N) {
                        tD.emit("Clear", void 0),
                        k("close", {
                            trackerData: "",
                            type: Q.value,
                            rate: B.value
                        });
                        return
                    }
                    if (U.value)
                        var n = eu.Z.warning({
                            title: "关闭后操作将不会保留",
                            centered: !0,
                            zIndex: 1e3,
                            style: "width: 328px;",
                            maskStyle: {
                                background: "rgba(0,0,0,.4)"
                            },
                            confirmButtonProps: {
                                class: "creator-cover-bg-red"
                            },
                            cancelButtonProps: {
                                class: "creator-cover-bg-cancel"
                            },
                            onCancel: function() {
                                n.destroy()
                            },
                            onConfirm: function() {
                                handleCancel(),
                                n.destroy()
                            }
                        });
                    else
                        handleCancel()
                };
                var em = (m = (0,
                eo._)(function(n) {
                    var d, v, m, h, y, I, C, x, M, S, B;
                    return (0,
                    ei.Jh)(this, function(O) {
                        switch (O.label) {
                        case 0:
                            if (!N)
                                return [2];
                            k("sdkTracker", {
                                type: "operator",
                                errorType: "",
                                errorMsg: ""
                            }),
                            O.label = 1;
                        case 1:
                            if (O.trys.push([1, 18, , 19]),
                            _.value[n.type].loading = !0,
                            tD.emit("ClearObb", void 0),
                            n.type !== ej.Template)
                                return [3, 6];
                            if (tD.emit("OpenLoading", void 0),
                            "none" !== n.id)
                                return [3, 3];
                            return [4, tK(N)];
                        case 2:
                            return O.sent(),
                            [3, 5];
                        case 3:
                            return [4, tX(N, n.url, n.id)];
                        case 4:
                            O.sent(),
                            O.label = 5;
                        case 5:
                            (d = getImageLayer(N)) && tD.emit("PickLayer", {
                                layer: d,
                                index: 0
                            }),
                            tD.emit("CloseLoading", void 0),
                            O.label = 6;
                        case 6:
                            if (n.type !== ej.Sticker)
                                return [3, 8];
                            return v = V.value[ej.Sticker][_.value[ej.Sticker].idx],
                            [4, tG(N, n, v.name)];
                        case 7:
                            (m = O.sent()).success && (util_render(N),
                            tD.emit("PickLayer", {
                                layer: m.layer,
                                index: 0
                            }),
                            tD.emit("DrawObb", {
                                layer: m.layer,
                                index: 0
                            })),
                            O.label = 8;
                        case 8:
                            if (n.type !== ej.Text)
                                return [3, 12];
                            if (h = getTextType(V.value[ej.Text][_.value[ej.Text].idx].id),
                            n.id !== ty)
                                return [3, 10];
                            return [4, tY(N, n, h)];
                        case 9:
                            return (y = O.sent()).success && (setTextContent(y.layer, 0, "双击输入文字"),
                            util_render(N),
                            tD.emit("PickLayer", {
                                layer: y.layer,
                                index: 0
                            }),
                            tD.emit("DrawObb", {
                                layer: y.layer,
                                index: 0
                            })),
                            [3, 12];
                        case 10:
                            return [4, tY(N, n, h)];
                        case 11:
                            (I = O.sent()).success && (C = _.value[ej.Text].idx,
                            x = "4" === V.value[ej.Text][C].id,
                            setTextContent(I.layer, +!!x, "双击输入文字"),
                            util_render(N),
                            tD.emit("PickLayer", {
                                layer: I.layer,
                                index: +!!x
                            }),
                            tD.emit("DrawObb", {
                                layer: I.layer,
                                index: +!!x
                            })),
                            O.label = 12;
                        case 12:
                            if (n.type !== ej.Filter)
                                return [3, 17];
                            if (tD.emit("OpenLoading", void 0),
                            "none" !== n.id)
                                return [3, 14];
                            return [4, removeFilterFromImageLayer(N)];
                        case 13:
                            return O.sent(),
                            util_render(N),
                            [3, 16];
                        case 14:
                            return [4, tW(N, n)];
                        case 15:
                            (M = O.sent()).success && (util_render(N),
                            tD.emit("PickLayer", {
                                layer: M.layer,
                                index: 0
                            }),
                            tD.emit("DrawObb", {
                                layer: M.layer,
                                index: 0
                            }),
                            tD.emit("FilterChanged", void 0)),
                            O.label = 16;
                        case 16:
                            tD.emit("CloseLoading", void 0),
                            O.label = 17;
                        case 17:
                            return _.value[n.type].loading = !1,
                            [3, 19];
                        case 18:
                            return k("sdkTracker", {
                                type: "error",
                                errorType: "operatorError",
                                errorMsg: JSON.stringify(null !== (B = null == (S = O.sent()) ? void 0 : S.message) && void 0 !== B ? B : "操作失败")
                            }),
                            [3, 19];
                        case 19:
                            return [2]
                        }
                    })
                }),
                function handleMaterialClick(n) {
                    return m.apply(this, arguments)
                }
                )
                  , handleUploadFileFail = function() {
                    k("tracker-event", {
                        event: "on-upload-cover",
                        params: {
                            status: "fail"
                        }
                    })
                }
                  , handleRecommendTagClick = function() {
                    k("tracker-event", {
                        event: "recommend-tag-click",
                        params: {}
                    })
                }
                  , handleCoverTypeChange = function(n) {
                    var d = n.type
                      , v = n.recommendCoverIdx;
                    Q.value = d,
                    Y.value = v,
                    W.value = n.frameTime,
                    X.value = n.isUpload,
                    es.value = n.blob,
                    V.value[ej.Template].forEach(function(d) {
                        var v;
                        null === (v = d.materials) || void 0 === v || v.forEach(function(d) {
                            "none" === d.id && (d.iconUrl = n.blob)
                        })
                    }),
                    V.value[ej.Filter].forEach(function(d) {
                        var v;
                        null === (v = d.materials) || void 0 === v || v.forEach(function(d) {
                            "none" === d.id && (d.iconUrl = n.blob)
                        })
                    }),
                    d === eF.Upload && k("tracker-event", {
                        event: "on-upload-cover",
                        params: {
                            status: "success"
                        }
                    })
                };
                (0,
                H.onBeforeUnmount)(function() {
                    tD.off("SelectedCutBoxRate"),
                    tD.off("Render"),
                    tD.off("OpenLoading"),
                    tD.off("CloseLoading"),
                    tD.off("CheckImageType"),
                    zeusEngineCleanUp()
                });
                var handleSetTabMaterialsDetail = function(d, v, m) {
                    var h = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                    if (h) {
                        V.value[d].forEach(function(n) {
                            if (n.id === v) {
                                var d;
                                n.materials = null == n ? void 0 : null === (d = n.materials) || void 0 === d ? void 0 : d.concat(m.athenaAssets),
                                n.totalNum = m.totalNum,
                                n.page = (n.page || 1) + 1
                            }
                        });
                        return
                    }
                    V.value[d].forEach(function(h) {
                        if (h.id === v) {
                            var y, N, k = m.athenaAssets, I = m.totalNum;
                            (d === ej.Template || d === ej.Filter) && (k.unshift({
                                id: "none",
                                name: d === ej.Template ? "无模板" : "无滤镜",
                                iconUrl: null !== (N = null !== (y = es.value) && void 0 !== y ? y : n.coverContextUrl) && void 0 !== N ? N : n.coverUrl,
                                type: k[0].type
                            }),
                            I += 1),
                            h.materials = k,
                            h.totalNum = I,
                            h.page = (h.page || 1) + 1
                        }
                    })
                }
                  , handleSetTabMaterials = function(n, d) {
                    V.value[n] = d
                };
                return function(n, d) {
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", {
                        "data-impression": er.value,
                        class: "mojito-container"
                    }, [(0,
                    H.createElementVNode)("img", {
                        onClick: handleOpenCancelModal,
                        class: "close-icon",
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxklEQVR4Xu2WwQ0CMQwE0wK1UAJXAtRE22QlVoosc8r6YotHRvLrdJ7RwcOtbTZ/yq3Ps8/dPgiAHdiFndO8+ry/8zDPFPAu9yBiGlTzxWjEKMfIX/No8Qgrx64QkYhlcqJELJeTmYg0OTmLSJcTL6JMTmxEqZx4EWVyYD87xvtjpuDJyyKsHJ/d/hxpEZ6cpEecyUlaxIycLI9Q5GRZREROLkfYg0SRExshHSTjSRaRkzFCOslwQCJCqv4BdmCXdJRuNmV8ACoPUHGMEwncAAAAAElFTkSuQmCC"
                    }), R.value ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", aT, [(0,
                    H.createElementVNode)("div", aM, [(0,
                    H.createVNode)(tb, {
                        "current-tab": S.value,
                        "hide-template": n.hideTemplate,
                        onSetCurrentTab: setCurrentTab
                    }, null, 8, ["current-tab", "hide-template"]), G.value ? (0,
                    H.createCommentVNode)("", !0) : ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", aS))]), (0,
                    H.createElementVNode)("div", a_, [(0,
                    H.createVNode)(aI, {
                        "current-tab": S.value,
                        "current-material-tab": _.value,
                        "cover-url": et.value || n.coverContextUrl || es.value,
                        "tab-materials": V.value,
                        onSetCurrentMaterialTab: setCurrentMaterialTab,
                        onMaterialClick: em,
                        onSetTabMaterials: handleSetTabMaterials,
                        onSetTabMaterialsDetail: handleSetTabMaterialsDetail,
                        onReportMaterialPoints: d[0] || (d[0] = function(n, d) {
                            return k("report-material-points", n, d)
                        }
                        )
                    }, null, 8, ["current-tab", "current-material-tab", "cover-url", "tab-materials"]), G.value ? (0,
                    H.createCommentVNode)("", !0) : ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", aV))]), (0,
                    H.createElementVNode)("div", null, [(0,
                    H.createElementVNode)("div", aD, [(0,
                    H.createElementVNode)("div", aB, [(0,
                    H.createVNode)(nM, {
                        "font-family-list": K.value,
                        rate: B.value,
                        "zeus-engine": (0,
                        H.unref)(N),
                        "current-tab": S.value,
                        onSetLayerIndex: d[1] || (d[1] = function(n) {
                            return trackerEvent("on-layer-index-change", n)
                        }
                        ),
                        onRatioChange: selectCutBoxRate,
                        onCoverSizeChange: coverSizeChange,
                        onSelectFontFamily: d[2] || (d[2] = function(n) {
                            return trackerEvent("select-font-family", n)
                        }
                        ),
                        onOnHandleCover: d[3] || (d[3] = function(n) {
                            return trackerEvent("on-handle-cover", n)
                        }
                        )
                    }, null, 8, ["font-family-list", "rate", "zeus-engine", "current-tab"]), (0,
                    H.createVNode)(n$, {
                        "backup-cover-urls": ea.value,
                        "cover-url": et.value,
                        rate: B.value,
                        "default-template": en.value,
                        "zeus-engine": (0,
                        H.unref)(N),
                        "video-url": I.value,
                        "recommend-covers": $.value,
                        activeRecommendCoverIdx: x.value,
                        videoRatio: C.value,
                        onCoverTypeChange: handleCoverTypeChange,
                        onUploadFileFail: handleUploadFileFail,
                        onRecommendTagClick: handleRecommendTagClick
                    }, null, 8, ["backup-cover-urls", "cover-url", "rate", "default-template", "zeus-engine", "video-url", "recommend-covers", "activeRecommendCoverIdx", "videoRatio"])]), (0,
                    H.createElementVNode)("div", aL, [(0,
                    H.createVNode)(ad, {
                        rate: B.value,
                        "zeus-engine": (0,
                        H.unref)(N)
                    }, null, 8, ["rate", "zeus-engine"])])]), (0,
                    H.createElementVNode)("div", aP, [(0,
                    H.createElementVNode)("div", aO, [(0,
                    H.createVNode)(q, {
                        class: "creator-cover-bg-cancel",
                        "class-name": "button",
                        onClick: handleOpenCancelModal
                    }, {
                        default: (0,
                        H.withCtx)(function() {
                            return d[4] || (d[4] = [(0,
                            H.createTextVNode)("取消")])
                        }),
                        _: 1
                    }), (0,
                    H.createVNode)(q, {
                        class: "mojito-button",
                        loading: M.value,
                        "class-name": "button",
                        color: "bg-red",
                        disabled: Z.value,
                        onClick: (0,
                        H.unref)(ed)
                    }, {
                        default: (0,
                        H.withCtx)(function() {
                            return d[5] || (d[5] = [(0,
                            H.createTextVNode)(" 确定 ")])
                        }),
                        _: 1
                    }, 8, ["loading", "disabled", "onClick"])])])])])) : R.value || z.value ? !R.value && z.value ? ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", aU, [(0,
                    H.createVNode)(aw)])) : (0,
                    H.createCommentVNode)("", !0) : ((0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", aR, [(0,
                    H.createVNode)(aE)]))], 8, ax)
                }
            }
        })
          , aF = (0,
        W.default)(aj, [["__scopeId", "data-v-4afee23b"]])
          , az = v(78455)
          , aZ = v.n(az)
          , aQ = (0,
        H.defineComponent)({
            __name: "Index",
            props: {
                src: {
                    type: String || Blob,
                    default: ""
                },
                autoplay: {
                    type: Boolean,
                    default: !1
                },
                loop: {
                    type: Boolean,
                    default: !1
                },
                objectFit: {
                    type: String,
                    default: "contain"
                },
                refEl: {
                    type: String,
                    default: ""
                },
                controls: {
                    type: Boolean,
                    default: !1
                },
                showPlayIcon: {
                    type: Boolean,
                    default: !0
                }
            },
            emits: ["time-update"],
            setup: function(n, d) {
                var v = d.expose
                  , m = d.emit;
                (0,
                H.useCssVars)(function(n) {
                    return {
                        f447a532: k.value
                    }
                });
                var h = (0,
                H.ref)(null)
                  , y = (0,
                H.ref)(null)
                  , N = (0,
                H.ref)(null)
                  , reportCallback = function(n) {
                    var d, v, m;
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || null === (d = v.push) || void 0 === d || d.call(v, {
                        measurement_name: n.measurement_name,
                        measurement_data: n.measurement_data
                    }, "ApmXrayTracker")
                }
                  , initPlayer = function() {
                    N.value = new (aZ())({
                        el: h.value,
                        url: n.src,
                        fluid: !0,
                        useCustomizedMSE: !0,
                        lang: "zh-cn",
                        maxBufferLength: 15,
                        videoInit: !0,
                        width: "100%",
                        height: "100%",
                        reportCallback: reportCallback,
                        reportCallbackOnly: !0,
                        closeVideoStopPropagation: !0,
                        autoplay: n.autoplay,
                        loop: n.loop,
                        objectFit: n.objectFit,
                        controls: n.controls,
                        closeInactive: !0,
                        simplePlayer: !1,
                        closeVideoDblclick: !0,
                        closeGapFeature: !0,
                        preferResource: ["265"]
                    }),
                    y.value = N.value.video,
                    N.value.on(aZ().Events.TIMEUPDATE, function(n) {
                        m("time-update")
                    })
                }
                  , k = (0,
                H.computed)(function() {
                    return n.showPlayIcon ? "inline-block" : "none"
                });
                return (0,
                H.onMounted)(function() {
                    initPlayer()
                }),
                v({
                    video: y
                }),
                function(n, d) {
                    return (0,
                    H.openBlock)(),
                    (0,
                    H.createElementBlock)("div", {
                        ref_key: "playerRef",
                        ref: h,
                        class: "player"
                    }, null, 512)
                }
            }
        })
          , aJ = (0,
        W.default)(aQ, [["__scopeId", "data-v-9dd45112"]])
    },
    34830: function(n, d, v) {
        "use strict";
        v.d(d, {
            C: function() {
                return U
            }
        });
        var m, h = v(97791), y = v.n(h), N = v(41622), k = v(46490), I = v(90251), C = v(51606), x = v(70879), M = v(27337), S = v(64593), _ = v(65460), V = v(66993), B = v(377);
        v(87989),
        v(19077),
        v(75973),
        v(7608),
        v(36277),
        v(34333),
        v(82427),
        v(36062),
        v(57057),
        v(97357),
        v(99808),
        v(58486),
        v(1154),
        v(80013),
        v(63712),
        v(41593),
        v(28636),
        v(87535),
        v(75204),
        v(97542),
        v(42876),
        v(33933),
        v(9557),
        v(6045),
        v(10364),
        v(67673),
        v(86651),
        v(72169),
        v(43648),
        v(55947);
        var O = function() {
            function Response(n) {
                var d = n.success
                  , v = n.code
                  , m = n.info;
                (0,
                k._)(this, Response),
                (0,
                C._)(this, "success", void 0),
                (0,
                C._)(this, "code", void 0),
                (0,
                C._)(this, "msg", void 0),
                (0,
                C._)(this, "data", void 0),
                (0,
                C._)(this, "info", void 0),
                this.success = void 0 === d || d,
                this.code = void 0 === v ? 0 : v,
                this.info = m
            }
            return (0,
            I._)(Response, [{
                key: "setCode",
                value: function setCode(n) {
                    return this.code = n,
                    this
                }
            }, {
                key: "setMsg",
                value: function setMsg(n) {
                    return this.msg = n,
                    this
                }
            }, {
                key: "setData",
                value: function setData(n) {
                    return this.data = n,
                    this
                }
            }, {
                key: "setInfo",
                value: function setInfo(n) {
                    return this.info = n,
                    this
                }
            }, {
                key: "fail",
                value: function fail() {
                    return this.success = !1,
                    this.code = -1,
                    this
                }
            }, {
                key: "log",
                value: function log(n, d) {
                    try {
                        var v, m, h, y = (0,
                        x._)({
                            bizName: n.bizName,
                            scene: n.scene,
                            customerHost: window.location.host,
                            routePath: window.location.pathname,
                            uploadSuccess: this.success,
                            code: this.code,
                            errorMsg: this.msg,
                            successData: JSON.stringify(this.data),
                            fileType: this.info.fileType,
                            fileSize: this.info.fileSize,
                            startTime: Response.formatDate(this.info.startTime),
                            endTime: Response.formatDate(Date.now()),
                            tokenStartTime: Response.formatDate(this.info.startTime),
                            tokenEndTime: Response.formatDate(this.info.tokenEndTime || Date.now()),
                            tokenTimestamp: (this.info.tokenEndTime || Date.now()) - this.info.startTime,
                            uploadTimestamp: Date.now() - this.info.startTime
                        }, d);
                        y.uploadSuccess && 0 !== y.uploadTimestamp && (y.uploadSpeed = y.fileSize / y.uploadTimestamp);
                        var N = Response.getLogger();
                        N ? N.push({
                            type: "InfraUploader",
                            value: y
                        }, "ApmJSONTracker") : console.warn.bind(console)("[APM Warning]: eaglet is undefined, web app please install @xhs/launcher-plugin-eaglet, react-native app use eaglet plugin from asgard!");
                        var k = (null === (h = window) || void 0 === h ? void 0 : null === (m = h.insight) || void 0 === m ? void 0 : m.sendCustomPoint.bind(null === (v = window) || void 0 === v ? void 0 : v.insight)) || (null == N ? void 0 : N.flushApm);
                        k && (Object.keys(y).forEach(function(n) {
                            "boolean" == typeof y[n] && (y[n] = Number(y[n]))
                        }),
                        k({
                            measurement_name: "infraUploader",
                            measurement_data: y
                        }, "ApmXrayTracker"))
                    } finally {
                        return this
                    }
                }
            }], [{
                key: "getLogger",
                value: function getLogger() {
                    return window.eaglet.sendApm && window.eaglet || v.g.eaglet
                }
            }, {
                key: "formatDate",
                value: function formatDate(n) {
                    return new Date(n).toISOString().replace(/T/, " ").replace(/\..+/, "")
                }
            }]),
            Response
        }()
          , splitArrayIntoChunks = function(n, d) {
            for (var v = [], m = 0; m < n.length; m += d) {
                var h = n.slice(m, m + d);
                v.push(h)
            }
            return v
        }
          , uploadLog = function(n, d, v) {
            var m = O.getLogger();
            try {
                m.push({
                    measurement_name: "sns_web_publish_upload_event",
                    measurement_data: {
                        type: n,
                        traceId: v,
                        logTime: new Date().getTime(),
                        eventData: JSON.stringify(d)
                    }
                }, "ApmXrayTracker")
            } catch (n) {}
        };
        var R = (m = (0,
        N._)(function(n, d) {
            return (0,
            B.Jh)(this, function(v) {
                var m;
                return [2, new Promise((m = (0,
                N._)(function(v, m) {
                    var h, y;
                    return (0,
                    B.Jh)(this, function(N) {
                        switch (N.label) {
                        case 0:
                            h = 0,
                            N.label = 1;
                        case 1:
                            if (!(h < 5))
                                return [3, 7];
                            N.label = 2;
                        case 2:
                            return N.trys.push([2, 4, , 6]),
                            [4, n.apply(void 0, (0,
                            V._)(d))];
                        case 3:
                            return v(N.sent()),
                            [2];
                        case 4:
                            return y = N.sent(),
                            4 === h && m(y),
                            [4, new Promise(function(n) {
                                setTimeout(function() {
                                    n()
                                }, 1e3)
                            }
                            )];
                        case 5:
                            return N.sent(),
                            [3, 6];
                        case 6:
                            return h++,
                            [3, 1];
                        case 7:
                            return [2]
                        }
                    })
                }),
                function(n, d) {
                    return m.apply(this, arguments)
                }
                ))]
            })
        }),
        function runWithRetry(n, d) {
            return m.apply(this, arguments)
        }
        )
          , U = function() {
            function Uploader(n) {
                (0,
                k._)(this, Uploader),
                (0,
                C._)(this, "bizName", void 0),
                (0,
                C._)(this, "scene", void 0),
                (0,
                C._)(this, "getToken", void 0),
                (0,
                C._)(this, "enableResume", void 0),
                (0,
                C._)(this, "useCache", !1),
                this.bizName = n.bizName,
                this.scene = n.scene,
                this.getToken = n.getToken,
                this.enableResume = n.enableResume
            }
            return (0,
            I._)(Uploader, [{
                key: "cacheKey",
                get: function get() {
                    return "uploader-permit-".concat(this.scene, "-").concat(this.bizName)
                }
            }, {
                key: "getCachePermit",
                value: function getCachePermit(n) {
                    if (!(n instanceof File))
                        return null;
                    try {
                        var d = "".concat(n.name, "-").concat(n.size)
                          , v = localStorage.getItem(this.cacheKey);
                        if (!v)
                            return null;
                        var m = JSON.parse(v)[d];
                        if (!m)
                            return null;
                        if (m.expireTime - 12e4 < Date.now())
                            return this.setCachePermit(n, null),
                            null;
                        return m
                    } catch (n) {
                        return localStorage.setItem(this.cacheKey, ""),
                        null
                    }
                }
            }, {
                key: "setCachePermit",
                value: function setCachePermit(n, d) {
                    if (n instanceof File)
                        try {
                            var v = "".concat(n.name, "-").concat(n.size)
                              , m = localStorage.getItem(this.cacheKey)
                              , h = m ? JSON.parse(m) : {};
                            h[v] = d,
                            localStorage.setItem(this.cacheKey, JSON.stringify(h))
                        } catch (n) {}
                }
            }, {
                key: "getPermit",
                value: function getPermit(n, d, v, m) {
                    var h = this;
                    if (this.enableResume) {
                        var y = this.getCachePermit(n);
                        if (y)
                            return this.useCache = !0,
                            Promise.resolve(y)
                    }
                    return this.useCache = !1,
                    R(this.getToken, [{
                        bizName: this.bizName,
                        scene: this.scene,
                        fileCount: 1,
                        fileFormat: d,
                        persistentOps: v,
                        persistentNotifyUrl: m
                    }]).then(function(d) {
                        var v = d.uploadTempPermits
                          , m = d.uploadLimitPolicy
                          , y = n.type
                          , N = n.size;
                        if (m) {
                            var k = m.fileTypes
                              , I = m.maxSize;
                            if ((null == k ? void 0 : k.length) && !k.reduce(function(n, d) {
                                return (0,
                                V._)(n).concat((0,
                                V._)(d.split("/")))
                            }, []).some(function(n) {
                                return y.endsWith(n)
                            }))
                                throw Error("文件类型 ".concat(y, " 不在可上传的文件类型 ").concat(k.join(", "), " 中。"));
                            if (void 0 !== I && N > I)
                                throw Error("文件尺寸（".concat(N / 1048576, " mb）超过最大尺寸（").concat(I / 1048576, " mb）。"))
                        }
                        if (!(null == v ? void 0 : v.length))
                            throw Error("token 获取失败。");
                        var C = (0,
                        _._)(v.sort(function(n, d) {
                            return d.qos - n.qos
                        }), 1)[0];
                        return h.enableResume && h.setCachePermit(n, C),
                        C
                    })
                }
            }, {
                key: "logEventInit",
                value: function logEventInit(n) {
                    var d = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(n) {
                        var d = 16 * Math.random() | 0;
                        return ("x" === n ? d : 3 & d | 8).toString(16)
                    });
                    n.on("before-send", function(n) {
                        uploadLog("before-send", n, d)
                    }),
                    n.on("after-receive", function() {
                        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        uploadLog("after-receive", n, d)
                    })
                }
            }, {
                key: "post",
                value: function post(n) {
                    var d = this
                      , v = Date.now()
                      , m = n.fileFormat
                      , h = n.onInstanceCreated
                      , N = (0,
                    S._)(n, ["fileFormat", "onInstanceCreated"])
                      , k = new O({
                        info: {
                            fileType: n.Body.type,
                            fileSize: n.Body.size,
                            startTime: v
                        }
                    });
                    return this.getPermit(n.Body, m).then(function(m) {
                        k.setInfo((0,
                        M._)((0,
                        x._)({}, k.info), {
                            tokenEndTime: Date.now()
                        }));
                        var I = (0,
                        _._)(m.fileIds, 1)[0]
                          , C = {
                            Domain: m.uploadAddr,
                            Timeout: 18e4,
                            getAuthorization: function(n, d) {
                                d({
                                    TmpSecretId: m.secretId || "null",
                                    TmpSecretKey: m.secretKey || "null",
                                    SecurityToken: m.token,
                                    StartTime: Math.floor(((null == m ? void 0 : m.startTime) || v) / 1e3),
                                    ExpiredTime: Math.floor(m.expireTime / 1e3)
                                })
                            }
                        };
                        "unknown" === m.bucket && (C.AppId = "1251524319");
                        var S = new (y())(C);
                        return h && h(S),
                        d.logEventInit(S),
                        S.uploadFile((0,
                        x._)({
                            Bucket: m.bucket,
                            Region: m.region,
                            Key: I
                        }, N)).then(function(v) {
                            var h, y, C = (0,
                            M._)((0,
                            x._)({}, v), {
                                bizName: d.bizName,
                                scene: d.scene,
                                cloudType: m.cloudType,
                                fileId: I,
                                useCache: d.useCache
                            });
                            if (m.cdnDomain) {
                                var S = "".concat(m.cdnDomain, "/").concat(I);
                                C.cdnDomain = m.cdnDomain,
                                C.url = S,
                                C.previewUrl = S,
                                C.staticUrl = S
                            }
                            (null == v ? void 0 : v.headers) && Object.keys(v.headers).forEach(function(n) {
                                if (n.startsWith("x-ros-")) {
                                    var d;
                                    C[n.split("x-ros-")[1].replace(/\-(\w)/g, function(n) {
                                        return n[1].toUpperCase()
                                    })] = null === (d = v.headers) || void 0 === d ? void 0 : d[n]
                                }
                            });
                            var _ = {
                                fileId: I,
                                cloudType: m.cloudType,
                                uploaderAddr: m.uploadAddr,
                                sliceSize: N.SliceSize || 1048576,
                                isSlice: n.Body.size > (N.SliceSize || 1048576),
                                tokenFail: !1
                            };
                            return (null == v ? void 0 : null === (h = v.headers) || void 0 === h ? void 0 : h["x-tracer"]) && (_.tracerId = null === (y = v.headers) || void 0 === y ? void 0 : y["x-tracer"]),
                            d.setCachePermit(n.Body, null),
                            k.setData(C).log(d, _)
                        }).catch(function(v) {
                            var h;
                            return d.enableResume && !(null == v ? void 0 : null === (h = v.message) || void 0 === h ? void 0 : h.includes("network error")) && d.setCachePermit(n.Body, null),
                            k.fail().setCode(Number((null == v ? void 0 : v.code) || -1)).setMsg(null == v ? void 0 : v.message).log(d, {
                                fileId: I,
                                cloudType: m.cloudType,
                                uploaderAddr: m.uploadAddr,
                                sliceSize: N.SliceSize || 1048576,
                                isSlice: n.Body.size > (N.SliceSize || 1048576),
                                tokenFail: !1,
                                serverFail: !0
                            })
                        })
                    }).catch(function(n) {
                        return k.fail().setInfo((0,
                        M._)((0,
                        x._)({}, k.info), {
                            tokenEndTime: Date.now()
                        })).setMsg(n.message).log(d, {
                            tokenFail: !0
                        })
                    })
                }
            }, {
                key: "multiPost",
                value: function multiPost(n) {
                    var d = this;
                    return (0,
                    N._)(function() {
                        var v, m, h, k, I, C, V, O;
                        return (0,
                        B.Jh)(this, function(U) {
                            switch (U.label) {
                            case 0:
                                var z;
                                v = Date.now(),
                                m = n.fileFormat,
                                h = n.onInstanceCreated,
                                k = (0,
                                S._)(n, ["fileFormat", "onInstanceCreated"]),
                                z = (0,
                                N._)(function(n, N) {
                                    var I, C, S, V, O;
                                    return (0,
                                    B.Jh)(this, function(B) {
                                        switch (B.label) {
                                        case 0:
                                            return [4, R(d.getToken, [{
                                                bizName: d.bizName,
                                                scene: d.scene,
                                                fileCount: n.length,
                                                fileFormat: m
                                            }])];
                                        case 1:
                                            if (!(null == (I = B.sent().uploadTempPermits) ? void 0 : I.length))
                                                throw Error("token 获取失败。");
                                            return S = {
                                                Domain: (C = (0,
                                                _._)(I.sort(function(n, d) {
                                                    return d.qos - n.qos
                                                }), 1)[0]).uploadAddr,
                                                FileParallelLimit: 10,
                                                Timeout: 18e4,
                                                getAuthorization: function(n, d) {
                                                    d({
                                                        TmpSecretId: C.secretId || "null",
                                                        TmpSecretKey: C.secretKey || "null",
                                                        SecurityToken: C.token,
                                                        StartTime: Math.floor(((null == C ? void 0 : C.startTime) || v) / 1e3),
                                                        ExpiredTime: Math.floor(C.expireTime / 1e3)
                                                    })
                                                }
                                            },
                                            "unknown" === C.bucket && (S.AppId = "1251524319"),
                                            V = new (y())(S),
                                            d.logEventInit(V),
                                            h && h(V),
                                            O = n.map(function(n, d) {
                                                return {
                                                    Bucket: C.bucket,
                                                    Region: C.region,
                                                    Key: C.fileIds[d],
                                                    Body: n.file,
                                                    onProgress: n.onProgress,
                                                    onTaskReady: n.onTaskReady
                                                }
                                            }),
                                            V.uploadFiles((0,
                                            M._)((0,
                                            x._)({
                                                files: O
                                            }, k), {
                                                onFileFinish: function(n, d, v) {
                                                    var m;
                                                    v.Index = N + Number(v.Index),
                                                    null === (m = k.onFileFinish) || void 0 === m || m.call(k, n, d, v)
                                                }
                                            })),
                                            [2]
                                        }
                                    })
                                }),
                                I = function handleUpload(n, d) {
                                    return z.apply(this, arguments)
                                }
                                ,
                                C = splitArrayIntoChunks(n.Body, 14),
                                V = 0,
                                O = 0,
                                U.label = 1;
                            case 1:
                                if (!(O < C.length))
                                    return [3, 4];
                                return [4, I(C[O], V)];
                            case 2:
                                U.sent(),
                                V += C[O].length,
                                U.label = 3;
                            case 3:
                                return O++,
                                [3, 1];
                            case 4:
                                return [2]
                            }
                        })
                    })()
                }
            }]),
            Uploader
        }()
    },
    22526: function(n, d, v) {
        "use strict";
        v.d(d, {
            c: function() {
                return ey
            }
        });
        var m = v(46490)
          , h = v(90251)
          , y = v(51606)
          , N = v(70879);
        v(86651);
        var k = v(25618)
          , I = v(88329);
        v(87989),
        v(41593);
        var C = v(12911)
          , x = v(27292)
          , base_ValidateSuccess = function ValidateSuccess() {
            (0,
            m._)(this, ValidateSuccess),
            (0,
            y._)(this, "success", void 0),
            this.success = !0
        }
          , base_ValidateFailed = function ValidateFailed(n) {
            (0,
            m._)(this, ValidateFailed),
            (0,
            y._)(this, "success", void 0),
            (0,
            y._)(this, "message", void 0),
            this.success = !1,
            this.message = n
        }
          , base_Command = function Command() {
            (0,
            m._)(this, Command)
        }
          , M = function(n) {
            function ExecuteCommand() {
                return (0,
                m._)(this, ExecuteCommand),
                (0,
                C._)(this, ExecuteCommand, arguments)
            }
            return (0,
            x._)(ExecuteCommand, n),
            ExecuteCommand
        }(base_Command)
          , S = function(n) {
            function QueryCommand() {
                return (0,
                m._)(this, QueryCommand),
                (0,
                C._)(this, QueryCommand, arguments)
            }
            return (0,
            x._)(QueryCommand, n),
            QueryCommand
        }(base_Command)
          , _ = function() {
            function Invoker() {
                (0,
                m._)(this, Invoker),
                (0,
                y._)(this, "_maxSize", 10),
                (0,
                y._)(this, "_undoStack", []),
                (0,
                y._)(this, "_redoStack", [])
            }
            return (0,
            h._)(Invoker, [{
                key: "_getProtoTypeString",
                value: function _getProtoTypeString(n) {
                    return n.constructor.name
                }
            }, {
                key: "execute",
                value: function execute(n, d) {
                    var v = this;
                    if (n instanceof S)
                        return console.log("[seven] command info:", n),
                        n.execute();
                    var m = this._getProtoTypeString(n);
                    n.validate().then(function(h) {
                        h.success ? (console.log("%c[".concat(m, "] Validate Success"), "color:green;"),
                        n.execute(),
                        v._clearRedo(),
                        v._appendUndo(n),
                        console.log("%c[".concat(m, "] Execute Success"), "color: green;"),
                        (null == d ? void 0 : d.success) && d.success()) : (console.log("%c[".concat(m, "] Validate Failed:  ").concat(h.message), "color:red;"),
                        (null == d ? void 0 : d.error) && d.error(Error(h.message)))
                    }).catch(function(n) {
                        console.log("%c[".concat(m, "] Execute Failed:"), "color: red;", n),
                        (null == d ? void 0 : d.error) && d.error(n)
                    })
                }
            }, {
                key: "_appendUndo",
                value: function _appendUndo(n) {
                    this._undoStack.length > this._maxSize && this._undoStack.shift(),
                    this._undoStack.push(n)
                }
            }, {
                key: "_appendRedo",
                value: function _appendRedo(n) {
                    this._redoStack.length > this._maxSize && this._redoStack.shift(),
                    this._redoStack.push(n)
                }
            }, {
                key: "_clearRedo",
                value: function _clearRedo() {
                    this._redoStack = []
                }
            }, {
                key: "undo",
                value: function undo() {
                    var n = this._undoStack.pop();
                    n && (n.undo(),
                    this._redoStack.push(n))
                }
            }, {
                key: "redo",
                value: function redo() {
                    var n = this._undoStack.pop();
                    n && (n.execute(),
                    this._undoStack.push(n))
                }
            }]),
            Invoker
        }();
        v(36277),
        v(34333);
        var V = v(98542)
          , B = v(78778)
          , O = function(n) {
            function ModifyTitleCommand(n) {
                var d;
                return (0,
                m._)(this, ModifyTitleCommand),
                d = (0,
                C._)(this, ModifyTitleCommand),
                (0,
                y._)(d, "name", "ModifyTitleCommand"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(ModifyTitleCommand, n),
            (0,
            h._)(ModifyTitleCommand, [{
                key: "undo",
                value: function undo() {
                    (0,
                    V.Jk)((0,
                    B.ZP)()).title.value = this._oldValue.title
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    B.ZP)()).title;
                    this._oldValue = {
                        title: n.value
                    },
                    n.value = this.delta.title
                }
            }, {
                key: "validate",
                value: function validate() {
                    return new Promise(function(n) {
                        n(new base_ValidateSuccess)
                    }
                    )
                }
            }]),
            ModifyTitleCommand
        }(M)
          , R = v(75009)
          , U = function(n) {
            function ModifyAddressCommand(n) {
                var d;
                return (0,
                m._)(this, ModifyAddressCommand),
                d = (0,
                C._)(this, ModifyAddressCommand),
                (0,
                y._)(d, "name", "ModifyAddressCommand"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(ModifyAddressCommand, n),
            (0,
            h._)(ModifyAddressCommand, [{
                key: "undo",
                value: function undo() {
                    (0,
                    V.Jk)((0,
                    R.Z)()).postLoc.value = this._oldValue
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    R.Z)()).postLoc;
                    this._oldValue = n.value,
                    n.value = this.delta
                }
            }, {
                key: "validate",
                value: function validate() {
                    return new Promise(function(n, d) {
                        n(new base_ValidateSuccess)
                    }
                    )
                }
            }]),
            ModifyAddressCommand
        }(M)
          , z = function(n) {
            function ModifyContentCommand(n) {
                var d;
                return (0,
                m._)(this, ModifyContentCommand),
                d = (0,
                C._)(this, ModifyContentCommand),
                (0,
                y._)(d, "name", "ModifyContentCommand"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(ModifyContentCommand, n),
            (0,
            h._)(ModifyContentCommand, [{
                key: "undo",
                value: function undo() {
                    var n, d, v, m = (0,
                    V.Jk)((0,
                    B.ZP)()), h = m.desc, y = m.descInnerHTML, N = m.descLength;
                    y.value = (null === (n = this._oldValue) || void 0 === n ? void 0 : n.innerHTML) || "",
                    h.value = (null === (d = this._oldValue) || void 0 === d ? void 0 : d.innerText) || "",
                    N.value = (null === (v = this._oldValue) || void 0 === v ? void 0 : v.length) || 0
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    B.ZP)())
                      , d = n.desc
                      , v = n.descInnerHTML
                      , m = n.descLength;
                    this._oldValue = {
                        innerHTML: v.value,
                        innerText: d.value,
                        length: m.value
                    },
                    v.value = this.delta.innerHTML || "",
                    d.value = this.delta.innerText || "",
                    m.value = this.delta.length || 0
                }
            }, {
                key: "validate",
                value: function validate() {
                    return new Promise(function(n, d) {
                        n(new base_ValidateSuccess)
                    }
                    )
                }
            }]),
            ModifyContentCommand
        }(M)
          , Z = function(n) {
            function QuillEditorCommand(n) {
                var d;
                return (0,
                m._)(this, QuillEditorCommand),
                d = (0,
                C._)(this, QuillEditorCommand),
                (0,
                y._)(d, "name", "QuillEditorCommand"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(QuillEditorCommand, n),
            (0,
            h._)(QuillEditorCommand, [{
                key: "undo",
                value: function undo() {}
            }, {
                key: "execute",
                value: function execute() {
                    window.quill = this.delta.quill
                }
            }, {
                key: "validate",
                value: function validate() {
                    return new Promise(function(n, d) {
                        n(new base_ValidateSuccess)
                    }
                    )
                }
            }]),
            QuillEditorCommand
        }(M)
          , Q = function(n) {
            function QueryQuillEditorCommand() {
                var n;
                return (0,
                m._)(this, QueryQuillEditorCommand),
                n = (0,
                C._)(this, QueryQuillEditorCommand, arguments),
                (0,
                y._)(n, "name", "QueryQuillEditorCommand"),
                n
            }
            return (0,
            x._)(QueryQuillEditorCommand, n),
            (0,
            h._)(QueryQuillEditorCommand, [{
                key: "execute",
                value: function execute() {
                    return window.quill
                }
            }]),
            QueryQuillEditorCommand
        }(S)
          , J = v(27337)
          , H = v(91583)
          , G = function(n) {
            function ModifyLiveNoticeCommand(n) {
                var d;
                return (0,
                m._)(this, ModifyLiveNoticeCommand),
                d = (0,
                C._)(this, ModifyLiveNoticeCommand),
                (0,
                y._)(d, "name", "ModifyLiveNoticeCommand"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(ModifyLiveNoticeCommand, n),
            (0,
            h._)(ModifyLiveNoticeCommand, [{
                key: "undo",
                value: function undo() {
                    (0,
                    V.Jk)((0,
                    R.Z)()).liveNoticeBind.value = this._oldValue
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    R.Z)()).liveNoticeBind;
                    this._oldValue = n.value,
                    n.value = (0,
                    J._)((0,
                    N._)({}, this.delta), {
                        liveNoticeType: H.tK.Bind
                    })
                }
            }, {
                key: "validate",
                value: function validate() {
                    return new Promise(function(n) {
                        n(new base_ValidateSuccess)
                    }
                    )
                }
            }]),
            ModifyLiveNoticeCommand
        }(M)
          , Y = function(n) {
            function ModifyLiveReservationCommand(n) {
                var d;
                return (0,
                m._)(this, ModifyLiveReservationCommand),
                d = (0,
                C._)(this, ModifyLiveReservationCommand),
                (0,
                y._)(d, "name", "ModifyLiveReservationCommand"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(ModifyLiveReservationCommand, n),
            (0,
            h._)(ModifyLiveReservationCommand, [{
                key: "undo",
                value: function undo() {
                    (0,
                    V.Jk)((0,
                    R.Z)()).liveReservationBind.value = this._oldValue
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    R.Z)()).liveReservationBind;
                    this._oldValue = n.value,
                    n.value = this.delta
                }
            }, {
                key: "validate",
                value: function validate() {
                    return new Promise(function(n) {
                        n(new base_ValidateSuccess)
                    }
                    )
                }
            }]),
            ModifyLiveReservationCommand
        }(M)
          , W = v(81657)
          , q = function(n) {
            function ModifyLiveContextCommand(n) {
                var d;
                return (0,
                m._)(this, ModifyLiveContextCommand),
                d = (0,
                C._)(this, ModifyLiveContextCommand),
                (0,
                y._)(d, "name", "ModifyLiveContextCommand"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(ModifyLiveContextCommand, n),
            (0,
            h._)(ModifyLiveContextCommand, [{
                key: "undo",
                value: function undo() {
                    (0,
                    V.Jk)((0,
                    W.Z)()).liveContext.value = this._oldValue
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    W.Z)()).liveContext;
                    this._oldValue = n.value,
                    n.value = this.delta
                }
            }, {
                key: "validate",
                value: function validate() {
                    return new Promise(function(n) {
                        n(new base_ValidateSuccess)
                    }
                    )
                }
            }]),
            ModifyLiveContextCommand
        }(M)
          , X = function(n) {
            function ClearLiveNoticeCommand() {
                var n;
                return (0,
                m._)(this, ClearLiveNoticeCommand),
                n = (0,
                C._)(this, ClearLiveNoticeCommand),
                (0,
                y._)(n, "name", "ClearLiveNoticeCommand"),
                (0,
                y._)(n, "_oldValue", void 0),
                n
            }
            return (0,
            x._)(ClearLiveNoticeCommand, n),
            (0,
            h._)(ClearLiveNoticeCommand, [{
                key: "undo",
                value: function undo() {
                    (0,
                    V.Jk)((0,
                    R.Z)()).liveNoticeBind.value = this._oldValue
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    R.Z)()).liveNoticeBind;
                    if (this._oldValue = n.value,
                    !!n.value)
                        n.value = (0,
                        J._)((0,
                        N._)({}, n.value), {
                            liveNoticeType: H.tK.NotBind
                        })
                }
            }, {
                key: "validate",
                value: function validate() {
                    return new Promise(function(n) {
                        n(new base_ValidateSuccess)
                    }
                    )
                }
            }]),
            ClearLiveNoticeCommand
        }(M)
          , K = function(n) {
            function ModifyImgListCommand(n) {
                var d;
                return (0,
                m._)(this, ModifyImgListCommand),
                d = (0,
                C._)(this, ModifyImgListCommand),
                (0,
                y._)(d, "name", "ModifyImgListCommand"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(ModifyImgListCommand, n),
            (0,
            h._)(ModifyImgListCommand, [{
                key: "undo",
                value: function undo() {
                    (0,
                    V.Jk)((0,
                    B.ZP)()).imgList.value = this._oldValue.imgList
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    B.ZP)()).imgList;
                    this._oldValue = {
                        imgList: n.value
                    },
                    n.value = this.delta.imgList
                }
            }, {
                key: "validate",
                value: function validate() {
                    return new Promise(function(n) {
                        n(new base_ValidateSuccess)
                    }
                    )
                }
            }]),
            ModifyImgListCommand
        }(M);
        v(87535),
        v(75204),
        v(97357),
        v(29273);
        var $ = function(n) {
            function ModifyImgCommand(n) {
                var d;
                return (0,
                m._)(this, ModifyImgCommand),
                d = (0,
                C._)(this, ModifyImgCommand),
                (0,
                y._)(d, "name", "ModifyImgCommand"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(ModifyImgCommand, n),
            (0,
            h._)(ModifyImgCommand, [{
                key: "undo",
                value: function undo() {}
            }, {
                key: "execute",
                value: function execute() {
                    var n = this
                      , d = (0,
                    V.Jk)((0,
                    B.ZP)()).imgList;
                    d.value.forEach(function(v, m) {
                        if (v.key === n.delta.key) {
                            var h = (0,
                            N._)({}, v, n.delta.data);
                            n.delta.data.fileId && v.origin && (h.origin.fileId = n.delta.data.fileId),
                            d.value.splice(m, 1, h)
                        }
                    })
                }
            }, {
                key: "validate",
                value: function validate() {
                    return new Promise(function(n) {
                        n(new base_ValidateSuccess)
                    }
                    )
                }
            }]),
            ModifyImgCommand
        }(M)
          , ee = function(n) {
            function ModifyPermissionCommand(n) {
                var d;
                return (0,
                m._)(this, ModifyPermissionCommand),
                d = (0,
                C._)(this, ModifyPermissionCommand),
                (0,
                y._)(d, "name", "ModifyPermissionCommand"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(ModifyPermissionCommand, n),
            (0,
            h._)(ModifyPermissionCommand, [{
                key: "undo",
                value: function undo() {
                    (0,
                    V.Jk)((0,
                    R.Z)()).privacyInfo.value = this._oldValue
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    R.Z)()).privacyInfo;
                    this._oldValue = n.value,
                    n.value = this.delta
                }
            }, {
                key: "validate",
                value: function validate() {
                    return new Promise(function(n, d) {
                        n(new base_ValidateSuccess)
                    }
                    )
                }
            }]),
            ModifyPermissionCommand
        }(M)
          , et = function(n) {
            function ModifyDeclarationCommand(n) {
                var d;
                return (0,
                m._)(this, ModifyDeclarationCommand),
                d = (0,
                C._)(this, ModifyDeclarationCommand),
                (0,
                y._)(d, "name", "ModifyDeclarationCommand"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(ModifyDeclarationCommand, n),
            (0,
            h._)(ModifyDeclarationCommand, [{
                key: "undo",
                value: function undo() {
                    (0,
                    V.Jk)((0,
                    R.Z)()).userDeclaration.value = this._oldValue
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    R.Z)()).userDeclaration;
                    this._oldValue = n.value,
                    n.value = this.delta
                }
            }, {
                key: "validate",
                value: function validate() {
                    return new Promise(function(n, d) {
                        n(new base_ValidateSuccess)
                    }
                    )
                }
            }]),
            ModifyDeclarationCommand
        }(M);
        v(74093),
        v(20768),
        v(41648),
        v(59339),
        v(47444),
        v(34757),
        v(85908),
        v(39995),
        v(22943),
        v(54767),
        v(55820),
        v(93225),
        v(33708),
        v(64322),
        v(47771),
        v(27461),
        v(23339),
        v(51109);
        var en = v(66993);
        v(63235),
        v(15368),
        v(12970),
        v(8503),
        v(32207),
        v(13598),
        v(23541),
        v(63827),
        v(30488),
        v(82236),
        v(51938),
        v(33913),
        v(94949),
        v(17891),
        v(44258),
        v(38609),
        v(4787),
        v(44211),
        v(29338),
        v(73405),
        v(98754),
        v(31832),
        v(88402),
        v(56712);
        var ea = function() {
            function LifeCycleNotParamsEvent() {
                (0,
                m._)(this, LifeCycleNotParamsEvent),
                (0,
                y._)(this, "events", void 0),
                this.events = new Set
            }
            return (0,
            h._)(LifeCycleNotParamsEvent, [{
                key: "on",
                value: function on(n) {
                    return this.events.add(n),
                    this
                }
            }, {
                key: "trigger",
                value: function trigger() {
                    var n, d = (0,
                    en._)(this.events);
                    (n = I.FunctionExt).compose.apply(n, (0,
                    en._)(d))()
                }
            }]),
            LifeCycleNotParamsEvent
        }()
          , eo = function() {
            function LifeCycle() {
                (0,
                m._)(this, LifeCycle),
                (0,
                y._)(this, "plugins", void 0),
                this.plugins = new Map,
                this.handleInitLifeCycle()
            }
            return (0,
            h._)(LifeCycle, [{
                key: "handleInitLifeCycle",
                value: function handleInitLifeCycle() {
                    this.plugins.set(1, new ea),
                    this.plugins.set(0, new ea)
                }
            }, {
                key: "preRun",
                get: function get() {
                    return this.plugins.get(0)
                }
            }, {
                key: "postRun",
                get: function get() {
                    return this.plugins.get(1)
                }
            }]),
            LifeCycle
        }();
        v(99808),
        v(58486),
        v(95477),
        v(13768),
        v(45697),
        v(91004),
        v(18638),
        v(96336),
        v(87168),
        v(14190),
        v(4137),
        v(70805),
        v(5317),
        v(81167),
        v(22583),
        v(89655),
        v(88598),
        v(11530),
        v(16765),
        v(3398),
        v(90621),
        v(35904),
        v(73982),
        v(87683),
        v(59735),
        v(69167),
        v(27151),
        v(95341),
        v(53395),
        v(10074),
        v(31899),
        v(98398),
        v(94837),
        v(53077),
        v(14340),
        v(31578),
        v(46521),
        v(49932),
        v(78246),
        v(62444),
        v(34076),
        v(12334),
        v(68802),
        v(76267),
        v(83257),
        v(90834),
        v(907),
        v(18552),
        v(7608);
        var er = v(71799)
          , ei = v(11010)
          , el = function(n) {
            function UploadCoverFromBase64Command(n) {
                var d;
                return (0,
                m._)(this, UploadCoverFromBase64Command),
                d = (0,
                C._)(this, UploadCoverFromBase64Command),
                (0,
                y._)(d, "name", "UploadCoverFromBase64Command"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                (0,
                y._)(d, "_temp", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(UploadCoverFromBase64Command, n),
            (0,
            h._)(UploadCoverFromBase64Command, [{
                key: "_base64ToFile",
                value: function _base64ToFile(n) {
                    var d, v = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "cover.jpeg", m = n.split(",");
                    if (m.length) {
                        for (var h = null === (d = m[0].match(/:(.*?);/)) || void 0 === d ? void 0 : d[1], y = atob(m[1]), N = y.length, k = new Uint8Array(N); N--; )
                            k[N] = y.charCodeAt(N);
                        return new File([new Blob([k],{
                            type: h
                        })],v)
                    }
                }
            }, {
                key: "undo",
                value: function undo() {
                    var n = (0,
                    V.Jk)((0,
                    B.ZP)())
                      , d = n.cover
                      , v = n.coverUrl
                      , m = n.video;
                    d.value = this._oldValue.cover,
                    v.value = this._oldValue.coverUrl,
                    m.value.frame = this._oldValue.frame
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    B.ZP)())
                      , d = n.cover
                      , v = n.coverUrl
                      , m = n.video;
                    this._oldValue = {
                        cover: d.value,
                        coverUrl: v.value,
                        frame: m.value.frame
                    },
                    d.value = this._temp.cover,
                    v.value = this._temp.coverUrl
                }
            }, {
                key: "_setUploadingCoverStatus",
                value: function _setUploadingCoverStatus(n, d) {
                    var v = (0,
                    V.Jk)((0,
                    ei.Z)()).isUploadingCover;
                    d && (v.value = n)
                }
            }, {
                key: "validate",
                value: function validate() {
                    var n = this;
                    return new Promise(function(d) {
                        var v = n.delta
                          , m = v.base64File
                          , h = v.isUpload;
                        if (n._setUploadingCoverStatus(!0, h),
                        m) {
                            var y, N = (0,
                            er.Z)().imageUploader;
                            (y = m instanceof File ? m : n._base64ToFile(m)) ? N.upload(y).then(function(v) {
                                v.fileId && v.previewUrl ? (n._temp = {
                                    cover: {
                                        fileid: v.fileId,
                                        width: n.delta.width,
                                        height: n.delta.height,
                                        frame: {
                                            ts: n.delta.frametime,
                                            isUserSelect: 0 !== n.delta.frametime || n.delta.isUserSelect,
                                            isUpload: n.delta.isUpload
                                        },
                                        stickers: {
                                            neptune: [],
                                            version: 2
                                        },
                                        fonts: [],
                                        extra_info_json: JSON.stringify({})
                                    },
                                    coverUrl: v.previewUrl,
                                    frame: {
                                        ts: n.delta.frametime,
                                        userSelect: 0 !== n.delta.frametime || n.delta.isUserSelect || n.delta.isUpload
                                    }
                                },
                                n._setUploadingCoverStatus(!1, h),
                                d(new base_ValidateSuccess)) : (n._setUploadingCoverStatus(!1, h),
                                d(new base_ValidateFailed("封面上传失败，请稍后重试")))
                            }).catch(function() {
                                n._setUploadingCoverStatus(!1, h),
                                d(new base_ValidateFailed("封面上传失败，请稍后重试"))
                            }) : (n._setUploadingCoverStatus(!1, h),
                            d(new base_ValidateFailed("封面上传失败，请稍后重试")))
                        } else
                            n._setUploadingCoverStatus(!1, h),
                            d(new base_ValidateFailed("封面上传失败，请稍后重试"))
                    }
                    )
                }
            }]),
            UploadCoverFromBase64Command
        }(M)
          , ec = function(n) {
            function UploadCoverFromBlobCommand(n) {
                var d;
                return (0,
                m._)(this, UploadCoverFromBlobCommand),
                d = (0,
                C._)(this, UploadCoverFromBlobCommand),
                (0,
                y._)(d, "name", "UploadCoverFromBlobCommand"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                (0,
                y._)(d, "_temp", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(UploadCoverFromBlobCommand, n),
            (0,
            h._)(UploadCoverFromBlobCommand, [{
                key: "_blobToFile",
                value: function _blobToFile(n) {
                    var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "cover.jpeg";
                    return new File([n],d)
                }
            }, {
                key: "undo",
                value: function undo() {
                    var n = (0,
                    V.Jk)((0,
                    B.ZP)())
                      , d = n.cover
                      , v = n.coverUrl
                      , m = n.video;
                    d.value = this._oldValue.cover,
                    v.value = this._oldValue.coverUrl,
                    m.value.frame = this._oldValue.frame
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    B.ZP)())
                      , d = n.cover
                      , v = n.coverUrl
                      , m = n.video
                      , h = (0,
                    V.Jk)((0,
                    W.Z)())
                      , y = h.firstFrameCover
                      , N = h.firstFrameCoverUrl;
                    this._oldValue = {
                        cover: d.value,
                        coverUrl: v.value,
                        frame: m.value.frame
                    },
                    d.value = this._temp.cover,
                    v.value = this._temp.coverUrl,
                    y.value = this._temp.cover,
                    N.value = this._temp.coverUrl
                }
            }, {
                key: "validate",
                value: function validate() {
                    var n = this;
                    return new Promise(function(d) {
                        var v = n.delta.blob;
                        if (v) {
                            var m = (0,
                            er.Z)().imageUploader
                              , h = n._blobToFile(v);
                            h ? m.upload(h).then(function(v) {
                                v.fileId && v.previewUrl ? (n._temp = {
                                    cover: {
                                        fileid: v.fileId,
                                        width: n.delta.width,
                                        height: n.delta.height,
                                        frame: {
                                            ts: n.delta.frametime,
                                            isUserSelect: 0 !== n.delta.frametime,
                                            isUpload: n.delta.isUpload
                                        },
                                        stickers: {
                                            neptune: [],
                                            version: 2
                                        },
                                        fonts: [],
                                        extra_info_json: JSON.stringify({})
                                    },
                                    coverUrl: v.previewUrl,
                                    frame: {
                                        ts: n.delta.frametime,
                                        userSelect: 0 !== n.delta.frametime || n.delta.isUpload
                                    }
                                },
                                d(new base_ValidateSuccess)) : d(new base_ValidateFailed("封面上传失败，请稍后重试"))
                            }).catch(function() {
                                d(new base_ValidateFailed("封面上传失败，请稍后重试"))
                            }) : d(new base_ValidateFailed("封面上传失败，请稍后重试"))
                        } else
                            d(new base_ValidateFailed("封面上传失败，请稍后重试"))
                    }
                    )
                }
            }]),
            UploadCoverFromBlobCommand
        }(M);
        v(6045),
        v(10364),
        v(67673),
        v(80156),
        v(50721),
        v(29112),
        v(67275),
        v(59989),
        v(7099),
        v(87394),
        v(94941),
        v(48421),
        v(64961),
        v(12996),
        v(59564);
        var eu = v(43858)
          , es = v(22376)
          , ed = v(65128)
          , ev = (0,
        eu.Z)().uploadFiles
          , em = function(n) {
            function AppendRecommendCoverCommand(n, d) {
                var v;
                return (0,
                m._)(this, AppendRecommendCoverCommand),
                v = (0,
                C._)(this, AppendRecommendCoverCommand),
                (0,
                y._)(v, "name", "AppendRecommendCoverCommand"),
                (0,
                y._)(v, "_delta", []),
                (0,
                y._)(v, "_fileName", void 0),
                (0,
                y._)(v, "_temp", []),
                v._delta = n,
                v._fileName = d,
                v
            }
            return (0,
            x._)(AppendRecommendCoverCommand, n),
            (0,
            h._)(AppendRecommendCoverCommand, [{
                key: "undo",
                value: function undo() {
                    (0,
                    V.Jk)((0,
                    W.Z)()).recommendCovers.value = []
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    W.Z)())
                      , d = n.recommendCovers
                      , v = n.recommendCoversStatus
                      , m = (0,
                    V.Jk)((0,
                    B.ZP)()).videoFile
                      , h = this._fileName === m.value.name;
                    d.value = this._temp && h ? this._temp.map(function(n) {
                        return {
                            url: n.url,
                            fileId: n.fileId || "",
                            aestheticScore: n.aestheticScore,
                            coverScore: n.coverScore,
                            firstFrame: n.firstFrame,
                            qualityScore: n.qualityScore,
                            frameName: n.uri
                        }
                    }) : [],
                    v.value = H.th.Success
                }
            }, {
                key: "_upload",
                value: function _upload(n) {
                    var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 6e4
                      , v = n.map(function(n, d) {
                        return {
                            file: new File([n],"cover".concat(d, ".jpeg"),{
                                type: "image/jpeg"
                            }),
                            url: URL.createObjectURL(n)
                        }
                    });
                    return new Promise(function(m, h) {
                        var y = 0
                          , k = []
                          , I = setTimeout(function() {
                            m(k.filter(function(n) {
                                return !!(null == n ? void 0 : n.previewUrl)
                            }))
                        }, d);
                        ev({
                            files: v,
                            onFileFinish: function(d, v, h) {
                                if (y += 1,
                                !d) {
                                    var C, x = (null == v ? void 0 : null === (C = v.headers) || void 0 === C ? void 0 : C["x-ros-preview-url"]) || "";
                                    k[h.Index] = (0,
                                    J._)((0,
                                    N._)({}, v, h), {
                                        previewUrl: x
                                    })
                                }
                                y === n.length && (clearTimeout(I),
                                m(k.filter(function(n) {
                                    return !!(null == n ? void 0 : n.previewUrl)
                                })))
                            }
                        })
                    }
                    )
                }
            }, {
                key: "validate",
                value: function validate() {
                    var n = this
                      , d = (0,
                    V.Jk)((0,
                    ei.Z)()).noteId
                      , v = (0,
                    V.Jk)((0,
                    W.Z)()).recommendCoversStatus
                      , m = this._delta
                      , h = Date.now();
                    return new Promise(function(y, I) {
                        if (!m.length) {
                            var C, x;
                            null === (x = window) || void 0 === x || null === (C = x.eaglet) || void 0 === C || C.push(k.tracker["71130"]({
                                errorCode: "files.length 为 0",
                                count: 0,
                                strategyType: "ffmpeg",
                                noteEditSource: d.value ? 2 : 1
                            })),
                            y(new base_ValidateFailed("前端抽帧失败"))
                        }
                        var M = m.map(function(n) {
                            return new Blob([n.file],{
                                type: "image/jpeg"
                            })
                        });
                        n._upload(M).then(function(I) {
                            if (I.length <= 3) {
                                var C = I.map(function(n) {
                                    var d;
                                    return (0,
                                    J._)((0,
                                    N._)({
                                        file_id: n.Key
                                    }, m[n.Index]), {
                                        url: (null === (d = n.headers) || void 0 === d ? void 0 : d["x-ros-preview-url"]) || ""
                                    })
                                });
                                return n._temp = C,
                                y(new base_ValidateSuccess)
                            }
                            var x = I.map(function(n) {
                                return {
                                    file_id: n.Key
                                }
                            });
                            (0,
                            es.hk)({
                                biz_name: "spectrum",
                                scene: "image",
                                images: x
                            }).then(function(v) {
                                var C, x, M = v.recommend_cover_files, S = (void 0 === M ? [] : M).map(function(n) {
                                    var d, v = n.aesthetic_score, h = n.cover_score, y = n.first_frame, k = n.quality_score, C = I.find(function(d) {
                                        return d.Key === n.file_id
                                    });
                                    return (0,
                                    N._)({
                                        fileId: C.Key,
                                        aestheticScore: v,
                                        coverScore: h,
                                        firstFrame: y,
                                        qualityScore: k,
                                        url: (null === (d = C.headers) || void 0 === d ? void 0 : d["x-ros-preview-url"]) || ""
                                    }, m[C.Index])
                                });
                                n._temp = S,
                                null === (x = window) || void 0 === x || null === (C = x.eaglet) || void 0 === C || C.push(k.tracker["71129"]({
                                    count: m.length,
                                    strategyType: "ffmpeg",
                                    noteEditSource: d.value ? 2 : 1
                                })),
                                ed.u.stepDuration("getRecommendCover", Date.now() - h),
                                y(new base_ValidateSuccess)
                            }).catch(function(n) {
                                var h, y, N;
                                v.value = H.th.Failed,
                                null === (y = window) || void 0 === y || null === (h = y.eaglet) || void 0 === h || h.push(k.tracker["71130"]({
                                    errorCode: null !== (N = n.message) && void 0 !== N ? N : "获取推荐封面失败",
                                    count: m.length,
                                    strategyType: "ffmpeg",
                                    noteEditSource: d.value ? 2 : 1
                                }))
                            })
                        })
                    }
                    )
                }
            }]),
            AppendRecommendCoverCommand
        }(M)
          , ef = function(n) {
            function SetCoverFromRecommend(n) {
                var d;
                return (0,
                m._)(this, SetCoverFromRecommend),
                d = (0,
                C._)(this, SetCoverFromRecommend),
                (0,
                y._)(d, "name", "SetCoverFromRecommend"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(SetCoverFromRecommend, n),
            (0,
            h._)(SetCoverFromRecommend, [{
                key: "undo",
                value: function undo() {
                    var n = (0,
                    V.Jk)((0,
                    B.ZP)())
                      , d = n.cover
                      , v = n.coverUrl
                      , m = n.video;
                    d.value = this._oldValue.cover,
                    v.value = this._oldValue.coverUrl,
                    m.value.frame = this._oldValue.frame
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    B.ZP)())
                      , d = n.cover
                      , v = n.coverUrl
                      , m = n.video;
                    this._oldValue = {
                        cover: d.value,
                        coverUrl: v.value,
                        frame: m.value.frame
                    };
                    var h = {
                        width: m.value.width,
                        height: m.value.height,
                        fileid: this.delta.fileId,
                        frame: {
                            ts: 0,
                            isUserSelect: !0,
                            isUpload: !1
                        },
                        extra_info_json: JSON.stringify({
                            cover_recommend: {
                                isUseRecommend: !0,
                                isAlgoRecommend: !0,
                                aestheticScore: this.delta.aestheticScore,
                                coverScore: this.delta.coverScore,
                                firstFrame: this.delta.firstFrame,
                                qualityScore: this.delta.qualityScore
                            }
                        })
                    };
                    d.value = h,
                    v.value = this.delta.url
                }
            }, {
                key: "validate",
                value: function validate() {
                    return new Promise(function(n) {
                        n(new base_ValidateSuccess)
                    }
                    )
                }
            }]),
            SetCoverFromRecommend
        }(M)
          , ep = function(n) {
            function ModifyCommentPermissionCommand(n) {
                var d;
                return (0,
                m._)(this, ModifyCommentPermissionCommand),
                d = (0,
                C._)(this, ModifyCommentPermissionCommand),
                (0,
                y._)(d, "name", "ModifyCommentPermissionCommand"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(ModifyCommentPermissionCommand, n),
            (0,
            h._)(ModifyCommentPermissionCommand, [{
                key: "undo",
                value: function undo() {
                    var n = (0,
                    V.Jk)((0,
                    R.Z)()).interactionPermissionBind;
                    n.value = (0,
                    J._)((0,
                    N._)({}, n.value), {
                        commentPermission: this.delta.commentPermission
                    })
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    R.Z)()).interactionPermissionBind;
                    this._oldValue = {
                        commentPermission: n.value.commentPermission
                    },
                    n.value = (0,
                    J._)((0,
                    N._)({}, n.value), {
                        commentPermission: this.delta.commentPermission
                    })
                }
            }, {
                key: "validate",
                value: function validate() {
                    return new Promise(function(n, d) {
                        n(new base_ValidateSuccess)
                    }
                    )
                }
            }]),
            ModifyCommentPermissionCommand
        }(M)
          , eg = function(n) {
            function UploadCoverTemplateFromBlobCommand(n) {
                var d;
                return (0,
                m._)(this, UploadCoverTemplateFromBlobCommand),
                d = (0,
                C._)(this, UploadCoverTemplateFromBlobCommand),
                (0,
                y._)(d, "name", "UploadCoverTemplateFromBlobCommand"),
                (0,
                y._)(d, "delta", void 0),
                (0,
                y._)(d, "_oldValue", {
                    coverUrl: "",
                    cover: {
                        width: 0,
                        height: 0,
                        fileid: "",
                        frame: {
                            ts: 0,
                            isUserSelect: !1,
                            isUpload: !1
                        },
                        stickers: {
                            neptune: [],
                            version: 2
                        },
                        fonts: [],
                        coverTemplateId: "",
                        extra_info_json: ""
                    },
                    rate: W.l.FourToThree,
                    templateBlob: null,
                    recommendCoverIdx: -1
                }),
                (0,
                y._)(d, "_temp", void 0),
                d.delta = n,
                d
            }
            return (0,
            x._)(UploadCoverTemplateFromBlobCommand, n),
            (0,
            h._)(UploadCoverTemplateFromBlobCommand, [{
                key: "_blobToFile",
                value: function _blobToFile(n) {
                    var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "cover.jpeg";
                    return n instanceof File ? n : new File([n],d)
                }
            }, {
                key: "_getExtraInfoJson",
                value: function _getExtraInfoJson(n, d) {
                    if (-1 === d)
                        return JSON.stringify(n);
                    var v = (0,
                    V.Jk)((0,
                    W.Z)()).recommendCovers.value[d];
                    return JSON.stringify((0,
                    J._)((0,
                    N._)({}, n), {
                        cover_recommend: {
                            isUseRecommend: !0,
                            isAlgoRecommend: !0,
                            aestheticScore: v.aestheticScore,
                            coverScore: v.coverScore,
                            firstFrame: v.firstFrame,
                            qualityScore: v.qualityScore
                        }
                    }))
                }
            }, {
                key: "undo",
                value: function undo() {
                    var n = (0,
                    V.Jk)((0,
                    W.Z)()).coverContext;
                    n.value.cover = this._oldValue.cover,
                    n.value.coverUrl = this._oldValue.coverUrl,
                    n.value.templateBlob = this._oldValue.templateBlob,
                    n.value.rate = this._oldValue.rate
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n, d, v = (0,
                    V.Jk)((0,
                    W.Z)()).coverContext;
                    this._oldValue.cover = v.value.cover,
                    this._oldValue.coverUrl = v.value.coverUrl,
                    this._oldValue.templateBlob = v.value.templateBlob,
                    this._oldValue.recommendCoverIdx = null === (n = v.value) || void 0 === n ? void 0 : n.recommendCoverIdx,
                    v.value.cover = this._temp.cover,
                    v.value.coverUrl = this._temp.coverUrl,
                    v.value.templateBlob = this.delta.templateBlob,
                    v.value.recommendCoverIdx = null === (d = this._temp) || void 0 === d ? void 0 : d.recommendCoverIdx,
                    v.value.rate = this._temp.rate
                }
            }, {
                key: "validate",
                value: function validate() {
                    var n = this;
                    return new Promise(function(d) {
                        var v = n.delta.blob;
                        if (v) {
                            var m = (0,
                            er.Z)().imageUploader
                              , h = n._blobToFile(v);
                            h ? m.upload(h).then(function(v) {
                                v.fileId && v.previewUrl ? (n._temp = {
                                    cover: {
                                        fileid: v.fileId,
                                        width: n.delta.width,
                                        height: n.delta.height,
                                        frame: {
                                            ts: n.delta.frametime,
                                            isUserSelect: 0 !== n.delta.frametime,
                                            isUpload: n.delta.isUpload
                                        },
                                        stickers: {
                                            neptune: n.delta.neptune,
                                            version: 2
                                        },
                                        fonts: n.delta.fonts,
                                        coverTemplateId: n.delta.coverTemplateId,
                                        extra_info_json: n._getExtraInfoJson(n.delta.extra_info_json, n.delta.recommendCoverIdx || -1)
                                    },
                                    coverUrl: v.previewUrl,
                                    templateBlob: n.delta.templateBlob,
                                    recommendCoverIdx: n.delta.recommendCoverIdx,
                                    rate: n.delta.rate
                                },
                                d(new base_ValidateSuccess)) : d(new base_ValidateFailed("封面上传失败，请稍后重试"))
                            }).catch(function() {
                                d(new base_ValidateFailed("封面上传失败，请稍后重试"))
                            }) : d(new base_ValidateFailed("封面上传失败，请稍后重试"))
                        } else
                            d(new base_ValidateFailed("封面上传失败，请稍后重试"))
                    }
                    )
                }
            }]),
            UploadCoverTemplateFromBlobCommand
        }(M)
          , eh = function(n) {
            function ClearCoverContextCommand() {
                var n;
                return (0,
                m._)(this, ClearCoverContextCommand),
                n = (0,
                C._)(this, ClearCoverContextCommand),
                (0,
                y._)(n, "name", "ClearCoverContextCommand"),
                (0,
                y._)(n, "_oldValue", {
                    coverUrl: "",
                    cover: {
                        width: 0,
                        height: 0,
                        fileid: "",
                        frame: {
                            ts: 0,
                            isUserSelect: !1,
                            isUpload: !1
                        }
                    },
                    templateBlob: null
                }),
                n
            }
            return (0,
            x._)(ClearCoverContextCommand, n),
            (0,
            h._)(ClearCoverContextCommand, [{
                key: "undo",
                value: function undo() {
                    var n = (0,
                    V.Jk)((0,
                    W.Z)()).coverContext;
                    n.value.cover = this._oldValue.cover,
                    n.value.coverUrl = this._oldValue.coverUrl,
                    n.value.templateBlob = this._oldValue.templateBlob
                }
            }, {
                key: "execute",
                value: function execute() {
                    var n = (0,
                    V.Jk)((0,
                    W.Z)()).coverContext;
                    this._oldValue.cover = n.value.cover,
                    this._oldValue.coverUrl = n.value.coverUrl,
                    this._oldValue.templateBlob = n.value.templateBlob,
                    n.value.cover = {
                        width: 0,
                        height: 0,
                        fileid: "",
                        frame: {
                            ts: 0,
                            isUserSelect: !1,
                            isUpload: !1
                        }
                    },
                    n.value.coverUrl = "",
                    n.value.templateBlob = null
                }
            }, {
                key: "validate",
                value: function validate() {
                    return Promise.resolve(new base_ValidateSuccess)
                }
            }]),
            ClearCoverContextCommand
        }(M)
          , ey = function() {
            function Behavior() {
                (0,
                m._)(this, Behavior),
                (0,
                y._)(this, "invoker", void 0),
                (0,
                y._)(this, "_plugins", void 0),
                (0,
                y._)(this, "lifeCycle", void 0),
                (0,
                y._)(this, "events", void 0),
                this.invoker = new _,
                this._plugins = new I.Plugins,
                this.lifeCycle = new eo,
                this.events = new I.Events,
                this._plugins.bootstrap(this)
            }
            return (0,
            h._)(Behavior, [{
                key: "use",
                value: function use(n) {
                    this._plugins.use(n)
                }
            }, {
                key: "getPlugin",
                value: function getPlugin(n) {
                    this._plugins.getPlugin(n)
                }
            }, {
                key: "_run",
                value: function _run(n) {
                    this.lifeCycle.preRun.trigger(),
                    this.invoker.execute(n),
                    this.lifeCycle.postRun.trigger()
                }
            }, {
                key: "insertRecommendCover",
                value: function insertRecommendCover(n, d) {
                    var v = new em(n,d);
                    this.invoker.execute(v)
                }
            }, {
                key: "uploadCover",
                value: function uploadCover(n, d) {
                    var v = new el(n);
                    this.invoker.execute(v, d)
                }
            }, {
                key: "clearCoverContext",
                value: function clearCoverContext(n) {
                    var d = new eh;
                    this.invoker.execute(d, n)
                }
            }, {
                key: "uploadCoverWithBlob",
                value: function uploadCoverWithBlob(n, d) {
                    var v = new ec(n);
                    this.invoker.execute(v, d)
                }
            }, {
                key: "uploadTemplateCoverWithBlob",
                value: function uploadTemplateCoverWithBlob(n, d) {
                    var v = new eg(n);
                    this.invoker.execute(v, d)
                }
            }, {
                key: "useFfmpeg2GenerateDefaultCover",
                value: function useFfmpeg2GenerateDefaultCover(n, d) {
                    var v = new ec({
                        frametime: 0,
                        isUpload: !1,
                        blob: new Blob([n.uint8Array],{
                            type: "application/octet-stream"
                        }),
                        width: n.width,
                        height: n.height
                    });
                    this.invoker.execute(v, d)
                }
            }, {
                key: "useIframe2GenerateDefaultCover",
                value: function useIframe2GenerateDefaultCover(n, d) {
                    var v = new el((0,
                    N._)({
                        frametime: 0,
                        isUpload: !1
                    }, n));
                    this.invoker.execute(v, d)
                }
            }, {
                key: "modifyTitle",
                value: function modifyTitle(n) {
                    var d = new O(n);
                    this._run(d)
                }
            }, {
                key: "modifyAddress",
                value: function modifyAddress(n) {
                    var d = new U(n);
                    this._run(d)
                }
            }, {
                key: "modifyContent",
                value: function modifyContent(n) {
                    var d = new z(n);
                    this._run(d)
                }
            }, {
                key: "initQuillEditor",
                value: function initQuillEditor(n) {
                    var d = new Z(n);
                    this._run(d)
                }
            }, {
                key: "queryQuillEditor",
                value: function queryQuillEditor() {
                    var n = new Q;
                    return this.invoker.execute(n)
                }
            }, {
                key: "tracker",
                value: function tracker1(n, d) {
                    var v, m;
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || v.push(k.tracker[n](d))
                }
            }, {
                key: "modifyLiveNotice",
                value: function modifyLiveNotice(n) {
                    var d = new G(n);
                    this._run(d)
                }
            }, {
                key: "clearLiveNotice",
                value: function clearLiveNotice() {
                    var n = new X;
                    this._run(n)
                }
            }, {
                key: "modifyLiveReservation",
                value: function modifyLiveReservation(n) {
                    var d = new Y(n);
                    this._run(d)
                }
            }, {
                key: "modifyLiveContext",
                value: function modifyLiveContext(n) {
                    var d = new q(n);
                    this._run(d)
                }
            }, {
                key: "unmounted",
                value: function unmounted() {
                    this._plugins.unmount()
                }
            }, {
                key: "modifyImgList",
                value: function modifyImgList(n) {
                    var d = new K(n);
                    this.invoker.execute(d)
                }
            }, {
                key: "modifyImg",
                value: function modifyImg(n) {
                    var d = new $(n);
                    this.invoker.execute(d)
                }
            }, {
                key: "modifyPermission",
                value: function modifyPermission(n) {
                    var d = new ee(n);
                    this._run(d)
                }
            }, {
                key: "modifyDeclaration",
                value: function modifyDeclaration(n) {
                    var d = new et(n);
                    this._run(d)
                }
            }, {
                key: "setCoverFromRecommend",
                value: function setCoverFromRecommend(n) {
                    var d = new ef(n);
                    this.invoker.execute(d)
                }
            }, {
                key: "setCommentPermission",
                value: function setCommentPermission(n) {
                    var d = new ep(n);
                    this._run(d)
                }
            }]),
            Behavior
        }()
    },
    93177: function(n, d, v) {
        "use strict";
        v.d(d, {
            My: function() {
                return getUserHtml
            },
            ZG: function() {
                return getEmoticonHtml
            },
            bU: function() {
                return getTitleLength
            },
            he: function() {
                return getMomentHtml
            },
            nq: function() {
                return getTopicHtml
            }
        }),
        v(72169),
        v(58486),
        v(95477),
        v(87989),
        v(7608);
        var m = v(91583);
        function getTitleLength(n) {
            for (var d = 0, v = 0; v < n.length; v++)
                n.charCodeAt(v) > 127 || 94 === n.charCodeAt(v) ? d += 2 : d += 1;
            return Math.ceil(d / 2)
        }
        function getTopicHtmlWithoutSpace(n) {
            return '<a contenteditable="false" data-topic=\''.concat(JSON.stringify(n), "'>#").concat(null == n ? void 0 : n.name.replace(), '<span class="content-hide">[话题]#</span></a>')
        }
        function getMomentHtmlWithoutSpace(n) {
            return '<a class="show-chapter" data-moment="{&quot;name&quot;:&quot;'.concat(n.name, "&quot;,&quot;type&quot;: ").concat(m.Q5.MOMENT, ",&quot;text&quot;:&quot;").concat(n.text, '&quot;}" data-v-814deccc="" style="color: rgb(45, 45, 45); position: relative;"><span contenteditable="false" data-v-814deccc=""><span class="data-clipboard-text-hide" data-v-814deccc="">#</span><span class="show-time" data-v-814deccc="" style="color: rgb(58, 100, 255);">').concat(n.name, '</span><span class="data-clipboard-text-hide" data-v-814deccc="">[时刻]#</span></span><span class="show-text" data-v-814deccc="">&nbsp;').concat(n.text, "</span></a>").concat(n.whiteSpace ? "<br />" : "")
        }
        function getUserHtml(n) {
            return '<a contenteditable="false" data-user=\''.concat(JSON.stringify(n), "'>@").concat(null == n ? void 0 : n.name, "</a>")
        }
        function getEmoticonHtml(n) {
            return '<img src="'.concat(n.image, '" style="position: relative; top: 6px; margin-top: -6px;" width="22" data-set=\'x-x-').concat(n.textinput, "-x-x' />")
        }
        function getTopicHtml(n) {
            return "&nbsp;".concat(getTopicHtmlWithoutSpace(n))
        }
        function getMomentHtml(n) {
            return "".concat(getMomentHtmlWithoutSpace(n))
        }
    },
    2902: function(n, d, v) {
        "use strict";
        v.d(d, {
            A: function() {
                return C
            }
        });
        var m = v(88771);
        function render(n, d, v, h, y, N) {
            let k = (0,
            m.resolveComponent)("BeerIcon");
            return (0,
            m.openBlock)(),
            (0,
            m.createElementBlock)("div", {
                class: (0,
                m.normalizeClass)(["creator-publish-toast", v.type])
            }, [(0,
            m.createVNode)(k, {
                size: 14,
                bs: {
                    mr: 8,
                    verticalAlign: "inherit"
                },
                color: N.getColor(v.type),
                "icon-path": N.getIcon(v.type),
                "data-icon": "type"
            }, null, 8, ["color", "icon-path"]), (0,
            m.createTextVNode)(" " + (0,
            m.toDisplayString)(v.message), 1)], 2)
        }
        var h = v(34628)
          , y = v(11363)
          , N = {
            name: "Toast",
            components: {
                BeerIcon: y.Z
            },
            props: {
                message: {
                    type: String,
                    required: !0
                },
                duration: {
                    type: Number,
                    default: 5e4
                },
                type: {
                    type: String,
                    default: "info"
                }
            },
            methods: {
                getIcon: h.Z,
                getColor: n=>{
                    switch (n) {
                    case "error":
                        return "#FF525D";
                    case "info":
                        return "#409EFF";
                    case "success":
                        return "#67c23a";
                    case "warn":
                        return "#e6a23c";
                    default:
                        return null
                    }
                }
            }
        };
        let k = (0,
        v(97104).default)(N, [["render", render], ["__scopeId", "data-v-7b8c53aa"]]);
        var I = document.createElement("div");
        document.body.appendChild(I);
        var handleShowToast = function(n, d, v) {
            (0,
            m.createApp)({
                setup: function() {
                    var n = (0,
                    m.ref)(!1)
                      , showToast = function() {
                        n.value = !0,
                        setTimeout(function() {
                            n.value = !1,
                            I.innerHTML = ""
                        }, d)
                    };
                    return (0,
                    m.onMounted)(function() {
                        showToast()
                    }),
                    {
                        show: n
                    }
                },
                render: function() {
                    return (0,
                    m.h)(k, {
                        message: n,
                        duration: d,
                        type: v
                    })
                }
            }).mount(I)
        }
          , C = {
            warn: function(n) {
                var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3e3;
                handleShowToast(n, d, "warn")
            },
            info: function(n) {
                var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3e3;
                handleShowToast(n, d, "info")
            },
            success: function(n) {
                var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3e3;
                handleShowToast(n, d, "success")
            },
            error: function(n) {
                var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3e3;
                handleShowToast(n, d, "error")
            }
        }
    },
    96089: function(n, d, v) {
        "use strict";
        v.d(d, {
            L: function() {
                return useDraft
            },
            Z: function() {
                return useDraftMethod
            }
        });
        var m = v(41622)
          , h = v(70879)
          , y = v(27337)
          , N = v(377);
        v(87989),
        v(86651);
        var k = v(98542)
          , I = v(7712)
          , C = v(88771)
          , x = v(25618)
          , M = v(11010)
          , S = v(93147)
          , _ = v(94126)
          , V = v(9689)
          , B = v(25986)
          , O = v(78778)
          , R = v(6515)
          , U = v(65664)
          , z = v(61433)
          , Z = v(80066)
          , Q = v(97327)
          , J = v(17632)
          , H = v(81657)
          , G = v(91583)
          , Y = v(75009)
          , W = v(5408)
          , q = v(82345)
          , X = v(5303)
          , useDraftMethod = function(n) {
            var d, v, I, x, B = (null == n ? void 0 : n.beforeSave) || function() {
                return !0
            }
            , R = (0,
            M.Z)(), W = (0,
            V.Z)(), K = (0,
            O.ZP)(), $ = (0,
            k.Jk)(R), ee = $.publishType, et = $.isFromDraft;
            $.noteId;
            var en = (0,
            k.Jk)(W).userInfo
              , ea = (0,
            k.Jk)(K).draftConfig
              , eo = (0,
            k.Jk)((0,
            H.Z)())
              , er = eo.goodsContext
              , ei = eo.bizRelationContext
              , el = eo.coverContext;
            (0,
            k.Jk)((0,
            Y.Z)()).postTime;
            var ec = (0,
            C.computed)(function() {
                return ee.value === G.QO.Video ? S.pN : S.gN
            })
              , eu = (0,
            C.computed)(function() {
                return ee.value === G.QO.Video ? S.Ve : S.dP
            })
              , es = (0,
            U.R)()
              , ed = es.constructDraft
              , ev = es.recoverDraft
              , em = (0,
            z.s)()
              , ef = em.constructDraft
              , ep = em.recoverDraft
              , eg = (0,
            Z.U)()
              , eh = eg.constructDraft
              , ey = eg.recoverDraft
              , eN = (0,
            Q.c)()
              , ek = eN.constructDraft
              , eI = eN.recoverDraft;
            var eC = (d = (0,
            m._)(function() {
                var n, d, v;
                return (0,
                N.Jh)(this, function(m) {
                    switch (m.label) {
                    case 0:
                        if (!(null === (n = el.value) || void 0 === n ? void 0 : n.templateBlob))
                            return [3, 2];
                        return [4, (0,
                        q.w8)(el.value.templateBlob)];
                    case 1:
                        return v = m.sent(),
                        [3, 3];
                    case 2:
                        v = "",
                        m.label = 3;
                    case 3:
                        return d = v,
                        [2, (0,
                        y._)((0,
                        h._)({}, el.value), {
                            templateBlob: d
                        })]
                    }
                })
            }),
            function constructCoverContext() {
                return d.apply(this, arguments)
            }
            );
            var eb = (v = (0,
            m._)(function() {
                var n, d, v, m, k, I;
                return (0,
                N.Jh)(this, function(N) {
                    switch (N.label) {
                    case 0:
                        return d = ed(),
                        v = ef(),
                        m = eh(),
                        k = ek(),
                        [4, eC()];
                    case 1:
                        return I = N.sent(),
                        [2, (0,
                        y._)((0,
                        h._)((0,
                        y._)((0,
                        h._)({
                            version: S.Mt,
                            uid: null === (n = en.value) || void 0 === n ? void 0 : n.id
                        }, d), {
                            settingForm: v
                        }), ee.value === G.QO.Image ? m : {}, ee.value === G.QO.Video ? k : {}), {
                            goodsContext: er.value,
                            bizRelationContext: ei.value,
                            coverContext: I
                        })]
                    }
                })
            }),
            function buildDraftData() {
                return v.apply(this, arguments)
            }
            );
            var eE = (I = (0,
            m._)(function() {
                var n, d, v;
                return (0,
                N.Jh)(this, function(m) {
                    switch (m.label) {
                    case 0:
                        if (null === (n = ea.value) || void 0 === n ? void 0 : n.disableDefaultDraft)
                            return [2, !1];
                        if (J._.info("call save draft"),
                        !(B() && en.value))
                            return [3, 3];
                        return [4, eb()];
                    case 1:
                        return v = m.sent(),
                        J._.info("call save draft", v),
                        [4, (0,
                        _.Bc)(eu.value, null === (d = en.value) || void 0 === d ? void 0 : d.id, v)];
                    case 2:
                        return [2, m.sent()];
                    case 3:
                        return [2, !1]
                    }
                })
            }),
            function saveDraft() {
                return I.apply(this, arguments)
            }
            );
            return {
                recoverDraft: (x = (0,
                m._)(function() {
                    var n, d, v, m, k, I, C, x, M, S, V, B, O, R, U, z, Z, Q, H, G;
                    return (0,
                    N.Jh)(this, function(N) {
                        switch (N.label) {
                        case 0:
                            if (!(null === (n = en.value) || void 0 === n ? void 0 : n.id))
                                return [2];
                            if (v = null,
                            !(null == ea ? void 0 : null === (d = ea.value) || void 0 === d ? void 0 : d.disableDefaultDraft))
                                return [3, 1];
                            return v = null === (m = ea.value) || void 0 === m ? void 0 : m.draftData,
                            [3, 3];
                        case 1:
                            return [4, (0,
                            _.eg)(eu.value, null === (k = en.value) || void 0 === k ? void 0 : k.id)];
                        case 2:
                            C = N.sent(),
                            x = (0,
                            _.eJ)(ec.value, null === (I = en.value) || void 0 === I ? void 0 : I.id),
                            !(null == C ? void 0 : C.content) && x && (0,
                            _.Bc)(eu.value, null === (M = en.value) || void 0 === M ? void 0 : M.id, x),
                            v = (null == C ? void 0 : C.content) || x,
                            N.label = 3;
                        case 3:
                            if (!v)
                                return [2];
                            if (J._.info("recovery", v),
                            et.value = !0,
                            null == ev || ev({
                                title: v.title,
                                noteContent: v.noteContent,
                                desc: v.desc
                            }),
                            null == ep || ep(v.settingForm),
                            er.value = null !== (S = null == v ? void 0 : v.goodsContext) && void 0 !== S ? S : er.value,
                            ei.value = null !== (V = v.bizRelationContext) && void 0 !== V ? V : ei.value,
                            console.log("[seven] data1 info:", v),
                            (null == v ? void 0 : v.images) && (null == ey || ey({
                                images: v.images
                            })),
                            !(null == v ? void 0 : v.videoData))
                                return [3, 7];
                            if (null == eI || eI({
                                videoData: v.videoData,
                                chapter: v.chapter,
                                marker: v.marker,
                                videoMarksExtends: v.videoMarksExtends,
                                recommendCovers: v.recommendCovers
                            }),
                            Q = [(0,
                            h._)({}, null == v ? void 0 : v.coverContext)],
                            H = {},
                            !(null == v ? void 0 : null === (O = v.coverContext) || void 0 === O ? void 0 : null === (B = O.cover) || void 0 === B ? void 0 : B.fileid))
                                return [3, 5];
                            return [4, (0,
                            X.Jn)(null == v ? void 0 : null === (U = v.coverContext) || void 0 === U ? void 0 : null === (R = U.cover) || void 0 === R ? void 0 : R.fileid)];
                        case 4:
                            return G = N.sent(),
                            [3, 6];
                        case 5:
                            G = "",
                            N.label = 6;
                        case 6:
                            el.value = y._.apply(void 0, Q.concat([(H.coverUrl = G,
                            H.templateBlob = (null == v ? void 0 : null === (z = v.coverContext) || void 0 === z ? void 0 : z.templateBlob) ? (0,
                            q.Jr)(null == v ? void 0 : null === (Z = v.coverContext) || void 0 === Z ? void 0 : Z.templateBlob) : null,
                            H)])),
                            N.label = 7;
                        case 7:
                            return [2]
                        }
                    })
                }),
                function recoverDraft() {
                    return x.apply(this, arguments)
                }
                ),
                saveDraft: eE,
                buildDraftData: eb
            }
        }
          , useDraft = function(n, d) {
            var v = (0,
            M.Z)();
            (0,
            B.Z)();
            var m = (0,
            k.Jk)(v)
              , h = m.publishCoreStartTime
              , y = m.publishType
              , N = null
              , _ = useDraftMethod(d)
              , V = _.recoverDraft
              , O = _.saveDraft
              , logLeaveWhenPublishing = function() {
                W.C.trackerPublishFailed({
                    type: 0 === y.value ? "video" : "image",
                    result: "Leave page in publishing",
                    errorCode: "-201",
                    errorFormat: "common",
                    duration: Date.now() - h.value
                })
            }
              , uploadingLeave = function() {
                if (n.value) {
                    var d, v, m = S.sA["-201"], h = (0,
                    R.E)("-201: Leave page in publishing");
                    null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(x.tracker["7734"]({
                        errorCode: m,
                        errorDesc: h
                    })),
                    logLeaveWhenPublishing()
                }
            }
              , startAutoSave = function() {
                N && N.unsubscribe(),
                N = (0,
                I.H)(0, S.Kv).subscribe(function() {
                    O()
                })
            }
              , clearAutoSave = function() {
                N && (N.unsubscribe(),
                N = null)
            };
            return (0,
            C.onMounted)(function() {
                window.addEventListener("beforeunload", O),
                window.addEventListener("beforeunload", uploadingLeave),
                startAutoSave()
            }),
            (0,
            C.onBeforeUnmount)(function() {
                uploadingLeave(),
                window.removeEventListener("beforeunload", O),
                window.removeEventListener("beforeunload", uploadingLeave),
                clearAutoSave()
            }),
            {
                saveDraft: O,
                recoverDraft: V
            }
        }
    },
    65664: function(n, d, v) {
        "use strict";
        v.d(d, {
            R: function() {
                return buildContentData
            }
        });
        var m = v(41622)
          , h = v(51606)
          , y = v(70879)
          , N = v(27337)
          , k = v(377);
        v(87535),
        v(75204),
        v(97357),
        v(34333),
        v(19077),
        v(75973),
        v(86651),
        v(6045),
        v(10364),
        v(67673),
        v(87394),
        v(94941),
        v(48421),
        v(42876),
        v(33933);
        var I = v(88600)
          , C = v(98542)
          , x = v(78778)
          , M = v(91583)
          , S = v(93177)
          , _ = v(2902)
          , buildContentData = function() {
            var n, d, v = (0,
            x.ZP)(), V = (0,
            C.Jk)(v), B = V.title, O = V.descLength, R = V.descInnerHTML, U = V.desc, getContentData = function() {
                var n = document.createElement("div");
                n.innerHTML = R.value;
                var d = n.querySelectorAll("a")
                  , v = []
                  , m = []
                  , h = []
                  , k = {};
                return d.forEach(function(n) {
                    var d = n.dataset
                      , C = d.user
                      , x = d.topic
                      , S = d.moment;
                    if (x)
                        try {
                            var _ = JSON.parse(x);
                            if (!_.id)
                                return;
                            var V = {
                                id: _.id,
                                name: _.name,
                                link: _.link
                            };
                            v.push(V),
                            h.push((0,
                            N._)((0,
                            y._)({}, V), {
                                type: M.Q5.TOPIC
                            }))
                        } catch (n) {
                            I.kg.error(M.LQ.JSONParseError, {
                                data: x,
                                type: "note content parse topic"
                            }, M.b5.CommonLog)
                        }
                    if (C)
                        try {
                            var B = JSON.parse(C);
                            if (k[B.userId])
                                return;
                            k[B.userId] = !0;
                            m.push(B)
                        } catch (n) {
                            I.kg.error(M.LQ.JSONParseError, {
                                data: C,
                                type: "note content parse user"
                            }, M.b5.CommonLog)
                        }
                    if (S)
                        try {
                            var O = JSON.parse(S);
                            h.push(O)
                        } catch (n) {
                            I.kg.error(M.LQ.JSONParseError, {
                                data: S,
                                type: "note content parse moment"
                            }, M.b5.CommonLog)
                        }
                }),
                {
                    content: U.value,
                    userIds: m,
                    topics: v,
                    hashTags: h,
                    innerHTML: R.value,
                    length: O.value
                }
            }, z = (d = {},
            (0,
            h._)(d, M.Q5.TOPIC, "topic"),
            (0,
            h._)(d, M.Q5.MOMENT, "moment"),
            d);
            return {
                constructData: function() {
                    var n = getContentData();
                    return {
                        title: B.value,
                        desc: n.content,
                        ats: n.userIds.map(function(n) {
                            return (0,
                            y._)({
                                nickname: n.name
                            }, n)
                        }),
                        hashTag: n.hashTags.filter(function(n) {
                            return [M.Q5.TOPIC, M.Q5.MOMENT].includes(n.type)
                        }).map(function(n) {
                            return (0,
                            N._)((0,
                            y._)({}, n), {
                                type: z[n.type]
                            })
                        })
                    }
                },
                constructDraft: function() {
                    var n = getContentData();
                    return {
                        title: B.value,
                        desc: n.content,
                        noteContent: n
                    }
                },
                checkData: (n = (0,
                m._)(function() {
                    var n;
                    return (0,
                    k.Jh)(this, function(d) {
                        return (n = "",
                        O.value > 1e3) ? (n = "正文最多支持1000字",
                        _.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : B.value && (0,
                        S.bU)(B.value) > 20 ? (n = "标题长度超出20",
                        _.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : getContentData().topics.length > 10 ? (n = "最多支持添加10个话题",
                        _.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : [2, {
                            result: !0
                        }]
                    })
                }),
                function checkData() {
                    return n.apply(this, arguments)
                }
                ),
                recoverDraft: function(n) {
                    B.value = n.title,
                    U.value = n.noteContent.content,
                    R.value = n.noteContent.innerHTML,
                    O.value = n.noteContent.length
                }
            }
        }
    },
    80066: function(n, d, v) {
        "use strict";
        v.d(d, {
            U: function() {
                return buildImageData
            }
        });
        var m = v(41622)
          , h = v(70879)
          , y = v(27337)
          , N = v(377);
        v(1154),
        v(80013),
        v(97357),
        v(34333),
        v(6045),
        v(10364),
        v(67673),
        v(87989),
        v(87394),
        v(94941),
        v(48421),
        v(7608),
        v(42876),
        v(33933),
        v(36277),
        v(86651);
        var k = v(88771)
          , I = v(98542)
          , C = v(5303)
          , x = v(78778)
          , M = v(91583)
          , S = v(2902)
          , _ = v(59408)
          , V = v(82345)
          , B = v(94126)
          , O = v(93147)
          , R = v(9689)
          , buildImageData = function() {
            var n, d, v = (0,
            x.ZP)(), U = (0,
            I.Jk)(v).imgList, z = (0,
            I.Jk)((0,
            R.Z)()).userInfo, Z = (0,
            k.computed)(function() {
                return U.value.some(function(n) {
                    return n.status === M.wW.uploading || n.status === M.wW.preUpload
                })
            }), Q = (0,
            k.computed)(function() {
                return U.value.some(function(n) {
                    return n.status === M.wW.uploadFailed
                })
            }), J = (0,
            k.computed)(function() {
                return U.value.some(function(n) {
                    return n.status === M.wW.preRender
                })
            });
            var H = (n = (0,
            m._)(function(n, d) {
                var v, m, k, I, x, S, B;
                return (0,
                N.Jh)(this, function(N) {
                    var x, O;
                    switch (N.label) {
                    case 0:
                        if (!n.fileId)
                            return [2];
                        N.label = 1;
                    case 1:
                        return N.trys.push([1, 7, , 8]),
                        [4, (0,
                        C.Jn)(n.fileId)];
                    case 2:
                        ;m = N.sent(),
                        U.value[d] = (0,
                        y._)((0,
                        h._)({}, U.value[d]), {
                            url: m,
                            previewUrl: (x = m,
                            "".concat(x, "&imageView2/rq/1/format/jpg")),
                            status: M.wW.afterFetchCDNUrl
                        }),
                        N.label = 3;
                    case 3:
                        ;return N.trys.push([3, 5, , 6]),
                        k = m,
                        [4, (O = m,
                        new Promise(function(n, d) {
                            var v = setTimeout(function() {
                                n(O)
                            }, 2e4);
                            (0,
                            _.f7)(O).then(function(d) {
                                n((0,
                                V.Uu)(d)),
                                clearTimeout(v)
                            })
                        }
                        ))];
                    case 4:
                        return I = N.sent(),
                        k === U.value[d].url && (U.value[d].url = I),
                        [3, 6];
                    case 5:
                        return console.error("转blob url失败:", N.sent()),
                        [3, 6];
                    case 6:
                        return [3, 8];
                    case 7:
                        return N.sent(),
                        U.value[d] && (U.value[d].status = M.wW.uploadFailed),
                        [3, 8];
                    case 8:
                        if (S = n.origin,
                        !(null === (v = U.value) || void 0 === v ? void 0 : v[d]))
                            return [3, 11];
                        if (!(null == S ? void 0 : S.fileId))
                            return [3, 10];
                        return B = U.value[d],
                        [4, (0,
                        C.Jn)(S.fileId)];
                    case 9:
                        return B.url = N.sent(),
                        U.value[d].status = M.wW.afterFetchCDNUrl,
                        [3, 11];
                    case 10:
                        U.value[d].origin = void 0,
                        N.label = 11;
                    case 11:
                        return [2]
                    }
                })
            }),
            function refetchDraftImage(d, v) {
                return n.apply(this, arguments)
            }
            );
            return {
                constructData: function() {
                    return {
                        images: U.value.map(function(n) {
                            var d, v, m, h, y;
                            return {
                                fileId: n.fileId,
                                width: null === (d = n.file) || void 0 === d ? void 0 : d.width,
                                height: null === (v = n.file) || void 0 === v ? void 0 : v.height,
                                metadata: {
                                    source: -1
                                },
                                stickers: {
                                    version: 2,
                                    floating: null === (m = Array.prototype.concat(n.markers || [], n.markersExtends || [])) || void 0 === m ? void 0 : m.map(function(n) {
                                        return null == n ? void 0 : n.config
                                    }).filter(function(n) {
                                        return n
                                    })
                                },
                                extraInfoJson: JSON.stringify({
                                    mimeType: null !== (y = null === (h = n.file) || void 0 === h ? void 0 : h.mimeType) && void 0 !== y ? y : "image/png"
                                })
                            }
                        })
                    }
                },
                constructDraft: function() {
                    var n = [M.wW.uploadSuccess, M.wW.beforeFetchCDNUrl, M.wW.afterFetchCDNUrl];
                    return {
                        images: U.value.filter(function(d) {
                            return n.includes(d.status) && d.fileId
                        })
                    }
                },
                checkData: (d = (0,
                m._)(function() {
                    var n;
                    return (0,
                    N.Jh)(this, function(d) {
                        return (n = "",
                        Z.value) ? (n = "图片上传中，请稍后",
                        S.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : J.value ? (n = "图片处理中，请稍后",
                        S.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : Q.value ? (n = "有图片上传失败，请检查后再发布",
                        S.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : U.value.length ? [2, {
                            result: !0
                        }] : (n = "请上传图片",
                        S.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }])
                    })
                }),
                function checkData() {
                    return d.apply(this, arguments)
                }
                ),
                recoverDraft: function(n) {
                    var d = n.images.map(function(n, d) {
                        return H(n, d),
                        (0,
                        y._)((0,
                        h._)({}, n), {
                            status: M.wW.beforeFetchCDNUrl
                        })
                    });
                    U.value = d,
                    (0,
                    B.fX)(O.dP, z.value.id)
                }
            }
        }
    },
    61433: function(n, d, v) {
        "use strict";
        v.d(d, {
            s: function() {
                return buildSettingsData
            }
        });
        var m = v(41622)
          , h = v(70879)
          , y = v(27337)
          , N = v(377);
        v(7608),
        v(86651);
        var k = v(98542)
          , I = v(75009)
          , C = v(54346)
          , x = v(2902)
          , M = v(78778)
          , S = v(63340)
          , _ = v(81657)
          , buildSettingsData = function() {
            var n, d = (0,
            I.Z)(), v = (0,
            k.Jk)(d), V = v.liveReservationBind, B = v.liveNoticeBind, O = v.privacyInfo, R = v.postTime, U = v.postLoc, z = v.collectionId, Z = v.selectedOrder, Q = v.coOrderId, J = v.userDeclaration, H = v.groupBind, G = v.noteSketch, Y = v.interactionPermissionBind;
            (0,
            k.Jk)((0,
            M.ZP)()).updateTemp;
            var W = (0,
            k.Jk)((0,
            _.Z)()).liveContext
              , genBusinessBinds = function() {
                var n, d, v = {
                    BRAND_COOP: 2,
                    PRE_POST_NOTE: 13
                }, m = {
                    version: 1,
                    noteId: 0,
                    bizType: 0
                }, N = {
                    brandAccountId: null === (n = Z.value) || void 0 === n ? void 0 : n.brandAccountId,
                    orderId: null === (d = Z.value) || void 0 === d ? void 0 : d.orderId
                }, k = {
                    postTime: R.value
                }, I = {
                    id: z.value
                }, C = {
                    id: G.value.id
                };
                N.orderId ? m.bizType = v.BRAND_COOP : k.postTime && (m.bizType = v.PRE_POST_NOTE);
                var x = H.value;
                return JSON.stringify((0,
                y._)((0,
                h._)({}, m), {
                    noteOrderBind: N,
                    notePostTiming: k,
                    noteCollectionBind: I,
                    noteSketchCollectionBind: C,
                    groupBind: x,
                    userDeclarationBind: J.value,
                    liveNoticeBind: B.value,
                    liveReservationBind: V.value,
                    interactionPermissionBind: Y.value
                }))
            }
              , genPrivacyInfo = function() {
                return O.value.type === S.vH.PartiallyInvisible || O.value.type === S.vH.PartiallyVisible ? {
                    opType: 1,
                    type: O.value.userIds.length ? O.value.type : S.vH.Public,
                    userIds: O.value.userIds
                } : {
                    opType: 1,
                    type: O.value.type,
                    userIds: O.value.userIds
                }
            };
            return {
                constructData: function() {
                    return {
                        businessBinds: genBusinessBinds(),
                        postLoc: U.value,
                        privacyInfo: genPrivacyInfo()
                    }
                },
                constructDraft: function() {
                    var n, d;
                    return {
                        postLoc: U.value,
                        postTime: R.value,
                        privacyInfo: genPrivacyInfo(),
                        collectionId: z.value,
                        orderId: (null === (n = Z.value) || void 0 === n ? void 0 : n.orderId) || "",
                        brandAccountId: (null === (d = Z.value) || void 0 === d ? void 0 : d.brandAccountId) || "",
                        userDeclaration: J.value,
                        groupBind: H.value,
                        liveNoticeBind: B.value,
                        liveReservationBind: V.value,
                        liveContext: W.value,
                        noteSketch: G.value
                    }
                },
                checkData: (n = (0,
                m._)(function() {
                    var n, v, m, h;
                    return (0,
                    N.Jh)(this, function(h) {
                        switch (h.label) {
                        case 0:
                            if (v = "",
                            !(null === (n = Z.value) || void 0 === n ? void 0 : n.orderId))
                                return [3, 4];
                            if (O.value.type !== S.vH.Public)
                                return v = "内容合作笔记仅支持公开可见，修改可见性后继续操作",
                                x.A.error(v),
                                [2, {
                                    result: !1,
                                    toastMsg: v
                                }];
                            h.label = 1;
                        case 1:
                            return h.trys.push([1, 3, , 4]),
                            [4, (0,
                            C.Nn)(null === (m = Z.value) || void 0 === m ? void 0 : m.orderId)];
                        case 2:
                            if (!h.sent().bind)
                                return v = "你所选择的订单已被关联，请换绑",
                                x.A.error(v),
                                d.refreshCoopOrderOptions(),
                                [2, {
                                    result: !1,
                                    toastMsg: v
                                }];
                            return [3, 4];
                        case 3:
                            return h.sent(),
                            v = "检查订单绑定状态失败，请重试",
                            x.A.error(v),
                            [2, {
                                result: !1,
                                toastMsg: v
                            }];
                        case 4:
                            return [2, {
                                result: !0
                            }]
                        }
                    })
                }),
                function checkData() {
                    return n.apply(this, arguments)
                }
                ),
                recoverDraft: function(n) {
                    var d;
                    B.value = n.liveNoticeBind,
                    V.value = n.liveReservationBind,
                    U.value = n.postLoc,
                    R.value = n.postTime,
                    n.privacyInfo ? O.value = n.privacyInfo : O.value = {
                        opType: 1,
                        type: n.privateByUser ? S.vH.Private : S.vH.Public,
                        userIds: []
                    },
                    z.value = n.collectionId,
                    G.value = n.noteSketch || {
                        id: "",
                        name: ""
                    },
                    Z.value = {
                        orderId: n.orderId,
                        brandAccountId: n.brandAccountId
                    },
                    Q.value = n.orderId,
                    J.value = n.userDeclaration,
                    H.value = n.groupBind,
                    W.value = null !== (d = n.liveContext) && void 0 !== d ? d : {
                        title: "",
                        time: 0
                    }
                }
            }
        }
    },
    97327: function(n, d, v) {
        "use strict";
        v.d(d, {
            c: function() {
                return buildVideoData
            }
        });
        var m = v(41622)
          , h = v(70879)
          , y = v(377);
        v(87989),
        v(6045),
        v(10364),
        v(67673),
        v(19077),
        v(75973),
        v(87535),
        v(75204),
        v(97357),
        v(34333),
        v(86651),
        v(7608);
        var N = v(98542)
          , k = v(88771)
          , I = v(78778)
          , C = v(11010)
          , x = v(91583)
          , M = v(2902)
          , S = v(93177)
          , _ = v(94126)
          , V = v(9689)
          , B = v(5303)
          , O = v(81657)
          , R = v(93147)
          , buildVideoData = function() {
            var n, d, v = (0,
            I.ZP)(), U = (0,
            N.Jk)(v), z = U.cover, Z = U.video, Q = U.chapters, J = U.videoMeta, H = U.audioMeta, G = U.title, Y = U.descLength, W = U.videoInfo, q = U.audioInfo, X = U.markers, K = U.transcodeVideoUrl, $ = U.videoUrl, ee = U.coverUrl, et = U.videoMarksExtends, en = U.videoRotation, ea = U.needTranscode, eo = (0,
            N.Jk)((0,
            C.Z)()), er = eo.status, ei = eo.finishedFirstTranscode, el = (0,
            N.Jk)((0,
            V.Z)()).userInfo, ec = (0,
            N.Jk)((0,
            O.Z)()), eu = ec.coverContext, es = ec.recommendCovers, ed = ec.recommendCoversStatus, ev = (0,
            k.computed)(function() {
                return er.value === x.qb.Uploading
            }), genTimeLines = function() {
                try {
                    var n;
                    return null === (n = Array.prototype.concat([], Z.value.videoMarks || [], et.value || [])) || void 0 === n ? void 0 : n.map(function(n) {
                        return {
                            type: "video_marks_v2",
                            start: 1e3 * n.startTime,
                            end: 1e3 * n.endTime,
                            detail: (0,
                            h._)({
                                id: n.markId
                            }, n.config)
                        }
                    })
                } catch (n) {
                    return []
                }
            }, JSONParse = function(n) {
                try {
                    return JSON.parse(n)
                } catch (n) {
                    return null
                }
            }, genSegments = function() {
                var n;
                return {
                    count: 1,
                    needSlice: !1,
                    items: [{
                        mute: 0,
                        speed: 1,
                        start: 0,
                        duration: null === (n = Z.value) || void 0 === n ? void 0 : n.duration,
                        transcoded: 0,
                        mediaSource: 1,
                        originalMetadata: {
                            video: JSONParse(J.value || "{}"),
                            audio: JSONParse(H.value || "{}")
                        }
                    }]
                }
            }, genChapters = function() {
                try {
                    var n, d = [];
                    return null === (n = Q.value) || void 0 === n || n.forEach(function(n) {
                        var v = "".concat(parseInt("".concat(1e3 * n.time), 10));
                        d.push({
                            text: n.text,
                            time: v
                        })
                    }),
                    d
                } catch (n) {
                    return []
                }
            };
            var em = (n = (0,
            m._)(function() {
                var n;
                return (0,
                y.Jh)(this, function(d) {
                    return (n = "",
                    ev.value) ? (n = "视频上传中，请稍后",
                    M.A.error(n),
                    [2, {
                        result: !1,
                        toastMsg: n
                    }]) : Z.value.fileid ? ei.value ? Y.value > 1e3 ? (n = "正文长度超过1000",
                    M.A.error(n),
                    [2, {
                        result: !1,
                        toastMsg: n
                    }]) : G.value && (0,
                    S.bU)(G.value) > 20 ? (n = "标题长度超过20",
                    M.A.error(n),
                    [2, {
                        result: !1,
                        toastMsg: n
                    }]) : [2, {
                        result: !0
                    }] : (n = "视频转码中，请稍后",
                    M.A.error(n),
                    [2, {
                        result: !1,
                        toastMsg: n
                    }]) : (n = "请上传视频",
                    M.A.error(n),
                    [2, {
                        result: !1,
                        toastMsg: n
                    }])
                })
            }),
            function checkData() {
                return n.apply(this, arguments)
            }
            );
            var ef = (d = (0,
            m._)(function(n) {
                var d, v;
                return (0,
                y.Jh)(this, function(m) {
                    switch (m.label) {
                    case 0:
                        d = 0,
                        m.label = 1;
                    case 1:
                        if (!(d < n.length))
                            return [3, 4];
                        return [4, (0,
                        B.Jn)(n[d].fileId)];
                    case 2:
                        v = m.sent(),
                        n[d].url = v,
                        m.label = 3;
                    case 3:
                        return d++,
                        [3, 1];
                    case 4:
                        return ed.value = x.th.Success,
                        es.value = n,
                        [2]
                    }
                })
            }),
            function recoverRecommendCover(n) {
                return d.apply(this, arguments)
            }
            );
            return {
                constructData: function() {
                    var n, d, v, m, h, y, N, k, I, C, x, M, S, _, V, B, O, R, U, Q, G, Y, W, q, X, K, $, ee, et, en, ea = eu.value, eo = (null === (n = ea.cover) || void 0 === n ? void 0 : n.fileid) || (null === (d = z.value) || void 0 === d ? void 0 : d.fileid), er = (null === (v = ea.cover) || void 0 === v ? void 0 : v.width) || (null === (m = z.value) || void 0 === m ? void 0 : m.width), ei = (null === (h = ea.cover) || void 0 === h ? void 0 : h.height) || (null === (y = z.value) || void 0 === y ? void 0 : y.height), el = (null === (N = ea.cover) || void 0 === N ? void 0 : N.stickers) || (null === (k = z.value) || void 0 === k ? void 0 : k.stickers), ec = (null === (I = ea.cover) || void 0 === I ? void 0 : I.fonts) || (null === (C = z.value) || void 0 === C ? void 0 : C.fonts), es = (null === (x = ea.cover) || void 0 === x ? void 0 : x.coverTemplateId) || (null === (M = z.value) || void 0 === M ? void 0 : M.coverTemplateId), ed = (null === (_ = ea.cover) || void 0 === _ ? void 0 : null === (S = _.frame) || void 0 === S ? void 0 : S.ts) || (null === (B = z.value) || void 0 === B ? void 0 : null === (V = B.frame) || void 0 === V ? void 0 : V.ts), ev = (null === (R = ea.cover) || void 0 === R ? void 0 : null === (O = R.frame) || void 0 === O ? void 0 : O.isUpload) || (null === (Q = z.value) || void 0 === Q ? void 0 : null === (U = Q.frame) || void 0 === U ? void 0 : U.isUpload), em = (null === (Y = ea.cover) || void 0 === Y ? void 0 : null === (G = Y.frame) || void 0 === G ? void 0 : G.isUserSelect) || (null === (q = z.value) || void 0 === q ? void 0 : null === (W = q.frame) || void 0 === W ? void 0 : W.isUserSelect), ef = (null === (X = ea.cover) || void 0 === X ? void 0 : X.extra_info_json) || (null === (K = z.value) || void 0 === K ? void 0 : K.extra_info_json);
                    return {
                        fileid: null === ($ = Z.value) || void 0 === $ ? void 0 : $.fileid,
                        file_id: null === (ee = Z.value) || void 0 === ee ? void 0 : ee.fileid,
                        formatWidth: null === (et = Z.value) || void 0 === et ? void 0 : et.width,
                        formatHeight: null === (en = Z.value) || void 0 === en ? void 0 : en.height,
                        videoPreviewType: Z.value && Z.value.width / Z.value.height <= .6 ? "full_vertical_screen" : "",
                        compositeMetadata: {
                            video: JSONParse(J.value || "{}"),
                            audio: JSONParse(H.value || "{}")
                        },
                        timelines: genTimeLines(),
                        cover: {
                            fileid: eo,
                            file_id: eo,
                            height: ei,
                            width: er,
                            frame: {
                                ts: ed,
                                isUserSelect: em,
                                isUpload: ev
                            },
                            stickers: el,
                            fonts: ec,
                            coverTemplateId: es,
                            extra_info_json: ef
                        },
                        chapters: genChapters(),
                        chapterSyncText: !1,
                        segments: genSegments(),
                        entrance: "web"
                    }
                },
                checkData: em,
                constructDraft: function() {
                    return {
                        videoData: {
                            video: Z.value,
                            videoInfo: W.value,
                            audioInfo: q.value,
                            cover: z.value,
                            status: er.value,
                            needTranscode: ea.value
                        },
                        chapter: Q.value,
                        marker: Z.value.videoMarks,
                        videoMarksExtends: et.value,
                        recommendCovers: es.value
                    }
                },
                recoverDraft: function(n) {
                    var d, v, m, h, y, N, k, I, C, M, S, V, O, U, G, Y, ea, eo, ec;
                    q.value = null == n ? void 0 : null === (d = n.videoData) || void 0 === d ? void 0 : d.audioInfo,
                    W.value = null == n ? void 0 : null === (v = n.videoData) || void 0 === v ? void 0 : v.videoInfo,
                    en.value = String(parseInt(null === (m = W.value) || void 0 === m ? void 0 : m.Rotation, 10) || 0),
                    H.value = JSON.stringify(null == n ? void 0 : null === (h = n.videoData) || void 0 === h ? void 0 : h.audioMeta),
                    J.value = JSON.stringify(null == n ? void 0 : null === (y = n.videoData) || void 0 === y ? void 0 : y.videoMeta),
                    Z.value = null == n ? void 0 : null === (N = n.videoData) || void 0 === N ? void 0 : N.video,
                    z.value = null == n ? void 0 : null === (k = n.videoData) || void 0 === k ? void 0 : k.cover,
                    X.value = null == n ? void 0 : n.marker,
                    Q.value = null == n ? void 0 : n.chapter,
                    et.value = null == n ? void 0 : n.videoMarksExtends,
                    ed.value = x.th.Hide,
                    (null == n ? void 0 : null === (C = n.videoData) || void 0 === C ? void 0 : null === (I = C.cover) || void 0 === I ? void 0 : I.fileid) && (null == n ? void 0 : null === (S = n.videoData) || void 0 === S ? void 0 : null === (M = S.video) || void 0 === M ? void 0 : M.fileid) && (null == n || null === (V = n.videoData) || void 0 === V || !V.needTranscode || (null == n ? void 0 : null === (U = n.videoData) || void 0 === U ? void 0 : null === (O = U.video) || void 0 === O ? void 0 : O.transcodeVideoFileId)) ? (er.value = x.qb.Preview,
                    ei.value = !0,
                    (null === (ec = n.recommendCovers) || void 0 === ec ? void 0 : ec.length) && (ed.value = x.th.Loading,
                    ef(n.recommendCovers))) : er.value = x.qb.NotUploaded,
                    (null == n ? void 0 : null === (Y = n.videoData) || void 0 === Y ? void 0 : null === (G = Y.cover) || void 0 === G ? void 0 : G.fileid) && (0,
                    B.Jn)(n.videoData.cover.fileid).then(function(n) {
                        ee.value = n
                    }),
                    (null == n ? void 0 : null === (eo = n.videoData) || void 0 === eo ? void 0 : null === (ea = eo.video) || void 0 === ea ? void 0 : ea.transcodeVideoFileId) && (0,
                    B.cy)(n.videoData.video.transcodeVideoFileId).then(function(n) {
                        K.value = n
                    }),
                    (0,
                    B.cy)(n.videoData.video.fileid).then(function(n) {
                        $.value = n
                    }),
                    (0,
                    _.fX)(R.Ve, el.value.id)
                }
            }
        }
    },
    51358: function(n, d, v) {
        "use strict";
        v.d(d, {
            y: function() {
                return S
            }
        });
        var m = v(70879)
          , h = v(27337);
        v(87989);
        var y = v(8757)
          , N = (0,
        y.Xj)()
          , k = (0,
        y.fh)()
          , I = (0,
        y.f3)()
          , C = (0,
        y.Gf)()
          , x = (0,
        y.Yi)();
        (0,
        y.Gy)();
        var M = "".concat(x, "/api/galaxy/creator/home/personal_info")
          , S = (0,
        h._)((0,
        m._)({}, {
            GET_NPS_DISPLAY_INFO: "".concat(N, "/web_api/sns/v5/creator/nps/showstatus"),
            ADD_NPS_FEEDBACK: "".concat(N, "/web_api/sns/v5/creator/nps/feedback/web")
        }, {
            POST_NOTE: "".concat(k, "/web_api/sns/v2/note"),
            USER_INFO: "".concat(x, "/api/galaxy/user/my-info"),
            POSITION_LIST: "".concat(N, "/web_api/sns/v5/creator/poi/search"),
            POSITION_LIST_NEW: "".concat(k, "/api/sns/capa/servicegw/web/getpoilist"),
            TOPIC_LIST: "".concat(k, "/web_api/sns/v1/search/topic"),
            USER_LIST: "".concat(k, "/web_api/sns/v1/search/user_info"),
            SIGN_CATEGORY_INFO: "".concat(k, "/web_api/sns/v1/search/label"),
            GET_SIGN_URL_NEW: "".concat(N, "/web_api/sns/v5/creator/file/encryption"),
            UPLOADER_TOKEN_NEW: "".concat(k, "/api/media/v1/upload/creator/permit"),
            UPLOADER_TOKEN_NEWV2: "".concat(x, "/api/media/v1/upload/creator/permit"),
            NOTE_INFO: "".concat(k, "/web_api/sns/capa/postgw/note/detail"),
            BUSINESS_BIND: "".concat(k, "/web_api/sns/capa/postgw/note/business_bind"),
            UPDATE_NOTE_INFO: "".concat(k, "/web_api/sns/capa/postgw/note/update"),
            GET_POI_LIST: "".concat(k, "/web_api/sns/v1/local/poi/creator/search"),
            GET_GROUP_LIST: "".concat(k, "/api/im/web/nns/group_list"),
            GET_SKETCH_LIST: "".concat(k, "/api/sns/v1/note/collection/pc/list"),
            EVENTS_LIST: "".concat(x, "/api/galaxy/v2/creator/activity_center/list"),
            COLLECT_MODIFY: "".concat(x, "/api/galaxy/v2/creator/activity_favor"),
            RECOMMEND_COVER: "".concat(k, "/web_api/sns/capa/servicegw/cover_recommend")
        }, {
            GET_TRANSCODE_V2: "".concat(N, "/fe_api/burdock/v2/note/query_transcode"),
            GET_TRANSCODE_NEW: "".concat(k, "/web_api/sns/capa/postgw/query_transcode"),
            MAKE_VIDEOID: "".concat(k, "/web_api/sns/capa/postgw/videoid"),
            QUERY_PROGRESS: "".concat(N, "/fe_api/burdock/v2/note/query_progress/${videoId}")
        }, {
            GET_BRAND_ORDERS: "".concat(N, "/fe_api/burdock/v2/note/brand/orders"),
            CHECK_ORDER_STATUS: "".concat(N, "/fe_api/burdock/v2/note/brand/order_status/${orderId}"),
            GET_NOTE_ORDERS: "".concat(k, "/api/pgy/note/orders")
        }, {
            CREATE_TOPIC: "".concat(k, "/web_api/sns/capa/postgw/topic/batch_customized")
        }, {
            GET_LIVE_MALL_SHOP_GOODS_LIST: "".concat(C, "/api/sns/red/livemall/manager/pc/v1/mall/user/shop/goods/list"),
            GET_LIVE_MALL_CPS_GOODS_LIST: "".concat(C, "/api/sns/red/livemall/manager/pc/v1/mall/user/cps/goods/list"),
            GET_LIVE_MALL_SHOP_GOODS_SEARCH: "".concat(I, "/api/sns/red/live/manager/v1/mall/shop/goods/search"),
            GET_LIVE_MALL_CPS_GOODS_SEARCH: "".concat(I, "/api/sns/red/live/manager/v1/mall/cps/goods/search"),
            GET_LIVE_TRAILER_COMPLEX_PLAN_INFO: "".concat(C, "/api/sns/red/livemall/manager/pc/v1/trailer/trailer_complex_plan/info"),
            GET_LIVE_TRAILER_NOTE_BIND_AUTH: "".concat(C, "/api/sns/red/livemall/manager/pc/v1/trailer/note_bind_auth"),
            GET_LIVE_MALL_GOODS_AUTH: "".concat(C, "/api/sns/red/livemall/manager/pc/v1/mall/goods_auth"),
            GET_LIVE_MALL_CREATE_TRAILER: "".concat(C, "/api/sns/red/livemall/manager/pc/v1/trailer/create")
        }, {
            GET_FRIENDS_AND_FANS_LIST: "".concat(k, "/api/sns/capa/servicegw/note_privacy/user/friend_fans"),
            SEARCH_USER: "".concat(k, "/api/sns/capa/servicegw/note_privacy/search/user"),
            USER_INFO_LIST: "".concat(k, "/api/sns/capa/servicegw/note_privacy/user_info"),
            VALIDATE: "".concat(k, "/web_api/sns/capa/postgw/permission/validate")
        }), {
            ABTEST: "//edith.xiaohongshu.com/api/experiment/racing/diversion",
            PERSONAL_INFO: M
        });
        (0,
        y.Yi)(),
        (0,
        y.Yi)()
    },
    93147: function(n, d, v) {
        "use strict";
        v.d(d, {
            Dt: function() {
                return x
            },
            Mt: function() {
                return O
            },
            jF: function() {
                return _
            },
            Kv: function() {
                return R
            },
            s1: function() {
                return B
            },
            dP: function() {
                return Q
            },
            dg: function() {
                return V
            },
            gN: function() {
                return z
            },
            pN: function() {
                return U
            },
            RK: function() {
                return M
            },
            v0: function() {
                return J
            },
            yo: function() {
                return C
            },
            Lv: function() {
                return k
            },
            eE: function() {
                return y
            },
            Ve: function() {
                return Z
            },
            sA: function() {
                return N
            },
            Py: function() {
                return S
            }
        });
        var m, h = v(51606), y = {
            HTTPServerError: "HTTPServerError",
            HTTPClientError: "HTTPClientError",
            HTTPBizError: "HTTPBizError"
        }, N = (m = {},
        (0,
        h._)(m, -100, "缺少用户"),
        (0,
        h._)(m, -102, "敏感词"),
        (0,
        h._)(m, -103, "发布失败"),
        (0,
        h._)(m, -104, "发布失败"),
        (0,
        h._)(m, -105, "无返回值"),
        (0,
        h._)(m, -106, "禁止发布笔记"),
        (0,
        h._)(m, -107, "账号被封禁"),
        (0,
        h._)(m, -108, "话题数量限制"),
        (0,
        h._)(m, -109, "禁言用户"),
        (0,
        h._)(m, -110, "三无用户"),
        (0,
        h._)(m, -111, "添加合集失败"),
        (0,
        h._)(m, -112, "正文长度限制"),
        (0,
        h._)(m, -113, "绑定手机号检测"),
        (0,
        h._)(m, -114, "爬虫拦截"),
        (0,
        h._)(m, -1, "验证码"),
        (0,
        h._)(m, -201, "发布中离开页面"),
        (0,
        h._)(m, -202, "无返回值"),
        (0,
        h._)(m, -203, "网络错误"),
        (0,
        h._)(m, -300, "风控拦截"),
        (0,
        h._)(m, 500, "其他"),
        m), k = ["-102", "-9136", "-9042", "-9199", "-9200", "-9210", "-9129", "-9143", "-9144", "-9155", "-9150", "-9106", "-14000", "100005", "100006"], I = v(88329), C = "spectrum", x = 18, M = (0,
        I.isSafari)() ? ".jpg,.jpeg,.png" : ".jpg,.jpeg,.png,.webp", S = ".mp4,.mov,.flv,.f4v,.mkv,.rm,.rmvb,.m4v,.mpg,.mpeg,.ts", _ = (0,
        I.isSafari)() ? "image/jpeg,image/png,undefined" : "image/jpeg,image/png,image/avi,undefined", V = 0x500000000, B = "image/gif", O = "1.1.1", R = 15e3, U = "uploadData", z = "uploadImgNoteData", Z = "video-Draft", Q = "image-Draft", J = '<span data-from="xhs-creator"></span>'
    },
    16914: function(n, d, v) {
        "use strict";
        v.d(d, {
            Z: function() {
                return useImgUpload
            }
        });
        var m = v(41622)
          , h = v(70879)
          , y = v(27337)
          , N = v(377);
        v(36277),
        v(34333),
        v(87989),
        v(87394),
        v(94941),
        v(48421),
        v(97357),
        v(6045),
        v(10364),
        v(67673),
        v(64961),
        v(12996),
        v(59564),
        v(27461),
        v(23339),
        v(51109),
        v(43648),
        v(7608),
        v(86651),
        v(29273),
        v(7136);
        var k = v(82345)
          , I = v(91583)
          , C = v(51878)
          , x = v(93147)
          , M = v(59408)
          , S = v(2902)
          , _ = v(67227)
          , V = v(37267)
          , B = v(32456);
        function validateFilesByImgFormat(n) {
            var d, v = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
            return new Promise((d = (0,
            m._)(function(d, m) {
                var h, y, k, I, C, S, _, V, B, O, R, U;
                return (0,
                N.Jh)(this, function(N) {
                    switch (N.label) {
                    case 0:
                        return !n.length && m("validateFilesByImgFormat: dont have files"),
                        v === x.Dt && m("最多只允许添加".concat(x.Dt, "张照片")),
                        h = n.filter(function(n) {
                            return (0,
                            M.ev)(n)
                        }),
                        y = n.filter(function(n) {
                            return (0,
                            M.Wv)(n)
                        }),
                        k = h.map(function(n) {
                            return (0,
                            M.Wm)(n)
                        }),
                        I = h.find(function(n) {
                            return (0,
                            M.sY)(n)
                        }),
                        [4, Promise.all(k)];
                    case 1:
                        return S = (C = N.sent().map(function(n, d) {
                            return {
                                valid: n,
                                file: h[d]
                            }
                        })).filter(function(n) {
                            return n.valid
                        }).map(function(n) {
                            return n.file
                        }),
                        V = (_ = C.filter(function(n) {
                            return !n.valid
                        }).map(function(n) {
                            return n.file
                        })).length,
                        y.length ? h.length ? m("不支持同时上传图片和视频文件") : m("上传视频，请先切换到视频tab") : h.length ? V > 0 ? S.length + v > x.Dt ? d({
                            file: S.slice(0, x.Dt - v),
                            msg: "最多只允许添加".concat(x.Dt, "张照片，超出部分未上传")
                        }) : S.length + v <= x.Dt && S.length >= 1 ? (B = _.filter(function(n) {
                            return !n.validateSize
                        }).length,
                        O = _.filter(function(n) {
                            return !n.validateFormat
                        }).length,
                        B ? d({
                            file: S,
                            msg: "部分图片大小超过20M，未上传"
                        }) : O ? d({
                            file: S,
                            msg: "部分图片格式不支持，未上传"
                        }) : d({
                            file: S
                        })) : (R = _.filter(function(n) {
                            return !n.validateSize
                        }).length,
                        U = _.filter(function(n) {
                            return !n.validateFormat
                        }).length,
                        R && m("图片大小超过20M，未上传"),
                        U && m(I ? "检测到原图为gif格式，不支持gif及其转化的图片" : "图片格式不支持，未上传")) : S.length + v > x.Dt ? d({
                            file: S.slice(0, x.Dt - v),
                            msg: "最多只允许添加".concat(x.Dt, "张照片，超出部分未上传")
                        }) : d({
                            file: S,
                            msg: ""
                        }) : m("文件格式不支持，未上传"),
                        [2]
                    }
                })
            }),
            function(n, v) {
                return d.apply(this, arguments)
            }
            ))
        }
        function useImgUpload(n) {
            var d, v, M = (d = (0,
            m._)(function(n) {
                var d, v, m, h, y, I, x, M;
                return (0,
                N.Jh)(this, function(N) {
                    switch (N.label) {
                    case 0:
                        _.Db.trackImageUploadStep("intoImgPreTreat"),
                        d = !1,
                        v = 0,
                        N.label = 1;
                    case 1:
                        if (!(v < n.length))
                            return [3, 10];
                        m = n[v],
                        N.label = 2;
                    case 2:
                        var V;
                        return N.trys.push([2, 8, , 9]),
                        h = m.size,
                        _.Db.trackImageUploadStep("imgPreTreatStartLoad ".concat(v)),
                        [4, (V = m,
                        new Promise(function(n, d) {
                            var v = (0,
                            k.Uu)(V)
                              , m = new Image;
                            m.crossOrigin = "Anonymous",
                            m.src = v;
                            var h = setTimeout(function() {
                                d("load image timeout 10s")
                            }, 1e4);
                            m.onload = function() {
                                clearTimeout(h);
                                var d = m.width
                                  , v = m.height;
                                n({
                                    width: d,
                                    height: v,
                                    ratio: d / v
                                })
                            }
                            ,
                            m.onerror = function(n) {
                                clearTimeout(h),
                                _.Db.trackImageUploadStep("loadImgError"),
                                _.Db.trackerImageTreatFailed({
                                    reason: JSON.stringify(n)
                                }),
                                d(n)
                            }
                        }
                        ))];
                    case 3:
                        if (y = N.sent(),
                        _.Db.trackImageUploadStep("imgPreTreatEndLoad ".concat(v)),
                        m.width = y.width,
                        m.height = y.height,
                        m.ratio = y.ratio,
                        I = 0,
                        x = ["未处理", "补边", "压缩", "补边+压缩"],
                        !(m.ratio > 2 || m.ratio < .75 || m.width > 1280))
                            return [3, 7];
                        if (_.Db.trackerImageTreatBefore(),
                        !(m.ratio > 2 || m.ratio < .75))
                            return [3, 5];
                        return C.Z.setStart("imgTreatStart"),
                        [4, (0,
                        k.ln)(m)];
                    case 4:
                        m = N.sent(),
                        I += 1,
                        C.Z.setEnd("imgTreatEnd"),
                        N.label = 5;
                    case 5:
                        if (!(m.width > 1280))
                            return [3, 7];
                        return C.Z.setStart("imgTreatStart"),
                        [4, (0,
                        k.tg)(m, 1280)];
                    case 6:
                        m = N.sent(),
                        I += 2,
                        C.Z.setEnd("imgTreatEnd"),
                        N.label = 7;
                    case 7:
                        return n[v] = m,
                        _.Db.trackerImageTreatSuccess({
                            size: h,
                            process: x[I] || ""
                        }),
                        [3, 9];
                    case 8:
                        return M = N.sent(),
                        _.Db.trackerImageTreatFailed({
                            reason: JSON.stringify(M)
                        }),
                        n.splice(v, 1),
                        v--,
                        d = !0,
                        [3, 9];
                    case 9:
                        return v++,
                        [3, 1];
                    case 10:
                        return d && S.A.error("部分文件处理失败，未上传"),
                        [2]
                    }
                })
            }),
            function preTreat(n) {
                return d.apply(this, arguments)
            }
            );
            var O = (v = (0,
            m._)(function(n) {
                return (0,
                N.Jh)(this, function(d) {
                    return [2, M(n).then(function() {
                        return n
                    })]
                })
            }),
            function beforeUpload(n) {
                return v.apply(this, arguments)
            }
            )
              , getInitialImg = function(n) {
                var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : I.wW.preRender
                  , v = arguments.length > 2 ? arguments[2] : void 0;
                return (0,
                y._)((0,
                h._)({
                    file: n,
                    status: d,
                    url: (0,
                    k.Uu)(n),
                    key: n.name + n.lastModified + new Date().getTime()
                }, v), {
                    progress: 0
                })
            };
            return {
                beforeUpload: O,
                validateFiles: function(d, v) {
                    return new Promise(function(h, y) {
                        V.$.recordValidateTime("start"),
                        !d.length && y("files length is 0"),
                        C.Z.setStart("firstInteract"),
                        C.Z.set("type", "image");
                        var k, I = n.value.length;
                        "exchange" === v && (I -= d.length),
                        validateFilesByImgFormat(d, I).then((k = (0,
                        m._)(function(n) {
                            var v;
                            return (0,
                            N.Jh)(this, function(m) {
                                return V.$.recordValidateTime("end"),
                                h(n.file),
                                n.msg && (_.Db.trackerImageValidFailed({
                                    reason: n.msg,
                                    format: null == d ? void 0 : null === (v = d.map(function(n) {
                                        var d, v, m;
                                        return null == n ? void 0 : null === (m = n.name) || void 0 === m ? void 0 : m.substring(null == n ? void 0 : null === (d = n.name) || void 0 === d ? void 0 : d.length, (null == n ? void 0 : null === (v = n.name) || void 0 === v ? void 0 : v.lastIndexOf(".")) + 1)
                                    })) || void 0 === v ? void 0 : v.join(",")
                                }),
                                S.A.warn(n.msg)),
                                [2]
                            })
                        }),
                        function(n) {
                            return k.apply(this, arguments)
                        }
                        )).catch(function(n) {
                            var v;
                            y(n),
                            _.Db.trackerImageValidFailed({
                                reason: JSON.stringify(n),
                                format: null == d ? void 0 : null === (v = d.map(function(n) {
                                    var d, v, m;
                                    return null == n ? void 0 : null === (m = n.name) || void 0 === m ? void 0 : m.substring(null == n ? void 0 : null === (d = n.name) || void 0 === d ? void 0 : d.length, (null == n ? void 0 : null === (v = n.name) || void 0 === v ? void 0 : v.lastIndexOf(".")) + 1)
                                })) || void 0 === v ? void 0 : v.join(",")
                            })
                        })
                    }
                    )
                },
                getAcceptTypes: function() {
                    return x.RK
                },
                getInitialImg: getInitialImg,
                getInitialImgList: function(n, d) {
                    return n.map(function(n, d) {
                        return getInitialImg(n)
                    })
                },
                getUploadFiles: function(n) {
                    return n.map(function(n) {
                        return (0,
                        y._)((0,
                        h._)({}, n), {
                            onProgress: function(d) {
                                var v = d.percent;
                                B.eC.modifyImg({
                                    key: n.key,
                                    data: {
                                        progress: v
                                    }
                                })
                            },
                            onTaskReady: function(d) {
                                B.eC.modifyImg({
                                    key: n.key,
                                    data: {
                                        status: I.wW.uploading
                                    }
                                })
                            }
                        })
                    })
                }
            }
        }
    },
    43858: function(n, d, v) {
        "use strict";
        v.d(d, {
            Z: function() {
                return useUploader
            }
        });
        var m = v(70879)
          , h = v(27337);
        v(7136),
        v(36277),
        v(34333),
        v(29744),
        v(87535),
        v(75204),
        v(97357),
        v(87989);
        var y = v(34830)
          , N = v(88771)
          , k = v(5303)
          , I = v(26540)
          , C = v(93147)
          , x = v(67227)
          , M = v(37267);
        function useUploader(n) {
            var apmLog = function(n) {
                (0,
                I.O)((0,
                m._)({
                    event: "upload"
                }, n))
            };
            return {
                uploadFile: function(d) {
                    var v, S = (0,
                    N.ref)(0), _ = "", V = 0, B = !1, O = (0,
                    N.ref)(0), logStart = function() {
                        var d;
                        S.value = new Date().getTime(),
                        (0,
                        I.O)({
                            event: "uploadStart",
                            type: null !== (d = null == n ? void 0 : n.scene) && void 0 !== d ? d : "image"
                        })
                    }, logEnd = function() {
                        var n = new Date().getTime() - S.value;
                        return S.value = 0,
                        O.value = n,
                        n
                    }, R = (0,
                    N.ref)(0), U = (0,
                    N.ref)(""), z = d.name, Z = null == z ? void 0 : z.substring(z.length, z.lastIndexOf(".")), Q = !1, J = new Promise(function(N, I) {
                        var S;
                        logStart(),
                        x.Db.trackerImageUploadBefore(),
                        M.$.recordUploadTime("start"),
                        new y.C({
                            scene: null !== (S = null == n ? void 0 : n.scene) && void 0 !== S ? S : "image",
                            bizName: C.yo,
                            getToken: k.LP,
                            enableResume: !0
                        }).post({
                            Body: d,
                            SliceSize: 5242880,
                            onInstanceCreated: function(n) {
                                v = n
                            },
                            onProgress: function(n) {
                                R.value = n.percent
                            },
                            onTaskReady: function(n) {
                                U.value = n
                            }
                        }).then(function(n) {
                            if (0 === n.code) {
                                var v;
                                _ = "success",
                                null === (v = n.data) || void 0 === v || v.useCache,
                                x.Db.trackerImageUploadSuccess({
                                    size: d.size,
                                    format: null != Z ? Z : "unknown"
                                }),
                                M.$.recordUploadTime("end"),
                                N(n.data)
                            } else {
                                _ = (null == n ? void 0 : n.msg) || "",
                                V = n.code,
                                B = (null == n ? void 0 : n.msg) === k.hS.INVALID_TOKEN || (null == n ? void 0 : n.msg) === k.hS.GET_TOKEN_HTTP_FAIL,
                                I((0,
                                h._)((0,
                                m._)({}, n), {
                                    getTokenFail: (null == n ? void 0 : n.msg) === k.hS.INVALID_TOKEN
                                }));
                                var y = "";
                                "success" !== _ && (y = B ? "token" : "uploading"),
                                x.Db.trackerImageUploadFailed({
                                    size: d.size,
                                    reason: _,
                                    code: V,
                                    format: null != Z ? Z : "unknown",
                                    failedStage: y
                                })
                            }
                        }).catch(function(n) {
                            I(n),
                            _ = (null == n ? void 0 : n.msg) || (null == n ? void 0 : n.message),
                            V = (null == n ? void 0 : n.code) || (null == n ? void 0 : n.statusCode);
                            var v = "";
                            "success" !== _ && (v = B ? "token" : "uploading"),
                            x.Db.trackerImageUploadFailed({
                                size: d.size,
                                reason: _,
                                code: V,
                                format: null != Z ? Z : "unknown",
                                failedStage: v
                            })
                        }).finally(function() {
                            var v, m = "";
                            "success" !== _ && (m = B ? "fail when get token" : "fail when uploading"),
                            apmLog({
                                format: Z,
                                type: null !== (v = null == n ? void 0 : n.scene) && void 0 !== v ? v : "image",
                                process: m,
                                size: d.size,
                                duration: logEnd(),
                                result: _,
                                eventCode: V,
                                version: "newUploadDomain-true, webPublishLongerTimeout-true"
                            })
                        })
                    }
                    );
                    return {
                        percent: R,
                        result: J,
                        uploadDuration: O,
                        cancel: function() {
                            U.value ? null == v || v.cancelTask(U.value) : console.error("taskId尚未生成")
                        }
                    }
                },
                uploadFiles: function(d) {
                    null === (v = d.files) || void 0 === v || v.forEach(function() {
                        x.Db.trackerImageUploadBefore()
                    });
                    var v, m, h = new y.C({
                        scene: null !== (m = null == n ? void 0 : n.scene) && void 0 !== m ? m : "image",
                        bizName: C.yo,
                        getToken: k.LP,
                        enableResume: !0
                    });
                    M.$.recordUploadTime("start"),
                    h.multiPost({
                        Body: d.files,
                        SliceSize: 5242880,
                        onFileFinish: function(n, v, m) {
                            var h, y, N = null === (y = d.files) || void 0 === y ? void 0 : null === (h = y[m.Index]) || void 0 === h ? void 0 : h.file, k = (null == N ? void 0 : N.name) || "", I = null == k ? void 0 : k.substring(k.length, k.lastIndexOf("."));
                            n ? x.Db.trackerImageUploadFailed({
                                size: N.size,
                                reason: "upload files failed,".concat(null == n ? void 0 : n.message),
                                code: -1,
                                format: null != I ? I : "unknown",
                                failedStage: "uploadingFiles"
                            }) : (x.Db.trackerImageUploadSuccess({
                                size: N.size,
                                format: null != I ? I : "unknown"
                            }),
                            M.$.recordUploadTime("end")),
                            null == d || d.onFileFinish(n, v, m)
                        }
                    }).catch(function(n) {
                        x.Db.trackerImageUploadFailed({
                            size: -1,
                            reason: "upload files catch,".concat(null == n ? void 0 : n.message),
                            code: -1,
                            format: "unknown",
                            failedStage: "uploadingFiles"
                        })
                    })
                }
            }
        }
    },
    44121: function(n, d, v) {
        "use strict";
        v.d(d, {
            Pi: function() {
                return N
            },
            g0: function() {
                return y
            },
            lD: function() {
                return h
            }
        }),
        v(87989);
        var m = v(91583)
          , h = {
            get NOT_BIND_PHONE() {
                return "你还未绑定手机号, 前往APP端「设置」-「账户与安全」-「手机号」绑定手机号后才可发布笔记"
            },
            get I_SEE() {
                return "我了解了"
            },
            get I_KNOW() {
                return "我知道了"
            },
            get CAN_UPLOAD_60MIN_VIDEO() {
                return "现在可以上传60分钟以内的视频啦，快来试试吧。"
            },
            get NOT_PUBLISH_VIDEO() {
                return "已为你保存最近一条编辑且未发布的视频笔记，重新上传将会自动放弃本次内容。"
            },
            get NOT_PUBLISH_IMAGE() {
                return "已为你保存最近一条编辑且未发布的图文笔记，重新上传将会自动放弃本次内容。"
            },
            get GIVE_UP() {
                return "放弃"
            },
            get DROP_UPLOAD() {
                return "拖拽图片到此或点击上传"
            },
            get DROP_UPLOAD_VIDEO() {
                return "拖拽视频到此或点击上传"
            },
            UPLOAD_MAX_LIMIT: function(n) {
                return "（最多支持上传".concat(n, "张）")
            },
            get UPLOAD_VIDEO_MAX_LIMIT() {
                return "支持时长60分钟以内，"
            },
            get UPLOAD_IMAGE() {
                return "上传图片"
            },
            get UPLOAD_VIDEO() {
                return "上传视频"
            },
            get IMAGE_SIZE() {
                return "图片大小"
            },
            get VIDEO_SIZE() {
                return "视频大小"
            },
            get SUPPORT_IMAGE_SIZE() {
                return "支持上传的图片大小，"
            },
            get MAX_20MB_IMAGE_SIZE() {
                return "最大20MB的图片文件"
            },
            get MAX_20GB_VIDEO_SIZE() {
                return "最大20GB的视频文件"
            },
            get IMAGE_FORMAT() {
                return "图片格式"
            },
            get VIDEO_FORMAT() {
                return "视频格式"
            },
            get USE_PNG_JPG_JEPG() {
                return "推荐使用png、jpg、jpeg"
            },
            get USE_MP4_MOV() {
                return "推荐使用mp4、mov"
            },
            get SUPPORT_IMAGE_FORMAT() {
                return "支持上传的图片格式，"
            },
            get SUPPORT_VIDEO_FORMAT() {
                return "支持常用视频格式，"
            },
            get IMAGE_RESOLUTION() {
                return "图片分辨率"
            },
            get VIDEO_RESOLUTION() {
                return "视频分辨率"
            },
            get RECOMMEND_RESOLUTION() {
                return "推荐上传宽高比为3:4、分辨率不低于720*960的照片，"
            },
            get RECOMMEND_RESOLUTION_VIDEO() {
                return "推荐上传720P（1280*720）及以上视频，"
            },
            get EXCEED_1280P() {
                return "超过1280P的图片用网页端上传画质更清晰"
            },
            get EXCEED_1080P() {
                return "超过1080P的视频用网页端上传画质更清晰"
            },
            get CONTINUE_EDIT() {
                return "继续编辑"
            }
        }
          , y = [{
            name: "上传视频",
            value: m.QO.Video,
            path: "/publish/publish"
        }, {
            name: "上传图文",
            value: m.QO.Image,
            path: "/publish/imgNote"
        }]
          , N = 0x500000000
    },
    32456: function(n, d, v) {
        "use strict";
        v.d(d, {
            G8: function() {
                return en
            },
            tO: function() {
                return ei
            },
            Ux: function() {
                return ea
            },
            eC: function() {
                return er
            },
            BC: function() {
                return eo
            }
        });
        var m, h, y, N, k, I, C, x, M, S = v(41622), _ = v(377);
        v(95477),
        v(58486),
        v(87989),
        v(86651),
        v(7608);
        var V = v(88329)
          , B = v(88600)
          , O = v(34830)
          , R = v(78370)
          , U = v(63400);
        function _arrayLikeToArray(n, d) {
            (null == d || d > n.length) && (d = n.length);
            for (var v = 0, m = Array(d); v < d; v++)
                m[v] = n[v];
            return m
        }
        function asyncGeneratorStep(n, d, v, m, h, y, N) {
            try {
                var k = n[y](N)
                  , I = k.value
            } catch (n) {
                return void v(n)
            }
            k.done ? d(I) : Promise.resolve(I).then(m, h)
        }
        function _asyncToGenerator(n) {
            return function() {
                var d = this
                  , v = arguments;
                return new Promise(function(m, h) {
                    var y = n.apply(d, v);
                    function _next(n) {
                        asyncGeneratorStep(y, m, h, _next, _throw, "next", n)
                    }
                    function _throw(n) {
                        asyncGeneratorStep(y, m, h, _next, _throw, "throw", n)
                    }
                    _next(void 0)
                }
                )
            }
        }
        function _defineProperties(n, d) {
            for (var v = 0; v < d.length; v++) {
                var m = d[v];
                m.enumerable = m.enumerable || !1,
                m.configurable = !0,
                "value"in m && (m.writable = !0),
                Object.defineProperty(n, _toPropertyKey(m.key), m)
            }
        }
        function _createClass(n, d, v) {
            return d && _defineProperties(n.prototype, d),
            v && _defineProperties(n, v),
            Object.defineProperty(n, "prototype", {
                writable: !1
            }),
            n
        }
        function _createForOfIteratorHelperLoose(n, d) {
            var v = "undefined" != typeof Symbol && n[Symbol.iterator] || n["@@iterator"];
            if (v)
                return (v = v.call(n)).next.bind(v);
            if (Array.isArray(n) || (v = _unsupportedIterableToArray(n)) || d && n && "number" == typeof n.length) {
                v && (n = v);
                var m = 0;
                return function() {
                    return m >= n.length ? {
                        done: !0
                    } : {
                        done: !1,
                        value: n[m++]
                    }
                }
            }
            throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        function _extends() {
            return (_extends = Object.assign ? Object.assign.bind() : function(n) {
                for (var d = 1; d < arguments.length; d++) {
                    var v = arguments[d];
                    for (var m in v)
                        ({}).hasOwnProperty.call(v, m) && (n[m] = v[m])
                }
                return n
            }
            ).apply(null, arguments)
        }
        function _regeneratorRuntime() {
            _regeneratorRuntime = function() {
                return d
            }
            ;
            var n, d = {}, v = Object.prototype, m = v.hasOwnProperty, h = Object.defineProperty || function(n, d, v) {
                n[d] = v.value
            }
            , y = "function" == typeof Symbol ? Symbol : {}, N = y.iterator || "@@iterator", k = y.asyncIterator || "@@asyncIterator", I = y.toStringTag || "@@toStringTag";
            function define(n, d, v) {
                return Object.defineProperty(n, d, {
                    value: v,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }),
                n[d]
            }
            try {
                define({}, "")
            } catch (n) {
                define = function(n, d, v) {
                    return n[d] = v
                }
            }
            function wrap(n, d, v, m) {
                var y = Object.create((d && d.prototype instanceof Generator ? d : Generator).prototype);
                return h(y, "_invoke", {
                    value: makeInvokeMethod(n, v, new Context(m || []))
                }),
                y
            }
            function tryCatch(n, d, v) {
                try {
                    return {
                        type: "normal",
                        arg: n.call(d, v)
                    }
                } catch (n) {
                    return {
                        type: "throw",
                        arg: n
                    }
                }
            }
            d.wrap = wrap;
            var C = "suspendedStart"
              , x = "executing"
              , M = "completed"
              , S = {};
            function Generator() {}
            function GeneratorFunction() {}
            function GeneratorFunctionPrototype() {}
            var _ = {};
            define(_, N, function() {
                return this
            });
            var V = Object.getPrototypeOf
              , B = V && V(V(values([])));
            B && B !== v && m.call(B, N) && (_ = B);
            var O = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(_);
            function defineIteratorMethods(n) {
                ["next", "throw", "return"].forEach(function(d) {
                    define(n, d, function(n) {
                        return this._invoke(d, n)
                    })
                })
            }
            function AsyncIterator(n, d) {
                var v;
                function invoke(v, h, y, N) {
                    var k = tryCatch(n[v], n, h);
                    if ("throw" !== k.type) {
                        var I = k.arg
                          , C = I.value;
                        return C && "object" == typeof C && m.call(C, "__await") ? d.resolve(C.__await).then(function(n) {
                            invoke("next", n, y, N)
                        }, function(n) {
                            invoke("throw", n, y, N)
                        }) : d.resolve(C).then(function(n) {
                            I.value = n,
                            y(I)
                        }, function(n) {
                            return invoke("throw", n, y, N)
                        })
                    }
                    N(k.arg)
                }
                h(this, "_invoke", {
                    value: function(n, m) {
                        function callInvokeWithMethodAndArg() {
                            return new d(function(d, v) {
                                invoke(n, m, d, v)
                            }
                            )
                        }
                        return v = v ? v.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg()
                    }
                })
            }
            function makeInvokeMethod(d, v, m) {
                var h = C;
                return function(y, N) {
                    if (h === x)
                        throw Error("Generator is already running");
                    if (h === M) {
                        if ("throw" === y)
                            throw N;
                        return {
                            value: n,
                            done: !0
                        }
                    }
                    for (m.method = y,
                    m.arg = N; ; ) {
                        var k = m.delegate;
                        if (k) {
                            var I = maybeInvokeDelegate(k, m);
                            if (I) {
                                if (I === S)
                                    continue;
                                return I
                            }
                        }
                        if ("next" === m.method)
                            m.sent = m._sent = m.arg;
                        else if ("throw" === m.method) {
                            if (h === C)
                                throw h = M,
                                m.arg;
                            m.dispatchException(m.arg)
                        } else
                            "return" === m.method && m.abrupt("return", m.arg);
                        h = x;
                        var _ = tryCatch(d, v, m);
                        if ("normal" === _.type) {
                            if (h = m.done ? M : "suspendedYield",
                            _.arg === S)
                                continue;
                            return {
                                value: _.arg,
                                done: m.done
                            }
                        }
                        "throw" === _.type && (h = M,
                        m.method = "throw",
                        m.arg = _.arg)
                    }
                }
            }
            function maybeInvokeDelegate(d, v) {
                var m = v.method
                  , h = d.iterator[m];
                if (h === n)
                    return v.delegate = null,
                    "throw" === m && d.iterator.return && (v.method = "return",
                    v.arg = n,
                    maybeInvokeDelegate(d, v),
                    "throw" === v.method) || "return" !== m && (v.method = "throw",
                    v.arg = TypeError("The iterator does not provide a '" + m + "' method")),
                    S;
                var y = tryCatch(h, d.iterator, v.arg);
                if ("throw" === y.type)
                    return v.method = "throw",
                    v.arg = y.arg,
                    v.delegate = null,
                    S;
                var N = y.arg;
                return N ? N.done ? (v[d.resultName] = N.value,
                v.next = d.nextLoc,
                "return" !== v.method && (v.method = "next",
                v.arg = n),
                v.delegate = null,
                S) : N : (v.method = "throw",
                v.arg = TypeError("iterator result is not an object"),
                v.delegate = null,
                S)
            }
            function pushTryEntry(n) {
                var d = {
                    tryLoc: n[0]
                };
                1 in n && (d.catchLoc = n[1]),
                2 in n && (d.finallyLoc = n[2],
                d.afterLoc = n[3]),
                this.tryEntries.push(d)
            }
            function resetTryEntry(n) {
                var d = n.completion || {};
                d.type = "normal",
                delete d.arg,
                n.completion = d
            }
            function Context(n) {
                this.tryEntries = [{
                    tryLoc: "root"
                }],
                n.forEach(pushTryEntry, this),
                this.reset(!0)
            }
            function values(d) {
                if (d || "" === d) {
                    var v = d[N];
                    if (v)
                        return v.call(d);
                    if ("function" == typeof d.next)
                        return d;
                    if (!isNaN(d.length)) {
                        var h = -1
                          , i = function next() {
                            for (; ++h < d.length; )
                                if (m.call(d, h))
                                    return next.value = d[h],
                                    next.done = !1,
                                    next;
                            return next.value = n,
                            next.done = !0,
                            next
                        };
                        return i.next = i
                    }
                }
                throw TypeError(typeof d + " is not iterable")
            }
            return GeneratorFunction.prototype = GeneratorFunctionPrototype,
            h(O, "constructor", {
                value: GeneratorFunctionPrototype,
                configurable: !0
            }),
            h(GeneratorFunctionPrototype, "constructor", {
                value: GeneratorFunction,
                configurable: !0
            }),
            GeneratorFunction.displayName = define(GeneratorFunctionPrototype, I, "GeneratorFunction"),
            d.isGeneratorFunction = function(n) {
                var d = "function" == typeof n && n.constructor;
                return !!d && (d === GeneratorFunction || "GeneratorFunction" === (d.displayName || d.name))
            }
            ,
            d.mark = function(n) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(n, GeneratorFunctionPrototype) : (n.__proto__ = GeneratorFunctionPrototype,
                define(n, I, "GeneratorFunction")),
                n.prototype = Object.create(O),
                n
            }
            ,
            d.awrap = function(n) {
                return {
                    __await: n
                }
            }
            ,
            defineIteratorMethods(AsyncIterator.prototype),
            define(AsyncIterator.prototype, k, function() {
                return this
            }),
            d.AsyncIterator = AsyncIterator,
            d.async = function(n, v, m, h, y) {
                void 0 === y && (y = Promise);
                var N = new AsyncIterator(wrap(n, v, m, h),y);
                return d.isGeneratorFunction(v) ? N : N.next().then(function(n) {
                    return n.done ? n.value : N.next()
                })
            }
            ,
            defineIteratorMethods(O),
            define(O, I, "Generator"),
            define(O, N, function() {
                return this
            }),
            define(O, "toString", function() {
                return "[object Generator]"
            }),
            d.keys = function(n) {
                var d = Object(n)
                  , v = [];
                for (var m in d)
                    v.push(m);
                return v.reverse(),
                function next() {
                    for (; v.length; ) {
                        var n = v.pop();
                        if (n in d)
                            return next.value = n,
                            next.done = !1,
                            next
                    }
                    return next.done = !0,
                    next
                }
            }
            ,
            d.values = values,
            Context.prototype = {
                constructor: Context,
                reset: function(d) {
                    if (this.prev = 0,
                    this.next = 0,
                    this.sent = this._sent = n,
                    this.done = !1,
                    this.delegate = null,
                    this.method = "next",
                    this.arg = n,
                    this.tryEntries.forEach(resetTryEntry),
                    !d)
                        for (var v in this)
                            "t" === v.charAt(0) && m.call(this, v) && !isNaN(+v.slice(1)) && (this[v] = n)
                },
                stop: function() {
                    this.done = !0;
                    var n = this.tryEntries[0].completion;
                    if ("throw" === n.type)
                        throw n.arg;
                    return this.rval
                },
                dispatchException: function(d) {
                    if (this.done)
                        throw d;
                    var v = this;
                    function handle(m, h) {
                        return N.type = "throw",
                        N.arg = d,
                        v.next = m,
                        h && (v.method = "next",
                        v.arg = n),
                        !!h
                    }
                    for (var h = this.tryEntries.length - 1; h >= 0; --h) {
                        var y = this.tryEntries[h]
                          , N = y.completion;
                        if ("root" === y.tryLoc)
                            return handle("end");
                        if (y.tryLoc <= this.prev) {
                            var k = m.call(y, "catchLoc")
                              , I = m.call(y, "finallyLoc");
                            if (k && I) {
                                if (this.prev < y.catchLoc)
                                    return handle(y.catchLoc, !0);
                                if (this.prev < y.finallyLoc)
                                    return handle(y.finallyLoc)
                            } else if (k) {
                                if (this.prev < y.catchLoc)
                                    return handle(y.catchLoc, !0)
                            } else {
                                if (!I)
                                    throw Error("try statement without catch or finally");
                                if (this.prev < y.finallyLoc)
                                    return handle(y.finallyLoc)
                            }
                        }
                    }
                },
                abrupt: function(n, d) {
                    for (var v = this.tryEntries.length - 1; v >= 0; --v) {
                        var h = this.tryEntries[v];
                        if (h.tryLoc <= this.prev && m.call(h, "finallyLoc") && this.prev < h.finallyLoc) {
                            var y = h;
                            break
                        }
                    }
                    y && ("break" === n || "continue" === n) && y.tryLoc <= d && d <= y.finallyLoc && (y = null);
                    var N = y ? y.completion : {};
                    return N.type = n,
                    N.arg = d,
                    y ? (this.method = "next",
                    this.next = y.finallyLoc,
                    S) : this.complete(N)
                },
                complete: function(n, d) {
                    if ("throw" === n.type)
                        throw n.arg;
                    return "break" === n.type || "continue" === n.type ? this.next = n.arg : "return" === n.type ? (this.rval = this.arg = n.arg,
                    this.method = "return",
                    this.next = "end") : "normal" === n.type && d && (this.next = d),
                    S
                },
                finish: function(n) {
                    for (var d = this.tryEntries.length - 1; d >= 0; --d) {
                        var v = this.tryEntries[d];
                        if (v.finallyLoc === n)
                            return this.complete(v.completion, v.afterLoc),
                            resetTryEntry(v),
                            S
                    }
                },
                catch: function(n) {
                    for (var d = this.tryEntries.length - 1; d >= 0; --d) {
                        var v = this.tryEntries[d];
                        if (v.tryLoc === n) {
                            var m = v.completion;
                            if ("throw" === m.type) {
                                var h = m.arg;
                                resetTryEntry(v)
                            }
                            return h
                        }
                    }
                    throw Error("illegal catch attempt")
                },
                delegateYield: function(d, v, m) {
                    return this.delegate = {
                        iterator: values(d),
                        resultName: v,
                        nextLoc: m
                    },
                    "next" === this.method && (this.arg = n),
                    S
                }
            },
            d
        }
        function _toPrimitive(n, d) {
            if ("object" != typeof n || !n)
                return n;
            var v = n[Symbol.toPrimitive];
            if (void 0 !== v) {
                var m = v.call(n, d || "default");
                if ("object" != typeof m)
                    return m;
                throw TypeError("@@toPrimitive must return a primitive value.")
            }
            return ("string" === d ? String : Number)(n)
        }
        function _toPropertyKey(n) {
            var d = _toPrimitive(n, "string");
            return "symbol" == typeof d ? d : d + ""
        }
        function _unsupportedIterableToArray(n, d) {
            if (n) {
                if ("string" == typeof n)
                    return _arrayLikeToArray(n, d);
                var v = ({}).toString.call(n).slice(8, -1);
                return "Object" === v && n.constructor && (v = n.constructor.name),
                "Map" === v || "Set" === v ? Array.from(n) : "Arguments" === v || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v) ? _arrayLikeToArray(n, d) : void 0
            }
        }
        var z = function() {
            function EventBus() {
                this.events = new V.Events
            }
            var n = EventBus.prototype;
            return n.on = function on(n, d, v) {
                return this.events.on(n, d, v),
                this
            }
            ,
            n.once = function once(n, d, v) {
                return this.events.once(n, d, v),
                this
            }
            ,
            n.off = function off(n, d, v) {
                return this.events.off(n, d, v),
                this
            }
            ,
            n.trigger = function trigger(n) {
                for (var d, v = arguments.length, m = Array(v > 1 ? v - 1 : 0), h = 1; h < v; h++)
                    m[h - 1] = arguments[h];
                return (d = this.events).trigger.apply(d, [n].concat(m))
            }
            ,
            n.dispose = function dispose() {
                this.events = new V.Events
            }
            ,
            EventBus
        }();
        (m = I || (I = {})).Progress = "@xhs/publish-core/upload/item/progress",
        m.InstanceCreated = "@xhs/publish-core/upload/item/instanceCreated",
        m.TaskReady = "@xhs/publish-core/upload/item/taskReady",
        m.PreUpload = "@xhs/publish-core/upload/item/preUpload",
        m.Uploaded = "@xhs/publish-core/upload/item/uploaded",
        m.UploadFailed = "@xhs/publish-core/upload/item/uploadFailed",
        m.PerMakeId = "@xhs/publish-core/upload/item/perMakeId",
        m.MakeId = "@xhs/publish-core/upload/item/makeId",
        m.MakeIdFailed = "@xhs/publish-core/upload/item/makeIdFailed",
        (h = C || (C = {})).PreCreate = "@xhs/publish-core/upload/preCreate",
        h.Created = "@xhs/publish-core/upload/created";
        var Z = {
            INVALID_TOKEN: "invalid token"
        }
          , Q = function() {
            function UploaderItem(n) {
                var d, v = this;
                this.upload = function(n) {
                    return new Promise(function(d, m) {
                        v._lifecycle.preUpload.trigger(),
                        v.event.trigger(I.PreUpload, n),
                        v._uploader.post({
                            Body: n,
                            SliceSize: v._sliceSize,
                            AsyncLimit: v._asyncLimit,
                            onInstanceCreated: v.triggerInstanceCreated,
                            onProgress: v.triggerProgress,
                            onTaskReady: v.triggerTaskReady
                        }).then(function(n) {
                            0 === n.code && n.data ? (v.event.trigger(I.Uploaded, n.data),
                            v._lifecycle.uploaded.trigger(),
                            d(n.data)) : (v.event.trigger(I.UploadFailed, Error(n.msg || "Error: upload error")),
                            m(_extends({}, n, {
                                getTokenFail: (null == n ? void 0 : n.msg) === Z.INVALID_TOKEN
                            })))
                        }).catch(function(n) {
                            v.event.trigger(I.UploadFailed, n),
                            m(n)
                        })
                    }
                    )
                }
                ,
                this.generatorID = (d = _asyncToGenerator(_regeneratorRuntime().mark(function _callee(n, d) {
                    var m, h, y;
                    return _regeneratorRuntime().wrap(function _callee$(N) {
                        for (; ; )
                            switch (N.prev = N.next) {
                            case 0:
                                return v.event.trigger(I.PerMakeId, n, d),
                                m = v._edithDomain + "/web_api/sns/capa/postgw/videoid",
                                N.next = 4,
                                B.dJ.get(m, {
                                    params: {
                                        fileKey: n,
                                        bizName: d
                                    },
                                    transform: !0
                                });
                            case 4:
                                return -1 !== (y = (null == (h = N.sent) ? void 0 : h.videoId) || -1) ? v.event.trigger(I.MakeId, y) : v.event.trigger(I.MakeIdFailed),
                                N.abrupt("return", y);
                            case 8:
                            case "end":
                                return N.stop()
                            }
                    }, _callee)
                })),
                function(n, v) {
                    return d.apply(this, arguments)
                }
                ),
                this.onProgress = function(n) {
                    v.event.on(I.Progress, n)
                }
                ,
                this.onInstanceCreated = function(n) {
                    v.event.on(I.InstanceCreated, n)
                }
                ,
                this.onTaskReady = function(n) {
                    v.event.on(I.TaskReady, n)
                }
                ,
                this.triggerProgress = function(n) {
                    v.event.trigger(I.Progress, n)
                }
                ,
                this.triggerInstanceCreated = function(n) {
                    v.event.trigger(I.InstanceCreated, n)
                }
                ,
                this.triggerTaskReady = function(n) {
                    v.event.trigger(I.TaskReady, n)
                }
                ,
                this._uploader = new O.C(n),
                this.event = new z,
                this._lifecycle = n.lifeCycle,
                this._sliceSize = n.sliceSize || 3145728,
                this._asyncLimit = n.asyncLimit || 5,
                this._edithDomain = n.edithDomain
            }
            return UploaderItem.prototype.cancel = function cancel(n, d) {
                n.cancelTask(d)
            }
            ,
            UploaderItem
        }()
          , J = function() {
            function Upload(n) {
                var d = this
                  , v = n.env
                  , m = n.lifeCycle;
                this.getProxy = function() {
                    return new URL(window.location.href).searchParams.get("proxy") || ""
                }
                ,
                this._getLoginDomain = function() {
                    var n = d.getProxy();
                    if ("prod" === d._env)
                        return "https://www.xiaohongshu.com";
                    if (n)
                        return "https://logan.devops.xiaohongshu.com/proxy/" + n;
                    if ("sit" === d._env || "slSit" === d._env)
                        return "https://www.sit.xiaohongshu.com";
                    else if ("beta" === d._env)
                        return "https://www.beta.xiaohongshu.com";
                    else
                        return "https://www.xiaohongshu.com"
                }
                ,
                this._getEdithDoamin = function() {
                    var n = d.getProxy();
                    if ("prod" === d._env)
                        return "https://edith.xiaohongshu.com";
                    if (n)
                        return "https://logan.devops.xiaohongshu.com/proxy/" + n;
                    if ("sit" === d._env || "slSit" === d._env)
                        return "https://edith.sit.xiaohongshu.com";
                    else if ("beta" === d._env)
                        return "https://edith.beta.xiaohongshu.com";
                    else
                        return "https://edith.xiaohongshu.com"
                }
                ,
                this.event = new z,
                this._uploaderMap = new Map,
                this._env = v,
                this._lifeCycle = m,
                this._loginDomain = this._getLoginDomain(),
                this._edithDomain = this._getEdithDoamin()
            }
            var n = Upload.prototype;
            return n.createUploader = function createUploader(n, d) {
                var v = this.getUploader(n);
                if (v)
                    return v;
                this.event.trigger(C.PreCreate, n);
                var m = new Q(_extends({}, d, {
                    loginDomain: this._loginDomain,
                    edithDomain: this._edithDomain,
                    lifeCycle: this._lifeCycle
                }));
                return this._uploaderMap.set(n, m),
                this.event.trigger(C.Created, n),
                m
            }
            ,
            n.getUploader = function getUploader(n) {
                return this._uploaderMap.get(n) || null
            }
            ,
            Upload
        }();
        (y = x || (x = {})).PreUpload = "@xhs/publish/core/lifecycle/preUpload",
        y.Upload = "@xhs/publish/core/lifecycle/Upload",
        y.PreCreateUpload = "@xhs/publish/core/lifecycle/preCreateUploader",
        y.CreatedUpload = "@xhs/publish/core/lifecycle/createdUploader",
        y.PreBootstrap = "@xhs/publish/core/lifecycle/preBootstrap",
        y.Bootstrap = "@xhs/publish/core/lifecycle/bootstrap",
        (N = M || (M = {})).PreBootstrap = "@xhs/publish-core/media/preBootstrap",
        N.Bootstrap = "@xhs/publish-core/media/bootstrap",
        N.PreQueryProgress = "@xhs/publish-core/media/preQueryProgress",
        N.QueryProgress = "@xhs/publish-core/media/queryProgress",
        N.PreQueryTranscode = "@xhs/publish-core/media/preQueryTranscode",
        N.QueryTranscode = "@xhs/publish-core/media/queryTranscode",
        N.PreTranscodeHevcToAvc = "@xhs/publish-core/media/preTranscodeHevcToAvc",
        N.TranscodeHevcToAvc = "@xhs/publish-core/media/transcodeHevcToAvc",
        N.PreTranscodeHev1ToHvc1 = "@xhs/publish-core/media/preTranscodeHev1ToHvc1",
        N.TranscodeHev1ToHvc1 = "@xhs/publish-core/media/transcodeHev1ToHvc1",
        N.PreGetVideoTrack = "@xhs/publish-core/media/preGetVideoTrack",
        N.GetVideoTrack = "@xhs/publish-core/media/getVideoTrack",
        N.PreGetAudioTrack = "@xhs/publish-core/media/preGetAudioTrack",
        N.GetAudioTrack = "@xhs/publish-core/media/getAudioTrack",
        N.PreGetGeneralTrack = "@xhs/publish-core/media/preGetGeneralTrack",
        N.GetGeneralTrack = "@xhs/publish-core/media/getGeneralTrack",
        N.PreGetVideoFileInfo = "@xhs/publish-core/media/preGetVideoFileInfo",
        N.GetVideoFileInfo = "@xhs/publish-core/media/getVideoFileInfo";
        var H = function() {
            function LifeCycleNotParamsEvent() {
                this.events = new Set
            }
            var n = LifeCycleNotParamsEvent.prototype;
            return n.on = function on(n) {
                return this.events.add(n),
                this
            }
            ,
            n.trigger = function trigger() {
                for (var n = [], d, v = _createForOfIteratorHelperLoose(this.events.entries()); !(d = v()).done; ) {
                    var m = d.value[1];
                    n.push(m)
                }
                V.FunctionExt.compose.apply(V.FunctionExt, n)()
            }
            ,
            LifeCycleNotParamsEvent
        }()
          , G = new (function() {
            function ErrorInstance() {}
            var n = ErrorInstance.prototype;
            return n.lifeCycleError = function lifeCycleError() {
                throw Error("Error: registration lifeCycle happen error.")
            }
            ,
            n.mediaInfoInitError = function mediaInfoInitError() {
                throw Error("Error: media info init error.")
            }
            ,
            n.shouldBootStrap = function shouldBootStrap() {
                throw Error("Error: please bootstrap first.")
            }
            ,
            n.shouldUseFirst = function shouldUseFirst() {
                throw Error("Error: please use plugin before bootstrap.")
            }
            ,
            ErrorInstance
        }())
          , Y = function() {
            function LifeCycle() {
                this.plugins = new Map,
                this.handleInitLifeCycle()
            }
            return LifeCycle.prototype.handleInitLifeCycle = function handleInitLifeCycle() {
                this.plugins.set(x.PreUpload, new H),
                this.plugins.set(x.Upload, new H),
                this.plugins.set(x.PreCreateUpload, new H),
                this.plugins.set(x.CreatedUpload, new H),
                this.plugins.set(x.PreBootstrap, new H),
                this.plugins.set(x.Bootstrap, new H)
            }
            ,
            _createClass(LifeCycle, [{
                key: "preUpload",
                get: function get() {
                    var n = this.plugins.get(x.PreUpload);
                    return !n && G.lifeCycleError(),
                    n
                }
            }, {
                key: "uploaded",
                get: function get() {
                    var n = this.plugins.get(x.Upload);
                    return !n && G.lifeCycleError(),
                    n
                }
            }, {
                key: "preCreateUpload",
                get: function get() {
                    var n = this.plugins.get(x.PreCreateUpload);
                    return !n && G.lifeCycleError(),
                    n
                }
            }, {
                key: "createdUpload",
                get: function get() {
                    var n = this.plugins.get(x.CreatedUpload);
                    return !n && G.lifeCycleError(),
                    n
                }
            }, {
                key: "preBootstrap",
                get: function get() {
                    var n = this.plugins.get(x.PreBootstrap);
                    return !n && G.lifeCycleError(),
                    n
                }
            }, {
                key: "bootstrap",
                get: function get() {
                    var n = this.plugins.get(x.Bootstrap);
                    return !n && G.lifeCycleError(),
                    n
                }
            }])
        }()
          , W = function() {
            function Media(n) {
                var d, v, m, h, y = this;
                this.getProxy = function() {
                    return new URL(window.location.href).searchParams.get("proxy") || ""
                }
                ,
                this._getEdithDoamin = function() {
                    var n = y.getProxy();
                    if ("prod" === y.env)
                        return "https://edith.xiaohongshu.com";
                    if (n)
                        return "https://logan.devops.xiaohongshu.com/proxy/" + n;
                    if ("sit" === y.env || "slSit" === y.env)
                        return "https://edith.sit.xiaohongshu.com";
                    else if ("beta" === y.env)
                        return "https://edith.beta.xiaohongshu.com";
                    else
                        return "https://edith.xiaohongshu.com"
                }
                ,
                this.queryTranscode = (d = _asyncToGenerator(_regeneratorRuntime().mark(function _callee(n, d, v) {
                    var m, h;
                    return _regeneratorRuntime().wrap(function _callee$(N) {
                        for (; ; )
                            switch (N.prev = N.next) {
                            case 0:
                                return y.event.trigger(M.PreQueryTranscode, n, v),
                                m = y._edithDomain + "/web_api/sns/capa/postgw/query_transcode",
                                N.next = 4,
                                B.dJ.get(m, {
                                    params: {
                                        videoId: n,
                                        needTranscode: d,
                                        level: v
                                    },
                                    transform: !0
                                });
                            case 4:
                                return h = N.sent,
                                y.event.trigger(M.QueryTranscode, n, v, h),
                                N.abrupt("return", h);
                            case 7:
                            case "end":
                                return N.stop()
                            }
                    }, _callee)
                })),
                function(n, v, m) {
                    return d.apply(this, arguments)
                }
                ),
                this.transHevcToAvc = (v = _asyncToGenerator(_regeneratorRuntime().mark(function _callee2(n, d) {
                    var v;
                    return _regeneratorRuntime().wrap(function _callee2$(m) {
                        for (; ; )
                            switch (m.prev = m.next) {
                            case 0:
                                if (y._media) {
                                    m.next = 3;
                                    break
                                }
                                return G.shouldBootStrap(),
                                m.abrupt("return");
                            case 3:
                                return y.event.trigger(M.PreTranscodeHevcToAvc, n, d),
                                m.next = 6,
                                y._media.transcodeH265ToH264(n, d);
                            case 6:
                                return v = m.sent,
                                y.event.trigger(M.PreTranscodeHevcToAvc, n, d, v),
                                m.abrupt("return", v);
                            case 9:
                            case "end":
                                return m.stop()
                            }
                    }, _callee2)
                })),
                function(n, d) {
                    return v.apply(this, arguments)
                }
                ),
                this.transHev1ToHvc1 = (m = _asyncToGenerator(_regeneratorRuntime().mark(function _callee3(n, d) {
                    var v;
                    return _regeneratorRuntime().wrap(function _callee3$(m) {
                        for (; ; )
                            switch (m.prev = m.next) {
                            case 0:
                                if (y._media) {
                                    m.next = 3;
                                    break
                                }
                                return G.shouldBootStrap(),
                                m.abrupt("return");
                            case 3:
                                return y.event.trigger(M.PreTranscodeHev1ToHvc1, n, d),
                                m.next = 6,
                                y._media.transHEV1ToHVC1(n, d);
                            case 6:
                                return v = m.sent,
                                y.event.trigger(M.TranscodeHev1ToHvc1, n, d, v),
                                m.abrupt("return", v);
                            case 9:
                            case "end":
                                return m.stop()
                            }
                    }, _callee3)
                })),
                function(n, d) {
                    return m.apply(this, arguments)
                }
                ),
                this.queryVideoInfo = (h = _asyncToGenerator(_regeneratorRuntime().mark(function _callee4(n) {
                    var d;
                    return _regeneratorRuntime().wrap(function _callee4$(v) {
                        for (; ; )
                            switch (v.prev = v.next) {
                            case 0:
                                if (y._media) {
                                    v.next = 3;
                                    break
                                }
                                return G.shouldBootStrap(),
                                v.abrupt("return");
                            case 3:
                                return y.event.trigger(M.PreGetVideoFileInfo, n),
                                v.next = 6,
                                y._media.queryVideoFileInfo(n);
                            case 6:
                                return d = v.sent,
                                y.event.trigger(M.GetVideoFileInfo, n, d),
                                v.abrupt("return", d);
                            case 9:
                            case "end":
                                return v.stop()
                            }
                    }, _callee4)
                })),
                function(n) {
                    return h.apply(this, arguments)
                }
                ),
                this.queryAudioTrack = function(n) {
                    if (!y._media) {
                        G.shouldBootStrap();
                        return
                    }
                    y.event.trigger(M.PreGetAudioTrack, n);
                    var d = y._media.getAudioTrack(n);
                    return y.event.trigger(M.GetAudioTrack, n, d),
                    d
                }
                ,
                this.queryVideoTrack = function(n) {
                    if (!y._media) {
                        G.shouldBootStrap();
                        return
                    }
                    y.event.trigger(M.PreGetVideoTrack, n);
                    var d = y._media.getVideoTrack(n);
                    return y.event.trigger(M.GetVideoTrack, n, d),
                    d
                }
                ,
                this.queryGeneralTrack = function(n) {
                    if (!y._media) {
                        G.shouldBootStrap();
                        return
                    }
                    y.event.trigger(M.PreGetGeneralTrack, n);
                    var d = y._media.getGeneralTrack(n);
                    return y.event.trigger(M.GetGeneralTrack, n, d),
                    d
                }
                ,
                this.isVideoHEVC = function(n) {
                    if (!y._media) {
                        G.shouldBootStrap();
                        return
                    }
                    return y._media.isVideoHEVC(n)
                }
                ,
                this.isVideoAVC = function(n) {
                    if (!y._media) {
                        G.shouldBootStrap();
                        return
                    }
                    return y._media.isVideoAVC(n)
                }
                ,
                this.isAudioAAC = function(n) {
                    if (!y._media) {
                        G.shouldBootStrap();
                        return
                    }
                    return y._media.isAudioAAC(n)
                }
                ,
                this.getFirstFrame = function(n, d) {
                    if (!y._media) {
                        G.shouldBootStrap();
                        return
                    }
                    return y._media.getFirstFrame(n, d)
                }
                ,
                this.generatePictFrameFromR = function(n, d, v) {
                    if (!y._media) {
                        G.shouldBootStrap();
                        return
                    }
                    return y._media.generatePictFrameFromR(n, d, v)
                }
                ;
                var N = n.env
                  , k = n.log
                  , I = n.mt
                  , C = n.classWorkerURL
                  , x = n.ffmpeg;
                this.env = N,
                this._edithDomain = this._getEdithDoamin(),
                this.event = new z,
                this._media = new R.Media({
                    ffmpeg: x,
                    log: void 0 !== k && k,
                    classWorkerURL: C,
                    mt: void 0 !== I && I
                })
            }
            var n, d, v, m, h, y, N = Media.prototype;
            return N.onLog = function onLog(n) {
                this._media.onMessage(n)
            }
            ,
            N._bootstrap = (n = _asyncToGenerator(_regeneratorRuntime().mark(function _callee5() {
                return _regeneratorRuntime().wrap(function _callee5$(n) {
                    for (; ; )
                        switch (n.prev = n.next) {
                        case 0:
                            return this.event.trigger(M.PreBootstrap),
                            n.next = 3,
                            this._media.bootstrap();
                        case 3:
                            this.event.trigger(M.Bootstrap);
                        case 4:
                        case "end":
                            return n.stop()
                        }
                }, _callee5, this)
            })),
            function _bootstrap() {
                return n.apply(this, arguments)
            }
            ),
            N.initDirs = (d = _asyncToGenerator(_regeneratorRuntime().mark(function _callee6() {
                return _regeneratorRuntime().wrap(function _callee6$(n) {
                    for (; ; )
                        switch (n.prev = n.next) {
                        case 0:
                            return n.next = 2,
                            this._media.initDirs();
                        case 2:
                        case "end":
                            return n.stop()
                        }
                }, _callee6, this)
            })),
            function initDirs() {
                return d.apply(this, arguments)
            }
            ),
            N.createDir = (v = _asyncToGenerator(_regeneratorRuntime().mark(function _callee7(n) {
                var d;
                return _regeneratorRuntime().wrap(function _callee7$(v) {
                    for (; ; )
                        switch (v.prev = v.next) {
                        case 0:
                            return v.next = 2,
                            this._media.createDir(n);
                        case 2:
                            return d = v.sent,
                            v.abrupt("return", d);
                        case 4:
                        case "end":
                            return v.stop()
                        }
                }, _callee7, this)
            })),
            function createDir(n) {
                return v.apply(this, arguments)
            }
            ),
            N.deleteDir = (m = _asyncToGenerator(_regeneratorRuntime().mark(function _callee8(n) {
                var d;
                return _regeneratorRuntime().wrap(function _callee8$(v) {
                    for (; ; )
                        switch (v.prev = v.next) {
                        case 0:
                            return v.next = 2,
                            this._media.deleteDir(n);
                        case 2:
                            return d = v.sent,
                            v.abrupt("return", d);
                        case 4:
                        case "end":
                            return v.stop()
                        }
                }, _callee8, this)
            })),
            function deleteDir(n) {
                return m.apply(this, arguments)
            }
            ),
            N.listDir = (h = _asyncToGenerator(_regeneratorRuntime().mark(function _callee9(n) {
                return _regeneratorRuntime().wrap(function _callee9$(d) {
                    for (; ; )
                        switch (d.prev = d.next) {
                        case 0:
                            return d.abrupt("return", this._media.listDir(n));
                        case 1:
                        case "end":
                            return d.stop()
                        }
                }, _callee9, this)
            })),
            function listDir(n) {
                return h.apply(this, arguments)
            }
            ),
            N.is1LevelDirExist = (y = _asyncToGenerator(_regeneratorRuntime().mark(function _callee10(n) {
                var d;
                return _regeneratorRuntime().wrap(function _callee10$(v) {
                    for (; ; )
                        switch (v.prev = v.next) {
                        case 0:
                            return v.next = 2,
                            this._media.is1LevelDirExist(n);
                        case 2:
                            return d = v.sent,
                            v.abrupt("return", d);
                        case 4:
                        case "end":
                            return v.stop()
                        }
                }, _callee10, this)
            })),
            function is1LevelDirExist(n) {
                return y.apply(this, arguments)
            }
            ),
            Media
        }()
          , q = function() {
            function LS() {}
            var n = LS.prototype;
            return n.write = function write(n, d) {
                window.localStorage.setItem(n, d)
            }
            ,
            n.read = function read(n) {
                return window.localStorage.getItem(n)
            }
            ,
            n.del = function del(n) {
                window.localStorage.removeItem(n)
            }
            ,
            LS
        }()
          , X = function() {
            function IndexedDB() {
                this.dbMap = new Map
            }
            var n, d, v, m = IndexedDB.prototype;
            return m.create = function create(n, d) {
                var v, m, h = d.storeName, y = d.keys, N = d.version, k = void 0 === N ? 1 : N, I = this.dbMap.get(n);
                try {
                    if (I) {
                        ;if (I.tables.some(function(n) {
                            return n.name === h
                        }))
                            return new V.CustomSuccess(I);
                        return I.close(),
                        I.version(k).stores(((m = {})[h] = y,
                        m)),
                        I.open(),
                        new V.CustomSuccess(I)
                    }
                    var C = new U.ZP(n);
                    return C.version(k).stores(((v = {})[h] = y,
                    v)),
                    this.dbMap.set(n, C),
                    new V.CustomSuccess(C)
                } catch (n) {
                    return new V.CustomError(n)
                }
            }
            ,
            m.add = (n = _asyncToGenerator(_regeneratorRuntime().mark(function _callee(n, d, v) {
                var m, h;
                return _regeneratorRuntime().wrap(function _callee$(y) {
                    for (; ; )
                        switch (y.prev = y.next) {
                        case 0:
                            if (y.prev = 0,
                            m = this.dbMap.get(n)) {
                                y.next = 4;
                                break
                            }
                            return y.abrupt("return", new V.CustomError(Error("not found database: " + n)));
                        case 4:
                            return y.next = 6,
                            m.table(d).add(v);
                        case 6:
                            return h = y.sent,
                            y.abrupt("return", new V.CustomSuccess(h));
                        case 10:
                            return y.prev = 10,
                            y.t0 = y.catch(0),
                            y.abrupt("return", new V.CustomError(y.t0));
                        case 13:
                        case "end":
                            return y.stop()
                        }
                }, _callee, this, [[0, 10]])
            })),
            function add(d, v, m) {
                return n.apply(this, arguments)
            }
            ),
            m.getByIndex = (d = _asyncToGenerator(_regeneratorRuntime().mark(function _callee2(n, d, v, m) {
                var h, y;
                return _regeneratorRuntime().wrap(function _callee2$(N) {
                    for (; ; )
                        switch (N.prev = N.next) {
                        case 0:
                            if (N.prev = 0,
                            h = this.dbMap.get(n)) {
                                N.next = 4;
                                break
                            }
                            return N.abrupt("return", new V.CustomError(Error("not found database: " + n)));
                        case 4:
                            return N.next = 6,
                            h.table(d).where(m).equals(v).toArray();
                        case 6:
                            if (!(!(y = N.sent) || 0 === y.length)) {
                                N.next = 9;
                                break
                            }
                            return N.abrupt("return", new V.CustomError(Error("No records found for index: " + v)));
                        case 9:
                            return N.abrupt("return", new V.CustomSuccess(y));
                        case 12:
                            return N.prev = 12,
                            N.t0 = N.catch(0),
                            N.abrupt("return", new V.CustomError(N.t0));
                        case 15:
                        case "end":
                            return N.stop()
                        }
                }, _callee2, this, [[0, 12]])
            })),
            function getByIndex(n, v, m, h) {
                return d.apply(this, arguments)
            }
            ),
            m.clearStore = (v = _asyncToGenerator(_regeneratorRuntime().mark(function _callee3(n, d) {
                var v;
                return _regeneratorRuntime().wrap(function _callee3$(m) {
                    for (; ; )
                        switch (m.prev = m.next) {
                        case 0:
                            if (m.prev = 0,
                            v = this.dbMap.get(n)) {
                                m.next = 4;
                                break
                            }
                            return m.abrupt("return", new V.CustomError(Error("not found database: " + n)));
                        case 4:
                            return m.next = 6,
                            v.table(d).clear();
                        case 6:
                            return m.abrupt("return", new V.CustomSuccess("success"));
                        case 9:
                            return m.prev = 9,
                            m.t0 = m.catch(0),
                            m.abrupt("return", new V.CustomError(m.t0));
                        case 12:
                        case "end":
                            return m.stop()
                        }
                }, _callee3, this, [[0, 9]])
            })),
            function clearStore(n, d) {
                return v.apply(this, arguments)
            }
            ),
            IndexedDB
        }()
          , publish_core_esm_Storage = function Storage() {
            this.ls = new q,
            this.idb = new X
        }
          , K = function() {
            function Publisher(n) {
                this.loaded = !1;
                var d = n.env
                  , v = n.log
                  , m = n.ffmpeg
                  , h = n.classWorkerURL
                  , y = n.mt;
                this.lifeCycle = new Y,
                this.uploader = new J({
                    env: d,
                    lifeCycle: this.lifeCycle
                }),
                this.media = new W({
                    env: d,
                    ffmpeg: m,
                    log: v,
                    classWorkerURL: h,
                    mt: y
                }),
                this._plugins = new V.Plugins,
                this.storage = new publish_core_esm_Storage
            }
            var n, d = Publisher.prototype;
            return d.bootstrap = (n = _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {
                return _regeneratorRuntime().wrap(function _callee$(n) {
                    for (; ; )
                        switch (n.prev = n.next) {
                        case 0:
                            if (!this.loaded) {
                                n.next = 2;
                                break
                            }
                            return n.abrupt("return");
                        case 2:
                            return this._plugins.bootstrap(this),
                            this.lifeCycle.preBootstrap.trigger(),
                            n.next = 6,
                            this.media._bootstrap();
                        case 6:
                            this.lifeCycle.bootstrap.trigger();
                        case 7:
                        case "end":
                            return n.stop()
                        }
                }, _callee, this)
            })),
            function bootstrap() {
                return n.apply(this, arguments)
            }
            ),
            d.use = function use(n) {
                if (this.loaded) {
                    G.shouldUseFirst();
                    return
                }
                this._plugins.use(n)
            }
            ,
            d.getPlugin = function getPlugin(n) {
                return this._plugins.getPlugin(n)
            }
            ,
            d.unmount = function unmount() {
                this._plugins.unmount()
            }
            ,
            Publisher
        }()
          , $ = v(22899)
          , ee = v(22526)
          , et = new $.C
          , en = new K({
            env: window.location.host.match(/\.sl\.sit\.xiaohongshu\.com$/) ? "slSit" : window.location.host.match(/\.sit\.xiaohongshu\.com$/) ? "sit" : window.location.host.match(/\.beta\.xiaohongshu\.com$/) ? "beta" : "prod",
            log: !0,
            ffmpeg: et,
            classWorkerURL: "".concat(window.location.origin, "/picasso_pages/author-center/worker.js")
        })
          , tracker = function(n) {
            var d, v, m, h, y = (null === (d = performance) || void 0 === d ? void 0 : d.memory) || {}, N = y.jsHeapSizeLimit, k = y.totalJSHeapSize, I = y.usedJSHeapSize;
            null === (h = window) || void 0 === h || null === (m = h.eaglet) || void 0 === m || null === (v = m.push) || void 0 === v || v.call(m, {
                measurement_name: "sns_web_publish_new_ffmpeg_errors",
                measurement_data: {
                    msg: "createDirs error ".concat(n),
                    memory: "jsHeapSizeLimit: ".concat(N, ", totalJSHeapSize: ").concat(k, ", usedJSHeapSize: ").concat(I)
                }
            }, "ApmXrayTracker")
        };
        var ea = (k = (0,
        S._)(function() {
            var n, d, v, m, h, y, N, k;
            return (0,
            _.Jh)(this, function(I) {
                switch (I.label) {
                case 0:
                    return console.log("seven publisher bootstrap start"),
                    null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || null === (n = d.push) || void 0 === n || n.call(d, {
                        measurement_name: "sns_web_publish_new_bootstrap"
                    }, "ApmXrayTracker"),
                    y = (h = (null === (m = performance) || void 0 === m ? void 0 : m.memory) || {}).jsHeapSizeLimit,
                    N = h.totalJSHeapSize,
                    k = h.usedJSHeapSize,
                    [4, en.bootstrap().catch(function(n) {
                        var d, v, m;
                        console.log("seven publisher bootstrap catch", n),
                        null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || null === (d = v.push) || void 0 === d || d.call(v, {
                            measurement_name: "sns_web_publish_new_ffmpeg_errors",
                            measurement_data: {
                                msg: JSON.stringify(n),
                                memory: "jsHeapSizeLimit: ".concat(y, ", totalJSHeapSize: ").concat(N, ", usedJSHeapSize: ").concat(k)
                            }
                        }, "ApmXrayTracker")
                    })];
                case 1:
                    if (I.sent(),
                    !en.media._media.loaded)
                        return [3, 7];
                    return [4, en.media.is1LevelDirExist("/pv_videos").catch(function(n) {
                        tracker("/pv_videos list error".concat(JSON.stringify(n)))
                    })];
                case 2:
                    if (I.sent())
                        return [3, 4];
                    return [4, en.media.createDir("/pv_videos").catch(function(n) {
                        tracker("/pv_videos creat error".concat(JSON.stringify(n)))
                    })];
                case 3:
                    I.sent(),
                    I.label = 4;
                case 4:
                    return [4, en.media.is1LevelDirExist("/pv_frames").catch(function(n) {
                        tracker("/pv_frames list error".concat(JSON.stringify(n)))
                    })];
                case 5:
                    if (I.sent())
                        return [3, 7];
                    return [4, en.media.createDir("/pv_frames").catch(function(n) {
                        tracker("/pv_frames creat error".concat(JSON.stringify(n)))
                    })];
                case 6:
                    I.sent(),
                    I.label = 7;
                case 7:
                    return console.log("seven publisher bootstrap end"),
                    [2]
                }
            })
        }),
        function bootstrap() {
            return k.apply(this, arguments)
        }
        );
        window._publisher = en;
        var eo = en.media
          , er = new ee.c;
        window._behavior = er;
        var ei = en.storage
    },
    26540: function(n, d, v) {
        "use strict";
        v.d(d, {
            O: function() {
                return useApmLog
            },
            w: function() {
                return useLogger
            }
        });
        var m = v(70879);
        function useApmLog(n) {
            var d = {
                type: "SnsWebPublish",
                value: (0,
                m._)({}, n)
            }
              , v = window.eaglet;
            v && v.push(d, "ApmJSONTracker")
        }
        function useLogger(n) {
            var d = {
                type: "SnsWebPublishInfo",
                value: {
                    eventType: n.type,
                    eventCode: "".concat(n.code),
                    message: n.desc,
                    traceId: n.traceId
                }
            }
              , v = window.eaglet;
            v && v.push(d, "ApmJSONTracker")
        }
        v(86651),
        v(87989)
    },
    35763: function(n, d, v) {
        "use strict";
        function judgeIE() {
            var n = window.navigator.userAgent
              , d = n.indexOf("MSIE ");
            if (d > 0)
                return parseInt(n.substring(d + 5, n.indexOf(".", d)), 10);
            if (n.indexOf("Trident/") > 0) {
                var v = n.indexOf("rv:");
                return parseInt(n.substring(v + 3, n.indexOf(".", v)), 10)
            }
            var m = n.indexOf("Edge/");
            return !!(m > 0) && parseInt(n.substring(m + 5, n.indexOf(".", m)), 10)
        }
        function getBrowser() {
            var n = navigator.userAgent;
            return n.indexOf("Opera") > -1 ? "opera" : n.indexOf("Firefox") > -1 ? "firefox" : n.indexOf("Chrome") > -1 ? "chrome" : n.indexOf("Safari") > -1 ? "safari" : judgeIE() ? "ie" : ""
        }
        v.d(d, {
            q: function() {
                return getBrowser
            }
        }),
        v(34885)
    },
    8757: function(n, d, v) {
        "use strict";
        v.d(d, {
            FJ: function() {
                return h
            },
            Gf: function() {
                return getLiveMallDomain
            },
            Gg: function() {
                return k
            },
            Gy: function() {
                return getProxy
            },
            Xj: function() {
                return getLoginDomain
            },
            Yi: function() {
                return getCreatorDomain
            },
            b5: function() {
                return getSource
            },
            f3: function() {
                return getLiveAssistantDomain
            },
            fh: function() {
                return getEdithDomain
            },
            hN: function() {
                return N
            }
        }),
        v(80156),
        v(50721),
        v(29112),
        v(67275),
        v(59989),
        v(7099),
        v(27461),
        v(23339),
        v(51109),
        v(34333),
        v(95477),
        v(58486),
        v(87989),
        v(109),
        v(54060),
        v(20266),
        v(55947);
        var getProxy = function() {
            return new URL(window.location.href).searchParams.get("proxy") || ""
        }
          , m = window.location.host.match(/\.sl\.sit\.xiaohongshu\.com$/)
          , h = window.location.host.match(/\.sit\.xiaohongshu\.com$/)
          , y = window.location.host.match(/\.sl\.beta\.xiaohongshu\.com$/)
          , N = window.location.host.match(/\.beta\.xiaohongshu\.com$/)
          , k = window.location.host.match(/creator\.xiaohongshu\.com$/)
          , getLoginDomain = function() {
            var n = "https://www.xiaohongshu.com";
            if (k)
                return n;
            var d = getProxy();
            return d ? n = "https://logan.devops.xiaohongshu.com/proxy/".concat(d) : ((h || m) && (n = "https://www.sit.xiaohongshu.com"),
            (N || y) && (n = "https://www.beta.xiaohongshu.com"),
            n)
        }
          , getEdithDomain = function() {
            var n = "https://edith.xiaohongshu.com";
            if (k)
                return n;
            var d = getProxy();
            return d ? n = "https://logan.devops.xiaohongshu.com/proxy/".concat(d) : ((h || m) && (n = "https://edith.sit.xiaohongshu.com"),
            (N || y) && (n = "https://edith.beta.xiaohongshu.com"),
            n)
        }
          , getLiveMallDomain = function() {
            var n = "https://live-mall.xiaohongshu.com";
            if (k)
                return n;
            var d = getProxy();
            return d ? n = "https://logan.devops.xiaohongshu.com/proxy/".concat(d) : ((h || m) && (n = "https://live-mall.sit.xiaohongshu.com"),
            (N || y) && (n = "https://live-mall.beta.xiaohongshu.com"),
            n)
        }
          , getLiveAssistantDomain = function() {
            var n = "https://live-assistant.xiaohongshu.com";
            if (k)
                return n;
            var d = getProxy();
            return d ? n = "https://logan.devops.xiaohongshu.com/proxy/".concat(d) : ((h || m) && (n = "https://live-assistant.sit.xiaohongshu.com"),
            (N || y) && (n = "https://live-assistant.beta.xiaohongshu.com"),
            n)
        }
          , getCreatorDomain = function() {
            var n = "https://creator.xiaohongshu.com";
            if (k)
                return n;
            var d = getProxy();
            return d ? n = "https://logan.devops.xiaohongshu.com/proxy/".concat(d) : ((h || m) && (n = "https://creator.sit.xiaohongshu.com"),
            (N || y) && (n = "https://creator.beta.xiaohongshu.com"),
            n)
        }
          , getSource = function() {
            return new URL(window.location.href).searchParams.get("source") || ""
        }
    },
    94126: function(n, d, v) {
        "use strict";
        v.d(d, {
            Bc: function() {
                return S
            },
            eJ: function() {
                return getDraft
            },
            eg: function() {
                return _
            },
            fX: function() {
                return V
            }
        });
        var m, h, y, N = v(41622), k = v(377);
        v(19077),
        v(75973),
        v(87989),
        v(7608),
        v(64961),
        v(12996),
        v(59564),
        v(97357),
        v(34333),
        v(28636);
        var I = v(88329)
          , C = v(32456)
          , x = v(63657)
          , M = v(93147)
          , getDraftArray = function(n) {
            var d = localStorage.getItem(n);
            if (!d)
                return [];
            var v = [];
            try {
                v = JSON.parse(d)
            } catch (n) {
                return []
            }
            return !Array.isArray(v) && (v = [v]),
            v
        };
        var S = (m = (0,
        N._)(function(n, d, v) {
            var m, h, y;
            return (0,
            k.Jh)(this, function(N) {
                switch (N.label) {
                case 0:
                    if (!d)
                        return [2, !1];
                    if (!(m = C.tO.idb.create("xhs-creator-draft", {
                        version: 1,
                        keys: "timeStamp, content, uid",
                        storeName: "".concat(n, "-").concat(d)
                    })).success)
                        return x.X.trackerDraftSavedFail({
                            extra: JSON.stringify({
                                reason: m,
                                storeName: "".concat(n, "-").concat(d)
                            })
                        }),
                        [2, !1];
                    return [4, C.tO.idb.clearStore("xhs-creator-draft", "".concat(n, "-").concat(d))];
                case 1:
                    if (!(h = N.sent()).success)
                        return x.X.trackerDraftSavedFail({
                            extra: JSON.stringify({
                                reason: h,
                                storeName: "".concat(n, "-").concat(d)
                            })
                        }),
                        [2, !1];
                    return [4, C.tO.idb.add("xhs-creator-draft", "".concat(n, "-").concat(d), {
                        content: JSON.stringify(v),
                        uid: d,
                        timeStamp: Date.now()
                    })];
                case 2:
                    if (!(y = N.sent()).success)
                        return x.X.trackerDraftSavedFail({
                            extra: JSON.stringify({
                                reason: y,
                                storeName: "".concat(n, "-").concat(d)
                            })
                        }),
                        [2, !1];
                    return [2, !0]
                }
            })
        }),
        function setDraftToIdb(n, d, v) {
            return m.apply(this, arguments)
        }
        )
          , getDraft = function(n, d) {
            if (!d)
                return null;
            var v = getDraftArray(n).find(function(n) {
                return String(n.uid) === String(d)
            });
            return (null == v ? void 0 : v.version) === M.Mt ? v : null
        };
        var _ = (h = (0,
        N._)(function(n, d) {
            var v, m, h;
            return (0,
            k.Jh)(this, function(y) {
                switch (y.label) {
                case 0:
                    if (!d || !C.tO.idb.create("xhs-creator-draft", {
                        version: 1,
                        keys: "timeStamp, content, uid",
                        storeName: "".concat(n, "-").concat(d)
                    }).success)
                        return [2, void 0];
                    return [4, C.tO.idb.getByIndex("xhs-creator-draft", "".concat(n, "-").concat(d), d, "uid")];
                case 1:
                    if ((v = y.sent())instanceof I.CustomSuccess && v.success && v.data.length > 0) {
                        m = v.data.sort(function(n, d) {
                            return d.timeStamp - n.timeStamp
                        })[0];
                        try {
                            return h = JSON.parse(m.content),
                            x.X.trackerReadDraftSuccess({
                                extra: JSON.stringify({
                                    storeName: "".concat(n, "-").concat(d)
                                })
                            }),
                            [2, {
                                content: h,
                                timeStamp: m.timeStamp
                            }]
                        } catch (v) {
                            return x.X.trackerReadDraftFail({
                                extra: JSON.stringify({
                                    reason: v,
                                    storeName: "".concat(n, "-").concat(d)
                                })
                            }),
                            [2, void 0]
                        }
                    }
                    return x.X.trackerReadDraftFail({
                        extra: JSON.stringify({
                            reason: v,
                            storeName: "".concat(n, "-").concat(d)
                        })
                    }),
                    [2, void 0]
                }
            })
        }),
        function getDraftFromIdb(n, d) {
            return h.apply(this, arguments)
        }
        );
        var V = (y = (0,
        N._)(function(n, d) {
            return (0,
            k.Jh)(this, function(v) {
                switch (v.label) {
                case 0:
                    if (!d || !C.tO.idb.create("xhs-creator-draft", {
                        version: 1,
                        keys: "timeStamp, content, uid",
                        storeName: "".concat(n, "-").concat(d)
                    }).success)
                        return [2];
                    return [4, C.tO.idb.clearStore("xhs-creator-draft", "".concat(n, "-").concat(d))];
                case 1:
                    return v.sent(),
                    [2]
                }
            })
        }),
        function deleteDraftFromIdb(n, d) {
            return y.apply(this, arguments)
        }
        )
    },
    83322: function(n, d, v) {
        "use strict";
        function base64ToFile(n) {
            var d, v = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "cover.jpeg", m = n.split(",");
            if (m.length) {
                for (var h = null === (d = m[0].match(/:(.*?);/)) || void 0 === d ? void 0 : d[1], y = atob(m[1]), N = y.length, k = new Uint8Array(N); N--; )
                    k[N] = y.charCodeAt(N);
                return new File([new Blob([k],{
                    type: h
                })],v)
            }
        }
        v.d(d, {
            D: function() {
                return getBlobUrl
            },
            L: function() {
                return base64ToFile
            }
        }),
        v(99808),
        v(58486),
        v(95477),
        v(13768),
        v(45697),
        v(91004),
        v(18638),
        v(96336),
        v(87168),
        v(14190),
        v(4137),
        v(70805),
        v(5317),
        v(81167),
        v(22583),
        v(89655),
        v(88598),
        v(11530),
        v(16765),
        v(3398),
        v(90621),
        v(35904),
        v(73982),
        v(87683),
        v(59735),
        v(69167),
        v(27151),
        v(95341),
        v(53395),
        v(10074),
        v(31899),
        v(98398),
        v(94837),
        v(53077),
        v(14340),
        v(31578),
        v(46521),
        v(49932),
        v(78246),
        v(34333),
        v(27461),
        v(62444),
        v(34076),
        v(12334),
        v(68802),
        v(76267),
        v(83257),
        v(90834),
        v(907),
        v(18552),
        v(80156),
        v(50721),
        v(29112),
        v(67275),
        v(59989),
        v(7099),
        v(23339),
        v(51109);
        var getBlobUrl = function(n) {
            var d, v, m = null;
            return void 0 !== window.URL ? m = window.URL.createObjectURL(n) : (null === (d = window) || void 0 === d ? void 0 : d.createObjectURL) !== void 0 ? m = null === (v = window) || void 0 === v ? void 0 : v.createObjectURL(n) : void 0 !== window.webkitURL && (m = window.webkitURL.createObjectURL(n)),
            m
        }
    },
    59408: function(n, d, v) {
        "use strict";
        v.d(d, {
            Wm: function() {
                return isValidImg
            },
            Wv: function() {
                return isVideo
            },
            ev: function() {
                return isImg
            },
            f7: function() {
                return loadImgFile
            },
            sY: function() {
                return M
            }
        });
        var m, h = v(41622), y = v(377);
        v(36277),
        v(34333),
        v(9557),
        v(55947),
        v(86651),
        v(76267),
        v(83257),
        v(90834),
        v(907),
        v(18552),
        v(18638),
        v(96336),
        v(87168),
        v(14190),
        v(4137),
        v(70805),
        v(5317),
        v(81167),
        v(22583),
        v(89655),
        v(88598),
        v(11530),
        v(16765),
        v(3398),
        v(90621),
        v(35904),
        v(73982),
        v(87683),
        v(59735),
        v(69167),
        v(27151),
        v(95341),
        v(53395),
        v(10074),
        v(31899),
        v(98398),
        v(94837),
        v(53077),
        v(14340),
        v(31578),
        v(46521),
        v(49932),
        v(78246),
        v(27461),
        v(62444),
        v(34076),
        v(12334),
        v(68802),
        v(7155),
        v(88877),
        v(43648),
        v(7136),
        v(34885),
        v(42876),
        v(33933),
        v(87989);
        var N = v(29216)
          , k = v(93147)
          , I = v(26540)
          , C = v(82345)
          , x = v(2902)
          , handleFileType = function(n) {
            for (var d = Number(n.getUint32(0, !1)).toString(16).toUpperCase(), v = 0; v < 4; )
                n.getUint8(v),
                v += 1;
            switch (d) {
            case "FFD8FFE0":
            case "FFD8FFE1":
            case "FFD8FFE2":
            case "FFD8FFE3":
                return "image/jpeg";
            case "89504E47":
                return "image/png";
            case "47494638":
                return "image/gif";
            case "52494646":
                return "image/avi";
            default:
                return "undefined"
            }
        }
          , readMimeType = function(n) {
            return new Promise(function(d, v) {
                var m, N = new FileReader;
                N.onload = (m = (0,
                h._)(function(n) {
                    var v, m, h, N, k, I, C, x;
                    return (0,
                    y.Jh)(this, function(y) {
                        switch (y.label) {
                        case 0:
                            if (y.trys.push([0, 2, , 3]),
                            !(h = null === (m = n.target) || void 0 === m ? void 0 : m.result))
                                return [2];
                            return N = new DataView(h),
                            new Uint8Array(h).subarray(0, 4),
                            new Uint16Array(h).subarray(0, 2),
                            new Uint32Array(h).subarray(0, 1),
                            [4, handleFileType(N)];
                        case 1:
                            return v = y.sent(),
                            [3, 3];
                        case 2:
                            return y.sent(),
                            v = "undefined",
                            [3, 3];
                        case 3:
                            return d(v),
                            [2]
                        }
                    })
                }),
                function(n) {
                    return m.apply(this, arguments)
                }
                ),
                N.readAsArrayBuffer(n.slice(0, 16))
            }
            )
        };
        function isValidImage(n) {
            var d = n.name
              , v = d.substring(d.length, d.lastIndexOf("."));
            return -1 !== k.RK.indexOf(v.toLowerCase())
        }
        function isImg(n) {
            if (!n)
                return !1;
            var d = n.type;
            return d ? -1 !== d.indexOf("image/") : isValidImage(n)
        }
        function isValidVideo(n) {
            var d = n.name
              , v = d.substring(d.length, d.lastIndexOf("."))
              , m = n.size
              , h = -1 !== k.Py.indexOf(v.toLowerCase())
              , y = m < k.dg;
            return h && y
        }
        function isVideo(n) {
            if (!n)
                return !1;
            var d = n.type;
            return d ? -1 !== d.indexOf("video/") : isValidVideo(n)
        }
        var M = (m = (0,
        h._)(function(n) {
            var d;
            return (0,
            y.Jh)(this, function(v) {
                switch (v.label) {
                case 0:
                    return [4, readMimeType(n).catch(function(n) {
                        console.error("[seven] e info:", n)
                    })];
                case 1:
                    if (console.log("[seven] mimeType info:", d = v.sent()),
                    d === k.s1)
                        return [2, !0];
                    return [2, !1]
                }
            })
        }),
        function isGif(n) {
            return m.apply(this, arguments)
        }
        );
        function isValidImg(n) {
            return _isValidImg.apply(this, arguments)
        }
        function _isValidImg() {
            return (_isValidImg = (0,
            h._)(function(n) {
                var d, v, m, h, M, S, _, V;
                return (0,
                y.Jh)(this, function(y) {
                    switch (y.label) {
                    case 0:
                        d = 0x1400000,
                        m = (v = n.name).substring(v.length, v.lastIndexOf(".")),
                        y.label = 1;
                    case 1:
                        return y.trys.push([1, 3, , 4]),
                        [4, readMimeType(n)];
                    case 2:
                        return h = y.sent(),
                        [3, 4];
                    case 3:
                        return y.sent(),
                        h = "undefined",
                        [3, 4];
                    case 4:
                        var M;
                        if (S = -1 !== k.RK.indexOf(m.toLowerCase()) && -1 !== k.jF.indexOf(h),
                        _ = n.size <= d,
                        n.validateFormat = S,
                        n.validateSize = _,
                        n.mimeType = h,
                        (0,
                        I.O)({
                            event: "img-validate",
                            format: h,
                            result: S.toString()
                        }),
                        !h.includes("gif"))
                            return [3, 6];
                        return [4, (M = n,
                        fetch((0,
                        C.Uu)(M)).then(function(n) {
                            return n.arrayBuffer()
                        }).then(function(n) {
                            var d = (0,
                            N.parseGIF)(n)
                              , v = (0,
                            N.decompressFrames)(d, !0)
                              , m = d.lsd
                              , h = m.width
                              , y = m.height;
                            return (null == v ? void 0 : v.length) * h * y < 1e8
                        }))];
                    case 5:
                        if (!y.sent())
                            return x.A.error("gif图片过大，暂不支持"),
                            (0,
                            I.O)({
                                event: "image-validate-res",
                                result: "gif-size-blocked"
                            }),
                            [2, !1];
                        y.label = 6;
                    case 6:
                        return V = "pass",
                        S ? !_ && (V = "size-blocked") : V = "format-blocked",
                        (0,
                        I.O)({
                            event: "image-validate-res",
                            result: V,
                            message: "format: ".concat(m, ", mimeType: ").concat(h, ", size: ").concat(n.size)
                        }),
                        [2, S && _]
                    }
                })
            })).apply(this, arguments)
        }
        var loadImgFile = function(n) {
            return new Promise(function(d) {
                var v = new Image;
                v.setAttribute("crossOrigin", "Anonymous"),
                v.src = n,
                v.onload = function() {
                    var n = v.width
                      , m = v.height
                      , h = document.createElement("canvas");
                    h.width = n,
                    h.height = m;
                    var y = h.getContext("2d");
                    if (!!y)
                        y.drawImage(this, 0, 0, n, m),
                        h.toBlob(function(n) {
                            n && d((0,
                            C.hl)(n, "any"))
                        })
                }
            }
            )
        }
    },
    6515: function(n, d, v) {
        "use strict";
        v.d(d, {
            E: function() {
                return getErrorDesc
            }
        }),
        v(87989);
        var m = v(48159)
          , getErrorDesc = function(n, d, v) {
            return "img-note-publish:".concat(n, "_").concat(d, "_").concat((0,
            m.DZ)(String(new Date)), "_").concat((Date.now() - (v || 0)) / 1e3)
        }
    },
    43246: function(n, d, v) {
        "use strict";
        v.d(d, {
            b: function() {
                return getSource
            },
            p: function() {
                return getQuery
            }
        }),
        v(80156),
        v(50721),
        v(29112),
        v(67275),
        v(59989),
        v(7099),
        v(27461),
        v(23339),
        v(51109),
        v(34333);
        var getQuery = function(n) {
            return new URL(window.location.href).searchParams.get(n)
        }
          , getSource = function() {
            return new URL(window.location.href).searchParams.get("source")
        }
    },
    48159: function(n, d, v) {
        "use strict";
        function getSeconds(n) {
            var d = parseInt("".concat(n), 10)
              , v = 0;
            d > 60 && (v = parseInt("".concat(d / 60), 10),
            d = parseInt("".concat(d % 60), 10));
            var m = "";
            return m = d >= 0 && d < 10 ? "0".concat(parseInt("".concat(d), 10)) : "".concat(parseInt("".concat(d), 10)),
            m = v >= 0 && v < 10 ? "0".concat(parseInt("".concat(v), 10), ":").concat(m) : "".concat(parseInt("".concat(v), 10), ":").concat(m)
        }
        v.d(d, {
            CX: function() {
                return getSeconds
            },
            DZ: function() {
                return formatDatetime
            },
            pf: function() {
                return secondToDate
            }
        }),
        v(87989),
        v(34333),
        v(55947),
        v(57015),
        v(72169),
        v(58486);
        var formatDatetime = function(n) {
            var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "yyyy年MM月dd日 HH:mm"
              , v = "string" == typeof n ? new Date(n) : n
              , m = v.getFullYear()
              , h = v.getMonth() + 1
              , y = v.getDate()
              , N = v.getHours()
              , k = N % 12 == 0 ? 12 : N % 12
              , I = v.getMinutes()
              , C = v.getSeconds()
              , x = v.getMilliseconds()
              , M = {
                yyyy: m,
                MM: h.toString().padStart(2, "0"),
                M: h,
                dd: y.toString().padStart(2, "0"),
                d: y,
                HH: N.toString().padStart(2, "0"),
                H: N,
                hh: k.toString().padStart(2, "0"),
                h: k,
                mm: I.toString().padStart(2, "0"),
                m: I,
                ss: C.toString().padStart(2, "0"),
                s: C,
                S: x
            };
            return d.replace(/y+|M+|d+|H+|h+|m+|s+|S+/g, function(n) {
                return M[n].toString()
            })
        }
          , secondToDate = function(n) {
            var d = 10 > Math.floor(n / 60 % 60) ? "0".concat(Math.floor(n / 60 % 60)) : Math.floor(n / 60 % 60)
              , v = 10 > Math.floor(n % 60) ? "0".concat(Math.floor(n % 60)) : Math.floor(n % 60);
            return "".concat(d, ":").concat(v)
        }
    },
    68724: function(n, d, v) {
        "use strict";
        v.d(d, {
            Z: function() {
                return useLifecycle
            }
        });
        var m = (0,
        v(98391).Z)();
        function useLifecycle() {
            return {
                publishUnmount: function(n) {
                    return m.emit("unmount", n)
                },
                workflowCancel: function(n) {
                    return m.emit("cancel", n)
                },
                onPublishUnmount: function(n) {
                    return m.on("unmount", n)
                },
                onWorkflowCanceled: function(n) {
                    return m.on("cancel", n)
                }
            }
        }
    },
    17632: function(n, d, v) {
        "use strict";
        v.d(d, {
            _: function() {
                return I
            }
        });
        var m = v(46490)
          , h = v(90251)
          , y = v(51606)
          , N = v(66993);
        v(87989);
        var k = v(43246)
          , I = new (function() {
            function XLog() {
                (0,
                m._)(this, XLog),
                (0,
                y._)(this, "show", void 0),
                this.show = !!(0,
                k.p)("__debugger__")
            }
            return (0,
            h._)(XLog, [{
                key: "info",
                value: function info() {
                    for (var n, d = arguments.length, v = Array(d), m = 0; m < d; m++)
                        v[m] = arguments[m];
                    this.show && (n = console).log.apply(n, ["[XLog Info]: "].concat((0,
                    N._)(v)))
                }
            }, {
                key: "warn",
                value: function warn() {
                    for (var n, d = arguments.length, v = Array(d), m = 0; m < d; m++)
                        v[m] = arguments[m];
                    this.show && (n = console).warn.apply(n, ["[XLog Warn]: "].concat((0,
                    N._)(v)))
                }
            }, {
                key: "error",
                value: function error() {
                    for (var n, d = arguments.length, v = Array(d), m = 0; m < d; m++)
                        v[m] = arguments[m];
                    this.show && (n = console).error.apply(n, ["[XLog Error]: "].concat((0,
                    N._)(v)))
                }
            }]),
            XLog
        }())
    },
    22376: function(n, d, v) {
        "use strict";
        v.d(d, {
            WQ: function() {
                return getNoteInfo
            },
            hk: function() {
                return getRecommendCover
            },
            uH: function() {
                return getBusinessBind
            }
        });
        var m = v(41622)
          , h = v(377)
          , y = v(88600)
          , N = v(51358);
        function getNoteInfo(n) {
            return _getNoteInfo.apply(this, arguments)
        }
        function _getNoteInfo() {
            return (_getNoteInfo = (0,
            m._)(function(n) {
                var d, v;
                return (0,
                h.Jh)(this, function(m) {
                    return d = n.note_id,
                    v = n.source,
                    [2, y.dJ.get(N.y.NOTE_INFO, {
                        params: {
                            note_id: d,
                            source: v,
                            edit_mode: 1
                        }
                    })]
                })
            })).apply(this, arguments)
        }
        function getBusinessBind(n) {
            return _getBusinessBind.apply(this, arguments)
        }
        function _getBusinessBind() {
            return (_getBusinessBind = (0,
            m._)(function(n) {
                var d;
                return (0,
                h.Jh)(this, function(v) {
                    return d = n.note_id,
                    [2, y.dJ.get(N.y.BUSINESS_BIND, {
                        params: {
                            note_id: d
                        }
                    })]
                })
            })).apply(this, arguments)
        }
        function getRecommendCover(n) {
            return _getRecommendCover.apply(this, arguments)
        }
        function _getRecommendCover() {
            return (_getRecommendCover = (0,
            m._)(function(n) {
                return (0,
                h.Jh)(this, function(d) {
                    return [2, y.dJ.post(N.y.RECOMMEND_COVER, n)]
                })
            })).apply(this, arguments)
        }
    },
    5303: function(n, d, v) {
        "use strict";
        v.d(d, {
            hS: function() {
                return _
            },
            MW: function() {
                return B
            },
            hI: function() {
                return getGroupList
            },
            cy: function() {
                return getVideoUrl
            },
            Jn: function() {
                return getImageUrl
            },
            nN: function() {
                return getCategoryInfo
            },
            vn: function() {
                return getPoiList
            },
            LP: function() {
                return getToken
            }
        });
        var m, h = v(41622), y = v(70879), N = v(27337), k = v(377);
        v(87989),
        v(41593);
        var I = v(88600)
          , C = v(51358)
          , x = v(56007)
          , M = v.n(x);
        function dec2hex(n, d) {
            for (var v = "", m = n; m; ) {
                var h = 15 & m;
                v = String.fromCharCode((h > 9 ? 55 : 48) + h) + v,
                m >>= 4
            }
            if (d)
                for (; v.length < d; )
                    v = "0".concat(v);
            return v.toLowerCase()
        }
        function urlSing(n) {
            return M()("hIJXulBFYcGRQjrz".concat(n).concat(dec2hex(Date.now() / 1e3)))
        }
        var S = v(11010);
        function getImageUrl(n) {
            return _getImageUrl.apply(this, arguments)
        }
        function _getImageUrl() {
            return (_getImageUrl = (0,
            h._)(function(n) {
                return (0,
                k.Jh)(this, function(d) {
                    switch (d.label) {
                    case 0:
                        return [4, I.dJ.get(C.y.GET_SIGN_URL_NEW, {
                            params: {
                                fileId: "/".concat(n),
                                type: "image",
                                ts: Date.now(),
                                sign: urlSing("/".concat(n))
                            },
                            transform: !0
                        })];
                    case 1:
                        return [2, d.sent().fileStr]
                    }
                })
            })).apply(this, arguments)
        }
        function getVideoUrl(n) {
            return _getVideoUrl.apply(this, arguments)
        }
        function _getVideoUrl() {
            return (_getVideoUrl = (0,
            h._)(function(n) {
                return (0,
                k.Jh)(this, function(d) {
                    switch (d.label) {
                    case 0:
                        return [4, I.dJ.get(C.y.GET_SIGN_URL_NEW, {
                            params: {
                                fileId: "/".concat(n),
                                type: "video",
                                ts: Date.now(),
                                sign: urlSing("/".concat(n))
                            },
                            transform: !0
                        })];
                    case 1:
                        return [2, d.sent().fileStr]
                    }
                })
            })).apply(this, arguments)
        }
        var _ = {
            INVALID_TOKEN: "invalid token",
            GET_TOKEN_HTTP_FAIL: "getToken http failed"
        }
          , V = "HTTPClientError";
        function getToken(n) {
            var d, v = (0,
            S.Z)(), m = C.y.UPLOADER_TOKEN_NEWV2;
            return I.dJ.get(m, {
                params: (0,
                N._)((0,
                y._)({}, n), {
                    version: 1,
                    source: "web"
                })
            }, {
                transform: !0,
                timeout: 3e4,
                withCredentials: !0
            }).catch((d = (0,
            h._)(function(n) {
                return (0,
                k.Jh)(this, function(d) {
                    if (console.error(n),
                    console.dir(n),
                    console.log("[seven] err info:", n, n.name, n.code),
                    n.name !== V)
                        throw null == v || v.tokenInvalidHandler(),
                        Error(_.INVALID_TOKEN);
                    throw Error(_.GET_TOKEN_HTTP_FAIL)
                })
            }),
            function(n) {
                return d.apply(this, arguments)
            }
            ))
        }
        function getCategoryInfo(n) {
            return I.dJ.post(C.y.SIGN_CATEGORY_INFO, n, {
                transform: !0
            })
        }
        var B = ((m = {})[m.Nearby = 1] = "Nearby",
        m[m.Home = 2] = "Home",
        m[m.Foreign = 3] = "Foreign",
        m);
        function getPoiList(n) {
            return I.dJ.post(C.y.GET_POI_LIST, n, {
                transform: !0,
                withCredentials: !0
            })
        }
        function getGroupList(n) {
            return I.dJ.get(C.y.GET_GROUP_LIST, {
                params: {
                    noteId: n
                },
                transform: !0
            })
        }
    },
    54346: function(n, d, v) {
        "use strict";
        v.d(d, {
            Nn: function() {
                return checkOrderStatus
            },
            Os: function() {
                return getSketchList
            },
            _j: function() {
                return fetchPermissionUserInfo
            },
            eu: function() {
                return getNoteHeat
            },
            q2: function() {
                return getFriendAndFansList
            },
            qz: function() {
                return searchUser
            },
            ub: function() {
                return getNoteOrders
            }
        });
        var m = v(88600)
          , h = v(51358)
          , y = m.dJ.get
          , N = m.dJ.post;
        function getNoteOrders(n) {
            return y(h.y.GET_NOTE_ORDERS, {
                params: n
            })
        }
        function checkOrderStatus(n) {
            return y(h.y.CHECK_ORDER_STATUS, {
                resourceParams: {
                    orderId: n
                }
            })
        }
        function getFriendAndFansList(n) {
            return y(h.y.GET_FRIENDS_AND_FANS_LIST, {
                params: {
                    cursor: n,
                    size: 20
                },
                transform: !0
            })
        }
        function searchUser(n) {
            return y(h.y.SEARCH_USER, {
                params: n,
                transform: !0
            })
        }
        function getSketchList(n) {
            return y(h.y.GET_SKETCH_LIST, {
                params: {
                    cursor: n,
                    type: 1,
                    mode: "detail"
                },
                transform: !0
            })
        }
        function fetchPermissionUserInfo(n) {
            return N(h.y.USER_INFO_LIST, {
                userIds: n
            }, {
                transform: !0
            })
        }
        function getNoteHeat(n) {
            return N(h.y.VALIDATE, {
                noteId: n,
                functionType: "privacy_web"
            }, {
                transform: !0
            })
        }
    },
    19811: function(n, d, v) {
        "use strict";
        v.d(d, {
            HG: function() {
                return getPersonalInfo
            },
            bG: function() {
                return getUserInfo
            }
        }),
        v(36277),
        v(34333),
        v(41593);
        var m = v(88600)
          , h = v(51358);
        function getUserInfo() {
            return m.dJ.get(h.y.USER_INFO)
        }
        function getPersonalInfo() {
            return m.dJ.get(h.y.PERSONAL_INFO, {
                transform: !0
            })
        }
    },
    25986: function(n, d, v) {
        "use strict";
        var m = v(41622)
          , h = v(377);
        v(15066),
        v(9557);
        var y = v(98542)
          , N = v(88771)
          , k = v(14965)
          , I = (0,
        y.Q_)("abTest", function() {
            var n, d = (0,
            N.ref)({});
            var v = (n = (0,
            m._)(function() {
                return (0,
                h.Jh)(this, function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, (0,
                        k.Ni)()];
                    case 1:
                        return d.value = n.sent(),
                        [2]
                    }
                })
            }),
            function fetchABTestResult() {
                return n.apply(this, arguments)
            }
            )
              , y = (0,
            N.computed)(function() {
                var n, v;
                return (null === (v = d.value) || void 0 === v ? void 0 : null === (n = v.flags) || void 0 === n ? void 0 : n.userExp) || {}
            })
              , I = (0,
            N.computed)(function() {
                var n, v;
                return (null === (v = d.value) || void 0 === v ? void 0 : null === (n = v.flags) || void 0 === n ? void 0 : n.webExp) || {}
            })
              , C = (0,
            N.ref)(!1)
              , x = (0,
            N.computed)(function() {
                return 1 === Number(y.value.mega_long_video_support)
            })
              , M = (0,
            N.computed)(function() {
                return 1 === Number(y.value.skip_transcoding_for265)
            })
              , S = (0,
            N.computed)(function() {
                return Number(y.value.cover_template)
            });
            return {
                fetchABTestResult: v,
                shouldTranscodeBlock: (0,
                N.ref)(!1),
                serverTranscodeProgress: (0,
                N.ref)(!0),
                userExp: y,
                webExp: I,
                useLocalDecode: (0,
                N.computed)(function() {
                    return !C.value
                }),
                setBackup: function() {
                    C.value = !0
                },
                isMegaLongVideoSupport: x,
                skipTranscoding: M,
                useCoverTemplate: S
            }
        });
        d.Z = I
    },
    71799: function(n, d, v) {
        "use strict";
        v.d(d, {
            Z: function() {
                return eN
            }
        });
        var m = v(41622)
          , h = v(70879)
          , y = v(27337)
          , N = v(377);
        v(7136),
        v(34885),
        v(87989),
        v(7608),
        v(80156),
        v(50721),
        v(29112),
        v(67275),
        v(59989),
        v(7099),
        v(27461),
        v(23339),
        v(51109),
        v(34333),
        v(86651),
        v(9557),
        v(87394),
        v(94941),
        v(48421),
        v(97357),
        v(36277),
        v(85945);
        var k = v(98542)
          , I = v(41977)
          , C = v(97390)
          , x = v(1461)
          , M = v(7712)
          , S = v(82916)
          , _ = v(88771)
          , V = v(84641)
          , B = v(11303)
          , O = v(38794)
          , R = v(80022)
          , U = v.n(R)
          , z = v(78778)
          , Z = v(81657)
          , Q = v(91583)
          , J = v(5303)
          , H = v(11010)
          , G = v(32456)
          , Y = v(46490)
          , W = v(90251)
          , q = v(51606);
        v(55947);
        var X = v(25618)
          , K = v(88600)
          , $ = v(35763)
          , ee = v(43246)
          , et = {
            loadStart: 0,
            loadEnd: 0,
            analysisStart: 0,
            analysisEnd: 0,
            uploadStart: 0,
            uploadEnd: 0,
            transcodeStart: 0,
            transcodeEnd: 0,
            coverStart: 0,
            coverEnd: 0,
            coverOrigin: "",
            imgTreatStart: 0,
            imgTreatEnd: 0,
            publishStart: 0,
            publishEnd: 0,
            firstInteract: 0,
            earliestEnablePublish: 0,
            version: "",
            type: ""
        }
          , en = function() {
            function CoreTimingTracker() {
                (0,
                Y._)(this, CoreTimingTracker),
                (0,
                q._)(this, "metrics", (0,
                h._)({}, et)),
                (0,
                q._)(this, "startFlag", !1),
                (0,
                q._)(this, "isDraft", !1)
            }
            return (0,
            W._)(CoreTimingTracker, [{
                key: "setOnce",
                value: function setOnce(n, d) {
                    !this.metrics[n] && (this.metrics[n] = d || Date.now(),
                    this.startFlag = !0)
                }
            }, {
                key: "setStart",
                value: function setStart(n) {
                    !this.metrics[n] && (this.metrics[n] = Date.now(),
                    this.startFlag = !0)
                }
            }, {
                key: "setEnd",
                value: function setEnd(n) {
                    this.metrics[n] = Date.now()
                }
            }, {
                key: "set",
                value: function set(n, d) {
                    this.metrics[n] = d
                }
            }, {
                key: "setIsDraft",
                value: function setIsDraft(n) {
                    this.isDraft = n
                }
            }, {
                key: "send",
                value: function send() {
                    var n = CoreTimingTracker.getLogger();
                    n && n.push({
                        measurement_name: "sns_web_publish_timing",
                        measurement_data: this.metrics
                    }, "ApmXrayTracker")
                }
            }, {
                key: "reset",
                value: function reset() {
                    this.metrics = (0,
                    h._)({}, et),
                    this.startFlag = !1,
                    this.isDraft = !1
                }
            }], [{
                key: "getLogger",
                value: function getLogger() {
                    var n;
                    return (null === (n = window.eaglet) || void 0 === n ? void 0 : n.sendApm) && window.eaglet || v.g.eaglet
                }
            }]),
            CoreTimingTracker
        }()
          , ea = (0,
        $.q)()
          , eo = new en
          , trackerBeforeSelected = function(n) {
            var d, v, m, h, y, N = null === (d = n.name) || void 0 === d ? void 0 : d.substring(n.name.length, n.name.lastIndexOf(".") + 1);
            null === (h = window) || void 0 === h || null === (m = h.eaglet) || void 0 === m || m.push(X.tracker["9566"]({
                route: ea || "-999",
                fileFormat: null != N ? N : "unknown",
                fileSize: null !== (y = null === (v = n.size) || void 0 === v ? void 0 : v.toString()) && void 0 !== y ? y : "unknown"
            })),
            eo.setStart("firstInteract"),
            eo.set("type", "video")
        }
          , trackerBeforeMediaInfo = function() {
            eo.setStart("analysisStart")
        }
          , trackerAfterMediaInfo = function() {
            eo.setEnd("analysisEnd")
        }
          , trackerBeforeUpload = function(n) {
            var d, v, m, h, y = (0,
            ee.p)("from");
            null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(X.tracker["7737"]({
                noteType: "video_note",
                noteEditSource: "NOTE_EDIT_SOURCE_VIDEO_UPLOAD",
                subChannelType: y
            })),
            null === (h = window) || void 0 === h || null === (m = h.eaglet) || void 0 === m || m.push(X.tracker["63124"]({
                noteEditSource: n.value ? 2 : 1,
                noteId: n.value
            })),
            eo.setStart("uploadStart"),
            eo.setStart("coverStart"),
            K.kg.info("上传开始", {}, Q.b5.VideoUpload)
        }
          , trackerAfterUpload = function(n, d, v, m) {
            K.kg.info("上传成功", {
                video: JSON.stringify(n.value)
            }, Q.b5.VideoUpload),
            eo.setEnd("uploadEnd");
            var h, y, N, k, I = {}, C = (0,
            ee.p)("from");
            I.size = d,
            I.Duration = v,
            null === (y = window) || void 0 === y || null === (h = y.eaglet) || void 0 === h || h.push(X.tracker["7738"]({
                noteType: "video_note",
                noteEditSource: "NOTE_EDIT_SOURCE_VIDEO_UPLOAD",
                loadingDesc: JSON.stringify(I),
                subChannelType: C
            })),
            null === (k = window) || void 0 === k || null === (N = k.eaglet) || void 0 === N || N.push(X.tracker["63125"]({
                noteEditSource: m ? 2 : 1,
                noteId: m,
                status: "success",
                timeDurationMs: String(v)
            }))
        }
          , trackerFailedUpload = function(n, d, v) {
            var m, h, y, N;
            null === (h = window) || void 0 === h || null === (m = h.eaglet) || void 0 === m || m.push(X.tracker["7739"]({
                noteType: "video_note",
                noteEditSource: "NOTE_EDIT_SOURCE_VIDEO_UPLOAD",
                errorCode: "".concat(null == n ? void 0 : n.code),
                errorDesc: (null == n ? void 0 : n.message) || (null == n ? void 0 : n.msg)
            })),
            null === (N = window) || void 0 === N || null === (y = N.eaglet) || void 0 === y || y.push(X.tracker["63125"]({
                noteEditSource: d ? 2 : 1,
                noteId: d,
                status: "fail",
                timeDurationMs: String(v)
            })),
            K.kg.error("上传失败", {
                err: n
            }, Q.b5.VideoUpload)
        }
          , trackerAfterCoverEnd = function(n, d) {
            K.kg.info("首帧ready", {
                res: n,
                videoId: d
            }, Q.b5.VideoTranscode),
            eo.setOnce("coverEnd"),
            eo.setOnce("coverOrigin", "workflow")
        }
          , er = v(25986)
          , ei = v(2902)
          , el = v(44121)
          , ec = v(83322)
          , eu = v(16914)
          , es = v(43858)
          , ed = v(93147)
          , ev = v(17632)
          , em = v(67227)
          , ef = v(37267)
          , ep = new (function() {
            function TranscodeTracker() {
                (0,
                Y._)(this, TranscodeTracker),
                (0,
                q._)(this, "name", "transcode-tracker")
            }
            return (0,
            W._)(TranscodeTracker, [{
                key: "flush",
                value: function flush(n) {
                    var d, v, m;
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || null === (d = v.push) || void 0 === d || d.call(v, {
                        measurement_name: "sns_web_publish_transcode",
                        measurement_data: n
                    }, "ApmXrayTracker")
                }
            }, {
                key: "trackerQueryTranscodeBefore",
                value: function trackerQueryTranscodeBefore(n) {
                    this.flush((0,
                    h._)({
                        event: "queryTranscodeBefore"
                    }, n))
                }
            }, {
                key: "trackerQueryTranscodeFailed",
                value: function trackerQueryTranscodeFailed(n) {
                    this.flush((0,
                    h._)({
                        event: "queryTranscode",
                        result: "failed"
                    }, n))
                }
            }, {
                key: "trackerQueryTranscodeVideoSuccess",
                value: function trackerQueryTranscodeVideoSuccess(n) {
                    this.flush((0,
                    h._)({
                        event: "queryTranscodeVideo",
                        result: "success"
                    }, n))
                }
            }, {
                key: "trackerQueryFirstFrameSuccess",
                value: function trackerQueryFirstFrameSuccess(n) {
                    this.flush((0,
                    h._)({
                        event: "queryFirstFrame",
                        result: "success"
                    }, n))
                }
            }, {
                key: "trackerQueryProgressBefore",
                value: function trackerQueryProgressBefore(n) {
                    this.flush((0,
                    h._)({
                        event: "queryProgressBefore"
                    }, n))
                }
            }, {
                key: "trackerQueryProgressSuccess",
                value: function trackerQueryProgressSuccess(n) {
                    this.flush((0,
                    h._)({
                        event: "queryProgress",
                        result: "success"
                    }, n))
                }
            }, {
                key: "trackerQueryProgressFailed",
                value: function trackerQueryProgressFailed(n) {
                    this.flush((0,
                    h._)({
                        event: "queryProgress",
                        result: "failed"
                    }, n))
                }
            }]),
            TranscodeTracker
        }())
          , eg = v(65128)
          , eh = v(38310)
          , ey = (0,
        es.Z)().uploadFiles
          , eN = (0,
        k.Q_)("action", function() {
            var n, d, v, R, Y, W, q, X, K, $, ee, isValidImage = function isValidImage(n) {
                var d = n.name
                  , v = d.substring(d.length, d.lastIndexOf("."));
                return -1 !== ed.RK.indexOf(v.toLowerCase())
            }, isValidVideo = function isValidVideo(n) {
                var d = n.name
                  , v = d.substring(d.length, d.lastIndexOf("."))
                  , m = n.size
                  , h = -1 !== ed.Py.indexOf(v.toLowerCase())
                  , y = m < ed.dg;
                return h && y
            }, isVideo = function isVideo(n) {
                if (!n)
                    return !1;
                var d = n.type;
                return d ? -1 !== d.indexOf("video/") : isValidVideo(n)
            }, isImg = function isImg(n) {
                if (!n)
                    return !1;
                var d = n.type;
                return d ? -1 !== d.indexOf("image/") : isValidImage(n)
            }, et = (0,
            z.ZP)(), en = (0,
            k.Jk)((0,
            Z.Z)()), ea = en.recommendCoversStatus, eo = en.recommendCovers, es = (0,
            eh.Z)(), eN = (0,
            k.Jk)(et), ek = eN.video, eI = eN.videoMeta, eC = eN.audioMeta, eb = eN.audioInfo, eE = eN.videoInfo, eA = eN.videoFile, ew = eN.videoBlobUrl, ex = eN.videoRotation, eT = eN.cover, eM = eN.videoUrl, eS = eN.transcodeVideoUrl, e_ = eN.coverUrl, eV = eN.imgList, eD = eN.coverImgList, eB = eN.coverEdited, eL = eN.markers, eP = eN.chapters, eO = eN.needTranscode, eR = (0,
            k.Jk)(es).canPlayVideoInBrowser, eU = (0,
            er.Z)(), ej = (0,
            k.Jk)(eU), eF = ej.isMegaLongVideoSupport, ez = ej.skipTranscoding, eZ = (0,
            k.Jk)((0,
            H.Z)()), eQ = eZ.transcodePercent, eJ = eZ.isUploadingCover, eH = (0,
            H.Z)(), eG = (0,
            k.Jk)(eH), eY = eG.status, eW = eG.uploadStartTime, eq = eG.isFromDraft, eX = eG.step, eK = eG.uploadPercent, e$ = eG.firstFrameReady, e0 = eG.transcodeStartTime, e1 = eG.failReason, e2 = eG.noteId, e4 = eG.finishedFirstTranscode, e3 = eG.isCanUseFfmpeg, e5 = eG.coverUploading, e8 = new I.x, e6 = new I.x, e9 = new I.x, e7 = new I.x, te = (0,
            _.ref)(3e3), tt = (0,
            _.ref)(0), tn = (0,
            _.ref)(0);
            (0,
            _.ref)(0);
            var ta = (0,
            _.computed)(function() {
                var n, d;
                return {
                    videoId: ek.value.videoId,
                    duration: ek.value.duration,
                    format: "video: ".concat(null === (n = eE.value) || void 0 === n ? void 0 : n.Format, ", audio: ").concat(null === (d = eb.value) || void 0 === d ? void 0 : d.Format),
                    size: ek.value.fsize
                }
            })
              , to = ""
              , tr = null
              , ti = (0,
            _.computed)(function() {
                var n;
                return (null === (n = eE.value) || void 0 === n ? void 0 : n.colour_primaries) === "BT.2020"
            })
              , tl = (0,
            _.computed)(function() {
                var n;
                return +(null === (n = eE.value) || void 0 === n ? void 0 : n.BitRate) > 2e7
            })
              , tc = G.G8.uploader.createUploader("video-uploader", {
                scene: "preview_video",
                bizName: "spectrum",
                getToken: J.LP,
                enableResume: !0
            });
            tc.onProgress(function(n) {
                eK.value = Math.max(100 * n.percent.toFixed(2), eK.value)
            }),
            tc.onTaskReady(function(n) {
                to = n
            }),
            tc.onInstanceCreated(function(n) {
                tr = n
            });
            var tu = G.G8.uploader.createUploader("not-transcode-video-uploader", {
                scene: "video",
                bizName: "spectrum",
                getToken: J.LP,
                enableResume: !0
            });
            tu.onProgress(function(n) {
                eK.value = Math.max(100 * n.percent.toFixed(2), eK.value)
            }),
            tu.onTaskReady(function(n) {
                to = n
            }),
            tu.onInstanceCreated(function(n) {
                tr = n
            });
            var ts = G.G8.uploader.createUploader("image-uploader", {
                scene: "image",
                bizName: "spectrum",
                getToken: J.LP,
                enableResume: !0
            });
            ts.onTaskReady(function(n) {
                ee = n
            }),
            ts.onInstanceCreated(function(n) {
                $ = n
            });
            var handleBootstrapVideoMeta = function() {
                if (!!eE.value)
                    eI.value = JSON.stringify({
                        bitrate: +eE.value.BitRate,
                        colour_primaries: eE.value.colour_primaries,
                        duration: 1e3 * eE.value.Duration,
                        format: eE.value.Format,
                        frame_rate: +eE.value.FrameRate,
                        height: +eE.value.Height,
                        matrix_coefficients: eE.value.matrix_coefficients,
                        rotation: +eE.value.Rotation,
                        transfer_characteristics: eE.value.transfer_characteristics,
                        width: +eE.value.Width
                    }),
                    ev._.info("视频上传 - 赋值videoMeta视频信息", eI.value),
                    eb.value && (eC.value = JSON.stringify({
                        bitrate: +eb.value.BitRate,
                        channels: +eb.value.Channels,
                        duration: 1e3 * eb.value.Duration,
                        format: eb.value.Format,
                        sampling_rate: +eb.value.SamplingRate
                    }),
                    ev._.info("视频上传 - 赋值audioMeta视频信息", eC.value))
            }
              , handleBootstrapVideoInfo = function() {
                eT.value.width = eT.value.width || +eE.value.Width,
                eT.value.height = eT.value.height || +eE.value.Height,
                ek.value.duration = +eE.value.Duration,
                ek.value.width = +eE.value.Width,
                ek.value.height = +eE.value.Height,
                ex.value = String(parseInt(eE.value.Rotation, 10) || 0),
                ex.value += "",
                ev._.info("视频上传 - 赋值videoInfo信息", "video: ", ek.value, "cover:", eT.value, "videoRotation:", ex.value),
                handleBootstrapVideoMeta()
            }
              , handleBootstrapVideo = function(n) {
                ev._.info("视频上传 - 赋值文件信息", n),
                eA.value = n,
                ek.value.fsize = n.size,
                ez.value ? eR.value && (ew.value = URL.createObjectURL(n)) : !eO.value && (ew.value = URL.createObjectURL(n))
            }
              , cancelUploadVideo = function() {
                tr && (eO.value ? tc.cancel(tr, to) : tu.cancel(tr, to)),
                K && (null == K || K.unsubscribe(),
                K = null)
            }
              , cancelUploadVideoCover = function() {
                if ($)
                    try {
                        var n;
                        null == ts || null === (n = ts.cancel) || void 0 === n || n.call(ts, $, ee)
                    } catch (n) {
                        console.error(n)
                    }
            }
              , cancelWorkflow = function() {
                K && e8.next(Q.qR.cancel)
            }
              , resetCover = function() {
                cancelUploadVideoCover(),
                eT.value = U()(z.GV),
                e$.value = !1,
                e_.value = "",
                eB.value = !1,
                e5.value = !1
            }
              , resetVideo = function() {
                eM.value = "",
                eS.value = "",
                ew.value = "",
                eq.value = !1,
                ek.value = U()(z.D$),
                eI.value = "",
                eC.value = "",
                eE.value = null,
                eb.value = null,
                ex.value = void 0,
                eL.value = [],
                eP.value = [],
                eD.value = []
            }
              , td = 0
              , tv = ""
              , tm = 0;
            var tf = (n = (0,
            m._)(function(n) {
                var d, v, m, y, k, I, C, x;
                return (0,
                N.Jh)(this, function(N) {
                    switch (N.label) {
                    case 0:
                        if (!ek.value.videoId)
                            return [2];
                        tn.value += 1,
                        N.label = 1;
                    case 1:
                        return N.trys.push([1, 3, , 4]),
                        [4, G.G8.media.queryTranscode(ek.value.videoId, !!eO.value, n)];
                    case 2:
                        if (d = N.sent(),
                        tn.value >= 1 && (e4.value = !0),
                        ev._.info("上传视频 - query_transcode响应", d),
                        e6.next({
                            success: !0,
                            result: d
                        }),
                        d.hasFirstFrame ? tm = 0 : tm += 1,
                        tm >= d.maxUnchangedQueryTimes && e6.next({
                            success: !1,
                            result: "progress not change"
                        }),
                        eO.value) {
                            if (!(null === (v = ek.value) || void 0 === v ? void 0 : v.videoId))
                                return [2];
                            if (eQ.value = 0,
                            ep.trackerQueryProgressSuccess((0,
                            h._)({
                                transcodeProgress: null == d ? void 0 : null === (m = d.transProgressInfo) || void 0 === m ? void 0 : m.progress,
                                requestTime: tn.value
                            }, ta.value)),
                            (C = null == d ? void 0 : null === (y = d.transProgressInfo) || void 0 === y ? void 0 : y.progress) === tv ? td += 1 : td = 0,
                            td >= d.maxUnchangedQueryTimes && (ep.trackerQueryProgressFailed((0,
                            h._)({
                                requestTime: tn.value,
                                reason: "progress not change"
                            }, ta.value)),
                            e6.next({
                                success: !1,
                                result: "progress not change"
                            })),
                            tv = C,
                            (null == d ? void 0 : null === (k = d.transProgressInfo) || void 0 === k ? void 0 : k.progress) === "100%")
                                return eQ.value = 100,
                                ev._.info("上传视频 - 转码成功"),
                                [2];
                            eQ.value = parseInt(null == d ? void 0 : null === (I = d.transProgressInfo) || void 0 === I ? void 0 : I.progress, 10) || 0,
                            ev._.info("上传视频 - 转码进度", eQ.value)
                        }
                        return tt.value = 0,
                        [3, 4];
                    case 3:
                        return x = N.sent(),
                        tt.value += 1,
                        e6.next({
                            success: !1
                        }),
                        ep.trackerQueryTranscodeFailed((0,
                        h._)({
                            requestTime: tn.value,
                            reason: JSON.stringify(x)
                        }, ta.value)),
                        [3, 4];
                    case 4:
                        return [2]
                    }
                })
            }),
            function queryMedia(d) {
                return n.apply(this, arguments)
            }
            )
              , handleUploadError = function(n, d) {
                (null == n ? void 0 : n.getTokenFail) ? (eY.value = Q.qb.Fail,
                e1.value = "登陆过期，请重新登陆后重试") : (eY.value = Q.qb.Fail,
                e1.value = "网络异常，请稍后重试"),
                resetVideo(),
                trackerFailedUpload(n, e2.value, d)
            };
            var tp = (d = (0,
            m._)(function(n) {
                var d;
                return (0,
                N.Jh)(this, function(v) {
                    switch (v.label) {
                    case 0:
                        if (n)
                            return [3, 7];
                        ev._.info("上传视频 - 没有videoID"),
                        em.s1.trackerVideoServerGeneratorVideoIdFailed({
                            reason: "服务端VideoId生成失败"
                        }),
                        v.label = 1;
                    case 1:
                        if (v.trys.push([1, 6, , 7]),
                        !eO.value)
                            return [3, 3];
                        return [4, tc.generatorID(ek.value.fileid, "217")];
                    case 2:
                        return n = String.apply(void 0, [v.sent()]),
                        [3, 5];
                    case 3:
                        return [4, tu.generatorID(ek.value.fileid, "217")];
                    case 4:
                        n = String.apply(void 0, [v.sent()]),
                        v.label = 5;
                    case 5:
                        return [3, 7];
                    case 6:
                        return d = v.sent(),
                        console.error("VideoID 生成失败 ".concat(JSON.stringify(d))),
                        em.s1.trackerVideoFeGeneratorVideoIdFailed({
                            reason: "前端VideoId生成失败"
                        }),
                        [3, 7];
                    case 7:
                        return ev._.info("上传视频 - videoID", n),
                        n ? (ek.value.videoId = n,
                        em.s1.trackerVideoFeGeneratorVideoIdSuccess()) : (em.s1.trackerVideoFeGeneratorVideoIdFailed({
                            reason: "前端VideoId生成失败"
                        }),
                        eY.value = Q.qb.Fail,
                        e1.value = "网络错误，请稍后重试"),
                        [2]
                    }
                })
            }),
            function handleVideoId(n) {
                return d.apply(this, arguments)
            }
            )
              , tg = (0,
            eu.Z)(eV)
              , th = tg.validateFiles
              , ty = tg.beforeUpload
              , tN = (tg.getAcceptTypes,
            tg.getInitialImgList)
              , tk = tg.getUploadFiles;
            var tI = (v = (0,
            m._)(function(n) {
                var d, v, m, h, y;
                return (0,
                N.Jh)(this, function(N) {
                    switch (N.label) {
                    case 0:
                        ef.$.start(""),
                        em.Db.trackImageUploadStep("start"),
                        N.label = 1;
                    case 1:
                        return N.trys.push([1, 4, , 5]),
                        [4, th(n)];
                    case 2:
                        return d = N.sent(),
                        em.Db.trackImageUploadStep("afterValidateFiles"),
                        [4, ty(d)];
                    case 3:
                        if (!(v = N.sent()).length)
                            return [2];
                        return em.Db.trackImageUploadStep("afterBeforeUpload"),
                        eY.value = Q.qb.Uploading,
                        eX.value = Q.cl.Publish,
                        m = tN(v),
                        em.Db.trackImageUploadStep("afterGetInitialImgList"),
                        h = tk(m),
                        em.Db.trackImageUploadStep("afterGetUploadFiles"),
                        G.eC.modifyImgList({
                            imgList: m
                        }),
                        em.Db.trackImageUploadStep("afterModifyImgList"),
                        ey({
                            files: h,
                            onFileFinish: function(n, d, v) {
                                var m = h[Number(v.Index)].key
                                  , y = void 0 === m ? "" : m;
                                y && G.eC.modifyImg({
                                    key: y,
                                    data: {
                                        status: n ? Q.wW.uploadFailed : Q.wW.uploadSuccess,
                                        fileId: v.Key
                                    }
                                })
                            }
                        }),
                        eY.value = Q.qb.Preview,
                        [3, 5];
                    case 4:
                        throw y = N.sent(),
                        ei.A.error(y),
                        em.Db.trackerImageUploadFileCatch(y),
                        y;
                    case 5:
                        return [2]
                    }
                })
            }),
            function uploadImage(n) {
                return v.apply(this, arguments)
            }
            )
              , handleFuncWithRetry = function(n, d) {
                (0,
                C.of)(d).pipe((0,
                V.g)(1e3), (0,
                B.z)(function() {
                    return null == n ? void 0 : n(d)
                }), (0,
                O.X)(2)).subscribe(function(n) {})
            };
            var tC = (R = (0,
            m._)(function(n) {
                var d, v, k, I, C, _;
                return (0,
                N.Jh)(this, function(V) {
                    var B, R;
                    if (!ek.value.videoId)
                        return [2];
                    return v = void 0 === (d = n.firstRequestTime) ? 2 : d,
                    k = n.videoLevel,
                    I = n.queryCover,
                    ev._.info("上传视频 - 视频主流程", "videoLevel:", k, "queryCover:", I),
                    em.s1.trackerVideoWorkflowBefore({
                        needTranscode: +!!eO.value
                    }),
                    !k && (eY.value = Q.qb.Preview),
                    k && (eY.value = Q.qb.Transcoding),
                    K = new x.w0,
                    ep.trackerQueryTranscodeBefore((0,
                    y._)((0,
                    h._)({}, ta.value), {
                        needTranscode: +!!eO.value
                    })),
                    ef.D.recordTranscodeTime("start"),
                    ef.D.recordFrameTime("start"),
                    K.add((0,
                    M.H)(1e3 * v, te.value).subscribe(function() {
                        ev._.info("上传视频 - 触发query_transcode"),
                        tf(k)
                    })),
                    I && (e5.value = !0),
                    K.add(e6.subscribe(function(n) {
                        var d = n.success
                          , v = n.result;
                        if (d) {
                            v.hasFirstFrame && I && (ev._.info("上传视频 - 查询到首帧图片", v),
                            e9.next(v)),
                            v.hasTranscodeVideo && k && (ev._.info("上传视频 - 查询到转码后视频", v),
                            e7.next(v));
                            var m = !!k && v.hasTranscodeVideo || !k;
                            ev._.info("上传视频 - Video转码视频完成", k, v);
                            var h = !!I && v.hasFirstFrame || !I;
                            ev._.info("上传视频 - Video封面抽帧完成", I, v);
                            var y = m && h;
                            ev._.info("上传视频 - query_transcode完成", y, m, h),
                            y && e8.next(Q.qR.success)
                        } else
                            tt.value > 3 ? e8.next(Q.qR.httpFail) : "progress not change" === v && e8.next(Q.qR.progressNotChange)
                    })),
                    B = (0,
                    m._)(function(n) {
                        return (0,
                        N.Jh)(this, function(d) {
                            switch (d.label) {
                            case 0:
                                if (e$.value && e_.value || eT.value.frame.isUpload || eT.value.frame.isUserSelect || eJ.value || e2.value)
                                    return [2];
                                return ev._.info("[seven] 服务端端抽帧完成:", Date.now()),
                                eg.u.success({
                                    type: eg.Y.BE
                                }),
                                e$.value = !0,
                                e5.value = !1,
                                eT.value.fileid = n.firstFrameFileId,
                                [4, (0,
                                J.Jn)(n.firstFrameFileId)];
                            case 1:
                                return e_.value = d.sent(),
                                ev._.info("上传视频 - 封面URL生成成功", e_.value),
                                (eO.value && n.transcodeVideoFileId || !eO.value) && (eY.value = Q.qb.Preview),
                                trackerAfterCoverEnd(n, ek.value.videoId),
                                [2]
                            }
                        })
                    }),
                    C = function handleFirstFrameQueryEnd(n) {
                        return B.apply(this, arguments)
                    }
                    ,
                    K.add(e9.pipe((0,
                    S.q)(1)).subscribe(function(n) {
                        ev._.info("上传视频 - 查询到封面", n),
                        ep.trackerQueryFirstFrameSuccess((0,
                        h._)({
                            requestTime: tn.value
                        }, ta.value)),
                        ef.D.recordFrameTime("end"),
                        console.log("frameeND"),
                        handleFuncWithRetry(C, n)
                    })),
                    R = (0,
                    m._)(function(n) {
                        return (0,
                        N.Jh)(this, function(d) {
                            switch (d.label) {
                            case 0:
                                return ek.value.transcodeVideoFileId = n.transcodeVideoFileId,
                                n.firstFrameFileId ? eY.value = Q.qb.Preview : eY.value = Q.qb.Frame,
                                [4, (0,
                                J.cy)(n.transcodeVideoFileId)];
                            case 1:
                                return eS.value = d.sent(),
                                [2]
                            }
                        })
                    }),
                    _ = function handleTranscodeVideoQueryEnd(n) {
                        return R.apply(this, arguments)
                    }
                    ,
                    K.add(e7.pipe((0,
                    S.q)(1), (0,
                    O.X)(2)).subscribe(function(n) {
                        ep.trackerQueryTranscodeVideoSuccess((0,
                        h._)({
                            requestTime: tn.value
                        }, ta.value)),
                        ef.D.recordTranscodeTime("end"),
                        handleFuncWithRetry(_, n)
                    })),
                    K.add(e8.pipe((0,
                    S.q)(1)).subscribe(function(n) {
                        var d, v, m, h, y, N, k, I;
                        if (n === Q.qR.success)
                            em.s1.trackerVideoWorkflowSuccess({
                                size: null !== (m = ek.value.fsize) && void 0 !== m ? m : "unknown",
                                duration: null !== (h = ek.value.duration) && void 0 !== h ? h : "unknown",
                                format: "video: ".concat(null === (d = eE.value) || void 0 === d ? void 0 : d.Format, ", audio: ").concat(null === (v = eb.value) || void 0 === v ? void 0 : v.Format),
                                needTranscode: +!!eO.value,
                                extension: "isHDR: ".concat(ti.value, ", isHighQuality: ").concat(tl.value)
                            });
                        else if (em.s1.trackerVideoWorkflowFailed({
                            reason: n,
                            size: null !== (k = ek.value.fsize) && void 0 !== k ? k : "unknown",
                            duration: null !== (I = ek.value.duration) && void 0 !== I ? I : "unknown",
                            format: "video: ".concat(null === (y = eE.value) || void 0 === y ? void 0 : y.Format, ", audio: ").concat(null === (N = eb.value) || void 0 === N ? void 0 : N.Format),
                            needTranscode: +!!eO.value,
                            extension: "isHDR: ".concat(ti.value, ", isHighQuality: ").concat(tl.value)
                        }),
                        eO.value) {
                            switch (n) {
                            case Q.qR.httpFail:
                                eY.value = Q.qb.Fail,
                                e1.value = "转码失败，请刷新重试";
                                break;
                            case Q.qR.timeout:
                                eY.value = Q.qb.Fail,
                                e1.value = "转码超时，请刷新重试";
                                break;
                            case Q.qR.cancel:
                                break;
                            case Q.qR.progressNotChange:
                                eY.value = Q.qb.Fail,
                                e1.value = "转码进度未变化，请刷新重试"
                            }
                            resetVideo()
                        }
                        ev._.info("上传视频 - subscription 任务", K),
                        ef.D.endHandleVideo(ek.value.videoId, !!eO.value),
                        null == K || K.unsubscribe(),
                        K = null
                    })),
                    [2]
                })
            }),
            function workflow(n) {
                return R.apply(this, arguments)
            }
            );
            var tb = (Y = (0,
            m._)(function(n) {
                var d, v, m, h, y, k, I, C = arguments;
                return (0,
                N.Jh)(this, function(N) {
                    switch (N.label) {
                    case 0:
                        if (d = !(C.length > 1) || void 0 === C[1] || C[1],
                        ev._.info("[seven] 开始上传:", Date.now()),
                        eK.value = 0,
                        tn.value = 0,
                        e4.value = !1,
                        tm = 0,
                        td = 0,
                        tv = "",
                        trackerBeforeUpload(e2.value),
                        em.s1.trackerVideoUploadBefore(),
                        ef.D.recordUploadTime("start"),
                        eW.value = Date.now(),
                        !eO.value)
                            return [3, 2];
                        return [4, tc.upload(n).catch(function(n) {
                            handleUploadError(n, Date.now() - eW.value),
                            em.s1.trackerVideoUploadFailed({
                                reason: "code: ".concat(n.code, ", msg: ").concat(n.msg),
                                extension: JSON.stringify(n)
                            })
                        })];
                    case 1:
                        return h = N.sent(),
                        [3, 4];
                    case 2:
                        return [4, tu.upload(n).catch(function(n) {
                            handleUploadError(n, Date.now() - eW.value),
                            em.s1.trackerVideoUploadFailed({
                                reason: "code: ".concat(n.code, ", msg: ").concat(n.msg),
                                extension: JSON.stringify(n)
                            })
                        })];
                    case 3:
                        h = N.sent(),
                        N.label = 4;
                    case 4:
                        if (em.s1.trackerVideoUploadResult(h || {}),
                        !h || eY.value === Q.qb.Cancel)
                            return [2];
                        return ef.D.uploaded(n.size),
                        ef.D.recordUploadTime("end"),
                        em.s1.trackerVideoUploadSuccess({
                            size: null !== (y = ek.value.fsize) && void 0 !== y ? y : "unknown",
                            duration: null !== (k = ek.value.duration) && void 0 !== k ? k : "unknown",
                            format: "video: ".concat(null === (v = eE.value) || void 0 === v ? void 0 : v.Format, ", audio: ").concat(null === (m = eb.value) || void 0 === m ? void 0 : m.Format),
                            needTranscode: +!!eO.value,
                            extension: "isHDR: ".concat(ti.value, ", isHighQuality: ").concat(tl.value)
                        }),
                        ek.value.fileid = h.fileId,
                        eM.value = (null == h ? void 0 : h.previewUrl) || "",
                        [4, tp(null == h ? void 0 : h.videoId)];
                    case 5:
                        if (N.sent(),
                        !ek.value.videoId)
                            return e1.value = "网络错误，请稍后重试",
                            [2];
                        return ev._.info("上传视频 - videoId解析成功", ek.value),
                        eO.value ? (e0.value = Date.now(),
                        ev._.info("上传视频 - 需要转码"),
                        tC({
                            firstRequestTime: 3,
                            videoLevel: "14",
                            queryCover: d
                        })) : (ev._.info("上传视频 - 不需要转码"),
                        tC({
                            firstRequestTime: 3,
                            queryCover: d
                        })),
                        I = Date.now() - eW.value,
                        trackerAfterUpload(ek, n.size, I, e2.value),
                        [2]
                    }
                })
            }),
            function uploadFile(n) {
                return Y.apply(this, arguments)
            }
            );
            var tE = (W = (0,
            m._)(function(n) {
                var d, v, m, h, y, k, I;
                return (0,
                N.Jh)(this, function(N) {
                    switch (N.label) {
                    case 0:
                        if (d = n.file,
                        v = n.base64File,
                        m = n.frametime,
                        h = n.isUpload,
                        y = n.width,
                        k = n.height,
                        v && (null == v ? void 0 : v.indexOf("http")) === 0)
                            return [2];
                        return v && (d = (0,
                        ec.L)(v)),
                        [4, ts.upload(d).catch(function(n) {
                            e_.value = "",
                            ei.A.error("封面图上传失败，请重新选择封面图")
                        })];
                    case 1:
                        if (!(I = N.sent()))
                            return [2];
                        return e5.value = !0,
                        eT.value.fileid = I.fileId,
                        eT.value.width = y,
                        eT.value.height = k,
                        e_.value = I.previewUrl || "",
                        ek.value.frame = {
                            ts: m,
                            userSelect: 0 !== m || h
                        },
                        eT.value.frame.ts = m,
                        eT.value.frame.isUserSelect = 0 !== m,
                        eT.value.frame.isUpload = h,
                        eT.value.extra_info_json = JSON.stringify({}),
                        e5.value = !1,
                        e$.value = !0,
                        eY.value = Q.qb.Preview,
                        [2]
                    }
                })
            }),
            function uploadFirstCover(n) {
                return W.apply(this, arguments)
            }
            )
              , validateSize = function(n) {
                n.size > el.Pi && (eY.value = Q.qb.Fail,
                e1.value = "请选择文件大小在20GB以内的视频")
            }
              , validateDuration = function(n) {
                var d = ek.value.duration
                  , v = eF.value ? 240 : 60;
                ev._.info("视频上传 - 校验视频时长", d, 60 * v),
                +d > 60 * v && (eY.value = Q.qb.Fail,
                e1.value = "请选择时长在".concat(v, "分钟以内的视频"))
            };
            var tA = (q = (0,
            m._)(function(n, d) {
                return (0,
                N.Jh)(this, function(v) {
                    return [2, new Promise(function(v, m) {
                        var h, y = Date.now();
                        try {
                            null === (h = G.G8.media.getFirstFrame(d, n)) || void 0 === h || h.then(function(n) {
                                var d = n.file;
                                if (console.log("[log] r", n),
                                eg.u.stepDuration("getFirstCover", Date.now() - y),
                                eT.value.frame.isUpload || eT.value.frame.isUserSelect || eJ.value || e2.value) {
                                    v("success");
                                    return
                                }
                                G.eC.useFfmpeg2GenerateDefaultCover({
                                    uint8Array: d,
                                    width: ek.value.width,
                                    height: ek.value.height
                                }, {
                                    success: function() {
                                        ev._.info("[seven] ffmpeg抽帧完成:", Date.now()),
                                        e$.value = !0,
                                        eg.u.success({
                                            type: eg.Y.FE
                                        }),
                                        v("success")
                                    },
                                    error: function() {
                                        e3.value = !1,
                                        m()
                                    }
                                })
                            }).catch(function(n) {
                                var d;
                                e3.value = !1,
                                eg.u.failed({
                                    type: eg.Y.FE,
                                    error: null !== (d = null == n ? void 0 : n.message) && void 0 !== d ? d : "抽帧失败"
                                }),
                                console.log("【seven log】ffmpeg抽首帧 e", n),
                                m()
                            })
                        } catch (n) {
                            e3.value = !1,
                            eg.u.failed({
                                type: eg.Y.FE,
                                error: "ffmpeg未加载成功"
                            }),
                            m()
                        }
                    }
                    )]
                })
            }),
            function setFirstFrameCover(n, d) {
                return q.apply(this, arguments)
            }
            )
              , getRecommendCovers = function(n, d) {
                var v, h, y, k, I, C = Date.now();
                try {
                    ;null === (h = G.G8.media.generatePictFrameFromR(d, n, Math.max(Math.trunc(null !== (k = null === (y = eE.value) || void 0 === y ? void 0 : y.Duration) && void 0 !== k ? k : 1), 1))) || void 0 === h || h.then((v = (0,
                    m._)(function(n) {
                        return (0,
                        N.Jh)(this, function(v) {
                            return eg.u.stepDuration("getBeforeRecommendCover", Date.now() - C),
                            d === eA.value.name && G.eC.insertRecommendCover(n, d),
                            [2]
                        })
                    }),
                    function(n) {
                        return v.apply(this, arguments)
                    }
                    )).catch(function(n) {
                        ea.value = Q.th.Hide
                    })
                } catch (n) {
                    ea.value = Q.th.Hide,
                    e3.value = !1,
                    eg.u.failed({
                        type: eg.Y.FE,
                        error: null !== (I = null == n ? void 0 : n.message) && void 0 !== I ? I : "ffmpeg抽帧失败"
                    })
                }
            };
            var tw = (X = (0,
            m._)(function(n) {
                var d, v, m, h, y, k, I, C, x, M = arguments;
                return (0,
                N.Jh)(this, function(N) {
                    switch (N.label) {
                    case 0:
                        d = !(M.length > 1) || void 0 === M[1] || M[1],
                        eY.value = Q.qb.Analyze,
                        eX.value = Q.cl.Publish,
                        e1.value = "",
                        ev._.info("视频上传 - 校验阶段"),
                        trackerBeforeSelected(n),
                        eg.u.start(),
                        ef.D.start(""),
                        ev._.info("视频上传 - 校验视频尺寸"),
                        validateSize(n),
                        N.label = 1;
                    case 1:
                        return N.trys.push([1, 3, , 4]),
                        trackerBeforeMediaInfo(),
                        ef.D.recordValidateTime("start"),
                        em.s1.trackerVideoQueryMediaInfoBefore(),
                        ev._.info("视频上传 - mediaInfo解析视频轨道信息"),
                        [4, G.BC.queryVideoInfo(n).catch(function(n) {
                            ev._.error("视频上传 - mediaInfo解析视频轨道信息出现错误", n),
                            em.s1.trackerVideoQueryMediaInfoFailed({
                                reason: JSON.stringify(n)
                            }),
                            eY.value = Q.qb.Fail,
                            e1.value = "浏览器版本过低，推荐使用新版Chrome浏览器"
                        })];
                    case 2:
                        if (h = N.sent(),
                        ev._.info("视频上传 - 解析视频轨道信息", h),
                        eE.value = G.BC.queryVideoTrack(h),
                        ev._.info("视频上传 - 视频轨道信息解析完成", eE.value),
                        !eE.value)
                            return ev._.error("视频上传 - mediaInfo未解析出视频轨道信息"),
                            em.s1.trackerVideoQueryMediaInfoFailed({
                                reason: "无视频流信息"
                            }),
                            eY.value = Q.qb.Fail,
                            e1.value = "检测到视频文件无视频流信息，请重新选择视频文件",
                            [2];
                        return ev._.info("视频上传 - 解析音频轨道信息"),
                        eb.value = G.BC.queryAudioTrack(h),
                        ev._.info("视频上传 - 音频轨道信息解析完成", eb.value),
                        handleBootstrapVideo(n),
                        handleBootstrapVideoInfo(),
                        em.s1.trackerVideoQueryMediaInfoSuccess({
                            size: null !== (y = ek.value.fsize) && void 0 !== y ? y : "unknown",
                            duration: null !== (k = ek.value.duration) && void 0 !== k ? k : "unknown",
                            format: "video: ".concat(null === (v = eE.value) || void 0 === v ? void 0 : v.Format, ", audio: ").concat(null === (m = eb.value) || void 0 === m ? void 0 : m.Format)
                        }),
                        trackerAfterMediaInfo(),
                        [3, 4];
                    case 3:
                        return I = N.sent(),
                        eY.value = Q.qb.Fail,
                        e1.value = I.message || "视频解析失败，推荐使用新版Chrome浏览器",
                        em.s1.trackerVideoQueryMediaInfoFailed({
                            reason: JSON.stringify(I)
                        }),
                        [3, 4];
                    case 4:
                        return N.trys.push([4, 6, , 7]),
                        [4, tA(eA.value, n.name)];
                    case 5:
                    case 6:
                        return N.sent(),
                        [3, 7];
                    case 7:
                        try {
                            ea.value = Q.th.Loading,
                            eo.value = [],
                            setTimeout(function() {
                                getRecommendCovers(eA.value, n.name)
                            }, 0)
                        } catch (n) {}
                        eg.u.miss(),
                        validateDuration(n),
                        eY.value = Q.qb.Uploading,
                        ef.D.recordValidateTime("end"),
                        eW.value = Date.now(),
                        N.label = 8;
                    case 8:
                        return N.trys.push([8, 10, , 11]),
                        [4, tb(n, d)];
                    case 9:
                        return N.sent(),
                        [3, 11];
                    case 10:
                        return x = N.sent(),
                        em.s1.trackUploadCatch(x),
                        [3, 11];
                    case 11:
                        return [2]
                    }
                })
            }),
            function presetVideo(n) {
                return X.apply(this, arguments)
            }
            );
            return {
                handleBootstrapVideoMeta: handleBootstrapVideoMeta,
                handleBootstrapVideoInfo: handleBootstrapVideoInfo,
                handleBootstrapVideo: handleBootstrapVideo,
                resetVideo: resetVideo,
                resetCover: resetCover,
                workflow: tC,
                uploadFile: tb,
                uploadFirstCover: tE,
                uploadImage: tI,
                cancelUploadVideo: cancelUploadVideo,
                cancelUploadVideoCover: cancelUploadVideoCover,
                presetVideo: tw,
                resetAll: function() {
                    eY.value === Q.qb.Uploading && cancelUploadVideo(),
                    eY.value = Q.qb.Initial,
                    tt.value = 0,
                    eK.value = 0,
                    e4.value = !1,
                    resetVideo(),
                    resetCover(),
                    cancelWorkflow(),
                    et.$reset()
                },
                validateFilesByVideoFormat: function(n) {
                    var d = n.filter(function(n) {
                        return isImg(n)
                    })
                      , v = n.filter(function(n) {
                        return isVideo(n)
                    })
                      , m = v.filter(function(n) {
                        return isValidVideo(n)
                    })
                      , h = v.length - m.length;
                    if (d.length)
                        v.length ? ei.A.error("不支持同时上传图片和视频文件") : ei.A.error("上传图文，请先切换到图片tab");
                    else if (v.length) {
                        if (1 === m.length)
                            return h > 0 && ei.A.warn("部分视频格式或大小不支持，未上传"),
                            !0;
                        if (!(m.length < 1))
                            return ei.A.warn("最多只允许添加1个视频，超出部分未上传"),
                            !0;
                        ei.A.error("视频格式或大小不支持，未上传")
                    } else
                        ei.A.error("文件格式不支持，请重新上传");
                    return !1
                },
                imageUploader: ts
            }
        })
    },
    81657: function(n, d, v) {
        "use strict";
        v.d(d, {
            l: function() {
                return I
            }
        }),
        v(86651),
        v(29273);
        var m, h = v(98542), y = v(88771), N = v(78778), k = v(91583);
        var I = ((m = {})[m.FourToThree = 0] = "FourToThree",
        m[m.ThreeToFour = 1] = "ThreeToFour",
        m[m.OneToOne = 2] = "OneToOne",
        m)
          , C = (0,
        h.Q_)("context", function() {
            var n = (0,
            y.ref)({
                goodsInfo: {},
                goodsDetail: {
                    image: "",
                    name: "",
                    price: "",
                    skuId: ""
                },
                goodsPreviewDetail: {
                    image: "",
                    name: "",
                    description: "",
                    skuId: ""
                }
            })
              , d = (0,
            y.ref)({
                image: "",
                name: "",
                task: ""
            })
              , v = (0,
            y.ref)({
                time: 0,
                title: ""
            })
              , m = (0,
            y.ref)({
                coverUrl: "",
                cover: {
                    width: 0,
                    height: 0,
                    fileid: "",
                    frame: {
                        ts: 0,
                        isUserSelect: !1,
                        isUpload: !1
                    },
                    stickers: {
                        version: 2,
                        neptune: []
                    },
                    fonts: [],
                    coverTemplateId: "",
                    extra_info_json: ""
                },
                templateBlob: null,
                rate: 0,
                recommendCoverIdx: -1
            })
              , I = (0,
            y.ref)([])
              , C = (0,
            y.ref)(k.th.Hide)
              , x = (0,
            y.ref)({
                width: 0,
                height: 0,
                fileid: "",
                frame: {
                    ts: 0,
                    isUserSelect: !1,
                    isUpload: !1
                },
                stickers: {
                    neptune: [],
                    version: 2
                },
                fonts: []
            })
              , M = (0,
            y.ref)("")
              , S = (0,
            y.ref)({
                bizRelation: []
            });
            return {
                goodsContext: n,
                orderContext: d,
                liveContext: v,
                recommendCovers: I,
                recommendCoversStatus: C,
                firstFrameCover: x,
                firstFrameCoverUrl: M,
                coverContext: m,
                setCover: function(n, d, v) {
                    m.value.cover = n,
                    m.value.coverUrl = d,
                    m.value.templateBlob = v
                },
                setCoverUrl: function(n) {
                    m.value.coverUrl = n
                },
                setGoodsInfo: function(d) {
                    n.value.goodsInfo = d
                },
                setGoodsDetail: function(d) {
                    var v = (0,
                    h.Jk)((0,
                    N.ZP)()).noteType;
                    if (null === d) {
                        n.value.goodsDetail = {
                            image: "",
                            name: "",
                            price: "",
                            skuId: ""
                        },
                        v.value = k.wK.Common;
                        return
                    }
                    n.value.goodsDetail = d,
                    v.value = k.wK.Goods
                },
                setGoodsPreviewDetail: function(d) {
                    var v = (0,
                    h.Jk)((0,
                    N.ZP)()).noteType;
                    if (null === d) {
                        n.value.goodsPreviewDetail = {
                            image: "",
                            name: "",
                            description: "",
                            skuId: ""
                        },
                        v.value = k.wK.Common;
                        return
                    }
                    n.value.goodsPreviewDetail = d,
                    v.value = k.wK.Goods
                },
                resetGoodContext: function() {
                    n.value = {
                        goodsInfo: {},
                        goodsDetail: {
                            image: "",
                            name: "",
                            price: "",
                            skuId: ""
                        },
                        goodsPreviewDetail: {
                            image: "",
                            name: "",
                            description: "",
                            skuId: ""
                        }
                    }
                },
                bizRelationContext: S,
                addBizRelation: function(n) {
                    S.value.bizRelation.push(n)
                },
                removeBizRelation: function(n) {
                    S.value.bizRelation.splice(n, 1)
                },
                __danger__setBizRelation: function(n) {
                    S.value.bizRelation = n
                },
                __danger__resetBizRelation: function() {
                    S.value = {
                        bizRelation: []
                    }
                }
            }
        });
        d.Z = C
    },
    78778: function(n, d, v) {
        "use strict";
        v.d(d, {
            D$: function() {
                return C
            },
            GV: function() {
                return x
            }
        });
        var m = v(70879);
        v(34885);
        var h = v(98542)
          , y = v(88771)
          , N = v(80022)
          , k = v.n(N)
          , I = v(96089)
          , C = {
            width: 0,
            height: 0,
            fileid: "",
            fsize: 0,
            duration: 0,
            videoId: "",
            videoMarks: [],
            timelines: [],
            frame: {
                ts: 0,
                userSelect: !1
            },
            transcodeVideoFileId: "",
            coverInfo: {}
        }
          , x = {
            width: 0,
            height: 0,
            fileid: "",
            frame: {
                ts: 0,
                isUserSelect: !1,
                isUpload: !1
            },
            stickers: {
                neptune: [],
                version: 2
            },
            fonts: []
        }
          , M = {
            disableDefaultDraft: !1,
            draftType: 0
        }
          , S = (0,
        h.Q_)("draft", function() {
            var n = (0,
            y.ref)("")
              , d = (0,
            y.ref)("")
              , v = (0,
            y.ref)("")
              , h = (0,
            y.ref)(0)
              , N = (0,
            y.ref)([])
              , S = (0,
            y.ref)([])
              , _ = (0,
            y.ref)()
              , V = (0,
            y.ref)([])
              , B = (0,
            y.ref)()
              , O = (0,
            y.ref)(k()(C))
              , R = (0,
            y.ref)("")
              , U = (0,
            y.ref)("")
              , z = (0,
            y.ref)("")
              , Z = (0,
            y.ref)("")
              , Q = (0,
            y.ref)(null)
              , J = (0,
            y.ref)(null)
              , H = (0,
            y.ref)(!1)
              , G = (0,
            y.ref)(k()(x))
              , Y = (0,
            y.ref)()
              , W = (0,
            y.ref)([])
              , q = (0,
            y.ref)()
              , X = (0,
            y.ref)([])
              , K = (0,
            y.ref)("")
              , $ = (0,
            y.ref)("")
              , ee = (0,
            y.ref)()
              , et = (0,
            y.computed)(function() {
                var n, d, v = null === (n = Q.value) || void 0 === n ? void 0 : n.Format, m = null === (d = J.value) || void 0 === d ? void 0 : d.Format;
                return v && (-1 === ["AVC", "VP8"].indexOf(v) || m && -1 === ["AAC", "Vorbis"].indexOf(m))
            })
              , en = (0,
            y.ref)("")
              , ea = (0,
            y.ref)([])
              , eo = (0,
            y.computed)(function() {
                return 20 !== ea.value.length
            })
              , er = (0,
            y.ref)(!1)
              , ei = (0,
            I.Z)().buildDraftData;
            return {
                title: n,
                desc: d,
                noteType: _,
                descInnerHTML: v,
                descLength: h,
                defaultTopics: V,
                videoInfo: Q,
                audioInfo: J,
                cover: G,
                video: O,
                audioMeta: Z,
                videoMeta: z,
                backupCovers: W,
                videoUrl: R,
                videoRotation: Y,
                videoFile: B,
                descInnerHtml: K,
                coverUrl: $,
                chapters: N,
                needTranscode: et,
                markers: S,
                exacting: eo,
                coverImgList: ea,
                coverEdited: er,
                ats: (0,
                y.ref)([]),
                hashTag: (0,
                y.ref)([]),
                imgList: X,
                updateTemp: (0,
                y.ref)({}),
                transcodeVideoUrl: U,
                videoMarksExtends: ee,
                initDraftConfig: function() {
                    var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : M;
                    !q.value && (q.value = (0,
                    m._)({}, M, n))
                },
                patchDraftConfig: function(n) {
                    q.value = (0,
                    m._)({}, q.value, n)
                },
                draftConfig: q,
                videoBlobUrl: en,
                customDraftHandler: function() {
                    var n, d, v, m, h;
                    (null === (n = q.value) || void 0 === n ? void 0 : n.disableDefaultDraft) && (null === (v = q.value) || void 0 === v ? void 0 : null === (d = v.save) || void 0 === d ? void 0 : d.handler) && (null === (h = q.value) || void 0 === h || null === (m = h.save) || void 0 === m || m.handler(ei()))
                },
                isReplaceVideo: H
            }
        });
        d.ZP = S
    },
    38310: function(n, d, v) {
        "use strict";
        var m = v(98542)
          , h = v(88771)
          , y = v(51423)
          , N = v.n(y)
          , k = v(78778)
          , I = (0,
        m.Q_)("media", function() {
            var n = (0,
            k.ZP)()
              , d = (0,
            m.Jk)(n).needTranscode
              , v = (0,
            h.ref)(N().getCodecs().isMseSupportedHvc1())
              , y = (0,
            h.computed)(function() {
                return !d.value || v.value
            });
            return {
                browserSupportHvc1: v,
                canPlayVideoInBrowser: y
            }
        });
        d.Z = I
    },
    11010: function(n, d, v) {
        "use strict";
        var m = v(70879)
          , h = v(27337);
        v(29112),
        v(67275),
        v(59989),
        v(7099),
        v(27461),
        v(23339),
        v(51109),
        v(34333),
        v(67930),
        v(58486),
        v(9557),
        v(7608);
        var y = v(88771)
          , N = v(98542)
          , k = v(80022)
          , I = v.n(k)
          , C = v(78778)
          , x = v(68724)
          , M = v(91583)
          , S = v(75009)
          , _ = v(81657)
          , V = (0,
        N.Q_)("publisher", function() {
            var n = Number(new URLSearchParams(window.location.search).get("type")) || M.QO.Video
              , d = (0,
            y.ref)(n)
              , v = (0,
            C.ZP)()
              , N = (0,
            S.Z)()
              , k = (0,
            _.Z)()
              , V = (0,
            y.ref)(M.h6.red)
              , B = (0,
            y.ref)(!1)
              , O = (0,
            y.computed)(function() {
                return V.value === M.h6.red ? "#ff2442" : "#3c66ff"
            })
              , R = (0,
            y.ref)(!1)
              , U = (0,
            y.ref)("")
              , z = (0,
            y.ref)(M.cl.Upload)
              , Z = (0,
            y.ref)("")
              , Q = (0,
            y.ref)(M.qb.Initial)
              , J = (0,
            y.ref)(!1)
              , H = (0,
            y.ref)("")
              , G = (0,
            y.ref)(0)
              , Y = (0,
            y.ref)(0)
              , W = (0,
            y.ref)(0)
              , q = (0,
            y.ref)(0)
              , X = (0,
            y.ref)(!1)
              , K = (0,
            y.ref)(!1)
              , $ = (0,
            y.ref)(!1)
              , ee = (0,
            y.ref)(!0)
              , et = (0,
            y.ref)([])
              , en = (0,
            y.ref)(!1)
              , ea = (0,
            y.ref)(!1)
              , eo = (0,
            y.ref)(Math.random())
              , er = (0,
            y.ref)(!1)
              , ei = (0,
            y.ref)(0)
              , el = (0,
            y.ref)({
                type: "web",
                ids: ""
            })
              , ec = (0,
            x.Z)().workflowCancel
              , eu = (0,
            y.ref)(!1)
              , es = (0,
            y.ref)([])
              , ed = (0,
            y.ref)()
              , ev = (0,
            y.ref)()
              , em = (0,
            y.ref)()
              , ef = (0,
            y.ref)()
              , ep = (0,
            y.ref)()
              , eg = (0,
            y.ref)()
              , eh = (0,
            y.ref)(!1)
              , ey = (0,
            y.ref)(!1)
              , eN = (0,
            y.ref)("")
              , ek = (0,
            y.ref)("new")
              , eI = (0,
            y.ref)();
            return {
                publishType: d,
                theme: V,
                systemId: U,
                randomKey: eo,
                cancelPublisher: function() {
                    ec(),
                    eo.value = Math.random(),
                    setTimeout(function() {
                        var n, d = I()(v.draftConfig);
                        v.$reset(),
                        N.$reset(),
                        k.$reset(),
                        v.initDraftConfig((0,
                        h._)((0,
                        m._)({}, d), {
                            draftData: void 0
                        })),
                        !Z.value && (z.value = M.cl.Upload),
                        null === (n = eg.value) || void 0 === n || n.call(eg)
                    }, 300)
                },
                publishStartHandler: ed,
                publishSuccessHandler: ev,
                publishFailHandler: em,
                tokenInvalidHandler: ef,
                onEditPageShow: ep,
                firstFrameFileId: eN,
                setFirstFrameFileId: function(n) {
                    eN.value = n
                },
                transcodeType: ek,
                defaultTopics: es,
                noteId: Z,
                step: z,
                status: Q,
                transcodePercent: q,
                uploadPercent: Y,
                isFromDraft: eu,
                firstFrameReady: X,
                publishCoreStartTime: ei,
                batchSourceFromParams: function() {
                    var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "web"
                      , d = arguments.length > 1 ? arguments[1] : void 0;
                    U.value = n,
                    d ? (d.systemId = U.value,
                    el.value.extraInfo = JSON.stringify(d)) : el.value.extraInfo = JSON.stringify({
                        subType: U.value,
                        systemId: U.value,
                        topic_id: ""
                    })
                },
                source: el,
                isPublishing: K,
                hasBootstrap: er,
                hasBeenPublished: $,
                onUpdateCancelHandler: eg,
                hasBeenDraftReady: ea,
                publishConfig: eI,
                initPublishConfig: function(n) {
                    eI.value = n
                },
                hasBeenPublishSuccess: en,
                unFoldList: et,
                themeColor: O,
                uploadStartTime: G,
                transcodeStartTime: W,
                failReason: H,
                openFilePickerOnInit: eh,
                openDraftOnInit: ey,
                finishedFirstTranscode: B,
                isCanUseFfmpeg: ee,
                coverUploading: R,
                isUploadingCover: J
            }
        });
        d.Z = V
    },
    75009: function(n, d, v) {
        "use strict";
        var m = v(98542)
          , h = v(88771)
          , y = v(91583)
          , N = v(63340)
          , k = (0,
        m.Q_)("settings", function() {
            var n = (0,
            h.ref)("")
              , d = (0,
            h.ref)("")
              , v = (0,
            h.ref)("")
              , m = (0,
            h.ref)({
                id: "",
                name: ""
            })
              , k = (0,
            h.ref)()
              , I = (0,
            h.ref)({
                opType: 1,
                type: N.vH.Public,
                userIds: []
            })
              , C = (0,
            h.ref)()
              , x = (0,
            h.ref)()
              , M = (0,
            h.ref)()
              , S = (0,
            h.ref)([])
              , _ = (0,
            h.ref)()
              , V = (0,
            h.ref)()
              , B = (0,
            h.ref)()
              , O = (0,
            h.ref)({
                commentPermission: y.rt.All
            })
              , R = (0,
            h.ref)(!1);
            return {
                coOrderId: n,
                collectionId: v,
                privacyInfo: I,
                selectedOrder: C,
                postTime: x,
                postTiming: R,
                postLoc: M,
                postLocs: S,
                groupBind: _,
                refreshCoopOrderOptions: function() {},
                resetSettings: function() {
                    n.value = "",
                    v.value = "",
                    m.value = {
                        id: "",
                        name: ""
                    },
                    I.value = {
                        opType: 1,
                        type: 0,
                        userIds: []
                    },
                    C.value = void 0,
                    x.value = void 0,
                    M.value = void 0,
                    S.value = [],
                    R.value = !1,
                    _.value = void 0
                },
                userDeclaration: k,
                liveNoticeBind: V,
                liveReservationBind: B,
                noteTrialBindId: d,
                noteSketch: m,
                interactionPermissionBind: O
            }
        });
        d.Z = k
    },
    9689: function(n, d, v) {
        "use strict";
        var m = v(41622)
          , h = v(70879)
          , y = v(377);
        v(36277),
        v(34333);
        var N = v(88771)
          , k = v(98542)
          , I = v(25986)
          , C = v(11010)
          , x = v(19811)
          , M = v(2902)
          , S = (0,
        k.Q_)("user", function() {
            var n, d, v, k = (0,
            N.ref)(), S = (0,
            I.Z)(), _ = (0,
            C.Z)(), V = 0, setUserChangeChecker = function() {
                if (k.value) {
                    var n = "snsWebPublishCurrentUser";
                    localStorage.setItem(n, k.value.id),
                    window.addEventListener("visibilitychange", function() {
                        var d;
                        !document.hidden && (null === (d = k.value) || void 0 === d ? void 0 : d.id) !== localStorage.getItem(n) && (alert("该账户已退出登录，编辑中的笔记已自动保存草稿"),
                        window.location.reload())
                    })
                }
            };
            var B = (n = (0,
            m._)(function() {
                var n;
                return (0,
                y.Jh)(this, function(d) {
                    switch (d.label) {
                    case 0:
                        return [4, (0,
                        x.bG)().catch(function(n) {
                            if (-99 === n.code) {
                                var d;
                                null === (d = _.tokenInvalidHandler) || void 0 === d || d.call(_);
                                return
                            }
                            V < 3 ? (setTimeout(function() {
                                B()
                            }, 3e3),
                            V += 1) : M.A.error("网络异常，请刷新重试")
                        })];
                    case 1:
                        if (!(n = d.sent()))
                            return [2];
                        return k.value = (0,
                        h._)({
                            bindPhone: n.bindPhone,
                            image: n.userDetail.url,
                            collections: n.collections,
                            kolCoOrder: n.kolCoOrder,
                            permission: n.permissions
                        }, n.userDetail),
                        setUserChangeChecker(),
                        [2]
                    }
                })
            }),
            function fetchUserInfoWithRetry() {
                return n.apply(this, arguments)
            }
            );
            var O = (d = (0,
            m._)(function() {
                return (0,
                y.Jh)(this, function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, B()];
                    case 1:
                        return n.sent(),
                        [4, S.fetchABTestResult()];
                    case 2:
                        return n.sent(),
                        [2]
                    }
                })
            }),
            function bootstrap() {
                return d.apply(this, arguments)
            }
            );
            var R = (v = (0,
            m._)(function() {
                return (0,
                y.Jh)(this, function(n) {
                    return [2, new Promise(function(n, d) {
                        if (null === (v = k.value) || void 0 === v ? void 0 : v.id)
                            n(null !== (h = null === (m = k.value) || void 0 === m ? void 0 : m.id) && void 0 !== h ? h : "");
                        else
                            var v, m, h, y = setInterval(function() {
                                var d, v, m;
                                (null === (d = k.value) || void 0 === d ? void 0 : d.id) && (n(null !== (m = null === (v = k.value) || void 0 === v ? void 0 : v.id) && void 0 !== m ? m : ""),
                                clearInterval(y))
                            }, 1e3)
                    }
                    )]
                })
            }),
            function getUid() {
                return v.apply(this, arguments)
            }
            );
            return {
                userInfo: k,
                getUid: R,
                bootstrap: O
            }
        });
        d.Z = S
    },
    51878: function(n, d, v) {
        "use strict";
        v.d(d, {
            K: function() {
                return resetCoreTracker
            }
        });
        var m = v(46490)
          , h = v(90251)
          , y = v(51606)
          , N = v(70879);
        v(86651);
        var k = v(17632)
          , I = {
            loadStart: 0,
            loadEnd: 0,
            analysisStart: 0,
            analysisEnd: 0,
            uploadStart: 0,
            uploadEnd: 0,
            transcodeStart: 0,
            transcodeEnd: 0,
            coverStart: 0,
            coverEnd: 0,
            coverOrigin: "",
            imgTreatStart: 0,
            imgTreatEnd: 0,
            publishStart: 0,
            publishEnd: 0,
            firstInteract: 0,
            earliestEnablePublish: 0,
            version: "",
            type: ""
        }
          , C = new (function() {
            function CoreTimingTracker() {
                (0,
                m._)(this, CoreTimingTracker),
                (0,
                y._)(this, "metrics", (0,
                N._)({}, I)),
                (0,
                y._)(this, "startFlag", !1),
                (0,
                y._)(this, "isDraft", !1)
            }
            return (0,
            h._)(CoreTimingTracker, [{
                key: "setOnce",
                value: function setOnce(n, d) {
                    !this.metrics[n] && (this.metrics[n] = d || Date.now(),
                    this.startFlag = !0)
                }
            }, {
                key: "setStart",
                value: function setStart(n) {
                    !this.metrics[n] && (this.metrics[n] = Date.now(),
                    this.startFlag = !0)
                }
            }, {
                key: "setEnd",
                value: function setEnd(n) {
                    this.metrics[n] = Date.now()
                }
            }, {
                key: "set",
                value: function set(n, d) {
                    this.metrics[n] = d
                }
            }, {
                key: "setIsDraft",
                value: function setIsDraft(n) {
                    this.isDraft = n
                }
            }, {
                key: "send",
                value: function send() {
                    var n = CoreTimingTracker.getLogger();
                    n && n.push({
                        measurement_name: "sns_web_publish_timing",
                        measurement_data: this.metrics
                    }, "ApmXrayTracker")
                }
            }, {
                key: "reset",
                value: function reset() {
                    this.metrics = (0,
                    N._)({}, I),
                    this.startFlag = !1,
                    this.isDraft = !1
                }
            }], [{
                key: "getLogger",
                value: function getLogger() {
                    var n;
                    return (null === (n = window.eaglet) || void 0 === n ? void 0 : n.sendApm) && window.eaglet || v.g.eaglet
                }
            }]),
            CoreTimingTracker
        }())
          , resetCoreTracker = function() {
            C.startFlag && !C.isDraft && (k._.info("[coreTiming]", C.metrics),
            C.send()),
            setTimeout(function() {
                C.reset()
            }, 0)
        };
        d.Z = C
    },
    65128: function(n, d, v) {
        "use strict";
        v.d(d, {
            Y: function() {
                return k
            },
            u: function() {
                return I
            }
        });
        var m, h = v(46490), y = v(90251), N = v(51606);
        v(86651);
        var k = ((m = {}).FE = "fe",
        m.BE = "be",
        m)
          , I = new (function() {
            function CoverTracker() {
                (0,
                h._)(this, CoverTracker),
                (0,
                N._)(this, "name", "cover-tracker"),
                (0,
                N._)(this, "_startTime", 0)
            }
            return (0,
            y._)(CoverTracker, [{
                key: "flush",
                value: function flush(n) {
                    var d, v, m;
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || null === (d = v.push) || void 0 === d || d.call(v, {
                        measurement_name: "sns_web_timing_cover",
                        measurement_data: n
                    }, "ApmXrayTracker")
                }
            }, {
                key: "start",
                value: function start() {
                    this._startTime = Date.now()
                }
            }, {
                key: "success",
                value: function success(n) {
                    var d = n.type
                      , v = Date.now() - this._startTime;
                    this.flush({
                        type: d,
                        duration: v,
                        event: "success"
                    })
                }
            }, {
                key: "failed",
                value: function failed(n) {
                    var d = n.type
                      , v = n.error
                      , m = Date.now() - this._startTime;
                    this.flush({
                        duration: m,
                        event: "failed",
                        type: d,
                        error: v
                    })
                }
            }, {
                key: "miss",
                value: function miss() {
                    this.flush({
                        event: "miss"
                    })
                }
            }, {
                key: "stepDuration",
                value: function stepDuration(n, d) {
                    this.flush({
                        type: n,
                        duration: d,
                        event: "duration"
                    })
                }
            }]),
            CoverTracker
        }())
    },
    63657: function(n, d, v) {
        "use strict";
        v.d(d, {
            X: function() {
                return k
            }
        });
        var m = v(46490)
          , h = v(90251)
          , y = v(51606)
          , N = v(70879);
        v(86651);
        var k = new (function() {
            function DraftTracker() {
                (0,
                m._)(this, DraftTracker),
                (0,
                y._)(this, "name", "draft-tracker")
            }
            return (0,
            h._)(DraftTracker, [{
                key: "flush",
                value: function flush(n) {
                    var d, v, m;
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || null === (d = v.push) || void 0 === d || d.call(v, {
                        measurement_name: "sns_web_draft_point",
                        measurement_data: n
                    }, "ApmXrayTracker")
                }
            }, {
                key: "trackerDraftSavedSuccess",
                value: function trackerDraftSavedSuccess(n) {
                    this.flush((0,
                    N._)({
                        event: "saveDraftSuccess"
                    }, n))
                }
            }, {
                key: "trackerDraftSavedFail",
                value: function trackerDraftSavedFail(n) {
                    this.flush((0,
                    N._)({
                        event: "saveDraftFailed"
                    }, n))
                }
            }, {
                key: "trackerDisplayDraft",
                value: function trackerDisplayDraft(n) {
                    this.flush((0,
                    N._)({
                        event: "displayDraft"
                    }, n))
                }
            }, {
                key: "trackerReadDraftSuccess",
                value: function trackerReadDraftSuccess(n) {
                    this.flush((0,
                    N._)({
                        event: "readDraftSuccess"
                    }, n))
                }
            }, {
                key: "trackerReadDraftFail",
                value: function trackerReadDraftFail(n) {
                    this.flush((0,
                    N._)({
                        event: "readDraftFailed"
                    }, n))
                }
            }]),
            DraftTracker
        }())
    },
    5408: function(n, d, v) {
        "use strict";
        v.d(d, {
            C: function() {
                return k
            }
        });
        var m = v(46490)
          , h = v(90251)
          , y = v(51606)
          , N = v(70879);
        v(86651);
        var k = new (function() {
            function PublishTracker() {
                (0,
                m._)(this, PublishTracker),
                (0,
                y._)(this, "name", "publish-tracker")
            }
            return (0,
            h._)(PublishTracker, [{
                key: "flush",
                value: function flush(n) {
                    var d, v, m;
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || null === (d = v.push) || void 0 === d || d.call(v, {
                        measurement_name: "sns_web_publish_publish",
                        measurement_data: n
                    }, "ApmXrayTracker")
                }
            }, {
                key: "trackerPublishBefore",
                value: function trackerPublishBefore(n) {
                    this.flush((0,
                    N._)({
                        event: "publishBefore"
                    }, n))
                }
            }, {
                key: "trackerPublishCheck",
                value: function trackerPublishCheck(n) {
                    this.flush((0,
                    N._)({
                        event: "publishParamsCheck"
                    }, n))
                }
            }, {
                key: "trackerPublishSuccess",
                value: function trackerPublishSuccess(n) {
                    this.flush((0,
                    N._)({
                        event: "publishSuccess"
                    }, n))
                }
            }, {
                key: "trackerPublishFailed",
                value: function trackerPublishFailed(n) {
                    this.flush((0,
                    N._)({
                        event: "publishFailed"
                    }, n))
                }
            }]),
            PublishTracker
        }())
    },
    37267: function(n, d, v) {
        "use strict";
        v.d(d, {
            $: function() {
                return S
            },
            D: function() {
                return M
            }
        });
        var m = v(46490)
          , h = v(90251)
          , y = v(51606)
          , N = v(70879)
          , k = v(27337);
        v(86651),
        v(7608);
        var I = v(98542)
          , C = v(25986)
          , x = v(38310)
          , M = new (function() {
            function TimingVideoTracker() {
                (0,
                m._)(this, TimingVideoTracker),
                (0,
                y._)(this, "name", "timing-tracker"),
                (0,
                y._)(this, "startTime", 0),
                (0,
                y._)(this, "videoId", ""),
                (0,
                y._)(this, "validatetIime", {
                    start: 0,
                    end: 0,
                    duration: 0
                }),
                (0,
                y._)(this, "uploadTime", {
                    start: 0,
                    end: 0,
                    duration: 0
                }),
                (0,
                y._)(this, "transcodeTime", {
                    start: 0,
                    end: 0,
                    duration: 0
                }),
                (0,
                y._)(this, "frameTime", {
                    start: 0,
                    end: 0,
                    duration: 0
                }),
                (0,
                y._)(this, "publishTime", {
                    start: 0,
                    end: 0,
                    duration: 0
                }),
                (0,
                y._)(this, "totalTime", 0),
                (0,
                y._)(this, "stage", ""),
                (0,
                y._)(this, "needTranscode", !1),
                (0,
                y._)(this, "data", {})
            }
            return (0,
            h._)(TimingVideoTracker, [{
                key: "flush",
                value: function flush(n) {
                    var d, v, m, h = (0,
                    I.Jk)((0,
                    x.Z)()).canPlayVideoInBrowser, y = (0,
                    I.Jk)((0,
                    C.Z)()).skipTranscoding;
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || null === (d = v.push) || void 0 === d || d.call(v, {
                        measurement_name: "sns_web_publish_timing_video",
                        measurement_data: (0,
                        k._)((0,
                        N._)({}, n), {
                            videoPreviewExp: h.value && y.value ? "1" : "0"
                        })
                    }, "ApmXrayTracker")
                }
            }, {
                key: "start",
                value: function start(n) {
                    this.startTime = Date.now(),
                    this.stage = n
                }
            }, {
                key: "recordTime",
                value: function recordTime(n, d) {
                    d[n] = Date.now(),
                    "end" === n && (d.duration = d.end - d.start)
                }
            }, {
                key: "recordValidateTime",
                value: function recordValidateTime(n) {
                    this.recordTime(n, this.validatetIime)
                }
            }, {
                key: "recordUploadTime",
                value: function recordUploadTime(n) {
                    this.recordTime(n, this.uploadTime)
                }
            }, {
                key: "recordTranscodeTime",
                value: function recordTranscodeTime(n) {
                    this.recordTime(n, this.transcodeTime)
                }
            }, {
                key: "recordFrameTime",
                value: function recordFrameTime(n) {
                    this.recordTime(n, this.frameTime)
                }
            }, {
                key: "recordPublishTime",
                value: function recordPublishTime(n) {
                    this.recordTime(n, this.publishTime)
                }
            }, {
                key: "uploaded",
                value: function uploaded(n) {
                    var d = Date.now()
                      , v = +(n / 1024 / 1024).toFixed(2);
                    this.data.uploadDuration = d - this.startTime,
                    this.data.uploadSpeed = v / (this.data.uploadDuration / 1e3)
                }
            }, {
                key: "transcodeEnd",
                value: function transcodeEnd() {
                    var n = Date.now();
                    this.data.transcodeDuration = n - this.startTime
                }
            }, {
                key: "endHandleVideo",
                value: function endHandleVideo(n, d) {
                    this.videoId = n,
                    this.needTranscode = d,
                    this.totalTime = Date.now() - this.startTime,
                    this.flush({
                        stage: this.stage,
                        validatetIime: JSON.stringify(this.validatetIime),
                        uploadTime: JSON.stringify(this.uploadTime),
                        transcodeTime: JSON.stringify(this.transcodeTime),
                        frameTime: JSON.stringify(this.frameTime),
                        videoId: this.videoId,
                        needTranscode: this.needTranscode
                    })
                }
            }, {
                key: "end",
                value: function end(n, d) {
                    this.videoId = n,
                    this.needTranscode = d,
                    this.totalTime = Date.now() - this.startTime,
                    this.flush({
                        stage: this.stage,
                        validatetIime: JSON.stringify(this.validatetIime),
                        uploadTime: JSON.stringify(this.uploadTime),
                        transcodeTime: JSON.stringify(this.transcodeTime),
                        frameTime: JSON.stringify(this.frameTime),
                        publishTime: JSON.stringify(this.publishTime),
                        videoId: this.videoId,
                        needTranscode: this.needTranscode,
                        totalTime: this.totalTime
                    })
                }
            }]),
            TimingVideoTracker
        }())
          , S = new (function() {
            function TimingImageTracker() {
                (0,
                m._)(this, TimingImageTracker),
                (0,
                y._)(this, "name", "timing-iamge-tracker"),
                (0,
                y._)(this, "startTime", 0),
                (0,
                y._)(this, "validatetIime", {
                    start: 0,
                    end: 0,
                    duration: 0
                }),
                (0,
                y._)(this, "uploadTime", {
                    start: 0,
                    end: 0,
                    duration: 0
                }),
                (0,
                y._)(this, "publishTime", {
                    start: 0,
                    end: 0,
                    duration: 0
                }),
                (0,
                y._)(this, "totalTime", 0),
                (0,
                y._)(this, "stage", ""),
                (0,
                y._)(this, "data", {})
            }
            return (0,
            h._)(TimingImageTracker, [{
                key: "flush",
                value: function flush(n) {
                    var d, v, m;
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || null === (d = v.push) || void 0 === d || d.call(v, {
                        measurement_name: "sns_web_publish_timing_image",
                        measurement_data: (0,
                        k._)((0,
                        N._)({}, n), {
                            stage: this.stage,
                            validatetIime: JSON.stringify(this.validatetIime),
                            uploadTime: JSON.stringify(this.uploadTime),
                            publishTime: JSON.stringify(this.publishTime),
                            totalTime: this.totalTime
                        })
                    }, "ApmXrayTracker")
                }
            }, {
                key: "start",
                value: function start(n) {
                    this.startTime = Date.now(),
                    this.stage = n
                }
            }, {
                key: "recordTime",
                value: function recordTime(n, d) {
                    d[n] = Date.now(),
                    "end" === n && (d.duration = d.end - d.start)
                }
            }, {
                key: "recordValidateTime",
                value: function recordValidateTime(n) {
                    this.recordTime(n, this.validatetIime)
                }
            }, {
                key: "recordUploadTime",
                value: function recordUploadTime(n) {
                    this.recordTime(n, this.uploadTime)
                }
            }, {
                key: "recordPublishTime",
                value: function recordPublishTime(n) {
                    this.recordTime(n, this.publishTime)
                }
            }, {
                key: "end",
                value: function end() {
                    this.totalTime = Date.now() - this.startTime,
                    this.flush(this.data)
                }
            }]),
            TimingImageTracker
        }())
    },
    67227: function(n, d, v) {
        "use strict";
        v.d(d, {
            Db: function() {
                return C
            },
            s1: function() {
                return I
            }
        });
        var m = v(46490)
          , h = v(90251)
          , y = v(51606)
          , N = v(70879)
          , k = v(27337);
        v(86651),
        v(7608);
        var I = new (function() {
            function VideoUploadTracker() {
                (0,
                m._)(this, VideoUploadTracker),
                (0,
                y._)(this, "name", "upload-video-tracker")
            }
            return (0,
            h._)(VideoUploadTracker, [{
                key: "flush",
                value: function flush(n) {
                    var d, v, m;
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || null === (d = v.push) || void 0 === d || d.call(v, {
                        measurement_name: "sns_web_publish_upload_video",
                        measurement_data: n
                    }, "ApmXrayTracker")
                }
            }, {
                key: "trackerEnterUploadPage",
                value: function trackerEnterUploadPage() {
                    this.flush({
                        event: "enterUploadPage"
                    })
                }
            }, {
                key: "trackerVideoUploadClick",
                value: function trackerVideoUploadClick() {
                    this.flush({
                        event: "uploadFileClick"
                    })
                }
            }, {
                key: "trackerEnterPublishPage",
                value: function trackerEnterPublishPage() {
                    this.flush({
                        event: "enterPublishPage"
                    })
                }
            }, {
                key: "trackerVideoQueryMediaInfoBefore",
                value: function trackerVideoQueryMediaInfoBefore() {
                    this.flush({
                        event: "queryMediaInfoBefore"
                    })
                }
            }, {
                key: "trackerVideoQueryMediaInfoSuccess",
                value: function trackerVideoQueryMediaInfoSuccess(n) {
                    this.flush((0,
                    N._)({
                        event: "queryMediaInfo",
                        result: "success"
                    }, n))
                }
            }, {
                key: "trackerVideoQueryMediaInfoFailed",
                value: function trackerVideoQueryMediaInfoFailed(n) {
                    this.flush((0,
                    N._)({
                        event: "queryMediaInfo",
                        result: "failed"
                    }, n))
                }
            }, {
                key: "trackerVideoUploadBefore",
                value: function trackerVideoUploadBefore() {
                    this.flush({
                        event: "uploadBefore"
                    })
                }
            }, {
                key: "trackUploadCatch",
                value: function trackUploadCatch(n) {
                    this.flush({
                        message: (null == n ? void 0 : n.message) || "",
                        stack: (null == n ? void 0 : n.stack) || "",
                        event: "uploadCatch"
                    })
                }
            }, {
                key: "trackerVideoUploadResult",
                value: function trackerVideoUploadResult(n) {
                    this.flush((0,
                    k._)((0,
                    N._)({}, n), {
                        event: "uploadResult"
                    }))
                }
            }, {
                key: "trackerVideoUploadSuccess",
                value: function trackerVideoUploadSuccess(n) {
                    this.flush((0,
                    N._)({
                        event: "upload",
                        result: "success"
                    }, n))
                }
            }, {
                key: "trackerVideoUploadFailed",
                value: function trackerVideoUploadFailed(n) {
                    this.flush((0,
                    N._)({
                        event: "upload",
                        result: "failed"
                    }, n))
                }
            }, {
                key: "trackerVideoServerGeneratorVideoIdFailed",
                value: function trackerVideoServerGeneratorVideoIdFailed(n) {
                    this.flush((0,
                    N._)({
                        event: "serverGeneratorVideoId",
                        result: "failed"
                    }, n))
                }
            }, {
                key: "trackerVideoFeGeneratorVideoIdSuccess",
                value: function trackerVideoFeGeneratorVideoIdSuccess() {
                    this.flush({
                        event: "feGeneratorVideoId",
                        result: "success"
                    })
                }
            }, {
                key: "trackerVideoFeGeneratorVideoIdFailed",
                value: function trackerVideoFeGeneratorVideoIdFailed(n) {
                    this.flush((0,
                    N._)({
                        event: "feGeneratorVideoId",
                        result: "failed"
                    }, n))
                }
            }, {
                key: "trackerVideoWorkflowBefore",
                value: function trackerVideoWorkflowBefore(n) {
                    this.flush((0,
                    N._)({
                        event: "workflowBefore"
                    }, n))
                }
            }, {
                key: "trackerVideoWorkflowSuccess",
                value: function trackerVideoWorkflowSuccess(n) {
                    this.flush((0,
                    N._)({
                        event: "workflow",
                        result: "success"
                    }, n))
                }
            }, {
                key: "trackerVideoWorkflowFailed",
                value: function trackerVideoWorkflowFailed(n) {
                    this.flush((0,
                    N._)({
                        event: "workflow",
                        result: "failed"
                    }, n))
                }
            }]),
            VideoUploadTracker
        }())
          , C = new (function() {
            function ImageUploadTracker() {
                (0,
                m._)(this, ImageUploadTracker),
                (0,
                y._)(this, "name", "upload-image-tracker")
            }
            return (0,
            h._)(ImageUploadTracker, [{
                key: "flush",
                value: function flush(n) {
                    var d, v, m;
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || null === (d = v.push) || void 0 === d || d.call(v, {
                        measurement_name: "sns_web_publish_upload_image",
                        measurement_data: n
                    }, "ApmXrayTracker")
                }
            }, {
                key: "trackerEnterUploadPage",
                value: function trackerEnterUploadPage() {
                    this.flush({
                        event: "enterUploadPage"
                    })
                }
            }, {
                key: "trackerImageUploadClick",
                value: function trackerImageUploadClick() {
                    this.flush({
                        event: "uploadFileClick"
                    })
                }
            }, {
                key: "trackerEnterPublishPage",
                value: function trackerEnterPublishPage() {
                    this.flush({
                        event: "enterPublishPage"
                    })
                }
            }, {
                key: "trackerImageValidFailed",
                value: function trackerImageValidFailed(n) {
                    this.flush((0,
                    N._)({
                        event: "imageValidFailed"
                    }, n))
                }
            }, {
                key: "trackerImageTreatBefore",
                value: function trackerImageTreatBefore() {
                    this.flush({
                        event: "imageTreatBefore"
                    })
                }
            }, {
                key: "trackerImageTreatSuccess",
                value: function trackerImageTreatSuccess(n) {
                    this.flush((0,
                    N._)({
                        event: "imageTreat",
                        result: "success"
                    }, n))
                }
            }, {
                key: "trackerImageTreatFailed",
                value: function trackerImageTreatFailed(n) {
                    this.flush((0,
                    N._)({
                        event: "imageTreat",
                        result: "failed"
                    }, n))
                }
            }, {
                key: "trackerImageUploadBefore",
                value: function trackerImageUploadBefore() {
                    this.flush({
                        event: "uploadBefore"
                    })
                }
            }, {
                key: "trackerImageUploadSuccess",
                value: function trackerImageUploadSuccess(n) {
                    this.flush((0,
                    N._)({
                        event: "upload",
                        result: "success"
                    }, n))
                }
            }, {
                key: "trackerImageUploadFailed",
                value: function trackerImageUploadFailed(n) {
                    this.flush((0,
                    N._)({
                        event: "upload",
                        result: "failed"
                    }, n))
                }
            }, {
                key: "trackerImageUploadFileCatch",
                value: function trackerImageUploadFileCatch(n) {
                    this.flush({
                        event: "uploadCatch",
                        message: (null == n ? void 0 : n.message) || "文件上传走到了catch",
                        stack: null == n ? void 0 : n.stack,
                        err: JSON.stringify(n || {})
                    })
                }
            }, {
                key: "trackImageUploadStep",
                value: function trackImageUploadStep(n) {
                    this.flush({
                        event: "uploadImageStep",
                        step: n
                    })
                }
            }, {
                key: "trackImageCropSize",
                value: function trackImageCropSize(n) {
                    this.flush({
                        event: "imageCropSize",
                        size: n
                    })
                }
            }]),
            ImageUploadTracker
        }())
    },
    91583: function(n, d, v) {
        "use strict";
        v.d(d, {
            qb: function() {
                return Q
            },
            b5: function() {
                return W
            },
            rt: function() {
                return eo.rt
            },
            R9: function() {
                return z
            },
            Q5: function() {
                return ea
            },
            tK: function() {
                return eo.tK
            },
            cl: function() {
                return en
            },
            LQ: function() {
                return q
            },
            KV: function() {
                return X
            },
            br: function() {
                return eo.br
            },
            QZ: function() {
                return G
            },
            wK: function() {
                return H
            },
            QD: function() {
                return $.Q
            },
            QO: function() {
                return ee
            },
            wW: function() {
                return Y
            },
            qR: function() {
                return er
            },
            kF: function() {
                return J
            },
            Eb: function() {
                return K
            },
            eE: function() {
                return $.e
            },
            vH: function() {
                return eo.vH
            },
            h6: function() {
                return et
            },
            th: function() {
                return Z
            }
        });
        var m, h, y, N, k, I, C, x, M, S, _, V, B, O, R, U, z = ((m = {}).PosterizeSuccess = "posterize success",
        m.PosterizeFail = "posterize fail",
        m.ExtractFrameSuccess = "extract frame success",
        m.ExtractFrameFail = "extract frame fail",
        m.UploadSuccesss = "upload success",
        m.UploadFail = "upload fail",
        m);
        var Z = ((h = {}).Success = "success",
        h.Failed = "failed",
        h.Hide = "hide",
        h.Loading = "loading",
        h);
        var Q = ((y = {})[y.Initial = 0] = "Initial",
        y[y.Analyze = 1] = "Analyze",
        y[y.Uploading = 2] = "Uploading",
        y[y.Transcoding = 3] = "Transcoding",
        y[y.Frame = 4] = "Frame",
        y[y.Preview = 5] = "Preview",
        y[y.Cancel = 6] = "Cancel",
        y[y.Fail = 7] = "Fail",
        y[y.NotUploaded = 8] = "NotUploaded",
        y);
        var J = ((N = {}).ExtractFrameSuccess = "extract frame success",
        N.ExtractFrameFail = "extract frame fail",
        N);
        var H = ((k = {})[k.Common = 0] = "Common",
        k[k.Goods = 1] = "Goods",
        k);
        var G = ((I = {}).USER = "USER",
        I.LOCATION_PAGE = "LOCATION_PAGE",
        I.GOODS_V2 = "GOODS_V2",
        I.LOCATION = "LOCATION",
        I.GOODS_BAIDU = "GOODS_BAIDU",
        I);
        var Y = ((C = {})[C.preRender = -1] = "preRender",
        C[C.preUpload = 0] = "preUpload",
        C[C.uploading = 1] = "uploading",
        C[C.uploadSuccess = 2] = "uploadSuccess",
        C[C.uploadFailed = 3] = "uploadFailed",
        C[C.beforeFetchCDNUrl = 4] = "beforeFetchCDNUrl",
        C[C.afterFetchCDNUrl = 5] = "afterFetchCDNUrl",
        C);
        var W = ((x = {}).VideoValidate = "videoValidate",
        x.VideoUpload = "videoUpload",
        x.VideoTranscode = "videoTranscode",
        x.VideoId = "VideoId",
        x.VideoCover = "videoCover",
        x.VideoMarker = "videoMarker",
        x.VideoPublish = "videoPublish",
        x.ImagePublish = "imagePublish",
        x.UseDraft = "useDraft",
        x.CommonLog = "commonLog",
        x.VideoWorkFlow = "workflow",
        x);
        var q = ((M = {}).JSONParseError = "json parse error",
        M.VideoSelected = "video selected",
        M.VideoUploaded = "video uploaded",
        M.VideoCanPlay = "video canplay",
        M);
        var X = ((S = {}).UseDraftSuccess = "use draft success",
        S.UseDraftFail = "use draft fail",
        S);
        var K = ((_ = {}).GetFormDataSuccess = "get formData success",
        _.GetFormDataFail = "get formData fail",
        _.PostSuccess = "post success",
        _.PostFail = "post fail",
        _)
          , $ = v(79150);
        var ee = ((V = {})[V.Video = 0] = "Video",
        V[V.Image = 1] = "Image",
        V);
        var et = ((B = {}).red = "red",
        B.blue = "blue",
        B);
        var en = ((O = {})[O.Upload = 0] = "Upload",
        O[O.Publish = 1] = "Publish",
        O);
        var ea = ((R = {})[R.TOPIC = 1] = "TOPIC",
        R[R.BRAND = 2] = "BRAND",
        R[R.GOODS = 3] = "GOODS",
        R[R.LOOK = 4] = "LOOK",
        R[R.COUNTRY = 5] = "COUNTRY",
        R[R.AREA = 6] = "AREA",
        R[R.LOCATION = 7] = "LOCATION",
        R[R.USER = 8] = "USER",
        R[R.VENDOR = 9] = "VENDOR",
        R[R.BRAND_PAGE = 10] = "BRAND_PAGE",
        R[R.TOPIC_PAGE = 11] = "TOPIC_PAGE",
        R[R.LOCATION_PAGE = 12] = "LOCATION_PAGE",
        R[R.CUSTOM = 13] = "CUSTOM",
        R[R.MOVIE_PAGE = 14] = "MOVIE_PAGE",
        R[R.RECORD = 15] = "RECORD",
        R[R.BOOK_PAGE = 16] = "BOOK_PAGE",
        R[R.MOMENT = 17] = "MOMENT",
        R)
          , eo = v(63340);
        var er = ((U = {}).success = "success",
        U.httpFail = "http fail exceed max times",
        U.timeout = "transcode time exceed transcodeTimeout",
        U.cancel = "cancel",
        U.progressNotChange = "progress not change",
        U)
    },
    79150: function(n, d, v) {
        "use strict";
        v.d(d, {
            Q: function() {
                return N
            },
            e: function() {
                return y
            }
        });
        var m, h, y = ((m = {})[m.AboveSettings = 1] = "AboveSettings",
        m[m.UnderSettings = 2] = "UnderSettings",
        m[m.MoreSettings = 3] = "MoreSettings",
        m[m.Commerce = 4] = "Commerce",
        m[m.Extension = 5] = "Extension",
        m[m.ContentEditor = 6] = "ContentEditor",
        m[m.VideoCover = 7] = "VideoCover",
        m);
        var N = ((h = {}).InteractionPermissionBind = "interactionPermissionBind",
        h.PublishType = "publishType",
        h.VideoUrl = "videoUrl",
        h.TranscodeVideoUrl = "transcodeVideoUrl",
        h.Exacting = "exacting",
        h.CoverUrl = "coverUrl",
        h.CoverImgList = "coverImgList",
        h.Video = "video",
        h.Status = "status",
        h.Cover = "cover",
        h.VideoMeta = "videoMeta",
        h.AudioMeta = "audioMeta",
        h.VideoMarksExtends = "videoMarksExtends",
        h.ImgList = "imgList",
        h.CoOrderId = "coOrderId",
        h.PrivacyInfo = "privacyInfo",
        h.Source = "source",
        h.NoteType = "noteType",
        h.UpdateTemp = "updateTemp",
        h.SelectedOrder = "selectedOrder",
        h.NoteId = "noteId",
        h.SystemId = "systemId",
        h.Theme = "theme",
        h.ThemeColor = "themeColor",
        h.PostLoc = "postLoc",
        h.PostLocs = "postLocs",
        h.GroupBind = "groupBind",
        h.CollectionId = "collectionId",
        h.NoteSketch = "noteSketch",
        h.IsCanUseGoods = "isCanUseGoods",
        h.IsCanUseOrder = "isCanUseOrder",
        h.IsCanBindNoteSketch = "isCanBindNoteSketch",
        h.NoteSketchExclusiveText = "noteSketchExclusiveText",
        h.IsCanBindCollection = "isCanBindCollection",
        h.CollectionExclusiveText = "collectionExclusiveText",
        h.IsCanBindLiveReservation = "isCanBindLiveReservation",
        h.LiveReservationExclusiveText = "liveReservationExclusiveText",
        h.IsCanBindLiveNotice = "isCanBindLiveNotice",
        h.LiveNoticeExclusiveText = "liveNoticeExclusiveText",
        h.GoodsExclusiveText = "goodsExclusiveText",
        h.OrderExclusiveText = "orderExclusiveText",
        h.Track = "track",
        h.GoodsContext = "goodsContext",
        h.OrderContext = "orderContext",
        h.CoverContext = "coverContext",
        h.SetGoodsInfo = "setGoodsInfo",
        h.SetGoodsDetail = "setGoodsDetail",
        h.SetGoodsPreviewDetail = "setGoodsPreviewDetail",
        h.UserInfo = "userInfo",
        h.BizRelationContext = "bizRelationContext",
        h.AddBizRelation = "addBizRelation",
        h.RemoveBizRelation = "removeBizRelation",
        h.LiveNoticeBind = "liveNoticeBind",
        h.LiveReservationBind = "liveReservationBind",
        h.LiveContext = "liveContext",
        h.Quill = "quill",
        h.NeedTranscode = "needTranscode",
        h.VideoBlobUrl = "videoBlobUrl",
        h.VideoRotation = "videoRotation",
        h.RecommendCovers = "recommendCovers",
        h.RecommendCoversStatus = "recommendCoversStatus",
        h.FirstFrameCover = "firstFrameCover",
        h.FirstFrameCoverUrl = "firstFrameCoverUrl",
        h.UseCoverTemplate = "useCoverTemplate",
        h)
    },
    63340: function(n, d, v) {
        "use strict";
        v.d(d, {
            $B: function() {
                return C
            },
            br: function() {
                return S
            },
            rt: function() {
                return _
            },
            tK: function() {
                return x
            },
            vH: function() {
                return M
            }
        });
        var m, h, y, N, k, I = v(51606);
        var C = ((m = {})[m.Empty = 0] = "Empty",
        m[m.Show = 1] = "Show",
        m[m.AiSynthesis = 2] = "AiSynthesis",
        m[m.SelfLabeled = 3] = "SelfLabeled",
        m[m.SelfShooting = 4] = "SelfShooting",
        m[m.SourceMedia = 5] = "SourceMedia",
        m);
        var x = ((h = {})[h.NotBind = 0] = "NotBind",
        h[h.Bind = 1] = "Bind",
        h);
        var M = ((y = {})[y.Public = 0] = "Public",
        y[y.Private = 1] = "Private",
        y[y.PartiallyInvisible = 2] = "PartiallyInvisible",
        y[y.PartiallyVisible = 3] = "PartiallyVisible",
        y[y.OnlyToFriends = 4] = "OnlyToFriends",
        y)
          , S = (k = {},
        (0,
        I._)(k, 0, "公开可见"),
        (0,
        I._)(k, 1, "仅自己可见"),
        (0,
        I._)(k, 2, "部分人不可见"),
        (0,
        I._)(k, 3, "部分人可见"),
        (0,
        I._)(k, 4, "仅互关好友可见"),
        k);
        var _ = ((N = {})[N.All = 0] = "All",
        N[N.Intercorrelation = 1] = "Intercorrelation",
        N[N.Fans = 2] = "Fans",
        N[N.None = 3] = "None",
        N)
    },
    82345: function(n, d, v) {
        "use strict";
        v.d(d, {
            EZ: function() {
                return checkTopicLength
            },
            Ht: function() {
                return generateTraceId
            },
            JZ: function() {
                return createSearchId
            },
            Jr: function() {
                return base64ToBlob
            },
            Ll: function() {
                return base64ToFile
            },
            Uu: function() {
                return getObjectURL
            },
            hl: function() {
                return blobToFile
            },
            ln: function() {
                return resizeImageByLimit
            },
            tg: function() {
                return resizeImage
            },
            w8: function() {
                return blobToBase64
            }
        });
        var m = v(41622)
          , h = v(377);
        function base64ToFile(n) {
            for (var d, v = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "cover.jpeg", m = n.split(","), h = null === (d = m[0].match(/:(.*?);/)) || void 0 === d ? void 0 : d[1], y = atob(m[1]), N = y.length, k = new Uint8Array(N); N--; )
                k[N] = y.charCodeAt(N);
            return new File([new Blob([k],{
                type: h
            })],v)
        }
        function blobToFile(n, d) {
            return new File([n],d,{
                type: "image/jpeg",
                lastModified: Date.now()
            })
        }
        v(99808),
        v(58486),
        v(95477),
        v(13768),
        v(45697),
        v(91004),
        v(18638),
        v(96336),
        v(87168),
        v(14190),
        v(4137),
        v(70805),
        v(5317),
        v(81167),
        v(22583),
        v(89655),
        v(88598),
        v(11530),
        v(16765),
        v(3398),
        v(90621),
        v(35904),
        v(73982),
        v(87683),
        v(59735),
        v(69167),
        v(27151),
        v(95341),
        v(53395),
        v(10074),
        v(31899),
        v(98398),
        v(94837),
        v(53077),
        v(14340),
        v(31578),
        v(46521),
        v(49932),
        v(78246),
        v(34333),
        v(27461),
        v(62444),
        v(34076),
        v(12334),
        v(68802),
        v(76267),
        v(83257),
        v(90834),
        v(907),
        v(18552),
        v(87989),
        v(80156),
        v(50721),
        v(29112),
        v(67275),
        v(59989),
        v(7099),
        v(23339),
        v(51109),
        v(36277);
        function generateTraceId() {
            for (var n = "", d = 0; d < 16; d++)
                n += "abcdef0123456789".charAt(Math.floor(16 * Math.random()));
            return n
        }
        function rand(n, d) {
            return Math.floor(Math.random() * (d - n)) + n
        }
        function createSearchId() {
            return "".concat(Date.now(), ".").concat(rand(1e3, 9999))
        }
        function getObjectURL(n) {
            var d = null;
            return void 0 !== window.URL ? d = window.URL.createObjectURL(n) : void 0 !== window.createObjectURL ? d = window.createObjectURL(n) : void 0 !== window.webkitURL && (d = window.webkitURL.createObjectURL(n)),
            d
        }
        function resizeImageByLimit(n) {
            return _resizeImageByLimit.apply(this, arguments)
        }
        function _resizeImageByLimit() {
            return (_resizeImageByLimit = (0,
            m._)(function(n) {
                return (0,
                h.Jh)(this, function(d) {
                    return [2, new Promise(function(d) {
                        var v = getObjectURL(n)
                          , m = new Image;
                        m.crossOrigin = "Anonymous",
                        m.src = v,
                        m.onload = function() {
                            var v = m.width
                              , h = m.height
                              , y = v / h
                              , N = v
                              , k = h;
                            y > 2 ? k = v / (y = 2) : y < .75 && (N = h * (y = .75));
                            var I = document.createElement("canvas")
                              , C = I.getContext("2d");
                            if (!!C)
                                I.width = N,
                                I.height = k,
                                C.fillStyle = "#FFFFFF",
                                C.fillRect(0, 0, N, k),
                                C.drawImage(m, (N - v) / 2, (k - h) / 2, v, h),
                                I.toBlob(function(v) {
                                    if (!!v) {
                                        var m = blobToFile(v, n.name);
                                        m.width = N,
                                        m.height = k,
                                        m.ratio = y,
                                        d(m)
                                    }
                                })
                        }
                    }
                    )]
                })
            })).apply(this, arguments)
        }
        function resizeImage(n, d) {
            return _resizeImage.apply(this, arguments)
        }
        function _resizeImage() {
            return (_resizeImage = (0,
            m._)(function(n, d) {
                return (0,
                h.Jh)(this, function(v) {
                    return [2, new Promise(function(v) {
                        var m = getObjectURL(n)
                          , h = new Image;
                        h.crossOrigin = "Anonymous",
                        h.src = m,
                        h.onload = function() {
                            var m = h.width
                              , y = m / h.height
                              , N = d || m
                              , k = N / y
                              , I = document.createElement("canvas")
                              , C = I.getContext("2d");
                            if (!!C)
                                I.width = N,
                                I.height = k,
                                C.drawImage(h, 0, 0, N, k),
                                I.toBlob(function(d) {
                                    if (!!d) {
                                        var m = blobToFile(d, n.name);
                                        m.width = N,
                                        m.height = k,
                                        m.ratio = y,
                                        v(m)
                                    }
                                })
                        }
                    }
                    )]
                })
            })).apply(this, arguments)
        }
        var checkTopicLength = function(n) {
            return new DOMParser().parseFromString(n, "text/html").querySelectorAll(".mention[data-topic]").length
        }
          , blobToBase64 = function(n) {
            return new Promise(function(d) {
                var v = new FileReader;
                v.onloadend = function() {
                    return d(v.result)
                }
                ,
                v.readAsDataURL(n)
            }
            )
        }
          , base64ToBlob = function(n) {
            for (var d = n.split(";base64,"), v = d[0].split(":")[1], m = window.atob(d[1]), h = m.length, y = new Uint8Array(h), N = 0; N < h; ++N)
                y[N] = m.charCodeAt(N);
            return new Blob([y],{
                type: v
            })
        }
    },
    47362: function(n, d, v) {
        "use strict";
        v.d(d, {
            L: function() {
                return getToken
            }
        });
        var m = v(41622)
          , h = v(70879)
          , y = v(27337)
          , N = v(377);
        v(41593);
        var k = v(22212).dJ.get;
        function getToken(n) {
            var d;
            return k("UPLOADER_TOKEN", {
                params: (0,
                y._)((0,
                h._)({}, n), {
                    version: 1,
                    source: "web"
                })
            }, {
                transform: !0
            }).catch((d = (0,
            m._)(function(n) {
                return (0,
                N.Jh)(this, function(d) {
                    throw Error("get token error:", n)
                })
            }),
            function(n) {
                return d.apply(this, arguments)
            }
            ))
        }
    },
    40529: function(n, d, v) {
        "use strict";
        v.d(d, {
            Js: function() {
                return getInitialTrackerParams
            },
            O6: function() {
                return getInitialQueryParams
            },
            hd: function() {
                return setInitialTrackerParams
            },
            kG: function() {
                return initQueryParams
            },
            pm: function() {
                return getQuery
            }
        });
        var m = v(70879)
          , h = v(27337);
        v(58051),
        v(80156),
        v(50721),
        v(29112),
        v(67275),
        v(59989),
        v(7099),
        v(27461),
        v(23339),
        v(51109),
        v(34333),
        v(82427),
        v(36062),
        v(57057),
        v(97357);
        var y = {}
          , N = {}
          , k = ["source"]
          , setInitialTrackerParams = function(n) {
            Object.assign(y, n)
        }
          , setInitialQueryParams = function(n) {
            Object.assign(N, n)
        }
          , getQuery = function(n) {
            return new URL(window.location.href).searchParams.get(n)
        }
          , getInitialTrackerParams = function() {
            return y
        }
          , I = getQuery("__debugger__")
          , C = getQuery("proxy")
          , getInitialQueryParams = function() {
            return I || C ? (0,
            h._)((0,
            m._)({}, N), {
                __debugger__: I,
                proxy: C
            }) : N
        }
          , initQueryParams = function() {
            var n = k.reduce(function(n, d) {
                var v = getQuery(d);
                return v && (n[d] = v),
                n
            }, {});
            setInitialQueryParams(n),
            setInitialTrackerParams({
                channelType: n.source
            })
        }
    },
    71837: function(n, d, v) {
        "use strict";
        v.d(d, {
            A: function() {
                return C
            }
        });
        var m = v(88771);
        function render(n, d, v, h, y, N) {
            var k = (0,
            m.resolveComponent)("BeerIcon");
            return (0,
            m.openBlock)(),
            (0,
            m.createElementBlock)("div", {
                class: (0,
                m.normalizeClass)(["creator-publish-toast", v.type])
            }, [(0,
            m.createVNode)(k, {
                size: 14,
                bs: {
                    mr: 8,
                    verticalAlign: "inherit"
                },
                color: N.getColor(v.type),
                "icon-path": N.getIcon(v.type),
                "data-icon": "type"
            }, null, 8, ["color", "icon-path"]), (0,
            m.createTextVNode)(" " + (0,
            m.toDisplayString)(v.message), 1)], 2)
        }
        v(9557);
        var h = v(34628)
          , y = v(11363)
          , N = {
            name: "Toast",
            components: {
                BeerIcon: y.Z
            },
            props: {
                message: {
                    type: String,
                    required: !0
                },
                duration: {
                    type: Number,
                    default: 5e4
                },
                type: {
                    type: String,
                    default: "info"
                }
            },
            methods: {
                getIcon: function(n) {
                    if ("noIcon" !== n)
                        return (0,
                        h.Z)(n)
                },
                getColor: function(n) {
                    switch (n) {
                    case "error":
                        return "#FF525D";
                    case "success":
                        return "rgb(40, 188, 119)";
                    case "warning":
                        return "#FFAD33";
                    case "info":
                        return "#3A8DFF";
                    default:
                        return null
                    }
                }
            }
        };
        let k = (0,
        v(97104).default)(N, [["render", render], ["__scopeId", "data-v-383fed33"]]);
        var I = document.createElement("div");
        document.body.appendChild(I);
        var handleShowToast = function(n, d, v) {
            (0,
            m.createApp)({
                setup: function() {
                    var n = (0,
                    m.ref)(!1)
                      , showToast = function() {
                        n.value = !0,
                        setTimeout(function() {
                            n.value = !1,
                            I.innerHTML = ""
                        }, d)
                    };
                    return (0,
                    m.onMounted)(function() {
                        showToast()
                    }),
                    {
                        show: n
                    }
                },
                render: function() {
                    return (0,
                    m.h)(k, {
                        message: n,
                        duration: d,
                        type: v
                    })
                }
            }).mount(I)
        }
          , C = {
            warning: function(n) {
                var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3e3;
                handleShowToast(n, d, "warning")
            },
            info: function(n) {
                var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3e3;
                handleShowToast(n, d, "info")
            },
            success: function(n) {
                var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3e3;
                handleShowToast(n, d, "success")
            },
            error: function(n) {
                var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3e3;
                handleShowToast(n, d, "error")
            },
            noIcon: function(n) {
                var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3e3;
                handleShowToast(n, d, "noIcon")
            }
        }
    },
    19683: function(n, d, v) {
        "use strict";
        v.d(d, {
            yt: function() {
                return Z
            },
            ZP: function() {
                return Q
            },
            Gy: function() {
                return getProxy
            }
        });
        var m = v(70879);
        v(80156),
        v(50721),
        v(29112),
        v(67275),
        v(59989),
        v(7099),
        v(27461),
        v(23339),
        v(51109),
        v(34333),
        v(87989),
        v(109),
        v(54060),
        v(58486),
        v(20266),
        v(55947),
        v(95477);
        var h = v(8757)
          , getLoginDomain = function() {
            var n = "";
            if (h.Gg)
                return n = "https://www.xiaohongshu.com";
            var d = (0,
            h.Gy)();
            return d ? n = "https://logan.devops.xiaohongshu.com/proxy/".concat(d) : (h.FJ && (n = "https://www.sit.xiaohongshu.com"),
            h.hN && (n = "https://www.beta.xiaohongshu.com"),
            n)
        }
          , getEdithDomain = function() {
            var n = "";
            if (h.Gg)
                return n = "https://edith.xiaohongshu.com";
            var d = (0,
            h.Gy)();
            return d ? n = "https://logan.devops.xiaohongshu.com/proxy/".concat(d) : (h.FJ && (n = "https://edith.sit.xiaohongshu.com"),
            h.hN && (n = "https://edith.beta.xiaohongshu.com"),
            n)
        }
          , getCreatorDomain = function() {
            var n = "";
            if (h.Gg)
                return n = "https://creator.xiaohongshu.com";
            var d = (0,
            h.Gy)();
            return d ? n = "https://logan.devops.xiaohongshu.com/proxy/".concat(d) : (h.FJ && (n = "https://creator.sit.xiaohongshu.com"),
            h.hN && (n = "https://creator.beta.xiaohongshu.com"),
            n)
        }
          , y = getLoginDomain()
          , N = getEdithDomain()
          , k = (0,
        m._)({}, {
            GET_NPS_DISPLAY_INFO: "".concat(y, "/web_api/sns/v5/creator/nps/showstatus"),
            ADD_NPS_FEEDBACK: "".concat(y, "/web_api/sns/v5/creator/nps/feedback/web")
        }, {
            USER_INFO: "/api/galaxy/user/my-info",
            SELF_LOGIN_OUT: "/api/galaxy/user/logout",
            LOGIN_OUT_NEW: "/sso/logout",
            GET_GOODS_PERMISSION: "".concat(N, "/web_api/sns/v2/user/note/permissions")
        }, {
            GET_FRIENDS_AND_FANS_LIST: "".concat(N, "/api/sns/capa/servicegw/note_privacy/user/friend_fans"),
            SEARCH_USER: "".concat(N, "/api/sns/capa/servicegw/note_privacy/search/user"),
            USER_INFO_LIST: "".concat(N, "/api/sns/capa/servicegw/note_privacy/user_info"),
            VISIBLE_INFO: "".concat(N, "/web_api/sns/capa/postgw/note/access_control/visible_info")
        })
          , I = v(27337)
          , C = getLoginDomain()
          , x = getCreatorDomain()
          , M = getEdithDomain()
          , S = (0,
        I._)((0,
        m._)({}, {
            SEND_FEEDBACK: "".concat(C, "/fe_api/burdock/v2/note/feedback")
        }, {
            MCN_DATA_NAMES: "/api/galaxy/mcn/data/query_mcn_names",
            MCN_DATA_SIGN_KOL: "/api/galaxy/mcn/data/query_sign_kol_v2",
            MCN_PRE_LOGIN_TIMES: "/api/galaxy/mcn/login_times/pre_month",
            MCN_AFTER_LOGIN_TIMES: "/api/galaxy/mcn/login_times/after_month",
            MCN_SET_CONFIRM_ENTITY: "/api/galaxy/account/tip/confirm",
            MCN_GET_CONFIRM_ENTITY: "/api/galaxy/account/tip/query"
        }), {
            SSO_LOGIN: "".concat(x, "/sso/customer_login"),
            SSO_LOGOUT: "".concat(x, "/sso/logout"),
            GALAXY_LOGIN: "".concat(x, "/api/galaxy/user/cas/login"),
            GALAXY_LOGOUT: "".concat(x, "/api/galaxy/user/logout"),
            EXTRACT_VIDEO_KEYFRAME: "".concat(C, "/fe_api/burdock/v2/note/extractVideoKeyFrame"),
            GET_TRANSCODE: "".concat(C, "/fe_api/burdock/v2/note/queryTranscode"),
            GET_KEYFRAME: "".concat(C, "/fe_api/burdock/v2/note/queryKeyFrame"),
            UPLOADER_TOKEN: "".concat(M, "/api/media/v1/upload/creator/permit")
        })
          , _ = getEdithDomain()
          , V = getCreatorDomain()
          , B = (0,
        m._)({}, {
            DELETE_NOTE: "".concat(_, "/web_api/sns/capa/postgw/note/delete"),
            VALIDATE: "".concat(_, "/web_api/sns/capa/postgw/permission/validate"),
            QUERY_NOTE_INFO: "".concat(_, "/web_api/sns/capa/postgw/note/detail"),
            UPDATE_NOTE: "".concat(_, "/web_api/sns/capa/postgw/note/update"),
            SET_PRIVACY: "".concat(_, "/web_api/sns/v1/note/privacy"),
            PING_TOP: "".concat(V, "/api/galaxy/creator/sns/note/top"),
            LATEST_NOTE: "".concat(V, "/api/galaxy/creator/home/latest_note_data"),
            NOTE_STATICS: "".concat(V, "/api/galaxy/creator/datacenter/note/base"),
            NOTE_STATICS_OVERVIEW: "".concat(V, "/api/galaxy/creator/data/note_detail_new"),
            SEARCH_NOTE: "".concat(_, "/web_api/sns/v5/creator/note/managemaent/search"),
            USER_POSTED_NOTES: "".concat(_, "/web_api/sns/v5/creator/note/user/posted")
        }, {
            PERMISSION: "".concat(V, "/api/galaxy/creator/datacenter/permission/query"),
            APPLY_PERMISSION: "".concat(V, "/api/galaxy/creator/datacenter/permission/apply"),
            NOTE_ANALYZE_LIST: "".concat(V, "/api/galaxy/creator/datacenter/note/analyze/list"),
            NOTE_ANALYZE_LIST_DOWNLOAD: "".concat(V, "/api/galaxy/creator/datacenter/note/analyze/download"),
            BASE_NOTE_INFO: "".concat(V, "/api/galaxy/creator/datacenter/note/base"),
            AUDIENCE_TREND: "".concat(V, "/api/galaxy/creator/datacenter/note/analyze/audience/trend"),
            AUDIENCE_SOURCE: "".concat(V, "/api/galaxy/creator/datacenter/note/audience/source"),
            AUDIENCE_SOURCE_DETAIL: "".concat(V, "/api/galaxy/creator/datacenter/note/audience/source/detail"),
            DOWNLOAD_CORE_DATA: "".concat(V, "/api/galaxy/creator/datacenter/note/core/data/download"),
            LIVE_ROOMS_LIST: "".concat(V, "/api/galaxy/v2/creator/live_rooms"),
            LIVE_RELATED_NOTE: "".concat(V, "/api/galaxy/v2/creator/live_related_note")
        }, {
            PERSONAL_INFO: "".concat(V, "/api/galaxy/creator/home/personal_info"),
            GROW_LEVEL_RIGHT_MAP: "".concat(V, "/api/galaxy/v2/creator/rightscenter/growthrights/batchquery"),
            GROW_TASK: "".concat(V, "/api/galaxy/v2/creator/portal/authortask")
        }, {
            CREATE_TOPIC: "".concat(V, "/api/galaxy/creator/select/topic/detail"),
            HOT_ACTIVITY: "".concat(_, "/api/resource/delivery/creator/match"),
            GROW_MODEL: "".concat(V, "/api/galaxy/v2/creator/datacenter/leaderboard/recommend")
        }, {
            SCHOOL_LESSON: "".concat(V, "/api/galaxy/creator/data/create_guidance")
        }, {
            QUERY_ACCOUNT_PERMISSION: "".concat(V, "/api/galaxy/creator/datacenter/permission/query"),
            ACCOUNT_DATA_DOWNLOAD: "".concat(V, "/api/galaxy/creator/datacenter/account/analyze/download"),
            QUERY_ACCOUNT_DATA: "".concat(V, "/api/galaxy/v2/creator/datacenter/account/base"),
            QUERY_FANS_DATA: "".concat(V, "/api/galaxy/v2/creator/datacenter/audience/source/account"),
            QUERY_LIVE_DATA: "".concat(V, "/api/galaxy/v2/creator/datacenter/livedata/overview")
        }, {
            COLLECT_MODIFY: "".concat(V, "/api/galaxy/v2/creator/activity_favor"),
            EVENTS_LIST: "".concat(V, "/api/galaxy/v2/creator/activity_center/list"),
            HOT_EVENTS: "".concat(_, "/api/resource/delivery/creator/match")
        }, {
            CREATE_SKIT: "".concat(_, "/api/sns/v1/note/collection/pc/create"),
            UPDATE_SKIT: "".concat(_, "/api/sns/v1/note/collection/pc/update"),
            QUERY_SKIT_LIST: "".concat(_, "/api/sns/v1/note/collection/pc/list"),
            QUERY_SKIT_INFO: "".concat(_, "/api/sns/v1/note/collection/pc/info"),
            QUERY_All_Work_LIST: "".concat(_, "/api/sns/v1/note/collection/pc/candidate_notes"),
            QUERY_WORK_LIST: "".concat(_, "/api/sns/v1/note/collection/pc/list_note_v2"),
            ADD_WORK_SKIT: "".concat(_, "/api/sns/v1/note/collection/pc/add_note"),
            DELETE_Work_SKIT: "".concat(_, "/api/sns/v1/note/collection/pc/remove_note"),
            DRAG_WORK_SKIT: "".concat(_, "/api/sns/v1/note/collection/pc/sorting_note")
        });
        getLoginDomain(),
        getCreatorDomain(),
        getEdithDomain();
        var O = "/api/galaxy/"
          , R = (0,
        m._)({}, {
            MCN_CREDIT_CODE_CHECK: "".concat(O, "creator/mcn_institution_creditCode/check"),
            MCN_SEARCH: "".concat(O, "creator/mcn_institution_name/search"),
            MCN_RENEW_NOTICE: "".concat(O, "mcn/renew/notice"),
            MCN_CONTRACT: "".concat(O, "creator/mcn_institution_info/contract/quick/sign"),
            MCN_RENEW_FEEDBACK: "".concat(O, "mcn/renew/notice/feedback")
        })
          , U = v(61338)
          , getProxy = function() {
            return new URL(window.location.href).searchParams.get("proxy") || ""
        };
        getProxy();
        var z = {
            development: (0,
            U.Yi)(),
            test: (0,
            U.Yi)(),
            prerelease: "",
            production: ""
        }
          , Z = (0,
        m._)({}, S, k, B, R)
          , Q = {
            BASE_CONFIG: {
                defaults: {
                    transform: !1,
                    timeout: 3e4,
                    withCredentials: !0
                }
            },
            BASE_URL: z,
            API_LIST: Z
        }
    },
    59179: function(n, d, v) {
        "use strict";
        v(87989);
        var m = "/mcn/"
          , h = "/creator/";
        d.Z = {
            mcnMenu: [{
                name: "McnHome",
                path: "/newmcn/home",
                title: "首页",
                icon: "logistics-abroad"
            }, {
                name: "McnData",
                path: "".concat(m, "data"),
                title: "数据看板",
                icon: "statistics"
            }, {
                name: "McnManagement",
                path: "",
                title: "MCN管理",
                icon: "order",
                children: [{
                    name: "ContractList",
                    title: "签约管理",
                    path: "".concat(m, "management")
                }, {
                    name: "FinanceManagement",
                    title: "财务管理",
                    path: "".concat(m, "finance")
                }, {
                    name: "KBManagement",
                    title: "自行结算授权管理",
                    path: "".concat(m, "kb-management")
                }]
            }],
            mcnApplyMenu: [{
                name: "McnEntry",
                path: "".concat(m, "mcn-entry"),
                title: "MCN机构入驻",
                icon: "statistics"
            }],
            mcnRenewMenu: [{
                name: "McnRenew",
                path: "".concat(m, "mcn-renew"),
                title: "MCN机构续约",
                icon: "statistics"
            }],
            creatorMenu: [{
                name: "CreatorHome",
                path: "/new/home",
                title: "首页",
                icon: "logistics-abroad"
            }, {
                name: "NoteManage",
                path: "/new/note-manager",
                title: "笔记管理",
                icon: "note-single"
            }],
            newDataPanel: [{
                name: "DataPanel",
                title: "数据看板",
                icon: "statistics",
                children: [{
                    name: "NoteData",
                    title: "账号概览",
                    path: "/statistics/account"
                }, {
                    name: "Analysis",
                    title: "内容分析",
                    path: "/statistics/data-analysis"
                }, {
                    name: "FansData",
                    title: "粉丝数据",
                    path: "".concat(h, "fans")
                }]
            }],
            commonMenu: [{
                name: "Events",
                path: "/new/events",
                title: "活动中心",
                icon: "amenties-special"
            }, {
                name: "noteInspiration",
                path: "/new/inspiration",
                title: "笔记灵感",
                icon: "amenties-entertainment"
            }, {
                name: "CreatorCollege",
                path: "".concat(h, "college"),
                title: "创作学院",
                icon: "activity"
            }, {
                name: "CreatorEncyclopedia",
                path: "".concat(h, "encyclopedia"),
                title: "创作百科",
                icon: "course"
            }],
            totalPermissions: {
                CreatorHome: "creatorHome",
                NoteManage: "creatorNote",
                DataPanel: "creatorData",
                Events: "creatorActivityCenter",
                noteInspiration: "noteInspiration",
                CreatorCollege: "creatorCollege",
                CreatorEncyclopedia: "creatorWiki",
                McnHome: "mcnHome",
                McnData: "mcnData",
                ContractList: "mcnSign",
                FinanceManagement: "mcnFinance",
                KBManagement: "mcnAuthorization",
                McnApply: "mcnApply",
                McnRenew: "mcnRenew",
                NoteSkit: "noteSkit"
            },
            creatorMenuWithSkit: [{
                name: "CreatorHome",
                path: "/new/home",
                title: "首页",
                icon: "logistics-abroad"
            }, {
                title: "内容管理",
                icon: "note-single",
                name: "ContentManage",
                children: [{
                    name: "NoteManage",
                    path: "/new/note-manager",
                    title: "笔记管理"
                }, {
                    name: "SkitManage",
                    path: "/new/skit-manager",
                    title: "短剧管理"
                }]
            }]
        }
    },
    34079: function(n, d, v) {
        "use strict";
        v.d(d, {
            BC: function() {
                return extractVideoKeyFrame
            },
            PL: function() {
                return submitInfo
            },
            ay: function() {
                return getKeyFrame
            },
            r_: function() {
                return getPreLoginTimes
            },
            yT: function() {
                return getAfterLoginTimes
            }
        });
        var m = v(22212)
          , h = m.dJ.post
          , y = m.dJ.get;
        function submitInfo(n) {
            return h("SEND_FEEDBACK", n, {
                transform: !1
            })
        }
        function extractVideoKeyFrame(n) {
            return h("EXTRACT_VIDEO_KEYFRAME", n, {
                transform: !1
            })
        }
        function getKeyFrame(n) {
            return h("GET_KEYFRAME", n, {
                transform: !1
            })
        }
        function getPreLoginTimes() {
            return y("MCN_PRE_LOGIN_TIMES").catch(function() {})
        }
        function getAfterLoginTimes() {
            return y("MCN_AFTER_LOGIN_TIMES").catch(function() {})
        }
    },
    63185: function(n, d, v) {
        "use strict";
        v.d(d, {
            t$: function() {
                return ssoLogout
            }
        });
        var m = v(22212)
          , h = m.dJ.post;
        function ssoLogout(n) {
            return h("SSO_LOGOUT", n, {
                transform: !1
            })
        }
        m.dJ.get
    },
    64239: function(n, d, v) {
        "use strict";
        v.d(d, {
            JA: function() {
                return V
            },
            Jn: function() {
                return getImageUrl
            },
            KQ: function() {
                return _
            },
            Ll: function() {
                return base64ToFile
            },
            Qm: function() {
                return S
            },
            jz: function() {
                return getFileInstance
            },
            pB: function() {
                return screenShot
            },
            pl: function() {
                return generatorMipMap
            }
        });
        var m, h = v(41622), y = v(377);
        v(99808),
        v(58486),
        v(95477),
        v(13768),
        v(45697),
        v(91004),
        v(18638),
        v(96336),
        v(87168),
        v(14190),
        v(4137),
        v(70805),
        v(5317),
        v(81167),
        v(22583),
        v(89655),
        v(88598),
        v(11530),
        v(16765),
        v(3398),
        v(90621),
        v(35904),
        v(73982),
        v(87683),
        v(59735),
        v(69167),
        v(27151),
        v(95341),
        v(53395),
        v(10074),
        v(31899),
        v(98398),
        v(94837),
        v(53077),
        v(14340),
        v(31578),
        v(46521),
        v(49932),
        v(78246),
        v(34333),
        v(27461),
        v(62444),
        v(34076),
        v(12334),
        v(68802),
        v(76267),
        v(83257),
        v(90834),
        v(907),
        v(18552),
        v(36277),
        v(80156),
        v(50721),
        v(29112),
        v(67275),
        v(59989),
        v(7099),
        v(23339),
        v(51109),
        v(86651),
        v(41593),
        v(87989);
        var N = v(27514)
          , k = v(19023)
          , I = v(47362)
          , C = v(56007)
          , x = v.n(C)
          , M = v(22212);
        function base64ToFile(n) {
            for (var d = n.split(","), v = d[0].match(/:(.*?);/)[1], m = atob(d[1]), h = m.length, y = new Uint8Array(h); h--; )
                y[h] = m.charCodeAt(h);
            return new File([new Blob([y],{
                type: v
            })],"cover.jpeg")
        }
        function getFileInstance() {
            return new Promise(function(n, d) {
                var v = document.createElement("input");
                v.type = "file",
                v.multiple = !1,
                v.accept = "image/*,video/*",
                v.click(),
                v.onerror = function(n) {
                    d(n)
                }
                ,
                v.onchange = function(d) {
                    n(d.target.files[0])
                }
            }
            )
        }
        function generatorMipMap(n) {
            return new Promise(function(d, v) {
                var m = setTimeout(function() {
                    v("timeout")
                }, 3e3)
                  , h = document.createElement("canvas")
                  , y = h.getContext("2d")
                  , N = document.createElement("img");
                N.src = n,
                N.crossOrigin = "Anonymous",
                N.onload = function() {
                    h.width = N.width / 10,
                    h.height = N.height / 10,
                    y.drawImage(N, 0, 0, h.width, h.height),
                    clearTimeout(m),
                    d(URL.createObjectURL(base64ToFile(h.toDataURL("image/jpeg"))))
                }
            }
            )
        }
        function screenShot(n) {
            return (0,
            N.hi)(document.getElementById(n), {
                quality: .95
            })
        }
        var S = new k.C({
            scene: "image",
            bizName: "spectrum",
            getToken: I.L
        })
          , _ = new k.C({
            scene: "video",
            bizName: "spectrum",
            getToken: I.L
        });
        function dataURI2Blob(n) {
            return _dataURI2Blob.apply(this, arguments)
        }
        function _dataURI2Blob() {
            return (_dataURI2Blob = (0,
            h._)(function(n) {
                var d, v, m, h, N;
                return (0,
                y.Jh)(this, function(y) {
                    for (N = 0,
                    d = atob(n.split(",")[1]),
                    v = n.split(",")[0].split(":")[1].split(";")[0],
                    h = new Uint8Array(m = new ArrayBuffer(d.length)); N < d.length; N++)
                        h[N] = d.charCodeAt(N);
                    return [2, new Blob([m],{
                        type: v
                    })]
                })
            })).apply(this, arguments)
        }
        var V = (m = (0,
        h._)(function(n) {
            var d, v;
            return (0,
            y.Jh)(this, function(m) {
                switch (m.label) {
                case 0:
                    return [4, dataURI2Blob(n)];
                case 1:
                    d = m.sent(),
                    m.label = 2;
                case 2:
                    return m.trys.push([2, 4, , 5]),
                    [4, S.post({
                        Body: d
                    })];
                case 3:
                    if (!1 === (v = m.sent()).success || !v.data)
                        return [2, Promise.reject(Error(v.msg))];
                    return [2, v.data];
                case 4:
                    return [2, Promise.reject(Error(m.sent()))];
                case 5:
                    return [2]
                }
            })
        }),
        function useUploader(n) {
            return m.apply(this, arguments)
        }
        )
          , B = window.location.host.match(/\.sl\.sit\.xiaohongshu\.com$/)
          , O = window.location.host.match(/\.sit\.xiaohongshu\.com$/)
          , R = window.location.host.match(/\.sl\.beta\.xiaohongshu\.com$/)
          , U = window.location.host.match(/\.beta\.xiaohongshu\.com$/)
          , z = window.location.host.match(/creator\.xiaohongshu\.com$/);
        function dec2hex(n, d) {
            for (var v = "", m = n; m; ) {
                var h = 15 & m;
                v = String.fromCharCode((h > 9 ? 55 : 48) + h) + v,
                m >>= 4
            }
            if (d)
                for (; v.length < d; )
                    v = "0".concat(v);
            return v.toLowerCase()
        }
        function urlSing(n) {
            return x()("hIJXulBFYcGRQjrz".concat(n).concat(dec2hex(Date.now() / 1e3)))
        }
        var Z = function() {
            var n = "https://www.xiaohongshu.com";
            if (z)
                return n;
            var d = new URL(window.location.href).searchParams.get("proxy") || "";
            return d ? n = "https://logan.devops.xiaohongshu.com/proxy/".concat(d) : ((O || B) && (n = "https://www.sit.xiaohongshu.com"),
            (U || R) && (n = "https://www.beta.xiaohongshu.com"),
            n)
        }();
        function getImageUrl(n) {
            return _getImageUrl.apply(this, arguments)
        }
        function _getImageUrl() {
            return (_getImageUrl = (0,
            h._)(function(n) {
                return (0,
                y.Jh)(this, function(d) {
                    switch (d.label) {
                    case 0:
                        return [4, M.dJ.get("".concat(Z, "/web_api/sns/v5/creator/file/encryption"), {
                            params: {
                                fileId: "/".concat(n),
                                type: "image",
                                ts: Date.now(),
                                sign: urlSing("/".concat(n))
                            },
                            transform: !0
                        })];
                    case 1:
                        return [2, d.sent().fileStr]
                    }
                })
            })).apply(this, arguments)
        }
    },
    54797: function(n, d, v) {
        "use strict";
        v.d(d, {
            ZP: function() {
                return y
            },
            tq: function() {
                return h
            }
        });
        var m = v(24364);
        function getEnv() {
            return "prod"
        }
        v(67930),
        v(58486),
        v(99808),
        v(34885),
        v(43648);
        getEnv();
        var h = m.YF.isAndroid || m.YF.isIOS && document.body.offsetWidth < 500
          , y = {
            getEnv: getEnv,
            getUrlParam: function(n) {
                for (var d = window.location.search.substring(1).split("&"), v = 0; v < d.length; v++) {
                    var m = d[v].indexOf("=");
                    if (d[v].slice(0, m) === n)
                        return d[v].slice(m + 1)
                }
                return null
            }
        }
    },
    69517: function(n, d, v) {
        "use strict";
        v.d(d, {
            Js: function() {
                return getInitialTrackerParams
            },
            pm: function() {
                return getQuery
            }
        }),
        v(58051),
        v(80156),
        v(50721),
        v(29112),
        v(67275),
        v(59989),
        v(7099),
        v(27461),
        v(23339),
        v(51109),
        v(34333),
        v(82427),
        v(36062),
        v(57057),
        v(97357);
        var m = {}
          , getInitialTrackerParams = function() {
            return m
        }
          , getQuery = function(n) {
            return new URL(window.location.href).searchParams.get(n)
        }
    },
    28865: function(n, d, v) {
        "use strict";
        var m, h, y, N, k, I, C, x, M, S, _, V = v(41622), B = v(70879), O = v(27337), R = v(377);
        v(42876),
        v(33933),
        v(34885),
        v(29112),
        v(67275),
        v(59989),
        v(7099),
        v(27461),
        v(23339),
        v(51109),
        v(34333),
        v(67930),
        v(58486),
        v(36277),
        v(19077),
        v(75973);
        var U = v(22212);
        v(49597);
        var z = v(31996)
          , Z = v(78449)
          , Q = v(132)
          , J = v(86422)
          , H = v(23732)
          , G = v(39378)
          , Y = v.n(G)
          , W = v(67223)
          , q = v(40529)
          , X = v(68719)
          , K = v(75626);
        v(97542);
        var $ = v(69269)
          , ee = v(66993);
        function getAttribute(n) {
            return "".concat(n, "-dyn-css")
        }
        v(87989),
        v(74093),
        v(20768),
        v(41648),
        v(59339),
        v(47444),
        v(34757),
        v(85908),
        v(39995),
        v(22943),
        v(54767),
        v(55820),
        v(93225),
        v(33708),
        v(64322),
        v(47771),
        v(63235),
        v(15368),
        v(12970),
        v(8503),
        v(32207),
        v(13598),
        v(23541),
        v(63827),
        v(30488),
        v(82236),
        v(51938),
        v(33913),
        v(94949),
        v(17891),
        v(44258),
        v(38609),
        v(4787),
        v(44211),
        v(29338),
        v(73405),
        v(98754),
        v(31832),
        v(88402),
        v(56712),
        v(87535),
        v(75204),
        v(97357);
        var et = function dynStylePatch() {
            return window.STYLE_MAP = new Map,
            {
                removeStyle: function removeStyle(n) {
                    if (n())
                        return function(n) {
                            var d;
                            null === (d = document.querySelectorAll("style[".concat(getAttribute(n), "]"))) || void 0 === d || d.forEach(function(n) {
                                document.head.removeChild(n)
                            })
                        }
                },
                insertDynStyle: function insertDynStyle(n) {
                    return function lifeCycle(d) {
                        if (n()) {
                            if (!window.STYLE_MAP.get(d)) {
                                var v = document.createElement("style");
                                v.setAttribute(getAttribute(d), ""),
                                window.STYLE_MAP.set(d, {
                                    stylesheet: v,
                                    content: new Set
                                })
                            }
                            var m = window.STYLE_MAP.get(d)
                              , h = m.stylesheet
                              , y = m.content;
                            h.textContent = (0,
                            ee._)(y || []).join(""),
                            document.head.appendChild(h)
                        }
                    }
                },
                watchInsertRule: function watchInsertRule(n) {
                    var d = CSSStyleSheet.prototype.insertRule;
                    CSSStyleSheet.prototype.insertRule = function insertRuleWrapper(v, m) {
                        var h = n();
                        if (h) {
                            var y = window.STYLE_MAP.get(h);
                            y && y.content.add(v)
                        }
                        return d.call(this, v, m)
                    }
                }
            }
        }()
          , en = et.watchInsertRule
          , ea = et.insertDynStyle
          , eo = et.removeStyle;
        function genActiveRule(n) {
            return window.location.pathname.startsWith(n)
        }
        en(function() {
            return genActiveRule("/creator") ? "creator-creator" : genActiveRule("/mcn") ? "creator-mcn" : void 0
        });
        var er = {
            apps: [{
                name: "creator-creator",
                activeRule: function() {
                    return genActiveRule("/creator")
                },
                entry: {
                    development: "/microapp/creator/",
                    test: "/microapp/creator/",
                    prerelease: "/microapp/creator/",
                    production: "/microapp/creator/"
                },
                prefetch: !1,
                props: {
                    updateArtifactInfo: $.I
                }
            }, {
                name: "creator-mcn",
                activeRule: function() {
                    return genActiveRule("/mcn")
                },
                entry: {
                    development: "/microapp/mcn/",
                    test: "/microapp/mcn/",
                    prerelease: "/microapp/mcn/",
                    production: "/microapp/mcn/"
                },
                prefetch: !1,
                props: {
                    updateArtifactInfo: $.I
                }
            }],
            lifeCycles: {
                beforeMount: function(n) {
                    ea(function() {
                        return ["creator-creator", "creator-mcn"].includes(n.name)
                    })(n.name)
                },
                beforeUnmount: function(n) {
                    null === (d = eo(function() {
                        return "creator-creator" === n.name
                    })) || void 0 === d || d(n.name),
                    null === (v = eo(function() {
                        return "creator-mcn" === n.name
                    })) || void 0 === v || v(n.name);
                    var d, v, m = document.getElementById("XHS_QianKun_DefaultLoaderContainer");
                    m && (m.innerHTML = "")
                },
                afterUnmount: function() {
                    var n = document.getElementById("XHS_QianKun_DefaultLoaderContainer");
                    n && (n.innerHTML = "")
                }
            }
        }
          , ei = v(19683);
        v(80156),
        v(50721);
        var el = v(25618)
          , ec = v(88771);
        function render(n, d, v, m, h, y) {
            var N = (0,
            ec.resolveComponent)("Title")
              , k = (0,
            ec.resolveComponent)("TLabel")
              , I = (0,
            ec.resolveComponent)("TCell")
              , C = (0,
            ec.resolveComponent)("TRow")
              , x = (0,
            ec.resolveComponent)("NewBsBox")
              , M = (0,
            ec.resolveComponent)("BeerButton")
              , S = (0,
            ec.resolveComponent)("Panel");
            return (0,
            ec.openBlock)(),
            (0,
            ec.createBlock)(S, {
                bs: {
                    width: 800,
                    mt: 72,
                    mx: "auto"
                }
            }, {
                default: (0,
                ec.withCtx)(function() {
                    return [(0,
                    ec.createVNode)(N, {
                        bs: {
                            mb: 32
                        }
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return d[0] || (d[0] = [(0,
                            ec.createTextVNode)("啊哦，出了点问题。")])
                        }),
                        _: 1
                    }), n.errMsg ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(x, {
                        key: 0,
                        bs: {
                            display: "table"
                        }
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(C, null, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)(k, null, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return d[1] || (d[1] = [(0,
                                            ec.createTextVNode)("错误消息")])
                                        }),
                                        _: 1
                                    }), (0,
                                    ec.createVNode)(I, {
                                        bs: {
                                            color: "danger"
                                        }
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return [(0,
                                            ec.createTextVNode)((0,
                                            ec.toDisplayString)(n.errMsg || "-"), 1)]
                                        }),
                                        _: 1
                                    })]
                                }),
                                _: 1
                            }), (0,
                            ec.createVNode)(C, null, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)(k, null, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return d[2] || (d[2] = [(0,
                                            ec.createTextVNode)("错误代码")])
                                        }),
                                        _: 1
                                    }), (0,
                                    ec.createVNode)(I, null, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return [(0,
                                            ec.createTextVNode)((0,
                                            ec.toDisplayString)(n.errMsg || "-"), 1)]
                                        }),
                                        _: 1
                                    })]
                                }),
                                _: 1
                            }), n.isDev ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(C, {
                                key: 0
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)(k, null, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return d[3] || (d[3] = [(0,
                                            ec.createTextVNode)("错误stack")])
                                        }),
                                        _: 1
                                    }), (0,
                                    ec.createVNode)(I, null, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return [(0,
                                            ec.createTextVNode)((0,
                                            ec.toDisplayString)(n.errMsg || "-"), 1)]
                                        }),
                                        _: 1
                                    })]
                                }),
                                _: 1
                            })) : (0,
                            ec.createCommentVNode)("", !0)]
                        }),
                        _: 1
                    })) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createVNode)(M, {
                        bs: {
                            mt: 40
                        },
                        "handle-click": n.backHome,
                        size: "l"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return d[4] || (d[4] = [(0,
                            ec.createTextVNode)("返回首页")])
                        }),
                        _: 1
                    }, 8, ["handle-click"]), (0,
                    ec.createVNode)(M, {
                        bs: {
                            mt: 24
                        },
                        "handle-click": n.logout,
                        size: "l",
                        variant: "secondary"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return d[5] || (d[5] = [(0,
                            ec.createTextVNode)("登出 porch")])
                        }),
                        _: 1
                    }, 8, ["handle-click"])]
                }),
                _: 1
            })
        }
        v(86651);
        var eu = v(83249)
          , es = v(54964)
          , ed = v(1795)
          , ev = v(34039)
          , em = v(61334)
          , ef = v(67982);
        function logout() {
            return Promise.reject(Error("Not integrated yet.."))
        }
        function loginOut() {
            return U.dJ.post("LOGIN_OUT_NEW")
        }
        function selfLoginOut() {
            return U.dJ.get("SELF_LOGIN_OUT")
        }
        v(41593);
        var ep = (0,
        es.Z)({
            bs: {
                display: "table-row"
            }
        })
          , eg = (0,
        es.Z)({
            bs: {
                display: "table-cell",
                mr: 32
            }
        })
          , eh = (0,
        es.Z)({
            bs: {
                display: "table-cell",
                pb: 16,
                maxWidth: 300,
                overflow: "auto"
            }
        })
          , ey = (0,
        ec.defineComponent)({
            name: "SiteError",
            components: {
                Panel: ed.Z,
                Title: ev.Z,
                NewBsBox: em.Z,
                BeerButton: ef.Z,
                TRow: ep,
                TLabel: eg,
                TCell: eh
            },
            setup: function() {
                var n = (0,
                eu.yj)()
                  , d = (0,
                eu.tv)();
                return {
                    isDev: (0,
                    ec.computed)(function() {
                        return !1
                    }),
                    errMsg: (0,
                    ec.computed)(function() {
                        return n.params.error
                    }),
                    logout: logout,
                    backHome: function() {
                        d.push("/")
                    }
                }
            }
        })
          , eN = v(97104);
        let ek = (0,
        eN.default)(ey, [["render", render]]);
        function TransitPagevue_type_template_id_3001a92e_render(n, d, v, m, h, y) {
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div")
        }
        let eI = (0,
        eN.default)({
            name: "TransitPage",
            components: {},
            data: function() {
                return {}
            },
            mounted: function() {
                var n = this
                  , d = (this.$route.query || {}).source;
                d && (console.log(d, "transfer参数"),
                setTimeout(function() {
                    n.$router.push({
                        path: d
                    })
                }, 300))
            }
        }, [["render", TransitPagevue_type_template_id_3001a92e_render]]);
        var eC = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MCIgaGVpZ2h0PSI5MCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDkwIDkwIj48Y2lyY2xlIGN4PSI0NSIgY3k9IjQ1IiByPSI0NSIgZmlsbD0iIzQyQzlBMCIgZmlsbC1vcGFjaXR5PSIuMDQiLz48Y2lyY2xlIGN4PSI0NSIgY3k9IjQ1IiByPSIzNSIgZmlsbD0iIzQyQzlBMCIgZmlsbC1vcGFjaXR5PSIuMDgiLz48Y2lyY2xlIGN4PSI0NSIgY3k9IjQ1IiByPSIyNyIgZmlsbD0iIzQyQzlBMCIvPjxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0yOSA0NS4yNDNoNnYxN2gtNnoiIHRyYW5zZm9ybT0icm90YXRlKC00NSAyOSA0NS4yNDMpIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTU3LjUwNiAzMyA0LjI0MyA0LjI0My0yMC41MDYgMjAuNTA2TDM3IDUzLjUwNnoiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIzMiIgeDI9IjM3LjMwMyIgeTE9IjQyLjI0MyIgeTI9IjYxLjY4OCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iLjUyMSIgc3RvcC1jb2xvcj0iI2ZmZiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzQyQzlBMCIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg=="
          , eb = {
            class: "success-container"
        }
          , eE = {
            class: "content"
        }
          , eA = {
            key: 0,
            class: "tip"
        };
        function Successvue_type_template_id_12ee73ae_scoped_true_render(n, d, v, m, h, y) {
            var N = (0,
            ec.resolveComponent)("Button");
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", eb, [d[2] || (d[2] = (0,
            ec.createElementVNode)("div", {
                class: "upload-container"
            }, [(0,
            ec.createElementVNode)("div", {
                class: "header"
            }, [(0,
            ec.createElementVNode)("span", {
                class: "header-icon"
            }), (0,
            ec.createElementVNode)("span", {
                class: "header-title"
            }, "发布笔记")])], -1)), (0,
            ec.createElementVNode)("div", eE, [d[1] || (d[1] = (0,
            ec.createElementVNode)("img", {
                src: eC
            }, null, -1)), (0,
            ec.createElementVNode)("p", {
                class: (0,
                ec.normalizeClass)(["title", {
                    "title-bind-fail": y.isOrderBindFail
                }])
            }, (0,
            ec.toDisplayString)(y.resultText), 3), y.isOrderBindFail ? (0,
            ec.createCommentVNode)("", !0) : ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("p", eA, (0,
            ec.toDisplayString)(h.count) + " 秒后自动返回发布页", 1)), (0,
            ec.createVNode)(N, {
                class: "btn",
                variant: "secondary",
                onClick: y.back
            }, {
                default: (0,
                ec.withCtx)(function() {
                    return d[0] || (d[0] = [(0,
                    ec.createTextVNode)(" 立即返回 ")])
                }),
                _: 1
            }, 8, ["onClick"])])])
        }
        U.dJ.post;
        var ew = U.dJ.get
          , getNpsDisplayInfo = function(n) {
            return ew("GET_NPS_DISPLAY_INFO", {
                params: n
            })
        }
          , ex = v(61338)
          , eT = {
            name: "Success",
            components: {
                Button: ef.Z
            },
            data: function() {
                return {
                    count: 5,
                    timer: null,
                    bindStatus: this.$route.query.bind_status
                }
            },
            computed: {
                isOrderBindFail: function() {
                    return "bind_fail" === this.bindStatus
                },
                resultText: function() {
                    return this.isOrderBindFail ? "笔记发布成功，但合作订单绑定失败，请重新发布笔记并绑定" : "发布成功"
                }
            },
            created: function() {
                return (0,
                V._)(function() {
                    var n, d, v;
                    return (0,
                    R.Jh)(this, function(m) {
                        switch (m.label) {
                        case 0:
                            n = localStorage.getItem("score_timestamp");
                            try {
                                d = JSON.parse(localStorage.getItem("USER_INFO")).user.value.userId
                            } catch (n) {}
                            if (!(localStorage.getItem("nps-userId") !== d || !n || Date.now() - n > 432e5))
                                return [3, 2];
                            return [4, getNpsDisplayInfo({
                                userId: d
                            })];
                        case 1:
                            (null == (v = m.sent()) ? void 0 : v.display) ? localStorage.setItem("score_display", 1) : localStorage.setItem("score_display", 0),
                            localStorage.setItem("score_timestamp", Date.now()),
                            localStorage.setItem("nps-userId", d),
                            m.label = 2;
                        case 2:
                            return [2]
                        }
                    })
                })()
            },
            mounted: function() {
                !this.isOrderBindFail && this.startCount()
            },
            beforeUnmount: function() {
                this.timer && clearInterval(this.timer)
            },
            methods: {
                back: function() {
                    this.$router.push({
                        name: "Post",
                        query: {
                            source: (0,
                            ex.b5)(),
                            published: !0
                        }
                    })
                },
                startCount: function() {
                    var n = this;
                    this.timer = setInterval(function() {
                        n.count -= 1,
                        -1 === n.count && (clearInterval(n.timer),
                        n.back())
                    }, 1e3)
                }
            }
        };
        let eM = (0,
        eN.default)(eT, [["render", Successvue_type_template_id_12ee73ae_scoped_true_render], ["__scopeId", "data-v-12ee73ae"]]);
        var eS = {
            class: "success-container"
        }
          , e_ = {
            class: "content"
        }
          , eV = {
            key: 0,
            class: "tip"
        };
        function EditSuccessvue_type_template_id_6bad719e_scoped_true_render(n, d, v, m, h, y) {
            var N = (0,
            ec.resolveComponent)("Button");
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", eS, [d[2] || (d[2] = (0,
            ec.createElementVNode)("div", {
                class: "upload-container"
            }, [(0,
            ec.createElementVNode)("div", {
                class: "header"
            }, [(0,
            ec.createElementVNode)("span", {
                class: "header-icon"
            }), (0,
            ec.createElementVNode)("span", {
                class: "header-title"
            }, "更新笔记")])], -1)), (0,
            ec.createElementVNode)("div", e_, [d[1] || (d[1] = (0,
            ec.createElementVNode)("img", {
                src: eC
            }, null, -1)), (0,
            ec.createElementVNode)("p", {
                class: (0,
                ec.normalizeClass)(["title", {
                    "title-bind-fail": y.isOrderBindFail
                }])
            }, (0,
            ec.toDisplayString)(y.resultText), 3), y.isOrderBindFail ? (0,
            ec.createCommentVNode)("", !0) : ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("p", eV, (0,
            ec.toDisplayString)(h.count) + " 秒后自动返回笔记管理 ", 1)), (0,
            ec.createVNode)(N, {
                class: "btn",
                variant: "secondary",
                onClick: y.back
            }, {
                default: (0,
                ec.withCtx)(function() {
                    return d[0] || (d[0] = [(0,
                    ec.createTextVNode)(" 立即返回 ")])
                }),
                _: 1
            }, 8, ["onClick"])])])
        }
        var eD = {
            name: "Success",
            components: {
                Button: ef.Z
            },
            data: function() {
                return {
                    count: 5,
                    timer: null,
                    bindStatus: this.$route.query.bind_status
                }
            },
            computed: {
                isOrderBindFail: function() {
                    return "bind_fail" === this.bindStatus
                },
                resultText: function() {
                    return this.isOrderBindFail ? "更新发布成功，但合作订单绑定失败，请重新发布笔记并绑定" : "更新成功"
                }
            },
            created: function() {
                return (0,
                V._)(function() {
                    var n, d, v;
                    return (0,
                    R.Jh)(this, function(m) {
                        switch (m.label) {
                        case 0:
                            n = localStorage.getItem("score_timestamp");
                            try {
                                d = JSON.parse(localStorage.getItem("USER_INFO")).user.value.userId
                            } catch (n) {}
                            if (!(localStorage.getItem("nps-userId") !== d || !n || Date.now() - n > 432e5))
                                return [3, 2];
                            return [4, getNpsDisplayInfo({
                                userId: d
                            })];
                        case 1:
                            (null == (v = m.sent()) ? void 0 : v.display) ? localStorage.setItem("score_display", 1) : localStorage.setItem("score_display", 0),
                            localStorage.setItem("score_timestamp", Date.now()),
                            localStorage.setItem("nps-userId", d),
                            m.label = 2;
                        case 2:
                            return [2]
                        }
                    })
                })()
            },
            mounted: function() {
                !this.isOrderBindFail && this.startCount()
            },
            beforeUnmount: function() {
                this.timer && clearInterval(this.timer)
            },
            methods: {
                back: function() {
                    this.$router.push({
                        name: "noteManager",
                        query: {
                            source: (0,
                            ex.b5)()
                        }
                    })
                },
                startCount: function() {
                    var n = this;
                    this.timer = setInterval(function() {
                        n.count -= 1,
                        -1 === n.count && (clearInterval(n.timer),
                        n.back())
                    }, 1e3)
                }
            }
        };
        let eB = (0,
        eN.default)(eD, [["render", EditSuccessvue_type_template_id_6bad719e_scoped_true_render], ["__scopeId", "data-v-6bad719e"]]);
        var eL = v(66947)
          , eP = {
            id: "creator-publish-dom",
            ref: "publisherRef",
            class: "p-container"
        };
        function Publishvue_type_template_id_28d781d2_ts_true_render(n, d, v, m, h, y) {
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", eP, null, 512)
        }
        var eO = v(46490)
          , eR = v(90251)
          , eU = v(51606)
          , ej = v(98542)
          , eF = v(14965)
          , ez = v(37403)
          , eZ = v(45296)
          , eQ = v(44417)
          , eJ = v.n(eQ)
          , eH = v(11010)
          , eG = v(78778)
          , eY = v(75009)
          , eW = (0,
        ej.Q_)("tracker", function() {
            return {
                track: function track(n, d) {
                    var v, m;
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || v.push(el.tracker[n](d))
                }
            }
        })
          , eq = v(81657)
          , eX = v(91583)
          , eK = (0,
        ej.Q_)("exclusive", function() {
            var n = (0,
            ej.Jk)((0,
            eY.Z)())
              , d = n.coOrderId
              , v = n.privacyInfo
              , m = n.liveReservationBind
              , h = n.liveNoticeBind
              , y = n.noteTrialBindId
              , N = n.noteSketch
              , k = n.collectionId
              , I = (0,
            ej.Jk)((0,
            eH.Z)()).noteId
              , C = (0,
            ej.Jk)((0,
            eG.ZP)()).updateTemp
              , x = (0,
            ej.Jk)((0,
            eq.Z)())
              , M = x.goodsContext;
            x.liveContext;
            var S = (0,
            ec.computed)(function() {
                var n;
                return I.value ? !d.value && !(null === (n = C.value) || void 0 === n ? void 0 : n.note_lottery_bind) : !d.value
            })
              , _ = (0,
            ec.computed)(function() {
                var n;
                return d.value ? "已存在内容合作，不支持同时设置店内商品关联" : (null === (n = C.value) || void 0 === n ? void 0 : n.note_lottery_bind) ? "已存在抽奖活动，不支持同时设置店内商品关联" : ""
            });
            return {
                isCanUseGoods: S,
                isCanUseOrder: (0,
                ec.computed)(function() {
                    var n, d, y, N;
                    return !(null === (d = M.value) || void 0 === d ? void 0 : null === (n = d.goodsDetail) || void 0 === n ? void 0 : n.skuId) && v.value.type === eX.vH.Public && (null === (y = h.value) || void 0 === y ? void 0 : y.liveNoticeType) !== eX.tK.Bind && !(null === (N = m.value) || void 0 === N ? void 0 : N.reserve)
                }),
                goodsExclusiveText: _,
                orderExclusiveText: (0,
                ec.computed)(function() {
                    var n, d, y, N;
                    return v.value.type !== eX.vH.Public ? "内容合作笔记仅支持公开可见，修改可见性后继续操作" : (null === (d = M.value) || void 0 === d ? void 0 : null === (n = d.goodsDetail) || void 0 === n ? void 0 : n.skuId) ? "已存在店内商品关联，不支持同时设置内容合作" : (null === (y = h.value) || void 0 === y ? void 0 : y.liveNoticeType) === eX.tK.Bind ? "当前内容合作订单不支持同时设置直播预告" : (null === (N = m.value) || void 0 === N ? void 0 : N.reserve) ? "当前内容合作订单不支持同时设置下场直播引流" : ""
                }),
                isCanBindLiveReservation: (0,
                ec.computed)(function() {
                    var n;
                    return (null === (n = h.value) || void 0 === n ? void 0 : n.liveNoticeType) !== eX.tK.Bind
                }),
                liveReservationExclusiveText: (0,
                ec.computed)(function() {
                    var n;
                    return (null === (n = h.value) || void 0 === n ? void 0 : n.liveNoticeType) === eX.tK.Bind ? "已存在直播预告，不支持同时设置下一场直播预约" : ""
                }),
                isCanBindLiveNotice: (0,
                ec.computed)(function() {
                    var n, d;
                    return !(null === (n = m.value) || void 0 === n ? void 0 : n.reserve) && !(null === (d = C.value) || void 0 === d ? void 0 : d.note_lottery_bind)
                }),
                liveNoticeExclusiveText: (0,
                ec.computed)(function() {
                    var n, d;
                    return (null === (n = m.value) || void 0 === n ? void 0 : n.reserve) ? "已存在下一场直播预约，不支持同时设置直播预告" : (null === (d = C.value) || void 0 === d ? void 0 : d.note_lottery_bind) ? "已存在抽奖活动，不支持同时设置直播预告" : ""
                }),
                permissionExclusiveText: (0,
                ec.computed)(function() {
                    return d.value ? "内容合作笔记仅支持公开可见" : y.value ? "好物推荐笔记仅支持公开可见" : ""
                }),
                isCanBindNoteSketch: (0,
                ec.computed)(function() {
                    return !k.value && v.value.type !== eX.vH.Private
                }),
                noteSketchExclusiveText: (0,
                ec.computed)(function() {
                    return k.value ? "短剧与合集仅支持二选一" : v.value.type === eX.vH.Private ? "仅自己可见的笔记不可以设置短剧" : ""
                }),
                isCanBindCollection: (0,
                ec.computed)(function() {
                    return !N.value.id
                }),
                collectionExclusiveText: (0,
                ec.computed)(function() {
                    return N.value.id ? "合集与短剧仅支持二选一" : ""
                })
            }
        })
          , e$ = v(9689)
          , e0 = v(25986)
          , e1 = (0,
        ej.Q_)("storeForPlugin", function() {
            var n = (0,
            ej.Jk)((0,
            eG.ZP)())
              , d = (0,
            eq.Z)()
              , v = (0,
            ej.Jk)(d)
              , m = (0,
            ej.Jk)((0,
            eY.Z)())
              , h = eW()
              , y = (0,
            ej.Jk)((0,
            eH.Z)())
              , N = (0,
            ej.Jk)((0,
            e$.Z)())
              , k = (0,
            ej.Jk)(eK())
              , I = (0,
            ej.Jk)((0,
            e0.Z)());
            return (0,
            O._)((0,
            B._)({}, n, N, v, m, k, y, I), {
                track: h.track,
                setGoodsInfo: d.setGoodsInfo,
                setGoodsDetail: d.setGoodsDetail,
                setGoodsPreviewDetail: d.setGoodsPreviewDetail,
                addBizRelation: d.addBizRelation,
                removeBizRelation: d.removeBizRelation
            })
        })
          , e2 = v(32456)
          , e4 = (0,
        ej.Q_)("plugin", function() {
            var n, d = (0,
            ec.ref)([]), mountComponent = function(d, v) {
                v.key && (n.pluginInstance[v.key] = d)
            };
            return {
                plugins: d,
                mountPluginComponent: function(n) {
                    var d = e1()
                      , v = (0,
                    ej.Jk)(d)
                      , m = {
                        state: eJ()((0,
                        O._)((0,
                        B._)({}, v), {
                            track: d.track,
                            setGoodsInfo: d.setGoodsInfo,
                            setGoodsDetail: d.setGoodsDetail,
                            setGoodsPreviewDetail: d.setGoodsPreviewDetail,
                            addBizRelation: d.addBizRelation,
                            removeBizRelation: d.removeBizRelation
                        }), n.stateSelector),
                        behavior: e2.eC
                    }
                      , h = (0,
                    ec.createApp)(n.component, m)
                      , y = document.createElement("div");
                    return h.config.errorHandler = function(n) {
                        throw n
                    }
                    ,
                    mountComponent(h.mount(y), n),
                    {
                        root: y,
                        vDom: h
                    }
                },
                installPlugin: function(d) {
                    n = d
                }
            }
        })
          , e3 = v(80022)
          , e5 = v.n(e3);
        function storeResetPlugin(n) {
            var d = n.store
              , v = e5()(d.$state);
            d.$reset = function() {
                d.$patch(e5()(v))
            }
        }
        var e8 = v(17632)
          , e6 = v(13466)
          , e9 = v(68724)
          , e7 = v(51878);
        v(4251),
        v(72169),
        v(85203),
        v(7608);
        var te = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDEwIDEwIj48cGF0aCBmaWxsPSIjODg4IiBkPSJtNS43MDYgNSA0LjEzOSA0LjEzOWMuNDcuNDctLjIzNSAxLjE3Ni0uNzA2LjcwNkw1IDUuNzA1Ljg2MSA5Ljg0NmMtLjQ3LjQ3LTEuMTc2LS4yMzUtLjcwNi0uNzA2TDQuMjk1IDUgLjE1NC44NjFDLS4zMTUuMzkxLjM5LS4zMTUuODYxLjE1NUw1IDQuMjk1IDkuMTM5LjE1NGMuNDctLjQ3IDEuMTc2LjIzNS43MDYuNzA2eiIvPjwvc3ZnPg=="
          , tt = v(88600);
        v(64091);
        var tn = v(44121);
        let ta = (0,
        eN.default)({
            __name: "DragOver",
            emits: ["drag-over"],
            setup(n, {emit: d}) {
                let onFileDrag = n=>{
                    let v = [];
                    d("drag-over", v = (v = n.dataTransfer.items ? Array.prototype.slice.call(n.dataTransfer.items).map(n=>n.getAsFile()) : n.dataTransfer.files).filter(Boolean))
                }
                ;
                return (n,d)=>((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", {
                    class: "drag-over",
                    onDragover: d[0] || (d[0] = (0,
                    ec.withModifiers)(()=>{}
                    , ["prevent", "stop"])),
                    onDragenter: d[1] || (d[1] = (0,
                    ec.withModifiers)(()=>{}
                    , ["prevent", "stop"])),
                    onDragleave: d[2] || (d[2] = (0,
                    ec.withModifiers)(()=>{}
                    , ["prevent", "stop"])),
                    onDragstart: d[3] || (d[3] = (0,
                    ec.withModifiers)(()=>{}
                    , ["prevent", "stop"])),
                    onDrag: d[4] || (d[4] = (0,
                    ec.withModifiers)(()=>{}
                    , ["prevent", "stop"])),
                    onDragend: d[5] || (d[5] = (0,
                    ec.withModifiers)(()=>{}
                    , ["prevent", "stop"])),
                    onDrop: (0,
                    ec.withModifiers)(onFileDrag, ["prevent", "stop"])
                }, [(0,
                ec.renderSlot)(n.$slots, "default")], 32))
            }
        }, [["__scopeId", "data-v-7cbccdb2"]]);
        var to = v(71799)
          , tr = v(93147)
          , ti = v.p + "resource/image/upload-large.824f96f8.png"
          , tl = v(67227)
          , tc = {
            class: "upload-wrapper"
        }
          , tu = ["accept"]
          , ts = {
            class: "wrapper"
        }
          , td = ["src"]
          , tv = {
            class: "tips-wrapper"
        }
          , tm = {
            class: "tip"
        }
          , tf = {
            class: "tip-title"
        }
          , tp = {
            class: "tip-content"
        }
          , tg = {
            class: "tip-content"
        }
          , th = {
            class: "tip"
        }
          , ty = {
            class: "tip-title"
        }
          , tN = {
            class: "tip-content"
        }
          , tk = {
            class: "tip-content"
        }
          , tI = {
            class: "tip"
        }
          , tC = {
            class: "tip-title"
        }
          , tb = {
            class: "tip-content"
        }
          , tE = {
            class: "tip-content"
        }
          , tA = (0,
        ec.defineComponent)({
            __name: "Video",
            props: {
                uid: {}
            },
            setup: function(n) {
                var d, v = (0,
                ec.ref)(!1), m = (0,
                ec.ref)(), h = (0,
                eH.Z)(), y = (0,
                to.Z)(), N = (0,
                ej.Jk)(h), k = (N.theme,
                N.step,
                N.status), I = N.themeColor, C = (N.publishType,
                N.openFilePickerOnInit), x = (0,
                e$.Z)();
                (0,
                ej.Jk)(x).userInfo;
                var M = (0,
                eG.ZP)()
                  , S = (0,
                ej.Jk)(M);
                S.videoUrl,
                S.cover,
                S.video;
                var _ = (d = (0,
                V._)(function(n) {
                    var d;
                    return (0,
                    R.Jh)(this, function(v) {
                        switch (v.label) {
                        case 0:
                            if (!n.length)
                                return [3, 5];
                            return y.resetVideo(),
                            y.resetCover(),
                            [4, y.validateFilesByVideoFormat(n)];
                        case 1:
                            if (!v.sent() || !(d = n[0]))
                                return [2];
                            v.label = 2;
                        case 2:
                            return v.trys.push([2, 4, , 5]),
                            [4, y.presetVideo(d)];
                        case 3:
                            return v.sent(),
                            [3, 5];
                        case 4:
                            return console.log(v.sent().message || "发生未知错误, 请重试"),
                            [3, 5];
                        case 5:
                            return [2]
                        }
                    })
                }),
                function onFileChange(n) {
                    return d.apply(this, arguments)
                }
                );
                (0,
                ec.watch)(k, function() {
                    [eX.qb.Cancel, eX.qb.Fail].includes(k.value) && m.value && "value"in m.value && (m.value.value = "")
                }, {
                    immediate: !0
                });
                var trackClick = function() {
                    var n, d;
                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["31276"]({
                        noteType: 3
                    })),
                    tl.s1.trackerVideoUploadClick()
                }
                  , uploadChange = function() {
                    var n;
                    _(Array.from((null === (n = m.value) || void 0 === n ? void 0 : n.files) || []))
                };
                return (0,
                ec.onMounted)(function() {
                    tl.s1.trackerEnterUploadPage(),
                    (0,
                    ec.nextTick)(function() {
                        var n, d, v = new URLSearchParams(window.location.search).get("from");
                        null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["48513"]({
                            noteType: 3,
                            subChannelType: v
                        }))
                    }),
                    (0,
                    ec.nextTick)(function() {
                        if (C.value) {
                            var n;
                            null === (n = m.value) || void 0 === n || n.click(),
                            C.value = !1
                        }
                    })
                }),
                function(n, d) {
                    var h = (0,
                    ec.resolveComponent)("el-button");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, [(0,
                    ec.createElementVNode)("div", tc, [(0,
                    ec.createVNode)(ta, {
                        onDragOver: _
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.withDirectives)((0,
                            ec.createElementVNode)("input", {
                                ref_key: "inputRef",
                                ref: m,
                                class: "upload-input",
                                type: "file",
                                accept: (0,
                                ec.unref)(tr.Py),
                                onClick: trackClick,
                                onChange: uploadChange
                            }, null, 40, tu), [[ec.vShow, !v.value]]), (0,
                            ec.createElementVNode)("div", ts, [(0,
                            ec.createElementVNode)("img", {
                                src: (0,
                                ec.unref)(ti),
                                class: "upload-icon"
                            }, null, 8, td), (0,
                            ec.createElementVNode)("p", null, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(tn.lD).DROP_UPLOAD_VIDEO), 1), (0,
                            ec.createVNode)(h, {
                                class: "upload-button",
                                color: (0,
                                ec.unref)(I)
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(tn.lD).UPLOAD_VIDEO), 1)]
                                }),
                                _: 1
                            }, 8, ["color"])])]
                        }),
                        _: 1
                    })]), (0,
                    ec.createElementVNode)("div", tv, [(0,
                    ec.createElementVNode)("div", tm, [(0,
                    ec.createElementVNode)("div", null, [(0,
                    ec.createElementVNode)("p", tf, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).VIDEO_SIZE), 1), (0,
                    ec.createElementVNode)("p", tp, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).UPLOAD_VIDEO_MAX_LIMIT), 1), (0,
                    ec.createElementVNode)("p", tg, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).MAX_20GB_VIDEO_SIZE), 1)])]), (0,
                    ec.createElementVNode)("div", th, [(0,
                    ec.createElementVNode)("div", null, [(0,
                    ec.createElementVNode)("p", ty, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).VIDEO_FORMAT), 1), (0,
                    ec.createElementVNode)("p", tN, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).SUPPORT_VIDEO_FORMAT), 1), (0,
                    ec.createElementVNode)("p", tk, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).USE_MP4_MOV), 1)])]), (0,
                    ec.createElementVNode)("div", tI, [(0,
                    ec.createElementVNode)("div", null, [(0,
                    ec.createElementVNode)("p", tC, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).VIDEO_RESOLUTION), 1), (0,
                    ec.createElementVNode)("p", tb, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).RECOMMEND_RESOLUTION_VIDEO), 1), (0,
                    ec.createElementVNode)("p", tE, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).EXCEED_1080P), 1)])])])], 64)
                }
            }
        });
        let tw = (0,
        eN.default)(tA, [["__scopeId", "data-v-08fc0cfe"]]);
        var tx = v(88329)
          , tT = {
            class: "upload-wrapper"
        }
          , tM = ["accept"]
          , tS = {
            class: "wrapper"
        }
          , t_ = ["src"]
          , tV = {
            class: "drag-text"
        }
          , tD = {
            class: "info"
        }
          , tB = {
            class: "tips-wrapper"
        }
          , tL = {
            class: "tip"
        }
          , tP = {
            class: "tip-title"
        }
          , tO = {
            class: "tip-content"
        }
          , tR = {
            class: "tip-content"
        }
          , tU = {
            class: "tip"
        }
          , tj = {
            class: "tip-title"
        }
          , tF = {
            class: "tip-content"
        }
          , tz = {
            class: "tip-content"
        }
          , tZ = {
            class: "tip"
        }
          , tQ = {
            class: "tip-title"
        }
          , tJ = {
            class: "tip-content"
        }
          , tH = {
            class: "tip-content"
        }
          , tG = (0,
        ec.defineComponent)({
            __name: "Image",
            props: {
                uid: {}
            },
            emits: ["uploaded-img"],
            setup: function(n, d) {
                d.emit;
                var v = (0,
                ec.ref)()
                  , m = (0,
                eH.Z)()
                  , h = (0,
                to.Z)()
                  , y = (0,
                ej.Jk)(m)
                  , N = (y.theme,
                y.themeColor)
                  , k = y.openFilePickerOnInit
                  , I = (0,
                ec.ref)(!1);
                (0,
                ec.onMounted)(function() {
                    tl.Db.trackerEnterUploadPage(),
                    (0,
                    ec.nextTick)(function() {
                        var n, d, v = new URLSearchParams(window.location.search).get("from");
                        null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["48513"]({
                            noteType: 1,
                            subChannelType: v
                        }))
                    }),
                    (0,
                    ec.nextTick)(function() {
                        if (k.value) {
                            var n;
                            null === (n = v.value) || void 0 === n || n.click(),
                            k.value = !1
                        }
                    })
                });
                var upload = function(n) {
                    h.uploadImage(n)
                }
                  , trackClick = function() {
                    var n, d;
                    tl.Db.trackerImageUploadClick(),
                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["31276"]({
                        noteType: 1
                    }))
                }
                  , uploadChange = function() {
                    upload(Array.from(v.value.files))
                };
                return function(n, d) {
                    var m = (0,
                    ec.resolveComponent)("el-button");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, [(0,
                    ec.createElementVNode)("div", tT, [(0,
                    ec.createVNode)(ta, {
                        onDragOver: upload
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.withDirectives)((0,
                            ec.createElementVNode)("input", {
                                ref_key: "inputRef",
                                ref: v,
                                class: "upload-input",
                                type: "file",
                                multiple: "",
                                accept: (0,
                                ec.unref)(tr.RK),
                                onClick: trackClick,
                                onChange: uploadChange
                            }, null, 40, tM), [[ec.vShow, !I.value]]), (0,
                            ec.createElementVNode)("div", tS, [(0,
                            ec.createElementVNode)("img", {
                                class: "upload-icon",
                                src: (0,
                                ec.unref)(ti)
                            }, null, 8, t_), (0,
                            ec.createElementVNode)("p", tV, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(tn.lD).DROP_UPLOAD), 1), (0,
                            ec.createElementVNode)("p", tD, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(tn.lD).UPLOAD_MAX_LIMIT((0,
                            ec.unref)(tr.Dt))), 1), (0,
                            ec.createVNode)(m, {
                                class: "upload-button",
                                color: (0,
                                ec.unref)(N)
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(tn.lD).UPLOAD_IMAGE), 1)]
                                }),
                                _: 1
                            }, 8, ["color"])])]
                        }),
                        _: 1
                    })]), (0,
                    ec.createElementVNode)("div", tB, [(0,
                    ec.createElementVNode)("div", tL, [(0,
                    ec.createElementVNode)("div", null, [(0,
                    ec.createElementVNode)("p", tP, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).IMAGE_SIZE), 1), (0,
                    ec.createElementVNode)("p", tO, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).SUPPORT_IMAGE_SIZE), 1), (0,
                    ec.createElementVNode)("p", tR, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).MAX_20MB_IMAGE_SIZE), 1)])]), (0,
                    ec.createElementVNode)("div", tU, [(0,
                    ec.createElementVNode)("div", null, [(0,
                    ec.createElementVNode)("p", tj, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).IMAGE_FORMAT), 1), (0,
                    ec.createElementVNode)("p", tF, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).SUPPORT_IMAGE_FORMAT), 1), (0,
                    ec.createElementVNode)("p", tz, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).USE_PNG_JPG_JEPG) + (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tx.isSafari)() ? "" : "、webp") + "，不支持gif、live及其转化后的图片 ", 1)])]), (0,
                    ec.createElementVNode)("div", tZ, [(0,
                    ec.createElementVNode)("div", null, [(0,
                    ec.createElementVNode)("p", tQ, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).IMAGE_RESOLUTION), 1), (0,
                    ec.createElementVNode)("p", tJ, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).RECOMMEND_RESOLUTION), 1), (0,
                    ec.createElementVNode)("p", tH, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).EXCEED_1280P), 1)])])])], 64)
                }
            }
        });
        let tY = (0,
        eN.default)(tG, [["__scopeId", "data-v-4fabe6c5"]]);
        v(9557);
        var tW = {
            class: "title"
        }
          , tq = (0,
        ec.defineComponent)({
            __name: "TabTitle",
            props: {
                current: {
                    type: Number,
                    required: !0
                },
                value: {
                    type: Number,
                    required: !0
                },
                name: {
                    type: String,
                    required: !0
                }
            },
            setup: function(n) {
                return function(d, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        class: (0,
                        ec.normalizeClass)(["creator-tab", {
                            active: n.current === n.value
                        }])
                    }, [(0,
                    ec.createElementVNode)("span", tW, (0,
                    ec.toDisplayString)(n.name), 1), v[0] || (v[0] = (0,
                    ec.createElementVNode)("div", {
                        class: "underline"
                    }, null, -1))], 2)
                }
            }
        });
        let tX = (0,
        eN.default)(tq, [["__scopeId", "data-v-16fdb080"]]);
        var tK = v(94126)
          , t$ = v(96089)
          , t0 = "uploadData"
          , t1 = "xhs-creator-chapters"
          , t2 = "xhs-creator-markers"
          , t4 = "video_60min_toast_show_nums"
          , t3 = (0,
        ej.Q_)("cache", function() {
            var n = (0,
            ej.Jk)((0,
            eG.ZP)())
              , d = n.video
              , v = n.chapters
              , getChapterFromLs = function() {
                return localStorage.getItem(t1) || ""
            }
              , getMarkerFromLs = function() {
                return localStorage.getItem(t2) || ""
            };
            return {
                set60MinLimitToLs: function(n) {
                    localStorage.setItem(t4, String(n))
                },
                get60MinLimitFromLs: function() {
                    return localStorage.getItem(t4)
                },
                saveDraftToLs: function() {
                    localStorage.setItem(t0, "")
                },
                saveChapterToLs: function() {
                    localStorage.setItem(t1, JSON.stringify(v.value))
                },
                saveMarkerToLs: function() {
                    localStorage.setItem(t2, JSON.stringify(d.value.videoMarks))
                },
                reStoreDraftFromLs: function() {
                    localStorage.getItem(t0)
                },
                reStoreChapterToLs: function() {
                    var n = getChapterFromLs();
                    try {
                        var d = JSON.parse(n);
                        d && (v.value = d)
                    } catch (n) {
                        console.log("[seven] e info:", n)
                    }
                },
                reStoreMarkerToLs: function() {
                    var n = getMarkerFromLs();
                    try {
                        var v = JSON.parse(n);
                        v && (d.value.videoMarks = v)
                    } catch (n) {
                        console.log("[seven] e info:", n)
                    }
                },
                removeMarkerInLs: function() {
                    localStorage.removeItem(t2)
                },
                getMarkerFromLs: getMarkerFromLs,
                removeChapterInLs: function() {
                    localStorage.removeItem(t1)
                },
                getChapterFromLs: getChapterFromLs
            }
        })
          , t5 = v(43246)
          , t8 = v(63657)
          , t6 = {
            class: "upload-container"
        }
          , t9 = {
            class: "header"
        }
          , t7 = {
            key: 0,
            class: "progetto-sugger-warn"
        }
          , ne = {
            class: "tips"
        }
          , nt = ["data-impression"]
          , nn = {
            class: "tips"
        }
          , na = {
            class: "upload-content"
        }
          , no = (0,
        ec.defineComponent)({
            __name: "Upload",
            setup: function(n) {
                var d = (0,
                eH.Z)();
                (0,
                e0.Z)();
                var v = (0,
                ej.Jk)(d)
                  , m = v.publishType
                  , h = v.step
                  , y = v.hasBeenDraftReady
                  , N = v.hasBeenPublishSuccess
                  , k = (v.status,
                v.openDraftOnInit)
                  , I = (0,
                ec.computed)(function() {
                    return m.value === eX.QO.Video
                })
                  , C = (0,
                t$.Z)().recoverDraft
                  , x = (0,
                e$.Z)();
                t3(),
                (0,
                to.Z)();
                var M = (0,
                ej.Jk)(x).userInfo
                  , S = (0,
                eG.ZP)()
                  , _ = (0,
                ej.Jk)(S)
                  , B = (_.title,
                _.desc,
                _.descLength,
                _.draftConfig)
                  , O = (0,
                ec.computed)(function() {
                    return M.value.id
                })
                  , U = (0,
                ec.computed)(function() {
                    return M.value.bindPhone
                })
                  , z = I.value ? 3 : 1
                  , Z = (0,
                ec.ref)(!0)
                  , Q = (0,
                ec.computed)(function() {
                    return !!Z.value && !U.value
                })
                  , closeNotVerifiedPhoneWarning = function() {
                    Z.value = !1
                }
                  , J = (0,
                ec.ref)(!1);
                function checkDBDraftData() {
                    return _checkDBDraftData.apply(this, arguments)
                }
                function _checkDBDraftData() {
                    return (_checkDBDraftData = (0,
                    V._)(function() {
                        var n, d, v, h;
                        return (0,
                        R.Jh)(this, function(y) {
                            switch (y.label) {
                            case 0:
                                if (null === (n = B.value) || void 0 === n ? void 0 : n.disableDefaultDraft)
                                    return J.value = !1,
                                    [2];
                                if (d = null,
                                m.value !== eX.QO.Video)
                                    return [3, 2];
                                return [4, (0,
                                tK.eg)(tr.Ve, null === (v = M.value) || void 0 === v ? void 0 : v.id)];
                            case 1:
                                return d = y.sent(),
                                [3, 4];
                            case 2:
                                return [4, (0,
                                tK.eg)(tr.dP, null === (h = M.value) || void 0 === h ? void 0 : h.id)];
                            case 3:
                                d = y.sent(),
                                y.label = 4;
                            case 4:
                                return J.value = !!(null == d ? void 0 : d.content),
                                [2]
                            }
                        })
                    })).apply(this, arguments)
                }
                (0,
                ec.watchEffect)(function() {
                    checkDBDraftData()
                });
                var H = (0,
                ec.ref)(!0)
                  , G = (0,
                ec.computed)(function() {
                    var n = H.value && J.value;
                    return t8.X.trackerDisplayDraft({
                        extra: JSON.stringify({
                            isDraftInfoBar: H.value,
                            hasDBDraftData: J.value
                        }),
                        type: n ? "display" : "not display: "
                    }),
                    n
                })
                  , Y = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["9304"]({
                        noteType: z
                    }))
                })
                  , giveUp = function() {
                    var n, d;
                    (0,
                    tK.fX)(I.value ? tr.Ve : tr.dP, O.value),
                    H.value = !1,
                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["9305"]({
                        channelTabName: tn.lD.GIVE_UP,
                        noteType: z
                    }))
                }
                  , useLocal = function() {
                    var n, d;
                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["9305"]({
                        channelTabName: tn.lD.CONTINUE_EDIT,
                        noteType: z
                    }));
                    try {
                        (0,
                        ec.nextTick)((0,
                        V._)(function() {
                            return (0,
                            R.Jh)(this, function(n) {
                                switch (n.label) {
                                case 0:
                                    return [4, C()];
                                case 1:
                                    return n.sent(),
                                    h.value = eX.cl.Publish,
                                    y.value = !0,
                                    tt.kg.info(eX.KV.UseDraftSuccess, {
                                        type: "video"
                                    }, eX.b5.UseDraft),
                                    e7.Z.setIsDraft(!0),
                                    [2]
                                }
                            })
                        }))
                    } catch (n) {
                        tt.kg.error(eX.KV.UseDraftFail, {
                            type: "video",
                            error: n
                        }, eX.b5.UseDraft)
                    }
                }
                  , handleChangeTab = function(n) {
                    var d = new URL(window.location.href)
                      , v = (0,
                    t5.p)("from") || "tab_switch";
                    d.searchParams.set("from", v),
                    window.history.pushState({}, "", d),
                    m.value = n.value,
                    H.value = !0
                }
                  , recoverCustomDraft = function() {
                    var n, d, v;
                    (null === (n = B.value) || void 0 === n ? void 0 : n.disableDefaultDraft) && (null === (d = B.value) || void 0 === d ? void 0 : d.draftData) && (m.value = (null === (v = B.value) || void 0 === v ? void 0 : v.draftType) || eX.QO.Video,
                    useLocal())
                }
                  , useDraftDirectly = function() {
                    var n;
                    !(null === (n = B.value) || void 0 === n ? void 0 : n.disableDefaultDraft) && k.value && (k.value = !1,
                    useLocal())
                };
                return (0,
                ec.onMounted)(function() {
                    recoverCustomDraft(),
                    useDraftDirectly(),
                    N.value = !1
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", t6, [(0,
                    ec.createElementVNode)("div", t9, [((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)((0,
                    ec.unref)(tn.g0), function(n) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createBlock)(tX, {
                            key: n.value,
                            current: (0,
                            ec.unref)(m),
                            name: n.name,
                            value: n.value,
                            onClick: function(d) {
                                return handleChangeTab(n)
                            }
                        }, null, 8, ["current", "name", "value", "onClick"])
                    }), 128))]), Q.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", t7, [d[1] || (d[1] = (0,
                    ec.createElementVNode)("span", {
                        class: "icon icon-warn"
                    }, null, -1)), (0,
                    ec.createElementVNode)("span", ne, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).NOT_BIND_PHONE), 1), (0,
                    ec.createElementVNode)("span", {
                        class: "btn give-up",
                        onClick: closeNotVerifiedPhoneWarning
                    }, d[0] || (d[0] = [(0,
                    ec.createElementVNode)("img", {
                        src: te
                    }, null, -1)])), (0,
                    ec.createElementVNode)("span", {
                        class: "btn continer",
                        onClick: closeNotVerifiedPhoneWarning
                    }, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).I_SEE), 1)])) : G.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        key: 1,
                        class: "progetto-sugger",
                        "data-impression": Y.value
                    }, [d[2] || (d[2] = (0,
                    ec.createElementVNode)("span", {
                        class: "icon icon-tips"
                    }, null, -1)), (0,
                    ec.createElementVNode)("span", nn, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(m) === (0,
                    ec.unref)(eX.QO).Video ? (0,
                    ec.unref)(tn.lD).NOT_PUBLISH_VIDEO : (0,
                    ec.unref)(tn.lD).NOT_PUBLISH_IMAGE), 1), (0,
                    ec.createElementVNode)("span", {
                        class: "btn continer",
                        onClick: useLocal
                    }, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).CONTINUE_EDIT), 1), (0,
                    ec.createElementVNode)("span", {
                        class: "btn give-up",
                        onClick: giveUp
                    }, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tn.lD).GIVE_UP), 1)], 8, nt)) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createElementVNode)("div", na, [(0,
                    ec.unref)(m) === (0,
                    ec.unref)(eX.QO).Video ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(tw, {
                        key: 0,
                        uid: O.value,
                        class: "upload-area"
                    }, null, 8, ["uid"])) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(tY, {
                        key: 1,
                        uid: O.value,
                        class: "upload-area"
                    }, null, 8, ["uid"]))])])
                }
            }
        });
        let nr = (0,
        eN.default)(no, [["__scopeId", "data-v-a964f0b4"]]);
        v(87394),
        v(94941),
        v(48421),
        v(28636);
        var ni = v(42529)
          , nl = v(45203)
          , nc = v.p + "resource/image/xy_emotion_redclub_weixiao.f78c1d74.png"
          , nu = v.p + "resource/image/xy_emotion_redclub_haixiu.70087b26.png"
          , ns = v.p + "resource/image/xy_emotion_redclub_shiwang.100ae1f5.png"
          , nd = v.p + "resource/image/xy_emotion_redclub_hanyan.31a9899e.png"
          , nv = v.p + "resource/image/xy_emotion_redclub_wa.822da471.png"
          , nm = v.p + "resource/image/xy_emotion_redclub_henaicha.27f5ceef.png"
          , nf = v.p + "resource/image/xy_emotion_redclub_zipai.ce9ccff6.png"
          , np = v.p + "resource/image/xy_emotion_redclub_touxiao.a6ab8ab9.png"
          , ng = v.p + "resource/image/xy_emotion_redclub_feiwen.8d7e3142.png"
          , nh = v.p + "resource/image/xy_emotion_redclub_shihua.c6720c54.png"
          , ny = v.p + "resource/image/xy_emotion_redclub_xiaoku.050340be.png"
          , nN = v.p + "resource/image/xy_emotion_redclub_zan.333be184.png"
          , nk = v.p + "resource/image/xy_emotion_redclub_anzhongguancha.c8ea04e1.png"
          , nI = v.p + "resource/image/xy_emotion_redclub_maibao.a00bff2c.png"
          , nC = v.p + "resource/image/xy_emotion_redclub_daxiao.e40c8bc4.png"
          , nb = v.p + "resource/image/xy_emotion_redclub_sese.0b53cd15.png"
          , nE = v.p + "resource/image/xy_emotion_redclub_shengqi.c4b58c39.png"
          , nA = v.p + "resource/image/xy_emotion_redclub_kure.dd213b7e.png"
          , nw = v.p + "resource/image/xy_emotion_redclub_mengmengda.6cef3ddd.png"
          , nx = v.p + "resource/image/xy_emotion_redclub_nidongde.85704311.png"
          , nT = v.p + "resource/image/xy_emotion_redclub_sang.e1775d20.png"
          , nM = v.p + "resource/image/xy_emotion_redclub_bishi.6c286c9f.png"
          , nS = v.p + "resource/image/xy_emotion_redclub_kelian.5d51e56a.png"
          , n_ = v.p + "resource/image/xy_emotion_redclub_zhuakuang.be031a1b.png"
          , nV = v.p + "resource/image/xy_emotion_redclub_wulian.1eb36986.png"
          , nD = v.p + "resource/image/xy_emotion_redclub_paidui.b9a5d7bd.png"
          , nB = v.p + "resource/image/xy_emotion_redclub_baji.ccbb76b1.png"
          , nL = v.p + "resource/image/xy_emotion_redclub_jingkong.ccc0b9cd.png"
          , nP = v.p + "resource/image/xy_emotion_redclub_koubi.11eb170c.png"
          , nO = v.p + "resource/image/xy_emotion_redclub_zaijian.6726570b.png"
          , nR = v.p + "resource/image/xy_emotion_redclub_tanqi.cc6d3ab5.png"
          , nU = v.p + "resource/image/xy_emotion_redclub_shuijiao.dfca6594.png"
          , nj = v.p + "resource/image/xy_emotion_redclub_deyi.664ec858.png"
          , nF = v.p + "resource/image/xy_emotion_redclub_chigua.05c3f079.png"
          , nz = v.p + "resource/image/xy_emotion_redclub_fuqiang.fc4bece4.png"
          , nZ = v.p + "resource/image/xy_emotion_redclub_heishuwenhao.8321821a.png"
          , nQ = v.p + "resource/image/xy_emotion_redclub_huangjinshu.7c5ba871.png"
          , nJ = v.p + "resource/image/xy_emotion_redclub_half_tushetou.c250a110.png"
          , nH = v.p + "resource/image/xy_emotion_redclub_half_chelian.2acadd91.png"
          , nG = v.p + "resource/image/xy_emotion_redclub_half_doge.3e4cd08f.png"
          , nY = v(2902)
          , nW = v(93177)
          , nq = v(5303)
          , nX = v(63340)
          , nK = {
            PUBLISH_VIDEO: "发布视频",
            VIDEO_EDIT: "视频编辑",
            PUBLISH_SETTING: "发布设置",
            I_SEE: "我知道了",
            COMMON_EMO: "常用表情",
            RED_EMO: "小红薯表情",
            CANCEL: "取消",
            TOPIC: "话题",
            USER: "用户",
            EMO: "表情",
            BIND_AFTER_PUBLISH: "绑定手机号后才可发布笔记哦",
            REQUIRE_BIND_PHONE: "根据国家法律法规，发布笔记需要绑定手机号， 前往APP端「设置」-「账户与安全」-「手机号」",
            WRITE_TITLE_HAS_ZAN: "填写标题会有更多赞哦～",
            WRITE_DESC: "在这里输入正文描述，真诚有价值的分享予人温暖"
        }
          , n$ = v(55095)
          , n0 = v(51899)
          , n1 = v.n(n0)
          , n2 = {
            class: "input"
        }
          , n4 = {
            key: 0,
            class: "count-tip"
        }
          , n3 = (0,
        ec.defineComponent)({
            __name: "PostInput",
            props: {
                maxLength: {},
                type: {},
                placeholder: {}
            },
            setup: function(n) {
                var d = (0,
                ec.ref)();
                (0,
                ec.computed)(function() {
                    return n.type || "text"
                });
                var v = (0,
                ec.computed)(function() {
                    return n.maxLength || 20
                })
                  , m = (0,
                ej.Jk)((0,
                eG.ZP)()).title
                  , h = n1()(function(n) {
                    e2.eC.modifyTitle({
                        title: n
                    })
                }, 500);
                return function(n, y) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", n2, [(0,
                    ec.createVNode)((0,
                    ec.unref)(n$.Z), {
                        ref_key: "inputRef",
                        ref: d,
                        "model-value": (0,
                        ec.unref)(m),
                        class: (0,
                        ec.normalizeClass)([(0,
                        ec.unref)(nW.bU)((0,
                        ec.unref)(m)) > v.value ? "c-input_max" : "", "c-input_inner"]),
                        placeholder: n.placeholder,
                        "onUpdate:modelValue": (0,
                        ec.unref)(h)
                    }, null, 8, ["model-value", "class", "placeholder", "onUpdate:modelValue"]), (0,
                    ec.createElementVNode)("div", {
                        class: (0,
                        ec.normalizeClass)([(0,
                        ec.unref)(nW.bU)((0,
                        ec.unref)(m)) > v.value ? "max_suffix" : "suffix"])
                    }, [v.value > 0 ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", n4, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(nW.bU)((0,
                    ec.unref)(m))) + " / " + (0,
                    ec.toDisplayString)(v.value), 1)) : (0,
                    ec.createCommentVNode)("", !0)], 2)])
                }
            }
        });
        let n5 = (0,
        eN.default)(n3, [["__scopeId", "data-v-6667f50c"]]);
        var n8 = (0,
        ec.defineComponent)({
            __name: "PluginComponent",
            props: {
                plugin: {}
            },
            setup: function(n) {
                var d, v = e4(), m = (0,
                ec.ref)();
                return (0,
                ec.onMounted)(function() {
                    var h, y = v.mountPluginComponent(n.plugin);
                    null === (h = m.value) || void 0 === h || h.appendChild(y.root),
                    d = y.vDom
                }),
                (0,
                ec.onBeforeUnmount)(function() {
                    null == d || d.unmount()
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        ref_key: "pluginRef",
                        ref: m,
                        class: "plugin"
                    }, null, 512)
                }
            }
        });
        let n6 = (0,
        eN.default)(n8, [["__scopeId", "data-v-64311939"]]);
        var n9 = (0,
        ec.defineComponent)({
            __name: "Index",
            setup: function(n) {
                var d = (0,
                ej.Jk)(e4()).plugins
                  , v = (0,
                ec.computed)(function() {
                    return d.value.filter(function(n) {
                        return n.position === eX.eE.ContentEditor
                    })
                });
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, [(0,
                    ec.createVNode)(n5, {
                        ref: "titleRef",
                        class: "titleInput",
                        type: "text",
                        placeholder: "填写标题会有更多赞哦～"
                    }, null, 512), ((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(v.value, function(n) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createBlock)(n6, {
                            key: n.key,
                            plugin: n,
                            class: "editor-container"
                        }, null, 8, ["plugin"])
                    }), 128))], 64)
                }
            }
        });
        let n7 = (0,
        eN.default)(n9, [["__scopeId", "data-v-b3305eba"]]);
        var ae = (0,
        ec.defineComponent)({
            __name: "Viewable",
            emits: ["onshow"],
            setup: function(n, d) {
                var v = d.emit;
                return (0,
                ec.onMounted)(function() {
                    v("onshow")
                }),
                function() {}
            }
        });
        v(1154),
        v(80013),
        v(29273);
        var at = v.p + "resource/svg/chapter-1.de72b01b.svg"
          , an = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBmaWxsPSIjRkZBRDMzIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04IDE0Ljg1N0E2Ljg1NyA2Ljg1NyAwIDEgMCA4IDEuMTQzYTYuODU3IDYuODU3IDAgMCAwIDAgMTMuNzE0TTggMTZBOCA4IDAgMSAxIDggMGE4IDggMCAwIDEgMCAxNk03LjQyOSA0QS41NzEuNTcxIDAgMCAxIDguNTcgNHY0LjU3MWEuNTcxLjU3MSAwIDAgMS0xLjE0MiAwem0xLjcxNCA3LjQyOWExLjE0MyAxLjE0MyAwIDEgMS0yLjI4NiAwIDEuMTQzIDEuMTQzIDAgMCAxIDIuMjg2IDAiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="
          , aa = v(21136)
          , ao = v(14978)
          , ar = v.n(ao)
          , ai = v(58590);
        let al = ["aria-valuenow"]
          , ac = {
            key: 0,
            class: "el-progress-bar"
        }
          , au = {
            key: 0,
            class: "el-progress-bar__innerText"
        }
          , as = {
            viewBox: "0 0 100 100"
        }
          , ad = ["d", "stroke-width"]
          , av = ["d", "stroke-linecap", "stroke-width"];
        function Progressvue_type_template_id_a462511e_render(n, d, v, m, h, y) {
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                class: (0,
                ec.normalizeClass)(["el-progress", ["el-progress--" + v.type, v.status ? "is-" + v.status : "", {
                    "el-progress--without-text": !v.showText,
                    "el-progress--text-inside": v.textInside
                }]]),
                role: "progressbar",
                "aria-valuenow": v.percentage,
                "aria-valuemin": "0",
                "aria-valuemax": "100"
            }, ["line" === v.type ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", ac, [(0,
            ec.createElementVNode)("div", {
                class: "el-progress-bar__outer",
                style: (0,
                ec.normalizeStyle)({
                    height: v.strokeWidth + "px"
                })
            }, [(0,
            ec.createElementVNode)("div", {
                class: "el-progress-bar__inner",
                style: (0,
                ec.normalizeStyle)(y.barStyle)
            }, [v.showText && v.textInside ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", au, (0,
            ec.toDisplayString)(y.content), 1)) : (0,
            ec.createCommentVNode)("", !0)], 4)], 4)])) : ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                key: 1,
                class: "el-progress-circle",
                style: (0,
                ec.normalizeStyle)({
                    height: v.width + "px",
                    width: v.width + "px"
                })
            }, [((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("svg", as, [(0,
            ec.createElementVNode)("path", {
                class: "el-progress-circle__track",
                d: y.trackPath,
                stroke: "currentColor",
                "stroke-width": y.relativeStrokeWidth,
                fill: "none",
                style: (0,
                ec.normalizeStyle)(y.trailPathStyle)
            }, null, 12, ad), (0,
            ec.createElementVNode)("path", {
                class: "el-progress-circle__path",
                d: y.trackPath,
                stroke: "currentColor",
                fill: "none",
                "stroke-linecap": v.strokeLinecap,
                "stroke-width": v.percentage ? y.relativeStrokeWidth : 0,
                style: (0,
                ec.normalizeStyle)(y.circlePathStyle)
            }, null, 12, av)]))], 4)), v.showText && !v.textInside ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                key: 2,
                class: "el-progress__text",
                style: (0,
                ec.normalizeStyle)({
                    fontSize: y.progressTextSize + "px"
                })
            }, [v.status ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("i", {
                key: 1,
                class: (0,
                ec.normalizeClass)(y.iconClass)
            }, null, 2)) : ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)(ec.Fragment, {
                key: 0
            }, [(0,
            ec.createTextVNode)((0,
            ec.toDisplayString)(y.content), 1)], 64))], 4)) : (0,
            ec.createCommentVNode)("", !0)], 10, al)
        }
        let am = (0,
        eN.default)({
            name: "ElProgress",
            props: {
                type: {
                    type: String,
                    default: "line",
                    validator: n=>["line", "circle", "dashboard"].indexOf(n) > -1
                },
                percentage: {
                    type: Number,
                    default: 0,
                    required: !0,
                    validator: n=>n >= 0 && n <= 100
                },
                status: {
                    type: String,
                    validator: n=>["success", "exception", "warning"].indexOf(n) > -1
                },
                strokeWidth: {
                    type: Number,
                    default: 6
                },
                strokeLinecap: {
                    type: String,
                    default: "round"
                },
                textInside: {
                    type: Boolean,
                    default: !1
                },
                width: {
                    type: Number,
                    default: 126
                },
                showText: {
                    type: Boolean,
                    default: !0
                },
                color: {
                    type: [String, Array, Function],
                    default: ""
                },
                format: Function
            },
            computed: {
                barStyle() {
                    let n = {};
                    return n.width = `${this.percentage}%`,
                    n.backgroundColor = this.getCurrentColor(this.percentage),
                    n
                },
                relativeStrokeWidth() {
                    return (this.strokeWidth / this.width * 100).toFixed(1)
                },
                radius() {
                    return "circle" === this.type || "dashboard" === this.type ? parseInt(50 - parseFloat(this.relativeStrokeWidth) / 2, 10) : 0
                },
                trackPath() {
                    let n = this.radius
                      , d = "dashboard" === this.type;
                    return `
          M 50 50
          m 0 ${d ? "" : "-"}${n}
          a ${n} ${n} 0 1 1 0 ${d ? "-" : ""}${2 * n}
          a ${n} ${n} 0 1 1 0 ${d ? "" : "-"}${2 * n}
          `
                },
                perimeter() {
                    return 2 * Math.PI * this.radius
                },
                rate() {
                    return "dashboard" === this.type ? .75 : 1
                },
                strokeDashoffset() {
                    let n = -1 * this.perimeter * (1 - this.rate) / 2;
                    return `${n}px`
                },
                trailPathStyle() {
                    return {
                        strokeDasharray: `${this.perimeter * this.rate}px, ${this.perimeter}px`,
                        strokeDashoffset: this.strokeDashoffset
                    }
                },
                circlePathStyle() {
                    return {
                        strokeDasharray: `${this.perimeter * this.rate * (this.percentage / 100)}px, ${this.perimeter}px`,
                        strokeDashoffset: this.strokeDashoffset,
                        transition: "stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"
                    }
                },
                iconClass() {
                    return "warning" === this.status ? "el-icon-warning" : "line" === this.type ? "success" === this.status ? "el-icon-circle-check" : "el-icon-circle-close" : "success" === this.status ? "el-icon-check" : "el-icon-close"
                },
                progressTextSize() {
                    return "line" === this.type ? 12 + .4 * this.strokeWidth : .111111 * this.width + 2
                },
                content() {
                    return "function" == typeof this.format ? this.format(this.percentage) || "" : `${this.percentage}%`
                }
            },
            methods: {
                getCurrentColor(n) {
                    return "function" == typeof this.color ? this.color(n) : "string" == typeof this.color ? this.color : this.getLevelColor(n)
                },
                getLevelColor(n) {
                    let d = this.getColorArray().sort((n,d)=>n.percentage - d.percentage);
                    for (let v = 0; v < d.length; v++)
                        if (d[v].percentage > n)
                            return d[v].color;
                    return d[d.length - 1].color
                },
                getColorArray() {
                    let n = this.color
                      , d = 100 / n.length;
                    return n.map((n,v)=>"string" == typeof n ? {
                        color: n,
                        progress: (v + 1) * d
                    } : n)
                }
            }
        }, [["render", Progressvue_type_template_id_a462511e_render]]);
        var af = {
            ADD_CHAPTER_AND_DESC: "添加章节让结构更清晰",
            ADD_CHAPTER: "添加章节",
            EDIT_CHAPTER: "修改",
            SAVE: "保存",
            CANCEL: "取消",
            CONFIRM: "确定",
            UPDATE_NOT_ALLOW_SETTING: "暂不支持修改该字段",
            VIDEO_UPLOADING: "视频上传中，请稍后",
            VIDEO_TRANSCODING: function(n) {
                return "视频转码中(".concat(n, "%)，请稍后")
            },
            TIME: "时刻",
            HAS_ONE_IN_5S: "5s内只可以添加一个章节",
            LAST_5S_NOT_ADD_CHAPTER: "视频最后5s不能添加章节哦",
            PASS_15_CAN_ADD_CHAPTER: "超过15秒的视频才可以添加章节哦",
            DRAG_TIME_AND_ADD_CHAPTER: "拖动时间轴，添加下一个章节",
            DRAG_TIME_ADD_TIME_POINT: "拖动时间轴，选择你想要添加的时间节点吧 ",
            CHAPTER_SETTING: "章节设置",
            PLEASE_INPUT_CHAPTER: "请输入章节名称",
            CLICK_AND_COPY: "点击复制章节",
            EXIT_PAGE: "离开页面",
            EXIT_AFTER_DONT_SAVE: "退出后将不保存编辑效果，确定要退出吗？",
            NOT_SUPPORT: "你的浏览器暂不支持该能力，请更换新版本的Chrome浏览器",
            COPY_SUCCESS_CAN_PASTE: "复制成功,可粘贴至笔记正文",
            HAS_ADDED_N_CHAPTER: function(n) {
                return "已添加".concat(n, "个章节")
            }
        }
          , ap = v(48159)
          , ag = v(38310)
          , ah = {
            class: "chapter-container"
        }
          , ay = {
            class: "add-box"
        }
          , aN = {
            class: "flex-row"
        }
          , ak = {
            class: "add-boxfont"
        }
          , aI = {
            class: "add-videochapter"
        }
          , aC = {
            key: 0,
            class: "add-length"
        }
          , ab = {
            class: "content-box"
        }
          , aE = {
            class: "content-left"
        }
          , aA = {
            class: "content-video"
        }
          , aw = {
            class: "video-progress"
        }
          , ax = ["onMouseenter", "onClick"]
          , aT = {
            class: "current-time"
        }
          , aM = {
            class: "content-time"
        }
          , aS = {
            class: "add-timenode"
        }
          , a_ = {
            key: 0
        }
          , aV = {
            key: 1
        }
          , aD = {
            class: "content-time"
        }
          , aB = {
            class: "chapter-save"
        }
          , aL = {
            class: "chapte-length"
        }
          , aP = {
            class: "content-right"
        }
          , aO = {
            class: "chapter-title"
        }
          , aR = {
            key: 0,
            class: "add-icon",
            src: at
        }
          , aU = {
            class: "moment-copy"
        }
          , aj = ["data-moment"]
          , aF = {
            contenteditable: "false"
        }
          , az = {
            class: "show-time"
        }
          , aZ = {
            class: "data-clipboard-text-hide"
        }
          , aQ = {
            class: "show-text"
        }
          , aJ = {
            class: "add-chapter"
        }
          , aH = ["onMouseenter", "onClick"]
          , aG = {
            key: 0,
            class: "icon-chapter"
        }
          , aY = ["onClick"]
          , aW = ["onClick"]
          , aq = {
            class: "copy",
            "data-clipboard-target": ".moment-copy"
        }
          , aX = {
            class: "copy-btn"
        }
          , aK = {
            class: "creator-indialog-content"
        }
          , a$ = (0,
        ec.defineComponent)({
            __name: "Chapter",
            props: {
                enable: {
                    type: Boolean
                }
            },
            setup: function(n) {
                var d, v = (0,
                ec.computed)(function() {
                    return n.enable
                }), m = (0,
                eG.ZP)(), h = (0,
                ej.Jk)((0,
                ag.Z)()).canPlayVideoInBrowser, y = (0,
                ej.Jk)((0,
                e0.Z)()).skipTranscoding, N = (0,
                ej.Jk)(m), k = N.video, I = N.videoUrl, C = N.chapters, x = N.needTranscode, M = N.transcodeVideoUrl, S = N.videoBlobUrl, _ = (0,
                ec.ref)(e5()(C.value)), B = (0,
                ec.ref)(), O = (0,
                ec.ref)(0), U = (0,
                ec.ref)(0), z = (0,
                ec.ref)(""), Z = (0,
                ec.ref)(), Q = (0,
                ec.ref)(-1), J = (0,
                ec.ref)(""), H = (0,
                ec.ref)("00:00"), G = (0,
                ec.ref)(!1), Y = (0,
                ec.ref)(!1), W = (0,
                ec.ref)(!1), q = (0,
                ec.ref)(!0), X = (0,
                ec.ref)(!0), K = (0,
                ec.ref)(!1), $ = (0,
                ec.ref)(-1), ee = (0,
                ec.ref)(!1), et = (0,
                eH.Z)(), en = (0,
                ej.Jk)(et), ea = en.theme, eo = en.status, er = en.transcodePercent, ei = en.noteId, eu = en.themeColor, es = en.publishType, ed = en.isFromDraft, ev = (0,
                ec.computed)(function() {
                    return eX.Q5.MOMENT
                }), em = (0,
                ec.computed)(function() {
                    return y.value && !ed.value ? h.value ? S.value || I.value : M.value : x.value ? M.value : S.value || I.value
                }), ef = (0,
                ec.ref)(0), ep = (0,
                ec.ref)(), eg = (0,
                ec.ref)(), eh = t3(), ey = (0,
                ec.computed)(function() {
                    return 0 !== _.value.length ? af.EDIT_CHAPTER : af.ADD_CHAPTER
                }), eN = (0,
                ec.computed)(function() {
                    return k.value.duration
                }), ek = (0,
                ec.computed)(function() {
                    return (0,
                    ap.pf)(eN.value)
                }), eI = (0,
                ec.computed)(function() {
                    return !!ei.value
                }), eC = (0,
                ec.computed)(function() {
                    return eo.value === eX.qb.Transcoding
                });
                (0,
                ec.computed)(function() {
                    return eI.value ? af.UPDATE_NOT_ALLOW_SETTING : eC.value ? af.VIDEO_TRANSCODING(er.value) : af.VIDEO_UPLOADING
                });
                var eb = (0,
                ec.computed)(function() {
                    return 0 === _.value.length ? af.DRAG_TIME_ADD_TIME_POINT : af.DRAG_TIME_AND_ADD_CHAPTER
                })
                  , eE = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["31257"]({
                        status: B.value ? "0" : "1"
                    }))
                })
                  , handleMouseUp = function() {
                    K.value = !1
                };
                (0,
                ec.onMounted)(function() {
                    document.body.addEventListener("mouseup", handleMouseUp)
                }),
                (0,
                ec.onBeforeUnmount)(function() {
                    document.body.removeEventListener("mouseup", handleMouseUp)
                });
                var is5sCheck = function() {
                    if (!(null === (n = ep.value) || void 0 === n ? void 0 : n.video))
                        return !1;
                    var n, d = ep.value.video, v = d.currentTime, m = d.duration;
                    return (_.value || []).some(function(n) {
                        return 5 >= Math.abs(n.time - v)
                    }) ? (J.value = af.HAS_ONE_IN_5S,
                    B.value = !0,
                    !1) : m - v <= 5 ? (J.value = af.LAST_5S_NOT_ADD_CHAPTER,
                    B.value = !0,
                    !1) : (B.value = !1,
                    !0)
                }
                  , add = function() {
                    if (em.value && eN.value >= 15 && v.value) {
                        var n, d, m, h;
                        G.value = !0,
                        eh.saveChapterToLs(),
                        (0,
                        ec.nextTick)(function() {
                            is5sCheck()
                        }),
                        null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["31258"]()),
                        null === (h = window) || void 0 === h || null === (m = h.eaglet) || void 0 === m || m.push(el.tracker["63115"]({
                            channelTabName: "章节",
                            noteEditSource: ei.value ? 2 : 1,
                            noteType: es.value === eX.QO.Video ? 3 : 1
                        }))
                    }
                }
                  , init = function() {
                    ep.value.video.currentTime = 0,
                    B.value = !1,
                    W.value = !1,
                    q.value = !0,
                    X.value = !0,
                    Y.value = !1,
                    $.value = -1,
                    ep.value.video.pause()
                }
                  , cancel = function() {
                    var n = eh.getChapterFromLs() || "[]";
                    JSON.stringify(_.value) !== n || W.value ? ee.value = !0 : (G.value = !1,
                    init(),
                    eh.removeChapterInLs())
                }
                  , pause = function() {
                    !W.value && (B.value = !1,
                    ep.value.video.paused ? (ep.value.video.play().catch(function(n) {
                        console.error("error: ", n)
                    }),
                    q.value = !0,
                    X.value = !0) : (ep.value.video.pause(),
                    q.value = !1))
                }
                  , handleMouseup = function() {
                    K.value = !1
                }
                  , clickBody = function(n) {
                    var d = document.getElementById("list-chapter");
                    d && !W.value && !d.contains(n.target) && (Q.value = -1,
                    $.value = -1)
                };
                (0,
                ec.onMounted)(function() {
                    document.body.addEventListener("mouseup", handleMouseup),
                    document.body.addEventListener("click", clickBody)
                }),
                (0,
                ec.onBeforeUnmount)(function() {
                    document.body.removeEventListener("mouseup", handleMouseup),
                    document.body.removeEventListener("click", clickBody)
                }),
                (0,
                ec.watch)(I, function(n, d) {
                    n !== d && d && (_.value = [])
                }),
                (0,
                ec.watch)(em, function(n, d) {
                    n !== d && d && (_.value = [])
                }),
                (0,
                ec.watch)(_, function() {
                    is5sCheck()
                });
                var press = function() {
                    ep.value.video && (!K.value && (O.value = ep.value.video.currentTime / eN.value * 100),
                    H.value = (0,
                    ap.pf)(ep.value.video.currentTime),
                    is5sCheck())
                }
                  , handleMousedown = function(n) {
                    if (!W.value) {
                        K.value = !0,
                        B.value = !1,
                        X.value = !1,
                        ep.value.video.pause();
                        var d = n.currentTarget.clientWidth;
                        O.value = 100 * n.offsetX / d,
                        ep.value.video.currentTime = O.value * (eN.value / 100)
                    }
                }
                  , eA = ar()(function(n) {
                    K.value && (O.value = 100 * n.offsetX / n.currentTarget.clientWidth,
                    ep.value.video.currentTime = O.value * (eN.value / 100))
                }, 16, {
                    leading: !0,
                    trailing: !1
                })
                  , handleMouseenter = function(n) {
                    Q.value = n
                }
                  , handleMouseleave = function() {
                    Q.value = -1
                }
                  , clickChapter = function(n) {
                    Q.value = n,
                    $.value = n,
                    _.value[n] && (O.value = _.value[n].percentage,
                    ep.value.video.currentTime = _.value[n].time),
                    W.value = !1
                }
                  , incrChapter = function() {
                    U.value = 0,
                    q.value = ep.value.video.paused,
                    ep.value.video.pause(),
                    z.value = "",
                    W.value = !0,
                    (0,
                    ec.nextTick)(function() {
                        var n;
                        null === (n = eg.value) || void 0 === n || n.focus()
                    })
                }
                  , handleIpt = function() {
                    for (var n = 0, d = 0; d < z.value.length; d++)
                        z.value.charCodeAt(d) > 127 || 94 === z.value.charCodeAt(d) ? n += 2 : n += 1,
                        n > 28 && (z.value = z.value.substring(0, d));
                    U.value = .5 * n > 14 ? 14 : Math.ceil(.5 * n)
                }
                  , save = function() {
                    ef.value = ep.value.video.currentTime / ep.value.video.duration * 677 + 54,
                    "" !== z.value && (Y.value ? (_.value[$.value].text = z.value,
                    _.value[$.value].length = U.value) : (_.value.push({
                        time: ep.value.video.currentTime,
                        text: z.value,
                        width: ef.value,
                        showTime: H.value,
                        percentage: O.value,
                        length: U.value
                    }),
                    _.value.sort(function(n, d) {
                        return n.time - d.time
                    }))),
                    $.value = -1,
                    Y.value = !1,
                    W.value = !1,
                    X.value = !0,
                    is5sCheck()
                }
                  , editChapter = function(n) {
                    ep.value.video.pause(),
                    O.value = _.value[n].percentage,
                    ep.value.video.currentTime = _.value[n].time,
                    z.value = _.value[n].text,
                    U.value = _.value[n].length,
                    $.value = n,
                    W.value = !0,
                    Y.value = !0
                }
                  , cancelChapter = function() {
                    W.value = !1,
                    Y.value = !1,
                    $.value = -1
                }
                  , remove = function(n) {
                    _.value.splice(n, 1),
                    W.value = !1,
                    Y.value = !1
                }
                  , inCancel = function() {
                    ee.value = !1
                };
                var ew = (d = (0,
                V._)(function() {
                    return (0,
                    R.Jh)(this, function(n) {
                        switch (n.label) {
                        case 0:
                            if (0 === _.value.length)
                                return [3, 2];
                            return [4, navigator.clipboard.write([new ClipboardItem({
                                "text/html": new Blob(["".concat(tr.v0).concat(document.querySelector(".moment-copy").innerHTML)],{
                                    type: "text/html"
                                })
                            })]).catch(function(n) {
                                nY.A.error(af.NOT_SUPPORT)
                            })];
                        case 1:
                            n.sent(),
                            nY.A.success(af.COPY_SUCCESS_CAN_PASTE),
                            n.label = 2;
                        case 2:
                            return [2]
                        }
                    })
                }),
                function copy() {
                    return d.apply(this, arguments)
                }
                )
                  , inConfirm = function() {
                    try {
                        _.value = JSON.parse(eh.getChapterFromLs() || "[]") || []
                    } catch (n) {}
                    init(),
                    G.value = !1,
                    ee.value = !1,
                    eh.removeChapterInLs()
                }
                  , confirm = function() {
                    C.value = e5()(_.value),
                    G.value = !1,
                    init(),
                    eh.removeChapterInLs()
                };
                return (0,
                ec.onBeforeUnmount)(function() {
                    eh.removeChapterInLs()
                }),
                function(n, d) {
                    var m = (0,
                    ec.resolveComponent)("el-popover")
                      , h = (0,
                    ec.resolveComponent)("el-button")
                      , y = (0,
                    ec.resolveComponent)("el-input")
                      , N = (0,
                    ec.resolveComponent)("el-icon");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", ah, [(0,
                    ec.createElementVNode)("div", ay, [(0,
                    ec.createElementVNode)("div", aN, [d[4] || (d[4] = (0,
                    ec.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAEA0lEQVR4Xu2bz0obQRzH5xF68AF6y7VHj5499QGE+gBK+wBC+wCBejdQz17aq1Dw4MFLoSVlSwUxIWCpJBgotFATsfORXbo7TJzJZFd/u5kvfBGT2dnf7zszv/nNnygVERERERGxVLi9vX1yfX39ajqdHp2fn5+enJz8kshut3uBjdiqbX5q+lE6eIl+4Ttevr6+frqysvJZf/xJMrFxY2Pj7PDwcIztlQmlK3/e7/cvEUZZDKkDV1dXE3o8vqgyoVV/cXBwMKpDj3ERH+hN+KTKAGpTobK8DOoXftEt842eJYnYhG2mvRnxaTKZrN05GQrGK13S1nMw4vj4eEAQ1C/a1XwjjLvYRrzc3t7umfbjEyGDCee/x3OCoGarvNPp/MSAhSp/INDIehbb39vbu1SWRkbMwgO+oGLUVxZxmDaLpeUDm4mjyvCHURDU0Lr3bJq9h/+DFRcAej29RuV82tnZGQQ1uBbofavV6qpcZSReleURDwB6Cj1G5XwiFmnhPhhF3RiNRoWuqMX6GlSRMBCPzIbv9XrfjWJumPGHrhnUFYUBH8isVc63JEl+G8XcMAUi/hCXiqXqB1tsTX2dD1EgB6JADiwqkA7oazc3N29JNqtk+g7vxedUgkDa6Ndkrsx8VZM1Fwmg7wQiQiDWbyr37ENwPB6PlAdECKQTyh/K4kSV9HVShEC63JGZ0ldJ3kU8Uh4QIVC6Z71PWk89VTLbd/ZdcIoQSDKiQA5EgRyIAjkQBXIgCuSAGIHSqf4Za7J5adZVJkQIlB0XsR5rt9sX85JnEdestwyIEIjt2paxrTkPeXY4HH6krrIhQiDz2RAGGe0BEQLR+rbTWF+yjZEeGpQOEQIRP4gjZmzxJUfCjY5BgFnMnJ186bvwDIEYgaQiCuRAFMiBKJADtpPVKFAOE8sND3YljWJuNFUg24mL9uuoWMoDTRQI+3WeVThxCb5l1jSBZt235NAx6M5TkwQi+UQccwHNkiZoeIFQgWgNMzN+LGY/l5h1xzu494B5BGJpwHk8s0HoHlAVxGabMJDvJyGxJ4OvQLTA1dXVmTl1Sia+cLCpFoGPQHRjVt7m2JZKbt530jvealG4BNJD6iXX+Wd1YUlEGK77ptsoXtdknLhPIC4ttY18IiNDjbKPTQQhHuIHG3gIU+o2ik0gAjE7fVtbW/38dxkxilkDISWQTbdSRcnDJtBgMPjLb67yn2csbWzXBaZADB1bMGZ8U7a0sV0XmALZSCZa5RmWaLgEYk+FeBScidYd9wlEFkqiVVkArANsAhFv9PpluFCK3hSYAhFv0vuAm8WSS4q8QFzWXtpgPAtJkvzRf+7yn6UOxrNAnOF3VEuV/EVERERERDQK/wCL9E02Ola9HgAAAABJRU5ErkJggg=="
                    }, null, -1)), (0,
                    ec.createElementVNode)("div", ak, [(0,
                    ec.createElementVNode)("p", aI, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(af).ADD_CHAPTER_AND_DESC), 1), 0 !== _.value.length ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("p", aC, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(af).HAS_ADDED_N_CHAPTER(_.value.length)), 1)) : (0,
                    ec.createCommentVNode)("", !0)])]), (0,
                    ec.createVNode)(m, {
                        ref: "popoverRef",
                        "show-arrow": "",
                        "virtual-ref": Z.value,
                        placement: "right",
                        trigger: "hover",
                        title: "视频上传成功且时长大于15s可添加章节",
                        disabled: v.value && eN.value >= 15,
                        "popper-class": "chapter-popper"
                    }, null, 8, ["virtual-ref", "disabled"]), (0,
                    ec.createVNode)((0,
                    ec.unref)(nl.zx), {
                        ref_key: "btnRef",
                        ref: Z,
                        disabled: eN.value < 15 || !v.value,
                        "data-impression": eE.value,
                        color: (0,
                        ec.unref)(ea),
                        onClick: add
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createTextVNode)((0,
                            ec.toDisplayString)(ey.value), 1)]
                        }),
                        _: 1
                    }, 8, ["disabled", "data-impression", "color"])]), (0,
                    ec.createVNode)((0,
                    ec.unref)(ai.d0), {
                        modelValue: G.value,
                        "onUpdate:modelValue": d[3] || (d[3] = function(n) {
                            return G.value = n
                        }
                        ),
                        title: (0,
                        ec.unref)(af).ADD_CHAPTER,
                        "append-to-body": "",
                        width: 1168,
                        "show-close": !1,
                        class: "creator-chapter-content"
                    }, {
                        footer: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("button", {
                                color: "#ffffff",
                                class: "modal-btn cancel-border",
                                onClick: cancel
                            }, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(af).CANCEL), 1), (0,
                            ec.createVNode)(h, {
                                color: (0,
                                ec.unref)(eu),
                                class: "modal-btn",
                                onClick: confirm
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(af).CONFIRM), 1)]
                                }),
                                _: 1
                            }, 8, ["color"])]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            var n;
                            return [(0,
                            ec.createElementVNode)("div", ab, [(0,
                            ec.createElementVNode)("div", aE, [(0,
                            ec.createElementVNode)("div", aA, [em.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(nl.M2), {
                                key: 0,
                                ref_key: "videoRef",
                                ref: ep,
                                class: "video",
                                src: em.value,
                                controls: !1,
                                "show-play-icon": !1,
                                onTimeUpdate: press
                            }, null, 8, ["src"])) : (0,
                            ec.createCommentVNode)("", !0), (0,
                            ec.createElementVNode)("div", aw, [(0,
                            ec.createElementVNode)("div", {
                                class: (0,
                                ec.normalizeClass)([(null === (n = ep.value) || void 0 === n ? void 0 : n.video.paused) ? "pause" : "pause-f", {
                                    "video-cursor": W.value
                                }]),
                                onClick: pause
                            }, null, 2), (0,
                            ec.createVNode)(am, {
                                ref: "progress",
                                percentage: O.value,
                                "stroke-width": 4,
                                "show-text": !1,
                                class: (0,
                                ec.normalizeClass)({
                                    "video-cursor": W.value
                                }),
                                onMousedown: handleMousedown,
                                onMousemove: d[0] || (d[0] = function(n) {
                                    return (0,
                                    ec.unref)(eA)(n)
                                }
                                )
                            }, null, 8, ["percentage", "class"]), ((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(_.value, function(n, d) {
                                var v, m, h, y;
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    key: d,
                                    class: (0,
                                    ec.normalizeClass)(["chapter-ball", [{
                                        "chapter-ball--move": (null === (v = ep.value) || void 0 === v ? void 0 : v.video) && n.time <= (null === (m = ep.value) || void 0 === m ? void 0 : m.video.currentTime)
                                    }, {
                                        "chapter-ball--scale": Q.value == d
                                    }, {
                                        "chapter-ball--event": (null === (h = ep.value) || void 0 === h ? void 0 : h.video) && n.time === (null === (y = ep.value) || void 0 === y ? void 0 : y.video.currentTime)
                                    }]]),
                                    style: (0,
                                    ec.normalizeStyle)({
                                        left: n.width + "px"
                                    }),
                                    onMouseenter: function(n) {
                                        return handleMouseenter(d)
                                    },
                                    onMouseleave: handleMouseleave,
                                    onClick: (0,
                                    ec.withModifiers)(function(n) {
                                        return clickChapter(d)
                                    }, ["stop"])
                                }, null, 46, ax)
                            }), 128))]), (0,
                            ec.createElementVNode)("div", aT, (0,
                            ec.toDisplayString)(H.value) + "/" + (0,
                            ec.toDisplayString)(ek.value), 1)]), (0,
                            ec.withDirectives)((0,
                            ec.createElementVNode)("div", aM, [(0,
                            ec.createElementVNode)("div", aS, [X.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("p", a_, [d[5] || (d[5] = (0,
                            ec.createElementVNode)("img", {
                                src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE0IDE0Ij48cGF0aCBmaWxsPSIjM0E2NEZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDBhNyA3IDAgMSAxIDAgMTRBNyA3IDAgMCAxIDcgMG0uMDQyIDExYS43LjcgMCAwIDAgLjcwMi0uNzAydi00LjIxYS43MDIuNzAyIDAgMSAwLTEuNDA0IDB2NC4yMWMwIC4zODguMzE1LjcwMi43MDIuNzAyTTYuMiAzLjg0MmEuODQyLjg0MiAwIDEgMSAxLjY4NCAwIC44NDIuODQyIDAgMCAxLTEuNjg0IDAiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="
                            }, null, -1)), (0,
                            ec.createTextVNode)(" " + (0,
                            ec.toDisplayString)(eb.value), 1)])) : (0,
                            ec.createCommentVNode)("", !0), B.value && !X.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("p", aV, [d[6] || (d[6] = (0,
                            ec.createElementVNode)("img", {
                                src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE0IDE0Ij48cGF0aCBmaWxsPSIjRkY1MjVEIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE0QTcgNyAwIDEgMCA3IDBhNyA3IDAgMCAwIDAgMTQiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxyZWN0IHdpZHRoPSI4IiBoZWlnaHQ9IjEiIHg9IjMuODUiIHk9IjkuNTA3IiBmaWxsPSIjZmZmIiByeD0iLjUiIHRyYW5zZm9ybT0icm90YXRlKC00NSAzLjg1IDkuNTA3KSIvPjxyZWN0IHdpZHRoPSI4IiBoZWlnaHQ9IjEiIHg9IjQuNTU3IiB5PSIzLjg1IiBmaWxsPSIjZmZmIiByeD0iLjUiIHRyYW5zZm9ybT0icm90YXRlKDQ1IDQuNTU3IDMuODUpIi8+PC9zdmc+"
                            }, null, -1)), (0,
                            ec.createTextVNode)(" " + (0,
                            ec.toDisplayString)(J.value), 1)])) : (0,
                            ec.createCommentVNode)("", !0)]), (0,
                            ec.withDirectives)((0,
                            ec.createVNode)(h, {
                                color: (0,
                                ec.unref)(eu),
                                disabled: B.value,
                                class: "add-btn",
                                icon: (0,
                                ec.unref)(aa.v37),
                                onClick: incrChapter
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(af).ADD_CHAPTER), 1)]
                                }),
                                _: 1
                            }, 8, ["color", "disabled", "icon"]), [[ec.vShow, !W.value]])], 512), [[ec.vShow, !W.value]]), (0,
                            ec.createElementVNode)("div", null, [(0,
                            ec.withDirectives)((0,
                            ec.createElementVNode)("div", aD, [(0,
                            ec.createElementVNode)("div", aB, [(0,
                            ec.createVNode)(y, {
                                ref_key: "inputRef",
                                ref: eg,
                                modelValue: z.value,
                                "onUpdate:modelValue": d[1] || (d[1] = function(n) {
                                    return z.value = n
                                }
                                ),
                                class: "content-ipt",
                                type: "text",
                                placeholder: (0,
                                ec.unref)(af).PLEASE_INPUT_CHAPTER,
                                autofocus: "",
                                onInput: handleIpt
                            }, null, 8, ["modelValue", "placeholder"]), (0,
                            ec.createElementVNode)("p", aL, [(0,
                            ec.createElementVNode)("span", null, (0,
                            ec.toDisplayString)(U.value) + "/", 1), d[7] || (d[7] = (0,
                            ec.createTextVNode)(" 14 "))]), (0,
                            ec.createVNode)(h, {
                                color: (0,
                                ec.unref)(eu),
                                class: "chapter-add-btn",
                                onClick: save
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(af).SAVE), 1)]
                                }),
                                _: 1
                            }, 8, ["color"]), (0,
                            ec.createElementVNode)("button", {
                                color: "#ffffff",
                                class: "chapter-add-btn cancel-border ml12",
                                onClick: cancelChapter
                            }, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(af).CANCEL), 1)])], 512), [[ec.vShow, W.value]])])]), d[10] || (d[10] = (0,
                            ec.createElementVNode)("div", {
                                class: "content-center"
                            }, null, -1)), (0,
                            ec.createElementVNode)("div", aP, [(0,
                            ec.createElementVNode)("p", aO, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(af).CHAPTER_SETTING), 1), _.value && 0 === _.value.length ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("img", aR)) : (0,
                            ec.createCommentVNode)("", !0), (0,
                            ec.createElementVNode)("div", aU, [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(_.value, function(n, v) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)(ec.Fragment, {
                                    key: v
                                }, [(0,
                                ec.createElementVNode)("a", {
                                    class: "show-chapter",
                                    "data-moment": JSON.stringify({
                                        name: n.showTime,
                                        type: ev.value,
                                        text: n.text
                                    })
                                }, [(0,
                                ec.createElementVNode)("span", aF, [d[8] || (d[8] = (0,
                                ec.createElementVNode)("span", {
                                    class: "data-clipboard-text-hide"
                                }, "#", -1)), (0,
                                ec.createElementVNode)("span", az, (0,
                                ec.toDisplayString)(n.showTime), 1), (0,
                                ec.createElementVNode)("span", aZ, "[" + (0,
                                ec.toDisplayString)((0,
                                ec.unref)(af).TIME) + "]#", 1)]), (0,
                                ec.createElementVNode)("span", aQ, (0,
                                ec.toDisplayString)(n.text), 1)], 8, aj), d[9] || (d[9] = (0,
                                ec.createElementVNode)("br", null, null, -1))], 64)
                            }), 128))]), (0,
                            ec.createElementVNode)("div", aJ, [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(_.value, function(n, d) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    id: "list-chapter",
                                    key: d,
                                    class: (0,
                                    ec.normalizeClass)(["list-chapter", [{
                                        "list-chapter--hoverb": Q.value === d,
                                        "list-chapter--hovera": $.value === d
                                    }]]),
                                    onMouseenter: function(n) {
                                        return handleMouseenter(d)
                                    },
                                    onMouseleave: handleMouseleave,
                                    onClick: (0,
                                    ec.withModifiers)(function(n) {
                                        return clickChapter(d)
                                    }, ["stop"])
                                }, [(0,
                                ec.createElementVNode)("span", null, (0,
                                ec.toDisplayString)(n.showTime), 1), (0,
                                ec.createTextVNode)(" " + (0,
                                ec.toDisplayString)(n.text) + " ", 1), Q.value === d || $.value === d ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", aG, [(0,
                                ec.createElementVNode)("img", {
                                    src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNyIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE2IDE3Ij48cGF0aCBmaWxsPSIjMzMzIiBkPSJtMy4wMiA5LjYzNCA4LjAyOC03Ljk2MmEyLjMzIDIuMzMgMCAwIDEgMy4yNzQgMGMuOTA0Ljg5Ny45MDQgMi4zNSAwIDMuMjQ4bC04LjAxNiA3Ljk0OWMtLjI0OS4yNDctLjU4LjM5Ny0uOTMuNDI0bC0xLjg1Ni4xMzhhMS4wNSAxLjA1IDAgMCAxLTEuMTI0LTEuMTU4bC4yMDItMS43N2MuMDM3LS4zMjkuMTg2LS42MzUuNDIyLS44NjltMi4yNiAyLjQxYS4yLjIgMCAwIDAgLjEzMy0uMDZsOC4wMTYtNy45NWMuNDEtLjQwOC40MS0xLjA2OCAwLTEuNDc2YTEuMDYgMS4wNiAwIDAgMC0xLjQ4OCAwTDMuOTEzIDEwLjUyYS4yLjIgMCAwIDAtLjA2LjEyNGwtLjE3NCAxLjUyek0xLjYzMSAxNC43NDhhLjYzLjYzIDAgMCAwLS42MzEuNjI2YzAgLjM0Ni4yODMuNjI2LjYzMS42MjZIMTMuODRjLjM0OCAwIC42MzEtLjI4LjYzMS0uNjI2YS42My42MyAwIDAgMC0uNjMxLS42MjZ6Ii8+PHBhdGggc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9Ii4zIiBkPSJtMy4wMiA5LjYzNCA4LjAyOC03Ljk2MmEyLjMzIDIuMzMgMCAwIDEgMy4yNzQgMGMuOTA0Ljg5Ny45MDQgMi4zNSAwIDMuMjQ4bC04LjAxNiA3Ljk0OWMtLjI0OS4yNDctLjU4LjM5Ny0uOTMuNDI0bC0xLjg1Ni4xMzhhMS4wNSAxLjA1IDAgMCAxLTEuMTI0LTEuMTU4bC4yMDItMS43N2MuMDM3LS4zMjkuMTg2LS42MzUuNDIyLS44NjlabTIuMjYgMi40MWEuMi4yIDAgMCAwIC4xMzMtLjA2bDguMDE2LTcuOTVjLjQxLS40MDguNDEtMS4wNjggMC0xLjQ3NmExLjA2IDEuMDYgMCAwIDAtMS40ODggMEwzLjkxMyAxMC41MmEuMi4yIDAgMCAwLS4wNi4xMjRsLS4xNzQgMS41MnpNMS42MzEgMTQuNzQ4YS42My42MyAwIDAgMC0uNjMxLjYyNmMwIC4zNDYuMjgzLjYyNi42MzEuNjI2SDEzLjg0Yy4zNDggMCAuNjMxLS4yOC42MzEtLjYyNmEuNjMuNjMgMCAwIDAtLjYzMS0uNjI2eiIvPjwvc3ZnPg==",
                                    onClick: (0,
                                    ec.withModifiers)(function(n) {
                                        return editChapter(d)
                                    }, ["stop"])
                                }, null, 8, aY), (0,
                                ec.createElementVNode)("img", {
                                    src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBmaWxsPSIjMzMzIiBkPSJNOS44NDQuNUg2LjE1NmEuNzM4LjczOCAwIDEgMCAwIDEuNDc1aDMuNjg4YS43MzguNzM4IDAgMSAwIDAtMS40NzVNMTUuNSAzLjY5N2EuNzQuNzQgMCAwIDAtLjczOC0uNzM4SDEuMjM4YS43MzguNzM4IDAgMCAwIDAgMS40NzVoLjkwMXY3LjY2NEEzLjQgMy40IDAgMCAwIDUuNTQxIDE1LjVoNC45MThhMy40IDMuNCAwIDAgMCAzLjQwMi0zLjQwMlY0LjQzNGguOTAxYy40MDggMCAuNzM4LS4zMy43MzgtLjczN00zLjYxNSAxMi4wOThWNC40MzRoOC43N3Y3LjY2NGExLjkyNiAxLjkyNiAwIDAgMS0xLjkyNiAxLjkyN0g1LjU0MWExLjkyNiAxLjkyNiAwIDAgMS0xLjkyNi0xLjkyN20yLjU0LTYuNjhhLjc0Ljc0IDAgMCAwLS43MzcuNzM4djYuMTQ3YS43MzguNzM4IDAgMCAwIDEuNDc1IDBWNi4xNTZhLjc0Ljc0IDAgMCAwLS43MzctLjczOG0zLjY5IDBhLjc0Ljc0IDAgMCAwLS43MzguNzM4djYuMTQ3YS43MzguNzM4IDAgMCAwIDEuNDc1IDBWNi4xNTZhLjc0Ljc0IDAgMCAwLS43MzgtLjczOCIvPjwvc3ZnPg==",
                                    onClick: (0,
                                    ec.withModifiers)(function(n) {
                                        return remove(d)
                                    }, ["stop"])
                                }, null, 8, aW)])) : (0,
                                ec.createCommentVNode)("", !0)], 42, aH)
                            }), 128))])])]), (0,
                            ec.createElementVNode)("div", aq, [0 !== _.value.length ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", {
                                key: 0,
                                class: "copy-cursor",
                                onClick: ew
                            }, [(0,
                            ec.createVNode)(N, null, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)((0,
                                    ec.unref)(aa._hA))]
                                }),
                                _: 1
                            }), (0,
                            ec.createElementVNode)("span", aX, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(af).CLICK_AND_COPY), 1)])) : (0,
                            ec.createCommentVNode)("", !0)]), (0,
                            ec.createVNode)((0,
                            ec.unref)(ai.d0), {
                                modelValue: ee.value,
                                "onUpdate:modelValue": d[2] || (d[2] = function(n) {
                                    return ee.value = n
                                }
                                ),
                                title: (0,
                                ec.unref)(af).EXIT_PAGE,
                                "append-to-body": "",
                                top: "300px",
                                width: "400px",
                                "show-close": !1,
                                onClose: inCancel
                            }, {
                                footer: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)(h, {
                                        color: (0,
                                        ec.unref)(eu),
                                        onClick: inConfirm
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return [(0,
                                            ec.createTextVNode)((0,
                                            ec.toDisplayString)((0,
                                            ec.unref)(af).CONFIRM), 1)]
                                        }),
                                        _: 1
                                    }, 8, ["color"]), (0,
                                    ec.createElementVNode)("button", {
                                        class: "cancel-border cancel-box-width",
                                        onClick: inCancel
                                    }, (0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(af).CANCEL), 1)]
                                }),
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createElementVNode)("div", aK, [d[11] || (d[11] = (0,
                                    ec.createElementVNode)("img", {
                                        src: an
                                    }, null, -1)), (0,
                                    ec.createElementVNode)("span", null, (0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(af).EXIT_AFTER_DONT_SAVE), 1)])]
                                }),
                                _: 1
                            }, 8, ["modelValue", "title"])]
                        }),
                        _: 1
                    }, 8, ["modelValue", "title"])])
                }
            }
        });
        let a0 = (0,
        eN.default)(a$, [["__scopeId", "data-v-d31ba6ac"]]);
        var a1 = v(14300)
          , a2 = [{
            label: "虚构演绎，仅供娱乐",
            value: nX.$B.Show
        }, {
            label: "笔记含AI合成内容",
            value: nX.$B.AiSynthesis
        }, {
            label: "内容来源声明",
            children: [{
                label: "已在正文中自主标注",
                value: nX.$B.SelfLabeled
            }, {
                label: "自主拍摄",
                value: nX.$B.SelfShooting
            }, {
                label: "来源转载",
                value: nX.$B.SourceMedia
            }]
        }]
          , a4 = v(35783)
          , a3 = v(58200)
          , a5 = v(35573)
          , a8 = v(28977)
          , a6 = v.n(a8);
        v(6045),
        v(10364),
        v(67673);
        var a9 = {
            class: "address-box"
        }
          , a7 = {
            class: "item"
        }
          , oe = {
            class: "name"
        }
          , ot = {
            class: "subname"
        }
          , oa = (0,
        ec.defineComponent)({
            __name: "Address",
            props: {
                value: {},
                originName: {},
                locs: {},
                disabled: {
                    type: Boolean
                },
                placeholder: {}
            },
            emits: ["change"],
            setup: function(n, d) {
                var v, m, h = d.emit;
                (0,
                ec.ref)([]);
                var y = (0,
                ec.ref)(0)
                  , N = (0,
                ec.ref)(0)
                  , k = (0,
                ec.ref)("")
                  , I = (0,
                ec.ref)(!1)
                  , C = (0,
                ec.computed)(function() {
                    return n.value
                });
                var x = (v = (0,
                V._)(function() {
                    return (0,
                    R.Jh)(this, function(n) {
                        return [2, new Promise(function(n) {
                            try {
                                window.navigator.geolocation.getCurrentPosition(function(d) {
                                    var v = d.coords
                                      , m = v.latitude
                                      , h = v.longitude;
                                    y.value = m,
                                    N.value = h,
                                    I.value = !0,
                                    n()
                                }, function(d) {
                                    e8._.error(d),
                                    n()
                                }, {
                                    timeout: 1e3
                                })
                            } catch (d) {
                                n()
                            }
                        }
                        )]
                    })
                }),
                function getPosition() {
                    return v.apply(this, arguments)
                }
                );
                x();
                var handleSelect = function(n) {
                    var d, v;
                    null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["31288"]()),
                    h("change", n)
                }
                  , focusHandle = function() {
                    var n, d;
                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["31289"]())
                }
                  , blurHandle = function() {
                    var d;
                    (null === (d = n.value) || void 0 === d ? void 0 : d.name) ? "" === k.value ? k.value = "" : k.value !== n.value.name && (k.value = n.value.name) : k.value = ""
                };
                var M = (m = (0,
                V._)(function(n) {
                    return (0,
                    R.Jh)(this, function(d) {
                        switch (d.label) {
                        case 0:
                            if (!(!y.value && !N.value))
                                return [3, 2];
                            return [4, x()];
                        case 1:
                            d.sent(),
                            d.label = 2;
                        case 2:
                            return [4, (0,
                            nq.vn)({
                                latitude: Number(y.value),
                                longitude: Number(N.value),
                                keyword: n,
                                page: 1,
                                size: 30,
                                source: "WEB",
                                type: n ? nq.MW.Foreign : nq.MW.Nearby
                            })];
                        case 3:
                            return [2, (d.sent().poiList || []).map(function(n) {
                                return {
                                    poiId: n.poiId,
                                    poiType: n.poiType,
                                    subname: n.fullAddress,
                                    name: n.name
                                }
                            })]
                        }
                    })
                }),
                function fetchSuggestion(n) {
                    return m.apply(this, arguments)
                }
                )
                  , S = (0,
                ec.computed)(function() {
                    var d, v;
                    return "".concat(null === (d = n.locs) || void 0 === d ? void 0 : d[0].name, "等").concat(null === (v = n.locs) || void 0 === v ? void 0 : v.length, "个地点")
                })
                  , onDisabledClick = function() {
                    nY.A.error("暂不支持多POI修改，前往小红书APP操作")
                };
                return (0,
                ec.watch)(C, function(n) {
                    var d;
                    k.value = null !== (d = null == n ? void 0 : n.name) && void 0 !== d ? d : ""
                }, {
                    immediate: !0
                }),
                function(n, d) {
                    var v = (0,
                    ec.resolveComponent)("el-autocomplete")
                      , m = (0,
                    ec.resolveComponent)("el-select");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", a9, [n.disabled ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(m, {
                        key: 1,
                        disabled: "",
                        class: "address-input",
                        placeholder: S.value,
                        onClick: onDisabledClick
                    }, null, 8, ["placeholder"])) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(v, {
                        key: 0,
                        modelValue: k.value,
                        "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                            return k.value = n
                        }
                        ),
                        "fetch-suggestions": M,
                        class: "address-input",
                        placeholder: n.placeholder || "请选择地点",
                        clearable: "",
                        onSelect: handleSelect,
                        onFocus: focusHandle,
                        onBlur: blurHandle,
                        onClear: handleSelect
                    }, {
                        default: (0,
                        ec.withCtx)(function(n) {
                            var d = n.item;
                            return [(0,
                            ec.createElementVNode)("div", a7, [(0,
                            ec.createElementVNode)("div", oe, (0,
                            ec.toDisplayString)(d.name), 1), (0,
                            ec.createElementVNode)("div", ot, (0,
                            ec.toDisplayString)(d.subname), 1)])]
                        }),
                        _: 1
                    }, 8, ["modelValue", "placeholder"]))])
                }
            }
        });
        let oo = (0,
        eN.default)(oa, [["__scopeId", "data-v-02bd4a2c"]]);
        var or = {
            class: "content"
        }
          , oi = {
            class: "dialog-footer"
        }
          , ol = (0,
        ec.defineComponent)({
            __name: "SelfShooting",
            props: {
                initAddress: {},
                initDate: {}
            },
            emits: ["onCancel", "onConfirm"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                eH.Z)().themeColor
                  , h = (0,
                ec.ref)(n.initDate)
                  , y = (0,
                ec.ref)(n.initAddress)
                  , handelAddressChange = function(n) {
                    y.value = n
                }
                  , handleConfirm = function() {
                    v("onConfirm", {
                        photoPlace: y.value,
                        photoTime: h.value ? a6()(h.value).format("YYYY-MM-DD") : void 0
                    })
                };
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(ai.d0), {
                        "model-value": !0,
                        width: "500",
                        "align-center": "",
                        "append-to-body": "",
                        class: "self-shooting-contain",
                        style: {
                            "--el-dialog-border-radius": "8px",
                            "--el-color-primary": "#888"
                        },
                        onClose: d[2] || (d[2] = function(n) {
                            return v("onCancel")
                        }
                        )
                    }, {
                        header: (0,
                        ec.withCtx)(function() {
                            return d[3] || (d[3] = [(0,
                            ec.createElementVNode)("div", {
                                class: "title"
                            }, "自主拍摄", -1)])
                        }),
                        footer: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", oi, [(0,
                            ec.createVNode)((0,
                            ec.unref)(a4.mi), {
                                class: "cancelBtn",
                                onClick: d[1] || (d[1] = function(n) {
                                    return v("onCancel")
                                }
                                )
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[4] || (d[4] = [(0,
                                    ec.createTextVNode)(" 取消 ")])
                                }),
                                _: 1
                            }), (0,
                            ec.createVNode)((0,
                            ec.unref)(a4.mi), {
                                color: (0,
                                ec.unref)(m),
                                type: "primary",
                                disabled: !(h.value || y.value),
                                onClick: handleConfirm
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[5] || (d[5] = [(0,
                                    ec.createTextVNode)(" 确认 ")])
                                }),
                                _: 1
                            }, 8, ["color", "disabled"])])]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", or, [(0,
                            ec.createVNode)((0,
                            ec.unref)(a3.nH), {
                                label: "拍摄地点"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)(oo, {
                                        placeholder: "下拉选择地点",
                                        value: y.value,
                                        onChange: handelAddressChange
                                    }, null, 8, ["value"])]
                                }),
                                _: 1
                            }), (0,
                            ec.createVNode)((0,
                            ec.unref)(a3.nH), {
                                label: "拍摄日期"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)((0,
                                    ec.unref)(a5.iJ), {
                                        modelValue: h.value,
                                        "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                                            return h.value = n
                                        }
                                        ),
                                        placeholder: "下拉选择日期",
                                        class: "date-picker",
                                        "disabled-date": function(n) {
                                            return (0,
                                            ec.unref)(a6())().isBefore(n)
                                        }
                                    }, null, 8, ["modelValue", "disabled-date"])]
                                }),
                                _: 1
                            })])]
                        }),
                        _: 1
                    })
                }
            }
        });
        let oc = (0,
        eN.default)(ol, [["__scopeId", "data-v-9e06a84e"]]);
        var ou = v(37126)
          , os = {
            class: "content"
        }
          , od = {
            class: "dialog-footer"
        }
          , ov = (0,
        ec.defineComponent)({
            __name: "SourceMedia",
            props: {
                initValue: {}
            },
            emits: ["onCancel", "onConfirm"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                eH.Z)().themeColor
                  , h = (0,
                ec.ref)(n.initValue)
                  , handleConfirm = function() {
                    v("onConfirm", h.value)
                };
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(ai.d0), {
                        "model-value": !0,
                        width: "500",
                        "align-center": "",
                        "append-to-body": "",
                        class: "self-source-media",
                        style: {
                            "--el-dialog-border-radius": "8px",
                            "--el-color-primary": "#888"
                        },
                        onClose: d[2] || (d[2] = function(n) {
                            return v("onCancel")
                        }
                        )
                    }, {
                        header: (0,
                        ec.withCtx)(function() {
                            return d[3] || (d[3] = [(0,
                            ec.createElementVNode)("div", {
                                class: "title"
                            }, "来源媒体", -1)])
                        }),
                        footer: (0,
                        ec.withCtx)(function() {
                            var n;
                            return [(0,
                            ec.createElementVNode)("div", od, [(0,
                            ec.createVNode)((0,
                            ec.unref)(a4.mi), {
                                class: "cancelBtn",
                                onClick: d[1] || (d[1] = function(n) {
                                    return v("onCancel")
                                }
                                )
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[4] || (d[4] = [(0,
                                    ec.createTextVNode)(" 取消 ")])
                                }),
                                _: 1
                            }), (0,
                            ec.createVNode)((0,
                            ec.unref)(a4.mi), {
                                color: (0,
                                ec.unref)(m),
                                type: "primary",
                                disabled: (null === (n = h.value || "") || void 0 === n ? void 0 : n.trim().length) <= 0,
                                onClick: handleConfirm
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[5] || (d[5] = [(0,
                                    ec.createTextVNode)(" 确认 ")])
                                }),
                                _: 1
                            }, 8, ["color", "disabled"])])]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", os, [(0,
                            ec.createVNode)((0,
                            ec.unref)(ou.EZ), {
                                modelValue: h.value,
                                "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                                    return h.value = n
                                }
                                ),
                                clearable: "",
                                placeholder: "请输入媒体名称"
                            }, null, 8, ["modelValue"])])]
                        }),
                        _: 1
                    })
                }
            }
        });
        let om = (0,
        eN.default)(ov, [["__scopeId", "data-v-60f23885"]]);
        var of = {
            class: "wrapper"
        }
          , op = {
            class: "notation"
        }
          , og = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                value: {},
                themeColor: {}
            },
            emits: ["onChange"],
            setup: function(n, d) {
                var v, m = d.emit, h = (0,
                ec.ref)((null === (v = n.value) || void 0 === v ? void 0 : v.origin) || nX.$B.Empty), y = (0,
                ej.Jk)((0,
                eH.Z)()), N = y.noteId, k = y.publishType, I = (0,
                ec.computed)(function() {
                    var d, v, m = null === (d = n.value) || void 0 === d ? void 0 : d.origin;
                    if (!m)
                        return "";
                    var h = n.value.photoInfo || {}
                      , y = h.photoPlace
                      , N = h.photoTime
                      , k = null === (v = n.value.repostInfo) || void 0 === v ? void 0 : v.source;
                    return (y || N) && m === nX.$B.SelfShooting ? "拍摄于".concat([N, null == y ? void 0 : y.name].filter(Boolean).join("，")) : k && m === nX.$B.SourceMedia ? "信息转载于".concat(k) : ""
                }), C = (0,
                ec.ref)(!1), x = (0,
                ec.ref)(!1), handleDeclarationChange = function(n) {
                    if (m("onChange", {
                        origin: n
                    }),
                    n === nX.$B.SelfShooting) {
                        C.value = !0;
                        return
                    }
                    n === nX.$B.SourceMedia && (x.value = !0)
                }, handleClickDeclaration = function() {
                    var n;
                    null === (n = window) || void 0 === n || n.eaglet.push(el.tracker["63115"]({
                        channelTabName: "自主声明",
                        noteEditSource: N.value ? 2 : 1,
                        noteType: k.value === eX.QO.Video ? 3 : 1
                    }))
                }, handleSelfShootCancel = function() {
                    C.value = !1
                }, handleSelfShootConfirm = function(n) {
                    C.value = !1,
                    m("onChange", {
                        origin: nX.$B.SelfShooting,
                        photoInfo: n
                    })
                }, handleSourceMediaCancel = function() {
                    x.value = !1
                }, handleSourceMediaConfirm = function(n) {
                    x.value = !1,
                    m("onChange", {
                        origin: nX.$B.SourceMedia,
                        repostInfo: {
                            source: n
                        }
                    })
                }, handleClear = function() {
                    m("onChange", {
                        origin: nX.$B.Empty
                    })
                };
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, [(0,
                    ec.createElementVNode)("div", of, [(0,
                    ec.createVNode)((0,
                    ec.unref)(a1.Z), {
                        modelValue: h.value,
                        "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                            return h.value = n
                        }
                        ),
                        lass: "declaration-wrapper",
                        options: (0,
                        ec.unref)(a2),
                        clearable: "",
                        placeholder: "添加自主声明",
                        onClick: handleClickDeclaration,
                        onChange: handleDeclarationChange,
                        onClear: handleClear
                    }, null, 8, ["modelValue", "options"]), (0,
                    ec.createElementVNode)("div", op, (0,
                    ec.toDisplayString)(I.value), 1)]), C.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(oc, {
                        key: 0,
                        onOnCancel: handleSelfShootCancel,
                        onOnConfirm: handleSelfShootConfirm
                    })) : (0,
                    ec.createCommentVNode)("", !0), x.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(om, {
                        key: 1,
                        onOnCancel: handleSourceMediaCancel,
                        onOnConfirm: handleSourceMediaConfirm
                    })) : (0,
                    ec.createCommentVNode)("", !0)], 64)
                }
            }
        });
        let oh = (0,
        eN.default)(og, [["__scopeId", "data-v-079a427a"]]);
        v(64961),
        v(12996),
        v(59564);
        var oy = v(64649)
          , oN = v(87623)
          , ok = v(14698)
          , oI = [{
            label: "公开可见",
            value: nX.vH.Public,
            disabled: !1,
            extra: {}
        }, {
            label: "仅自己可见",
            value: nX.vH.Private,
            disabled: !1,
            extra: {}
        }, {
            label: "仅互关好友可见",
            value: nX.vH.OnlyToFriends,
            disabled: !1,
            extra: {}
        }, {
            label: "部分人可见",
            value: nX.vH.PartiallyVisible,
            disabled: !1,
            extra: {
                rightArrow: !0
            }
        }, {
            label: "部分人不可见",
            value: nX.vH.PartiallyInvisible,
            disabled: !1,
            extra: {
                rightArrow: !0
            }
        }]
          , oC = v(54346)
          , ob = {
            class: "wrapper"
        }
          , oE = {
            class: "icon"
        }
          , oA = {
            class: "group-info"
        }
          , ow = {
            class: "name"
        }
          , ox = {
            class: "icon"
        }
          , oT = {
            class: "group-info"
        }
          , oM = {
            class: "name"
        }
          , oS = {
            class: "notation"
        }
          , o_ = {
            key: 1,
            class: "notation heat"
        }
          , oV = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                permission: {},
                permissionFromApi: {},
                coOrderId: {},
                noteId: {}
            },
            emits: ["onChange"],
            setup: function(n, d) {
                var v, m, h = d.emit, y = (0,
                e$.Z)();
                (0,
                e0.Z)();
                var N = (0,
                ej.Jk)(eK()).permissionExclusiveText
                  , k = (0,
                ec.ref)([])
                  , I = "recent-select-user-".concat(null === (m = y.userInfo) || void 0 === m ? void 0 : m.id)
                  , C = (0,
                ec.ref)(n.permission.type || eX.vH.Public)
                  , x = (0,
                ej.Jk)((0,
                eH.Z)())
                  , M = x.noteId
                  , S = x.publishType
                  , _ = x.theme
                  , B = x.isFromDraft
                  , O = (0,
                ec.ref)(!1)
                  , U = (0,
                ec.ref)({
                    title: "",
                    modifyType: "create"
                })
                  , z = (0,
                ec.computed)(function() {
                    return oI
                })
                  , Z = (0,
                ec.ref)(n.permission.userIds || [])
                  , handlePermissionChange = function(d) {
                    var v, m, y, N;
                    null === (m = window) || void 0 === m || m.eaglet.push(el.tracker["71203"]({
                        noteEditSource: B.value ? 3 : 1,
                        componentName: null === (v = k.value.find(function(n) {
                            return n.value === d
                        })) || void 0 === v ? void 0 : v.label
                    })),
                    C.value === n.permissionFromApi.type && (Z.value = n.permissionFromApi.userIds && !B.value ? n.permissionFromApi.userIds : []),
                    d !== n.permissionFromApi.type && (Z.value = []),
                    d === eX.vH.PartiallyInvisible || d === eX.vH.PartiallyVisible ? (null === (y = window) || void 0 === y || y.eaglet.push(el.tracker["71200"]({
                        noteEditSource: B.value ? 3 : 1
                    })),
                    O.value = !0,
                    U.value.modifyType = "create",
                    U.value.title = d === eX.vH.PartiallyInvisible ? "部分不可见" : "部分可见",
                    null === (N = window) || void 0 === N || N.eaglet.push(el.tracker["71199"]({
                        noteEditSource: B.value ? 3 : 1
                    }))) : h("onChange", {
                        opType: 1,
                        type: C.value,
                        userIds: Z.value
                    })
                }
                  , Q = (0,
                ec.computed)(function() {
                    return C.value === eX.vH.PartiallyInvisible || C.value === eX.vH.PartiallyVisible ? "已选择".concat(Z.value.length, "人") : ""
                })
                  , J = (0,
                ec.ref)(!1);
                var H = (v = (0,
                V._)(function() {
                    var d, v;
                    return (0,
                    R.Jh)(this, function(m) {
                        switch (m.label) {
                        case 0:
                            if (null === (d = window) || void 0 === d || d.eaglet.push(el.tracker["63115"]({
                                channelTabName: "可见范围",
                                noteEditSource: M.value ? 2 : 1,
                                noteType: S.value === eX.QO.Video ? 3 : 1
                            })),
                            !n.noteId || J.value)
                                return [2];
                            m.label = 1;
                        case 1:
                            return m.trys.push([1, 3, , 4]),
                            [4, (0,
                            oC.eu)(n.noteId)];
                        case 2:
                            return v = m.sent(),
                            J.value = v.isNoteInPromotion,
                            [3, 4];
                        case 3:
                            return console.log(m.sent()),
                            [3, 4];
                        case 4:
                            return [2]
                        }
                    })
                }),
                function handleClickPermission() {
                    return v.apply(this, arguments)
                }
                )
                  , handleClose = function() {
                    var d;
                    if (O.value = !1,
                    "modify" !== U.value.modifyType) {
                        if ((null === (d = n.permissionFromApi.userIds) || void 0 === d ? void 0 : d.length) && !B.value) {
                            C.value = n.permissionFromApi.type,
                            Z.value = n.permissionFromApi.userIds;
                            return
                        }
                        C.value = eX.vH.Public,
                        Z.value = []
                    }
                }
                  , handleConfirm = function(n) {
                    var d;
                    null === (d = window) || void 0 === d || d.eaglet.push(el.tracker["71202"]({
                        noteEditSource: B.value ? 3 : 1
                    })),
                    O.value = !1,
                    Z.value = n,
                    h("onChange", {
                        opType: 1,
                        type: C.value,
                        userIds: Z.value
                    })
                }
                  , handleModify = function() {
                    var n, d;
                    null === (n = window) || void 0 === n || n.eaglet.push(el.tracker["71200"]({
                        noteEditSource: B.value ? 3 : 1
                    })),
                    O.value = !0,
                    U.value.modifyType = "modify",
                    U.value.title = C.value === eX.vH.PartiallyInvisible ? "部分不可见" : "部分可见",
                    null === (d = window) || void 0 === d || d.eaglet.push(el.tracker["71199"]({
                        noteEditSource: B.value ? 3 : 1
                    }))
                }
                  , calcOptions = function(n) {
                    k.value = z.value.map(function(d) {
                        return d.value !== eX.vH.Public && (d.disabled = !!n),
                        d
                    })
                };
                return (0,
                ec.onMounted)(function() {
                    calcOptions(n.coOrderId)
                }),
                (0,
                ec.watch)(function() {
                    return n.coOrderId
                }, function(n) {
                    calcOptions(n)
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, [(0,
                    ec.createElementVNode)("div", ob, [(0,
                    ec.createVNode)((0,
                    ec.unref)(a1.Z), {
                        modelValue: C.value,
                        "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                            return C.value = n
                        }
                        ),
                        class: "declaration-wrapper",
                        options: k.value,
                        onClick: H,
                        onChange: handlePermissionChange
                    }, {
                        option: (0,
                        ec.withCtx)(function(n) {
                            var d = n.option
                              , v = n.active
                              , m = n.subActive
                              , h = n.disabled
                              , y = n.hover;
                            return [h ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(oN.Z), {
                                key: 1,
                                content: (0,
                                ec.unref)(N),
                                placement: "right"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createElementVNode)("div", {
                                        class: (0,
                                        ec.normalizeClass)(["custom-option", "--color-bg-fill-light", v || m ? "--color-primary" : "--color-text-title", h && "disabled", y && "hover"])
                                    }, [(0,
                                    ec.createElementVNode)("div", ox, [v ? ((0,
                                    ec.openBlock)(),
                                    (0,
                                    ec.createBlock)((0,
                                    ec.unref)(oy.Z), {
                                        key: 0,
                                        icon: (0,
                                        ec.unref)(ok.JrY),
                                        class: "icon",
                                        color: "text-description"
                                    }, null, 8, ["icon"])) : (0,
                                    ec.createCommentVNode)("", !0)]), (0,
                                    ec.createElementVNode)("div", oT, [(0,
                                    ec.createElementVNode)("div", oM, (0,
                                    ec.toDisplayString)(d.label), 1), d.extra.rightArrow ? ((0,
                                    ec.openBlock)(),
                                    (0,
                                    ec.createBlock)((0,
                                    ec.unref)(oy.Z), {
                                        key: 0,
                                        class: "right",
                                        icon: (0,
                                        ec.unref)(ok.O6d),
                                        color: "text-description"
                                    }, null, 8, ["icon"])) : (0,
                                    ec.createCommentVNode)("", !0)])], 2)]
                                }),
                                _: 2
                            }, 1032, ["content"])) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", {
                                key: 0,
                                class: (0,
                                ec.normalizeClass)(["custom-option", "--color-bg-fill-light", v || m ? "--color-primary" : "--color-text-title", h && "disabled", y && "hover"])
                            }, [(0,
                            ec.createElementVNode)("div", oE, [v ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(oy.Z), {
                                key: 0,
                                icon: (0,
                                ec.unref)(ok.JrY),
                                class: "icon",
                                color: "text-description"
                            }, null, 8, ["icon"])) : (0,
                            ec.createCommentVNode)("", !0)]), (0,
                            ec.createElementVNode)("div", oA, [(0,
                            ec.createElementVNode)("div", ow, (0,
                            ec.toDisplayString)(d.label), 1), d.extra.rightArrow ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(oy.Z), {
                                key: 0,
                                class: "right",
                                icon: (0,
                                ec.unref)(ok.O6d),
                                color: "text-description"
                            }, null, 8, ["icon"])) : (0,
                            ec.createCommentVNode)("", !0)])], 2))]
                        }),
                        _: 1
                    }, 8, ["modelValue", "options"]), Q.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, {
                        key: 0
                    }, [(0,
                    ec.createElementVNode)("div", oS, (0,
                    ec.toDisplayString)(Q.value), 1), (0,
                    ec.createElementVNode)("div", {
                        class: "notation modify",
                        onClick: handleModify
                    }, "修改")], 64)) : (0,
                    ec.createCommentVNode)("", !0), J.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", o_, "薯条加热中，受限可见性将影响推广效果")) : (0,
                    ec.createCommentVNode)("", !0)]), O.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(nl.Rz), {
                        key: 0,
                        title: U.value.title,
                        "storage-key": I,
                        "select-type": C.value,
                        "selected-list": Z.value,
                        color: (0,
                        ec.unref)(_),
                        "fetch-friends-method": (0,
                        ec.unref)(oC.q2),
                        type: U.value.modifyType,
                        search: (0,
                        ec.unref)(oC.qz),
                        "fetch-user-info": (0,
                        ec.unref)(oC._j),
                        onOnClose: handleClose,
                        onOnConfirm: handleConfirm
                    }, null, 8, ["title", "select-type", "selected-list", "color", "fetch-friends-method", "type", "search", "fetch-user-info"])) : (0,
                    ec.createCommentVNode)("", !0)], 64)
                }
            }
        });
        let oD = (0,
        eN.default)(oV, [["__scopeId", "data-v-20f66018"]]);
        var oB = {
            class: "formbox"
        }
          , oL = {
            class: "flexbox"
        }
          , oP = {
            class: "flexbox"
        }
          , oO = {
            key: 0,
            class: "flexbox"
        }
          , oR = {
            key: 0,
            class: "date-picker"
        }
          , oU = {
            key: 0,
            class: "date-select-container-tooltip"
        }
          , oj = {
            key: 1,
            class: "date-select-container-tooltip"
        }
          , oF = {
            key: 1
        }
          , oz = (0,
        ec.defineComponent)({
            __name: "index",
            props: {
                hideCollection: {
                    type: Boolean
                },
                cooperationPermission: {
                    type: Boolean
                }
            },
            emits: ["cooperation-select"],
            setup: function(n, d) {
                d.emit;
                var v = (0,
                ec.ref)(!1)
                  , m = (0,
                ec.ref)(0)
                  , h = (0,
                ec.ref)("选择日期和时间")
                  , y = (0,
                ec.ref)(!1)
                  , N = (0,
                ec.ref)(0)
                  , k = (0,
                e$.Z)()
                  , I = (0,
                eY.Z)()
                  , C = e4()
                  , x = (0,
                ej.Jk)(k).userInfo
                  , M = (0,
                ej.Jk)((0,
                eH.Z)())
                  , S = M.noteId
                  , _ = M.isFromDraft
                  , V = M.themeColor
                  , O = 864e5;
                (0,
                ej.Jk)((0,
                eH.Z)()).theme;
                var R = (0,
                ej.Jk)(I)
                  , U = (R.postLoc,
                R.coOrderId)
                  , z = R.postTime
                  , Z = R.privacyInfo
                  , Q = (R.selectedOrder,
                R.postTiming)
                  , J = (R.postLocs,
                R.userDeclaration)
                  , H = (0,
                B._)({}, Z.value);
                (0,
                ec.onMounted)(function() {
                    z.value && (N.value = 1)
                });
                var getTimeDiff = function() {
                    var n = new Date().getTimezoneOffset();
                    return -480 !== n && (y.value = !0),
                    (n + 480) * 6e4
                }
                  , G = (0,
                ej.Jk)(C).plugins
                  , Y = (0,
                ej.Jk)((0,
                eG.ZP)()).updateTemp
                  , W = (0,
                ec.computed)(function() {
                    return !!S.value
                })
                  , q = (0,
                ec.computed)(function() {
                    return W.value && !Q.value
                });
                (0,
                ec.computed)(function() {
                    return _.value || W.value
                }).value && z.value && (N.value = 1);
                var X = (0,
                ec.computed)(function() {
                    var n;
                    return (null === (n = x.value) || void 0 === n ? void 0 : n.collections) || []
                })
                  , K = (0,
                ec.computed)(function() {
                    return X.value.length > 0
                });
                (0,
                ec.computed)(function() {
                    var d = [];
                    return K.value && !n.hideCollection && d.push("添加合集"),
                    n.cooperationPermission && d.push("内容合作"),
                    "（".concat(d.join("，"), "）")
                });
                var $ = (0,
                ec.computed)(function() {
                    return G.value.filter(function(n) {
                        return (null == n ? void 0 : n.position) === eX.eE.UnderSettings
                    })
                })
                  , ee = (0,
                ec.computed)(function() {
                    return G.value.filter(function(n) {
                        return (null == n ? void 0 : n.position) === eX.eE.MoreSettings
                    })
                });
                (0,
                ec.computed)(function() {
                    var n, d;
                    return null === (d = Y.value) || void 0 === d ? void 0 : null === (n = d.post_loc) || void 0 === n ? void 0 : n.name
                }),
                (0,
                ec.watch)((0,
                ec.ref)(n.cooperationPermission), function(n, d) {
                    n && U.value && (0,
                    ec.nextTick)(function() {
                        v.value = !0
                    })
                }),
                (0,
                ec.onMounted)(function() {
                    z.value && (m.value = z.value + getTimeDiff())
                }),
                (0,
                ec.watch)(z, function() {
                    var n;
                    m.value = (null !== (n = z.value) && void 0 !== n ? n : 0) + getTimeDiff()
                }),
                (0,
                ec.watch)(N, function(n) {
                    0 === n ? z.value = 0 : z.value = Date.now() + 36e5
                });
                var disabledDate = function(n) {
                    var d = getTimeDiff()
                      , v = +new Date(n)
                      , m = +new Date;
                    return !!(v < m + 36e5 + d - O) || !!(v > m + 14 * O + d) || !1
                }
                  , handleChangePostTime = function(n) {
                    var d = +new Date(n)
                      , v = +new Date + 36e5;
                    d < v ? (nY.A.warn("发布时间需要在1小时之后"),
                    z.value = 6e4 * Math.round(v / 6e4)) : z.value = 6e4 * Math.round(d / 6e4) - getTimeDiff()
                }
                  , handleDeclarationChange = function(n) {
                    e2.eC.modifyDeclaration(n)
                }
                  , handlePermissionChange = function(n) {
                    e2.eC.modifyPermission(n)
                };
                return function(n, d) {
                    var k = (0,
                    ec.resolveComponent)("el-radio")
                      , I = (0,
                    ec.resolveComponent)("el-date-picker")
                      , C = (0,
                    ec.resolveComponent)("el-radio-group");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", oB, [(0,
                    ec.createElementVNode)("div", oL, [d[2] || (d[2] = (0,
                    ec.createElementVNode)("div", {
                        class: "_title"
                    }, "自主声明", -1)), (0,
                    ec.createVNode)(oh, {
                        "theme-color": (0,
                        ec.unref)(V),
                        value: (0,
                        ec.unref)(J),
                        onOnChange: handleDeclarationChange
                    }, null, 8, ["theme-color", "value"])]), (0,
                    ec.createElementVNode)("div", oP, [d[3] || (d[3] = (0,
                    ec.createElementVNode)("div", {
                        class: "_title"
                    }, "可见范围", -1)), (0,
                    ec.createVNode)(oD, {
                        permission: (0,
                        ec.unref)(Z),
                        "permission-from-api": H,
                        "co-order-id": (0,
                        ec.unref)(U),
                        "note-id": (0,
                        ec.unref)(S),
                        onOnChange: handlePermissionChange
                    }, null, 8, ["permission", "co-order-id", "note-id"])]), ((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)($.value, function(n, d) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("div", {
                            key: "underSettingPlugins" + d
                        }, [(0,
                        ec.createVNode)(n6, {
                            plugin: n
                        }, null, 8, ["plugin"])])
                    }), 128)), q.value ? (0,
                    ec.createCommentVNode)("", !0) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", oO, [d[6] || (d[6] = (0,
                    ec.createElementVNode)("div", {
                        class: "_title"
                    }, "发布时间", -1)), (0,
                    ec.createVNode)(C, {
                        modelValue: N.value,
                        "onUpdate:modelValue": d[1] || (d[1] = function(n) {
                            return N.value = n
                        }
                        )
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(k, {
                                value: 0
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[4] || (d[4] = [(0,
                                    ec.createTextVNode)("立即发布")])
                                }),
                                _: 1
                            }, 8, ["value"]), (0,
                            ec.createVNode)(k, {
                                value: 1
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[5] || (d[5] = [(0,
                                    ec.createTextVNode)("定时发布")])
                                }),
                                _: 1
                            }, 8, ["value"]), 1 === N.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", oR, [(0,
                            ec.createVNode)(I, {
                                modelValue: m.value,
                                "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                                    return m.value = n
                                }
                                ),
                                type: "datetime",
                                placeholder: h.value,
                                "date-format": "YYYY-MM-DD",
                                "time-format": "HH:mm",
                                format: "YYYY-MM-DD HH:mm",
                                "disabled-date": disabledDate,
                                clearable: !1,
                                onChange: handleChangePostTime
                            }, null, 8, ["modelValue", "placeholder"]), y.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", oU, " （GMT+8:00 北京时间，定时发布仅支持指定1h-14天内） ")) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", oj, " （定时发布仅支持指定1h-14天内） "))])) : (0,
                            ec.createCommentVNode)("", !0)]
                        }),
                        _: 1
                    }, 8, ["modelValue"])])), v.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", oF, [((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(ee.value, function(n, d) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createBlock)(n6, {
                            key: d,
                            plugin: n
                        }, null, 8, ["plugin"])
                    }), 128))])) : (0,
                    ec.createCommentVNode)("", !0)])
                }
            }
        });
        let oZ = (0,
        eN.default)(oz, [["__scopeId", "data-v-0b0a5cfe"]]);
        var oQ = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAw0lEQVR4Xu2S0QnCMBCGO0JHcAQfpUXICI4g2ICPjuAI3cQRHKEjOMrvnfQKXohtTMjTfRAoSZrvI23TGIZhGBE6j727YqfnU3E3tMcLTnr+J92AOw1QxCsn4kDv8hmfs+hMvR5lCciIUPK0AKYf8Pw3IpB7PPSeVdwZLUVMqRFa3ntM/B/ofZtIjSgqF7ZGsIiFReWCjuBnnlvWlTwWmQULv653jqgiF4JvTBHV5IKOqCoXgoiacmGOGHlUlxuGYZTkDQQgEDxgeEKsAAAAAElFTkSuQmCC"
          , oJ = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxUlEQVR4Xu2T4Q2CMBBGGYERHMNQTTqCI5AIxp+OwAaO4giOwAiOct6ZHOpXINKGJib3kiYNbXmPAEVhGIbxr2zPtHEnusrwPMf1VRF51dKjaoheg+fZIgJ5zgiUu5Z611CfJWJM7i9U+prK1SNEJEKUD+tjEfV7PQmUTz0hRsg8OeJXuSLCr9eUErFUrgTfSmwEH7wvlSsYwfMb7pmFD3WxciWI4HvinkmGgEi5AhEdrs+ya8h//mqxSMT+SAe8bhiGYShPmdAQL/PwqQEAAAAASUVORK5CYII="
          , oH = {
            class: "post-page"
        }
          , oG = {
            class: "body"
        }
          , oY = {
            class: "header"
        }
          , oW = {
            class: "header-title"
        }
          , oq = {
            class: "media-area-new"
        }
          , oX = {
            key: 0,
            class: "media-extension"
        }
          , oK = {
            class: "media-add-area"
        }
          , o$ = {
            key: 1,
            class: "title setting commerce-description"
        }
          , o0 = {
            class: "description-text"
        }
          , o1 = {
            class: "media-commodity"
        }
          , o2 = {
            key: 2,
            class: "title setting more"
        }
          , o4 = {
            class: "media-settings"
        }
          , o3 = {
            class: "submit"
        }
          , o5 = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                title: {},
                collapseSetting: {}
            },
            emits: ["onBack"],
            setup: function(n, d) {
                var v, m, h, y, N = d.emit, k = (0,
                ej.Jk)((0,
                eH.Z)()), I = (k.theme,
                k.publishType), C = (0,
                ec.useSlots)(), x = (0,
                ec.ref)(), M = (0,
                ec.ref)(), S = (0,
                ec.ref)(), _ = (0,
                ec.ref)(null !== (h = null == n ? void 0 : null === (v = n.collapseSetting) || void 0 === v ? void 0 : v.commerce) && void 0 !== h && h), V = (0,
                ec.ref)(null === (y = null == n ? void 0 : null === (m = n.collapseSetting) || void 0 === m ? void 0 : m.settings) || void 0 === y || y), handleCollapse = function(n) {
                    var d, v, m, h;
                    _.value = n,
                    n ? null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["63119"]({
                        noteType: I.value === eX.QO.Video ? 3 : 1
                    })) : null === (h = window) || void 0 === h || null === (m = h.eaglet) || void 0 === m || m.push(el.tracker["63120"]({
                        noteType: I.value === eX.QO.Video ? 3 : 1
                    }))
                }, handleCollapseSettings = function(n) {
                    V.value = n
                }, B = (0,
                ec.computed)(function() {
                    return null == C ? void 0 : C.commerce
                }), O = (0,
                ec.computed)(function() {
                    return null == C ? void 0 : C.extension
                }), R = (0,
                ec.computed)(function() {
                    return null == C ? void 0 : C.settings
                });
                (0,
                ec.onMounted)(function() {
                    if (B.value) {
                        var n, d;
                        null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["63118"]({
                            noteType: I.value === eX.QO.Video ? 3 : 1
                        }))
                    }
                });
                var handleBack = function() {
                    N("onBack")
                };
                return function(d, v) {
                    var m = (0,
                    ec.resolveComponent)("el-popover");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", oH, [(0,
                    ec.createElementVNode)("div", oG, [(0,
                    ec.createElementVNode)("div", {
                        ref_key: "contentRef",
                        ref: M,
                        class: "content"
                    }, [(0,
                    ec.createElementVNode)("div", oY, [(0,
                    ec.createElementVNode)("span", {
                        class: "header-icon"
                    }, [(0,
                    ec.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABCUlEQVR4Xu2XzQ3CMAyFO0JHYARGYAQ2oRuEU/8uYYOyCSN0BEZgBLClWjJP4Vo/pHxShNS+wyen2EnTVCqVyk+maUrjOL71F9+FY3Kb4AvfhzLP88XktvXETBh9359RbhiGA+ZCkModdTv91uozzIWgVdJq+eppNTEXQklOqtdhLoSSnDy7Yi6ElFIrQiulnCJCC8jdMROGfGPZy8l6YCYMPyW2tep2Yy6EghxPI1Z8I6aTU2gnhSEVO1FvsSIjrKOX1IYMkjz/ZEOkbiC5YCYcnR5eUhs4ZkLJObci9TWP6e4gpRMNzXHLKEnSHFgN6iO/8a+NnOcoZvhGTndxN0yS6hpQqVR25gMdJ2CHf0D8GgAAAABJRU5ErkJggg==",
                        onClick: handleBack
                    })]), (0,
                    ec.createElementVNode)("span", oW, (0,
                    ec.toDisplayString)(n.title), 1)]), (0,
                    ec.createElementVNode)("div", oq, [(0,
                    ec.renderSlot)(d.$slots, "media-area")]), v[10] || (v[10] = (0,
                    ec.createElementVNode)("div", {
                        class: "title setting"
                    }, "正文内容", -1)), (0,
                    ec.renderSlot)(d.$slots, "form"), O.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", oX, [(0,
                    ec.renderSlot)(d.$slots, "extension")])) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createElementVNode)("div", oK, [(0,
                    ec.renderSlot)(d.$slots, "media-addon")]), B.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", o$, [(0,
                    ec.createElementVNode)("div", o0, [v[4] || (v[4] = (0,
                    ec.createTextVNode)(" 商业推广 ")), (0,
                    ec.createElementVNode)("img", {
                        ref_key: "infoRef",
                        ref: x,
                        class: "description-info",
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABr0lEQVR4Xu2XwU7EMAxEfaASHEBiJZCAOxzgE5YDB/7/l8hTa9aJXMfpdm87kqVqkzoz48TpilyxDXclDiXeSjwvz1M14wK4L/FR4rvE70ocS3zKTHA3oIyk7WK92IUI1v7IKSnPJH4tcWsCd56WMUsCRyjRJrCITYb9UzXDB6rfpX6XXEOAtb5MzR/r4RRwxe6XdA4UYJ0uHtWREj20PxrwrpKgfBkHqzqiYg0k13kRSZTrPHKHsEmpeQTUZ+21eyJyrFIfqQIjBG7kdJpCYVr7rlUyRgB8yTyXNVzAUhNmzu4oAXusXXdtwrBOC0YJ2P3lzqeThQwbnEPAbUxdixqcQ8AtsU14CQL0lHB+16IG2UaksCWemrF/aNvMHEOAKleNA+0xrLEKmgST0n07CetWKM7WKexYMvcNmgrRI6vCUuWy7TiyN7sHrKhQvcL2bdT1kvdIZq/2CvYKJUF0La+BY6qLE+7Zj+B9kmUUTFLXnHipZgyAs9t+hlNH1HBfQEiD/wiMtR+xUYlSIHn7tZsJ3plkRyiR1hEbjGH/lj0zBJRhLSVir/DM/4MrhvEH3PM5qgYna4gAAAAASUVORK5CYII="
                    }, null, 512), (0,
                    ec.createVNode)(m, {
                        ref: "popoverRef",
                        "show-arrow": "",
                        "virtual-ref": x.value,
                        placement: "right",
                        trigger: "hover",
                        title: "参加商业推广，提升笔记内容价值！",
                        "popper-class": "layout-popper"
                    }, null, 8, ["virtual-ref"])]), _.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        key: 1,
                        class: "description-collapse",
                        onClick: v[1] || (v[1] = function(n) {
                            return handleCollapse(!1)
                        }
                        )
                    }, v[6] || (v[6] = [(0,
                    ec.createTextVNode)(" 收起 "), (0,
                    ec.createElementVNode)("img", {
                        class: "description-collapse-arrow",
                        src: oJ
                    }, null, -1)]))) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        key: 0,
                        class: "description-collapse",
                        onClick: v[0] || (v[0] = function(n) {
                            return handleCollapse(!0)
                        }
                        )
                    }, v[5] || (v[5] = [(0,
                    ec.createTextVNode)(" 展开 "), (0,
                    ec.createElementVNode)("img", {
                        class: "description-collapse-arrow",
                        src: oQ
                    }, null, -1)])))])) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", o1, [(0,
                    ec.renderSlot)(d.$slots, "commerce")], 512), [[ec.vShow, _.value]]), R.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", o2, [v[9] || (v[9] = (0,
                    ec.createElementVNode)("div", {
                        class: "description-text"
                    }, "更多设置", -1)), V.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        key: 1,
                        class: "description-collapse",
                        onClick: v[3] || (v[3] = function(n) {
                            return handleCollapseSettings(!1)
                        }
                        )
                    }, v[8] || (v[8] = [(0,
                    ec.createTextVNode)(" 收起 "), (0,
                    ec.createElementVNode)("img", {
                        class: "description-collapse-arrow",
                        src: oJ
                    }, null, -1)]))) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        key: 0,
                        class: "description-collapse",
                        onClick: v[2] || (v[2] = function(n) {
                            return handleCollapseSettings(!0)
                        }
                        )
                    }, v[7] || (v[7] = [(0,
                    ec.createTextVNode)(" 展开 "), (0,
                    ec.createElementVNode)("img", {
                        class: "description-collapse-arrow",
                        src: oQ
                    }, null, -1)])))])) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", o4, [(0,
                    ec.renderSlot)(d.$slots, "settings")], 512), [[ec.vShow, V.value]])], 512), (0,
                    ec.createElementVNode)("div", {
                        ref_key: "previewRef",
                        ref: S,
                        class: "preview"
                    }, [(0,
                    ec.renderSlot)(d.$slots, "preview")], 512)]), (0,
                    ec.createElementVNode)("div", o3, [(0,
                    ec.renderSlot)(d.$slots, "submit")])])
                }
            }
        });
        let o8 = (0,
        eN.default)(o5, [["__scopeId", "data-v-1fed608d"]]);
        v(74719),
        v(13396);
        var o6 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAiCAYAAADRcLDBAAABXUlEQVR4Xu1WoW7DMBAtL1/xysvHy8fHy1tcPt7hjZfvB29+yTl6uZzj1LEKJj/pSdHdvfOLHZ+y2TQ0NDRUgojsA8+Bn4FHm2eE/HvgTWvfbL4IauAe+Ev8sHUA4qYOnDWdBd7EMRB5MLWegXVGIHSaMYetlnkDZUYgcJowh+PAs5NPcZkRFDpiJhs4Ofkc541I/w1YEfNCtbgtNr+U6VsTkl+OgNl9jOLvAD5gxMFvJ8+82bUHaCMrYHZvIP0s4DgW3ppeV0cf+cO1I0h+i69U+yL98e0odkBMn7eOPvIUNROoENPOipgXoYVJx0e01zimptUjNtq1CbRhzkhshp3zars3lelNO9v1kpDlRlK8ax8c2eMGImS9kVftU2YgQtYZ6YaSrDEQIeVG0gOpBIVGRjeoCh404v5vVMFCI+mRXAsZI4jPD6JaSBh5ngGG9BMRUxM/Ns830PAv8QdFqiYmeS92bQAAAABJRU5ErkJggg=="
          , o9 = v.p + "resource/image/phone.6d4751b4.png";
        let o7 = {
            class: "process-container"
        }
          , re = {
            id: "canvas1",
            ref: "canvas1",
            height: "168",
            width: "168"
        }
          , rt = {
            id: "canvas2",
            ref: "canvas2",
            height: "168",
            width: "168"
        }
          , rn = {
            class: "percent"
        };
        function Processvue_type_template_id_593ae15c_scoped_true_render(n, d, v, m, h, y) {
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", o7, [(0,
            ec.createElementVNode)("canvas", re, null, 512), (0,
            ec.createElementVNode)("canvas", rt, null, 512), (0,
            ec.createElementVNode)("span", rn, (0,
            ec.toDisplayString)(y.text) + "%", 1)])
        }
        let ra = (0,
        eN.default)({
            name: "Process",
            components: {},
            props: {
                percent: {
                    type: Number,
                    default: 0
                }
            },
            data: ()=>({
                circleObj: {
                    x: 84,
                    y: 84,
                    radius: 76,
                    lineWidth: 16
                },
                canvas2: null
            }),
            computed: {
                text() {
                    return this.percent
                }
            },
            watch: {
                percent(n) {
                    if (n) {
                        let d = -(.5 * Math.PI)
                          , v = -(.5 * Math.PI) + n * Math.PI * 2 / 100;
                        this.drawCircle(this.$refs.canvas2, d, v, "#FF2442")
                    } else
                        this.clear(this.$refs.canvas2)
                }
            },
            mounted() {
                this.drawCircle(this.$refs.canvas1, 0, 2 * Math.PI, "rgba(255,255,255,0.4)"),
                this.canvas2 = this.$refs.canvas2
            },
            methods: {
                drawCircle(n, d, v, m) {
                    let h = this.circleObj
                      , y = n.getContext("2d");
                    y.beginPath(),
                    y.arc(h.x, h.y, h.radius, d, v, !1),
                    y.lineWidth = h.lineWidth,
                    y.strokeStyle = m,
                    y.lineCap = "round",
                    y.stroke(),
                    y.closePath()
                },
                clear(n) {
                    n.getContext("2d").clearRect(0, 0, n.width, n.height)
                }
            }
        }, [["render", Processvue_type_template_id_593ae15c_scoped_true_render], ["__scopeId", "data-v-593ae15c"]]);
        var ro = {
            class: "bg"
        }
          , rr = {
            class: "upload-wrapper"
        }
          , ri = ["accept"]
          , rl = {
            class: "wrapper"
        }
          , rc = {
            class: "process-wrapper"
        }
          , ru = {
            class: "process-wrapper"
        }
          , rs = (0,
        ec.defineComponent)({
            __name: "Upload",
            setup: function(n, d) {
                var v = d.expose
                  , m = (0,
                ej.Jk)((0,
                eH.Z)())
                  , h = m.theme
                  , y = m.status
                  , N = m.transcodePercent
                  , k = m.uploadPercent
                  , I = (0,
                ej.Jk)((0,
                ag.Z)()).canPlayVideoInBrowser
                  , C = (0,
                ej.Jk)((0,
                eG.ZP)()).videoBlobUrl
                  , x = (0,
                ej.Jk)((0,
                e0.Z)()).skipTranscoding
                  , M = (0,
                to.Z)()
                  , S = (0,
                ec.computed)(function() {
                    return y.value === eX.qb.Uploading && !C.value
                })
                  , _ = (0,
                ec.computed)(function() {
                    return x.value ? y.value === eX.qb.Transcoding && !I.value : y.value === eX.qb.Transcoding
                });
                (0,
                eG.ZP)(),
                (0,
                eY.Z)();
                var B = (0,
                ec.ref)()
                  , onFileChange = function(n) {
                    n.length && (M.resetVideo(),
                    M.resetCover(),
                    (0,
                    ec.nextTick)((0,
                    V._)(function() {
                        var d, v, m;
                        return (0,
                        R.Jh)(this, function(h) {
                            switch (h.label) {
                            case 0:
                                if (!n.length)
                                    return [3, 5];
                                return [4, M.validateFilesByVideoFormat(n)];
                            case 1:
                                if (!h.sent() || !(d = n[0]))
                                    return [2];
                                h.label = 2;
                            case 2:
                                return h.trys.push([2, 4, , 5]),
                                [4, M.presetVideo(d)];
                            case 3:
                                return h.sent(),
                                [3, 5];
                            case 4:
                                return v = h.sent(),
                                nY.A.error(v.message || "发生未知错误, 请重试", 5e3),
                                (null === (m = B.value) || void 0 === m ? void 0 : m.value) && (B.value.value = ""),
                                [3, 5];
                            case 5:
                                return [2]
                            }
                        })
                    })))
                }
                  , uploadChange = function() {
                    onFileChange(Array.from(B.value.files))
                };
                return v({
                    reUpload: function() {
                        var n;
                        null === (n = B.value) || void 0 === n || n.click()
                    }
                }),
                function(n, d) {
                    return (0,
                    ec.withDirectives)(((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", ro, [(0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", rr, [(0,
                    ec.createVNode)(ta, {
                        onDragOver: onFileChange
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("input", {
                                ref_key: "uploadInput",
                                ref: B,
                                class: "upload-input",
                                type: "file",
                                accept: (0,
                                ec.unref)(tr.Py),
                                onChange: uploadChange
                            }, null, 40, ri), (0,
                            ec.createElementVNode)("div", rl, [d[0] || (d[0] = (0,
                            ec.createElementVNode)("img", {
                                src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI2Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjEuNTg1IDIzLjU1di00Ljg5M2MwLS42NzYuNTQtMS4yMjQgMS4yMDctMS4yMjRTMjQgMTcuOTgxIDI0IDE4LjY1OHY2LjExNmMwIC42NzUtLjU0IDEuMjIzLTEuMjA3IDEuMjIzSDEuMjA3QTEuMjE1IDEuMjE1IDAgMCAxIDAgMjQuNzczdi02LjExNmMwLS42NzYuNTQtMS4yMjQgMS4yMDgtMS4yMjQuNjY2IDAgMS4yMDcuNTQ4IDEuMjA3IDEuMjI0djQuODkzek0xMS4wODcuMzUyYTEuMTk3IDEuMTk3IDAgMCAxIDEuNzA4LjAxOCAxLjIzNCAxLjIzNCAwIDAgMS0uMDE5IDEuNzNMNC43NSAxMC4wNTlhMS4xOTcgMS4xOTcgMCAwIDEtMS43MDctLjAxOSAxLjIzNCAxLjIzNCAwIDAgMSAuMDE4LTEuNzN6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTEzLjE0OSA0LjExNC4wNDYgMTQuMjMzYTEuMjE2IDEuMjE2IDAgMCAxLTEuMjA0IDEuMjI3IDEuMjE1IDEuMjE1IDAgMCAxLTEuMjEyLTEuMjJMMTAuNzI0IDEuMjNDMTAuNzIxLjE0OSAxMi4wMDItLjQwNSAxMi43Ny4zNDVsOC4xNjMgNy45NzRjLjQ4LjQ3LjQ5NCAxLjI0NC4wMyAxLjczLS40NjIuNDg2LTEuMjI3LjUtMS43MDcuMDMxeiIvPjwvc3ZnPg=="
                            }, null, -1)), d[1] || (d[1] = (0,
                            ec.createElementVNode)("p", null, "拖拽视频到此或点击上传", -1)), (0,
                            ec.createElementVNode)("div", {
                                class: (0,
                                ec.normalizeClass)((0,
                                ec.unref)(h))
                            }, "上传视频", 2)])]
                        }),
                        _: 1
                    })], 512), [[ec.vShow, (0,
                    ec.unref)(y) === (0,
                    ec.unref)(eX.qb).Initial]]), (0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", rc, [(0,
                    ec.createVNode)(ra, {
                        class: "process",
                        percent: Math.ceil((0,
                        ec.unref)(k))
                    }, null, 8, ["percent"]), d[2] || (d[2] = (0,
                    ec.createElementVNode)("p", null, "视频正在上传中", -1))], 512), [[ec.vShow, S.value]]), (0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", ru, [(0,
                    ec.createVNode)(ra, {
                        class: "process",
                        percent: Math.ceil((0,
                        ec.unref)(N))
                    }, null, 8, ["percent"]), d[3] || (d[3] = (0,
                    ec.createElementVNode)("p", null, "视频正在转码中", -1)), d[4] || (d[4] = (0,
                    ec.createElementVNode)("span", {
                        class: "info"
                    }, "无需等待转码完成，也可以直接发布哦", -1))], 512), [[ec.vShow, _.value]])], 512)), [[ec.vShow, S.value || _.value]])
                }
            }
        });
        let rd = (0,
        eN.default)(rs, [["__scopeId", "data-v-7cc4ed37"]]);
        var rv = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyMyIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDIzIj48Y2lyY2xlIGN4PSIxMi4wMDIiIGN5PSIxMS4yNSIgcj0iOS4zNzUiIGZpbGw9IiMzMzMiIG9wYWNpdHk9Ii42Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuNSA3LjAzMWMuOTUgMCAxLjcyLjc3IDEuNzIgMS43MTl2Mi41MDJhLjQ2OS40NjkgMCAxIDEtLjkzOCAwVjguNzVhLjc4Ljc4IDAgMCAwLS43ODEtLjc4MWgtMi41MDJhLjQ2OS40NjkgMCAxIDEgMC0uOTM4ek05LjQ5OSAxNS40NjljLS45NSAwLTEuNzE5LS43Ny0xLjcxOS0xLjcxOXYtMi41MDJhLjQ2OS40NjkgMCAxIDEgLjkzOCAwdjIuNTAyYzAgLjQzMS4zNS43ODEuNzguNzgxaDIuNTAzYS40NjkuNDY5IDAgMCAxIDAgLjkzOHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==";
        v(55947),
        v(57015);
        var timestamp2Date = function(n) {
            var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "yyyy-MM-dd HH:mm"
              , v = new Date(n)
              , m = v.getFullYear()
              , h = v.getMonth() + 1
              , y = v.getDate()
              , N = v.getHours()
              , k = N % 12 == 0 ? 12 : N % 12
              , I = v.getMinutes()
              , C = v.getSeconds()
              , x = v.getMilliseconds()
              , M = {
                yyyy: m,
                MM: h.toString().padStart(2, "0"),
                M: h,
                dd: y.toString().padStart(2, "0"),
                d: y,
                HH: N.toString().padStart(2, "0"),
                H: N,
                hh: k.toString().padStart(2, "0"),
                h: k,
                mm: I.toString().padStart(2, "0"),
                m: I,
                ss: C.toString().padStart(2, "0"),
                s: C,
                S: x
            };
            return d.replace(/y+|M+|d+|H+|h+|m+|s+|S+/g, function(n) {
                return M[n].toString()
            })
        }
          , rm = {
            class: "v-container"
        }
          , rf = {
            class: "lock"
        }
          , rp = {
            class: "order"
        }
          , rg = {
            class: "operator"
        }
          , rh = {
            class: "permission"
        }
          , ry = {
            class: "user_msg"
        }
          , rN = ["src"]
          , rk = {
            class: "user_name"
        }
          , rI = {
            class: "user_desc"
        }
          , rC = ["innerHTML"]
          , rb = {
            key: 0,
            class: "position"
        }
          , rE = {
            class: "desc"
        }
          , rA = {
            class: "position"
        }
          , rw = {
            key: 1,
            class: "collection"
        }
          , rx = {
            key: 2,
            class: "position"
        }
          , rT = ["src"]
          , rM = ["src"]
          , rS = {
            class: "video-container"
        }
          , r_ = {
            key: 2,
            class: "goods-logo"
        }
          , rV = {
            class: "goods-container"
        }
          , rD = {
            class: "image"
        }
          , rB = ["src"]
          , rL = {
            class: "info"
        }
          , rP = {
            class: "title"
        }
          , rO = {
            class: "price"
        }
          , rR = (0,
        ec.defineComponent)({
            __name: "Index",
            emits: ["timeupdate"],
            setup: function(n, d) {
                d.emit;
                var v = (0,
                eG.ZP)()
                  , m = (0,
                eH.Z)()
                  , h = (0,
                e$.Z)()
                  , y = (0,
                eY.Z)()
                  , N = (0,
                ag.Z)()
                  , k = (0,
                ej.Jk)(v)
                  , I = k.videoUrl
                  , C = k.title
                  , x = k.descInnerHTML
                  , M = k.video
                  , S = k.needTranscode
                  , _ = k.transcodeVideoUrl
                  , V = k.noteType
                  , B = k.videoBlobUrl
                  , O = (0,
                ej.Jk)(N).canPlayVideoInBrowser
                  , R = (0,
                ej.Jk)((0,
                e0.Z)()).skipTranscoding
                  , U = (0,
                ec.computed)(function() {
                    return x.value.replaceAll('width="16"', 'width="9"').replaceAll('style="position: relative; top: 3px;"', 'style="position: relative; top: 1px;"')
                })
                  , z = (0,
                ej.Jk)(y)
                  , Z = z.privacyInfo
                  , Q = z.selectedOrder
                  , J = z.collectionId
                  , H = z.postLoc
                  , G = z.groupBind
                  , Y = z.liveReservationBind
                  , W = z.liveNoticeBind
                  , q = (0,
                ec.computed)(function() {
                    var n;
                    return null === (n = Q.value) || void 0 === n ? void 0 : n.orderId
                })
                  , X = (0,
                ec.computed)(function() {
                    var n;
                    return null === (n = Q.value) || void 0 === n ? void 0 : n.taskName
                })
                  , K = (0,
                ej.Jk)(h).userInfo
                  , $ = (0,
                ej.Jk)(m)
                  , ee = $.status
                  , et = ($.publishType,
                $.noteId)
                  , en = ($.theme,
                $.isFromDraft)
                  , ea = (0,
                ej.Jk)((0,
                eq.Z)())
                  , eo = ea.goodsContext
                  , er = ea.liveContext;
                (0,
                ec.computed)(function() {
                    return !!et.value
                });
                var ei = (0,
                ec.computed)(function() {
                    return eo.value.goodsPreviewDetail
                })
                  , el = (0,
                ec.computed)(function() {
                    return ee.value === eX.qb.Preview || B.value || ee.value === eX.qb.NotUploaded
                })
                  , eu = (0,
                ec.computed)(function() {
                    return ee.value === eX.qb.NotUploaded
                })
                  , es = (0,
                ec.computed)(function() {
                    return R.value && !en.value ? O.value ? B.value || I.value : _.value : S.value ? _.value : B.value || I.value
                })
                  , ed = (0,
                ec.ref)(!1)
                  , ev = (0,
                ec.ref)(0)
                  , em = (0,
                ec.ref)(!1)
                  , ef = (0,
                ec.ref)(!0)
                  , ep = (0,
                ec.ref)()
                  , eg = (0,
                ec.ref)()
                  , eh = (0,
                ec.ref)(!1)
                  , ey = (0,
                ec.ref)(!0)
                  , eN = (0,
                ec.computed)(function() {
                    var n;
                    return (null === (n = K.value) || void 0 === n ? void 0 : n.collections) || []
                })
                  , ek = (0,
                ec.computed)(function() {
                    var n;
                    return null === (n = eN.value.find(function(n) {
                        return n.id === J.value
                    })) || void 0 === n ? void 0 : n.name
                })
                  , eI = (0,
                ec.computed)(function() {
                    var n, d;
                    return (null === (n = Y.value) || void 0 === n ? void 0 : n.reserve) || (null === (d = W.value) || void 0 === d ? void 0 : d.liveNoticeType) === eX.tK.Bind
                })
                  , eC = (0,
                ec.computed)(function() {
                    var n, d;
                    return (null === (n = Y.value) || void 0 === n ? void 0 : n.reserve) ? "预约下一场直播" : "".concat(timestamp2Date(null === (d = er.value) || void 0 === d ? void 0 : d.time, "MM月dd日 HH:mm"), "直播")
                })
                  , eb = (0,
                ec.computed)(function() {
                    var n;
                    return (null === (n = Y.value) || void 0 === n ? void 0 : n.reserve) ? "https://picasso-static.xiaohongshu.com/fe-platform/15a778f18278e81d7673fc63dc2eca7453ec6fba.png" : "https://picasso-static.xiaohongshu.com/fe-platform/8eeee3896bce64ae0b125e5e50b41fb179a5e11b.png"
                })
                  , eE = (0,
                ec.computed)(function() {
                    return M.value.width / M.value.height <= .6 ? {
                        video: "cover",
                        videoArea: "full",
                        objectFit: "cover"
                    } : {
                        video: "contain",
                        videoArea: "normal",
                        objectFit: "contain"
                    }
                })
                  , seekTo = function(n) {
                    ep.value.video.currentTime = n
                };
                (0,
                ec.watch)(es, function() {
                    es.value ? (eh.value = !0,
                    ev.value = 0) : eh.value = !1
                }, {
                    immediate: !0
                });
                var boost = function() {
                    ed.value = !ed.value
                }
                  , timeupdate = function() {
                    ev.value = 100 * Number((ep.value.video.currentTime / ep.value.video.duration).toFixed(2))
                }
                  , formatPercentage = function(n) {
                    var d = Number(n.toFixed(2));
                    return d > 100 && (d = 100),
                    d < 0 && (d = 0),
                    d
                }
                  , handleMousedown = function(n) {
                    em.value = !0;
                    var d, v = (null === (d = n.currentTarget) || void 0 === d ? void 0 : d.clientWidth) || 0;
                    ev.value = formatPercentage(100 * n.offsetX / v),
                    seekTo(ev.value * (M.value.duration / 100))
                }
                  , handleMousemove = function(n) {
                    if (em.value && ey.value) {
                        var d;
                        ev.value = formatPercentage(100 * n.offsetX / (null === (d = n.currentTarget) || void 0 === d ? void 0 : d.clientWidth)),
                        seekTo(ev.value * (M.value.duration / 100)),
                        ey.value = !1,
                        setTimeout(function() {
                            ey.value = !0
                        }, 16)
                    }
                }
                  , handleMouseup = function() {
                    em.value = !1,
                    !1 === ef.value && (ef.value = !0)
                };
                return function(n, d) {
                    var v, m, h, y, N, k, I, M;
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", rm, [(0,
                    ec.createVNode)(rd, {
                        ref_key: "uploadRef",
                        ref: eg
                    }, null, 512), (0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", {
                        style: (0,
                        ec.normalizeStyle)({
                            opacity: ed.value ? "0" : "1",
                            transitionDuration: ".5s"
                        }),
                        class: "video_footer"
                    }, [(0,
                    ec.createElementVNode)("div", rf, [(0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", rp, [d[0] || (d[0] = (0,
                    ec.createElementVNode)("img", {
                        src: o6
                    }, null, -1)), (0,
                    ec.createElementVNode)("span", rg, (0,
                    ec.toDisplayString)(X.value), 1)], 512), [[ec.vShow, !!q.value]]), (0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", rh, [d[1] || (d[1] = (0,
                    ec.createElementVNode)("img", {
                        src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDEyIDEyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNi45NDggNi4yMTVhLjk1Ljk1IDAgMCAxLS40Ni44MTN2MS4zMjZhLjQ4Ny40ODcgMCAxIDEtLjk3NiAwVjcuMDI4YS45NDcuOTQ3IDAgMSAxIDEuNDM2LS44MTMiLz48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjkzNSAxLjQ3NWMuMTQ4LjI5My4yMzEuNjI0LjIzMS45NzVIOS4yNWMxLjE5NiAwIDIuMTY2Ljk3IDIuMTY2IDIuMTY3VjguOTVjMCAxLjE5Ny0uOTcgMi4xNjctMi4xNjYgMi4xNjdoLTYuNUEyLjE2NyAyLjE2NyAwIDAgMSAuNTgzIDguOTVWNC42MTdjMC0xLjE5Ny45Ny0yLjE2NyAyLjE2Ny0yLjE2N2gxLjA4M2EyLjE2NyAyLjE2NyAwIDAgMSA0LjEwMi0uOTc1bS0zLjEyNy45NzVoMi4zODNhMS4xOTIgMS4xOTIgMCAwIDAtMi4zODMgMG00LjQ0Mi45NzVjLjY1OCAwIDEuMTkxLjUzNCAxLjE5MSAxLjE5MlY4Ljk1YzAgLjY1OC0uNTMzIDEuMTkyLTEuMTkxIDEuMTkyaC02LjVBMS4xOSAxLjE5IDAgMCAxIDEuNTU4IDguOTVWNC42MTdjMC0uNjU4LjUzNC0xLjE5MiAxLjE5Mi0xLjE5MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="
                    }, null, -1)), (0,
                    ec.createElementVNode)("span", null, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(nX.br)[(0,
                    ec.unref)(Z).type]), 1)], 512), [[ec.vShow, (null === (v = (0,
                    ec.unref)(Z)) || void 0 === v ? void 0 : v.type) !== (0,
                    ec.unref)(eX.vH).Public]])]), (0,
                    ec.createElementVNode)("div", ry, [(0,
                    ec.createElementVNode)("img", {
                        class: "user_icon",
                        src: null === (m = (0,
                        ec.unref)(K)) || void 0 === m ? void 0 : m.image,
                        alt: ""
                    }, null, 8, rN), (0,
                    ec.createElementVNode)("span", rk, (0,
                    ec.toDisplayString)(null === (h = (0,
                    ec.unref)(K)) || void 0 === h ? void 0 : h.nickName), 1), d[2] || (d[2] = (0,
                    ec.createElementVNode)("span", {
                        class: "user_follow"
                    }, "关注", -1))]), (0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", rI, [(0,
                    ec.createTextVNode)((0,
                    ec.toDisplayString)((0,
                    ec.unref)(C)) + " ", 1), (0,
                    ec.createElementVNode)("span", {
                        ref: "desc",
                        class: "user-desc-wrapper",
                        innerHTML: U.value
                    }, null, 8, rC)], 512), [[ec.vShow, (0,
                    ec.unref)(C) || (0,
                    ec.unref)(x)]]), (null === (y = (0,
                    ec.unref)(G)) || void 0 === y ? void 0 : y.groupId) && !(0,
                    ec.unref)(J) && !eI.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", rb, [d[3] || (d[3] = (0,
                    ec.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAYAAAArdgcFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALPSURBVHgB7VRJaBNhFJ6ZTMbY1LQplBIbtS2VHnJoaA6CPRiUHMUFCoLiAl60hwZP4kFzElQ8V/AgLieDmICQiz0IHhIPgSTECIEsJMZDyGKzbzN+D2Zi2sQm6rUPfub973/b95ZhmH0aQOyw93w+r9Pr9efAz3Y6nUyz2dwaGxtLM/8buN1uX5Mk6euAQ3KW+VdqNBoXyVGr1XL7/f4zkyD6IuAWyYHgBL5MtVo1AtFD+o7k2OFwcDB4RY7cbveSyWQSIFbhCB6PZwlOfTgvcedyuZyJgkH/3qhoeDKo1+ubFotFzfzuDUuBarXaMwpAeouLiwcoCSB5vba2pup1wg3yDAckL7Esu72wsCCCl+QnaXp6WlSr1VpkWqZgExMTomLndDolZhhZrVYembyh7FDLIz1w2VgsdkxG9Zj0MpnMUeUul27vzGEkRqPRp2APaTSaF8jyAjUQ3/X5+fm3hMrn8z0HCmlmZobGlCkUCp96EA4lAVmeVaZDOXT3er0WuRe8IhdF8aM8YcObSkrUvKmpKV0gEDidSqUu0xdPOnJM79TASCRiTafTt3pG9DojDwA7yCkg6kDnVSrVEoxoLDlkxuIu8jwvchwn4V6G7rfl5eUP0Oc3NjYm7Xb7piAIxxOJxEmU7+du38pW+v6wmX2HykFNpRKhT6dIhlG90Zc4Om5T6qpspUJ47uOTyeQVOP9CAeLx+OTc3JyG7FH7R1Sy7rTQVgLybZTgh8vlWl9ZWflsNpvLxWKxBLjbUC7ZbLYuD3l5dXX1XSgUuot9OGwwGK5qtVqR7HGf3ZF1MBjUU1TM9ROalBFXmTUajQcJKbJ/T9tKW12pVO7jjeMVrfHxcZ3MfgeKNqKPMrMSHLYoW/AG2lbc76ACElFXi8arVCo9CIfDZioRMzqpstnsJZTpJnhKlpPPDuQcNWTXj2oUYmUbYVhSLPN3jve0+wXK1BOlfeMuEAAAAABJRU5ErkJggg=="
                    }, null, -1)), (0,
                    ec.createElementVNode)("div", null, "群聊\xb7" + (0,
                    ec.toDisplayString)(null === (N = (0,
                    ec.unref)(G)) || void 0 === N ? void 0 : N.groupName), 1), d[4] || (d[4] = (0,
                    ec.createElementVNode)("div", {
                        class: "divider"
                    }, null, -1)), (0,
                    ec.createElementVNode)("div", rE, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(G).desc) + "在聊", 1)])) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", rA, [d[5] || (d[5] = (0,
                    ec.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAYAAAArdgcFAAABKklEQVR4Xt2UYbHCMBCEkYCESEBCJeAAHIAD6gAcgAMkPAlPQiUgYd8tl5Bkm5byfvLN3HTmdu9yadqsVl8LgLXF0eJuMcT4tbhadOpfjBUfLB5w+GTTnyJHmAtaO4sVnGLxAJ98LXqwuBWeUOqTmHEfizhV1VQpvFxg1psmopERVG8B3xnpVatAnmTf0E4W59ai8F0+NF8B/yqIvuM0HeGBqn6JWijzFfCvYWjkb7E4EURPO96W+QpMN+9SV3oaemreqfYCecLRycMPe6N5gvxamvoT5Hd7VG0OxC9M8xXw350HRvNo+hbIP1yv2ghOHc1LfqJd9A7vvC/M2L9bQBoH1WcpFhgVwy+1praY1gKoL7Vn7t8gn0G6dsnnV+0U1mgDn5RcVP8u/gDhfAvWVr+WvAAAAABJRU5ErkJggg=="
                    }, null, -1)), (0,
                    ec.createElementVNode)("span", null, (0,
                    ec.toDisplayString)(null === (k = (0,
                    ec.unref)(H)) || void 0 === k ? void 0 : k.name), 1)], 512), [[ec.vShow, (null === (I = (0,
                    ec.unref)(H)) || void 0 === I ? void 0 : I.name) && !(0,
                    ec.unref)(J) && !(null === (M = (0,
                    ec.unref)(G)) || void 0 === M ? void 0 : M.groupId) && !eI.value]]), (0,
                    ec.unref)(J) && !eI.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("p", rw, [d[6] || (d[6] = (0,
                    ec.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAYAAAArdgcFAAAA3klEQVR4Xu2V4Q2CMBCFGYERGIEROoojsIFsoBvgBo7ACI7ACIzwvEcviEftYdQ/xC95SdPre5QLLUWxWwA0otYR11TWm0UMNd7jaDOyiKEUVY6CqI/5aGzGV5Dgm2i08zO6k5NocMSgDoteI/ae1IvIuchgGgnNvSMyiEr1H3QumOin4qa+IX4p8/qFP5ilU7FHrmcJNKzTsRs+2Pkc//AkuwkPohGpS+zT8Cyy6KJPnk6cB3eo4WdbW4H4WuSqY5pfiXVeEWR9l6TA40hvpbUZWRB35v2BWN/Uvp9wB9E0in6TugGvAAAAAElFTkSuQmCC"
                    }, null, -1)), (0,
                    ec.createTextVNode)(" 合集\xb7" + (0,
                    ec.toDisplayString)(ek.value), 1)])) : (0,
                    ec.createCommentVNode)("", !0), eI.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", rx, [(0,
                    ec.createElementVNode)("img", {
                        src: eb.value
                    }, null, 8, rT), (0,
                    ec.createElementVNode)("div", null, (0,
                    ec.toDisplayString)(eC.value), 1), d[7] || (d[7] = (0,
                    ec.createElementVNode)("div", {
                        class: "divider"
                    }, null, -1)), d[8] || (d[8] = (0,
                    ec.createElementVNode)("div", {
                        class: "desc"
                    }, "预约", -1))])) : (0,
                    ec.createCommentVNode)("", !0)], 4), [[ec.vShow, el.value]]), el.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("img", {
                        key: 0,
                        src: ed.value ? (0,
                        ec.unref)("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDIwIDIwIj48Y2lyY2xlIGN4PSIxMCIgY3k9IjEwIiByPSI4LjMzMyIgZmlsbD0iIzMzMyIgb3BhY2l0eT0iLjYiLz48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjMzNCAxMC4xMzljLjg0NCAwIDEuNTI4LjY4NCAxLjUyOCAxLjUyOHYyLjIyNGEuNDE3LjQxNyAwIDAgMS0uODM0IDB2LTIuMjI0YS42OTQuNjk0IDAgMCAwLS42OTQtLjY5NUg2LjExYS40MTcuNDE3IDAgMSAxIDAtLjgzM3pNMTEuNjY2IDkuODYxYTEuNTMgMS41MyAwIDAgMS0xLjUyOC0xLjUyOFY2LjExYS40MTcuNDE3IDAgMSAxIC44MzMgMHYyLjIyNGMwIC4zODQuMzEuNjk1LjY5NC42OTVoMi4yMjRhLjQxNy40MTcgMCAwIDEgMCAuODMzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+") : (0,
                        ec.unref)(rv),
                        class: "boost",
                        onClick: boost
                    }, null, 8, rM)) : (0,
                    ec.createCommentVNode)("", !0), el.value && ev.value >= 0 ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(am, {
                        key: 1,
                        ref: "progress",
                        percentage: ev.value,
                        "stroke-width": 1,
                        "show-text": !1,
                        onMousedown: (0,
                        ec.withModifiers)(handleMousedown, ["stop"]),
                        onMousemove: (0,
                        ec.withModifiers)(handleMousemove, ["stop"]),
                        onMouseup: (0,
                        ec.withModifiers)(handleMouseup, ["stop"])
                    }, null, 8, ["percentage"])) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createElementVNode)("div", rS, [d[9] || (d[9] = (0,
                    ec.createElementVNode)("img", {
                        class: "video-container-phone",
                        src: o9
                    }, null, -1)), es.value && el.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        key: 0,
                        class: (0,
                        ec.normalizeClass)(["video-area", eE.value.videoArea])
                    }, [es.value && !eu.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(nl.M2), {
                        key: 0,
                        ref_key: "videoRef",
                        ref: ep,
                        class: "video",
                        src: es.value,
                        loop: !0,
                        "object-fit": eE.value.objectFit,
                        onTimeUpdate: timeupdate
                    }, null, 8, ["src", "object-fit"])) : (0,
                    ec.createCommentVNode)("", !0)], 2)) : (0,
                    ec.createCommentVNode)("", !0)]), 1 === (0,
                    ec.unref)(V) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", r_, [(0,
                    ec.createElementVNode)("div", rV, [(0,
                    ec.createElementVNode)("div", rD, [(0,
                    ec.createElementVNode)("img", {
                        src: ei.value.image
                    }, null, 8, rB)]), (0,
                    ec.createElementVNode)("div", rL, [(0,
                    ec.createElementVNode)("div", rP, (0,
                    ec.toDisplayString)(ei.value.name), 1), (0,
                    ec.createElementVNode)("div", rO, (0,
                    ec.toDisplayString)(ei.value.description), 1)])])])) : (0,
                    ec.createCommentVNode)("", !0)])
                }
            }
        });
        let rU = (0,
        eN.default)(rR, [["__scopeId", "data-v-9a597970"]]);
        var rj = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDEyIDEyIj48cGF0aCBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW9wYWNpdHk9Ii40NSIgc3Ryb2tlLXdpZHRoPSIuNjcyIiBkPSJtNS4wNTcgOS4wNDQgMi43MTUtMi43MTYtMi43MTUtMi43MTUiLz48L3N2Zz4="
          , rF = v.p + "resource/image/comment.7a7ef26b.png"
          , rz = v(53380)
          , rZ = v(70934)
          , rQ = ["src"]
          , rJ = (0,
        ec.defineComponent)({
            __name: "NoteImgItem",
            props: {
                img: {},
                ratio: {}
            },
            setup: function(n) {
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        class: "img-area",
                        style: (0,
                        ec.normalizeStyle)({
                            height: "".concat(252 / n.ratio, "px")
                        })
                    }, [(0,
                    ec.createElementVNode)("img", {
                        src: n.img.url,
                        alt: "",
                        class: "image"
                    }, null, 8, rQ)], 4)
                }
            }
        });
        let rH = (0,
        eN.default)(rJ, [["__scopeId", "data-v-d92c3856"]]);
        var rG = v(65460)
          , rY = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZyBmaWxsPSIjZmZmIiBvcGFjaXR5PSIuNyI+PHBhdGggZD0iTTggOC4zMzNhMy4zMzMgMy4zMzMgMCAxIDAgMC02LjY2NiAzLjMzMyAzLjMzMyAwIDAgMCAwIDYuNjY2TTQuNjY3IDkuNjY3QTIuNjY3IDIuNjY3IDAgMCAwIDIgMTIuMzMzdjEuMzM0YzAgLjM2OC4yOTguNjY2LjY2Ny42NjZoMTAuNjY2YS42NjcuNjY3IDAgMCAwIC42NjctLjY2NnYtMS4zMzRhMi42NjcgMi42NjcgMCAwIDAtMi42NjctMi42NjZ6Ii8+PC9nPjwvc3ZnPg=="
          , rW = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTAuNjQyIDEuNjY3SDUuMzU4YTIuNjY1IDIuNjY1IDAgMCAwLTIuNjUyIDIuNDE1bC0uNjk0IDcuMzMzYTIuNjY1IDIuNjY1IDAgMCAwIDIuNjUyIDIuOTE4aDYuNjcycS4xMjYgMCAuMjUxLS4wMTFhMi42NjYgMi42NjYgMCAwIDAgMi40LTIuOTA3bC0uNjkzLTcuMzMzYTIuNjY1IDIuNjY1IDAgMCAwLTIuNjUyLTIuNDE1TTcuODg4IDcuMzMzQTIuNjggMi42OCAwIDAgMSA1LjM3IDUuNTY1YS42NjcuNjY3IDAgMCAxIDEuMjUyLS40NTQgMS4zNDYgMS4zNDYgMCAwIDAgMi41MzMtLjAwMy42NjYuNjY2IDAgMSAxIDEuMjU0LjQ1IDIuNjggMi42OCAwIDAgMS0yLjUyIDEuNzc1IiBvcGFjaXR5PSIuNyIvPjwvc3ZnPg=="
          , rq = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMi44MDcgMTAuMTU3QTUuNzcgNS43NyAwIDAgMSAyIDcuMjA5QzIgMy4wNDQgNi4yNTMuMTc0IDEwLjQwOCAxLjc5MWMxLjIyMi40NzQgMi41OTIgMS43OTYgMy4wOSAyLjk4Ni43NzUgMS44NTUuNjM3IDMuNzg4LS4zMDQgNS4zOC0uNjM0IDEuMDY3LTIuMjgzIDIuNTktNC4yNjkgNC4xODUtLjU0LjQzMy0xLjMxLjQzMy0xLjg1MiAwLTEuOTkxLTEuNjAyLTMuNjMzLTMuMTE4LTQuMjY2LTQuMTg1TTggOWExLjgzMyAxLjgzMyAwIDEgMCAwLTMuNjY3QTEuODMzIDEuODMzIDAgMCAwIDggOSIgb3BhY2l0eT0iLjciLz48L3N2Zz4="
          , rX = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE1IDE1Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJtOS4yMjQgNy4wMjYtMy43LTMuNjAyYS41OTkuNTk5IDAgMSAxIC44MzQtLjg2bDQuMDg0IDMuOTc2YS45Mi45MiAwIDAgMSAuMDIgMS4yOThsLS4wMi4wMi00LjA5NCAzLjk0N2EuNTk5LjU5OSAwIDEgMS0uODM0LS44NmwzLjcxLTMuNTc1YS4yNC4yNCAwIDAgMCAwLS4zNDQiIG9wYWNpdHk9Ii42Ii8+PC9zdmc+"
          , rK = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDIwIDIwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTAgMjBjNS41MjMgMCAxMC00LjQ3NyAxMC0xMFMxNS41MjMgMCAxMCAwIDAgNC40NzcgMCAxMHM0LjQ3NyAxMCAxMCAxMCIvPjxwYXRoIGZpbGw9IiNGRjI0NDIiIHN0cm9rZT0iI0ZGMjQ0MiIgZD0iTTEzLjYxNSA2LjM4NmEuNDYuNDYgMCAwIDEgMCAuNjVsLTIuOTY0IDIuOTY1IDIuOTYzIDIuOTYyYS40Ni40NiAwIDEgMS0uNjUuNjVMMTAgMTAuNjUybC0yLjk2NCAyLjk2NGEuNDYuNDYgMCAwIDEtLjYwOC4wMzhsLS4wNDMtLjAzOGEuNDYuNDYgMCAwIDEgMC0uNjVMOS4zNSAxMCA2LjM4NSA3LjAzNWEuNDYuNDYgMCAxIDEgLjY1LS42NWwyLjk2NiAyLjk2NSAyLjk2NC0yLjk2NGEuNDYuNDYgMCAwIDEgLjYwNy0uMDM4eiIvPjwvc3ZnPg=="
          , r$ = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDIwIDIwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTAgMjBjNS41MjMgMCAxMC00LjQ3NyAxMC0xMFMxNS41MjMgMCAxMCAwIDAgNC40NzcgMCAxMHM0LjQ3NyAxMCAxMCAxMCIvPjxwYXRoIGZpbGw9IiNGRjI0NDIiIHN0cm9rZT0iI0ZGMjQ0MiIgc3Ryb2tlLXdpZHRoPSIuMiIgZD0iTTEwIDQuMDY3YS42MjUuNjI1IDAgMCAwLS42MjYuNjI1djEwLjYxNmEuNjI1LjYyNSAwIDEgMCAxLjI1IDBWNC42OTJBLjYyNS42MjUgMCAwIDAgMTAgNC4wNjdaTTUuMzMyIDYuNGMtLjcgMC0xLjI2Ny41NjctMS4yNjcgMS4yNjd2NC42NjZjMCAuNy41NjcgMS4yNjcgMS4yNjcgMS4yNjdoMS43NWMuNyAwIDEuMjY2LS41NjcgMS4yNjYtMS4yNjdWNy42NjdjMC0uNy0uNTY3LTEuMjY3LTEuMjY2LTEuMjY3em03LjU4MyAwYy0uNyAwLTEuMjY3LjU2Ny0xLjI2NyAxLjI2N3Y0LjY2NmMwIC43LjU2OCAxLjI2NyAxLjI2NyAxLjI2N2gxLjc1Yy43IDAgMS4yNjctLjU2NyAxLjI2Ny0xLjI2N1Y3LjY2N2MwLS43LS41NjctMS4yNjctMS4yNjctMS4yNjd6bTAgMS4yNWgxLjc1cS4wMTYuMDAyLjAxNy4wMTd2NC42NjZxLS4wMDIuMDE2LS4wMTcuMDE3aC0xLjc1YS4wMi4wMiAwIDAgMS0uMDE3LS4wMTdWNy42NjdxLjAwMi0uMDE2LjAxNy0uMDE3WiIvPjwvc3ZnPg==";
        v(95477),
        v(43648);
        var parseMarkerCoordinate = function(n) {
            var d = null == n ? void 0 : n.match(/\{(.*),(.*)\}/);
            if (d) {
                var v = (0,
                rG._)(d, 3);
                return [+v[1], +v[2]]
            }
            return []
        }
          , videoMarkGenerator = function(n) {
            var d, v = {
                visibility: !0,
                type: n.type.toUpperCase(),
                startTime: 0,
                endTime: 0,
                config: {
                    style: 1,
                    type: n.type,
                    event: {
                        value: {}
                    }
                }
            };
            switch (n.type) {
            case "user":
                v.markId = n.userBaseDto.userId,
                v.config.event.value.id = n.userBaseDto.userId,
                v.config.event.value.name = n.userBaseDto.userNickname;
                break;
            case "goods_baidu":
            case "goods_v2":
                v.markId = n.id,
                v.config.event.value.id = n.id,
                v.config.price = n.price,
                (d = n.subtitle.slice(0, 17 - n.price.toString().length)) < n.subtitle && (d += "..."),
                v.config.event.value.name = d;
                break;
            case "location":
            case "location_page":
                v.markId = n.poiId,
                v.config.event.value.id = n.poiId,
                v.config.event.value.name = n.name
            }
            return v
        }
          , r0 = ["data-key"]
          , r1 = ["src"]
          , r2 = ["src"]
          , r4 = {
            class: "marker-content"
        }
          , r3 = ["src"]
          , r5 = {
            key: 0,
            class: "price"
        }
          , r8 = ["src"]
          , r6 = ["src"]
          , r9 = (0,
        ec.defineComponent)({
            __name: "MarkerTarget",
            props: {
                marker: {},
                id: {},
                imgBounding: {}
            },
            emits: ["reverse", "close", "bounding"],
            setup: function(n, d) {
                var v = d.emit
                  , m = {
                    USER: rY,
                    LOCATION: rq,
                    LOCATION_PAGE: rq,
                    GOODS_V2: rW,
                    GOODS_BAIDU: rW
                }
                  , h = (0,
                ec.computed)(function() {
                    return n.marker
                })
                  , y = (0,
                ec.computed)(function() {
                    return n.imgBounding
                })
                  , N = (0,
                ec.ref)({
                    width: 0,
                    height: 0,
                    scale: "scale(1)"
                })
                  , k = (0,
                ec.ref)({})
                  , I = (0,
                ec.ref)({})
                  , C = (0,
                ec.computed)(function() {
                    return m[n.marker.type]
                })
                  , x = (0,
                ec.computed)(function() {
                    return {
                        active: n.marker.active
                    }
                })
                  , M = (0,
                ec.computed)(function() {
                    return 1 === n.marker.config.style ? "row-reverse" : "row"
                })
                  , S = (0,
                ec.ref)()
                  , setContainerBounding = function() {
                    N.value = null === (d = S.value) || void 0 === d ? void 0 : d.getBoundingClientRect();
                    var d, m, h = null !== (m = N.value) && void 0 !== m ? m : {}, y = h.width, I = h.height;
                    if (null === n.marker.config.anchor_center && "{0.5, 0.5}" === n.marker.config.unit_center) {
                        var C = parseMarkerCoordinate(n.marker.config.container_size);
                        n.marker.config.anchor_center = "{".concat((y + C[1]) / (2 * C[1]), ", 0.5}"),
                        n.marker.config.unit_center = null
                    }
                    k.value.width = "".concat(y, "px"),
                    k.value.height = "".concat(I, "px"),
                    v("bounding", n.marker.key, {
                        width: y,
                        height: I
                    })
                }
                  , computedContainerPosition = function() {
                    setContainerBounding();
                    var d, v, m, h = parseMarkerCoordinate(n.marker.config.container_size), I = parseMarkerCoordinate(n.marker.config.unit_center), C = parseMarkerCoordinate(n.marker.config.anchor_center), x = null !== (m = N.value) && void 0 !== m ? m : {}, M = x.width, S = x.height, _ = (0,
                    rG._)(h, 2)[1], V = (0,
                    rG._)(I, 2), R = V[0], U = V[1], z = (0,
                    rG._)(y.value, 2), Z = (0,
                    rG._)(z[0], 2)[1], Q = (0,
                    rG._)(z[1], 2)[1] - Z;
                    if (C.length) {
                        var J = (0,
                        rG._)(C, 2)
                          , H = J[0];
                        d = Z + Q * J[1] - S / 2,
                        v = n.marker.config.style ? _ * H - M + 10 : _ * H - 12
                    } else
                        d = Z + Q * U - S / 2,
                        v = _ * R - M / 2;
                    k.value = (0,
                    O._)((0,
                    B._)({}, k.value), {
                        top: "".concat(d, "px"),
                        left: "".concat(v, "px")
                    })
                };
                (0,
                ec.watch)(h, function() {
                    computedContainerPosition()
                }, {
                    deep: !0
                }),
                (0,
                ec.onMounted)(function() {
                    I.value = {
                        user: "USER" === n.marker.type,
                        location: "LOCATION_PAGE" === n.marker.type || "LOCATION" === n.marker.type,
                        goods: "GOODS_V2" === n.marker.type || "GOODS_BAIDU" === n.marker.type
                    },
                    (0,
                    ec.nextTick)(function() {
                        computedContainerPosition()
                    })
                });
                var disableDrag = function(n) {
                    n.preventDefault(),
                    n.stopPropagation()
                }
                  , reverseMark = function() {
                    v("reverse", n.marker.key, N.value.width)
                }
                  , closeMark = function() {
                    v("close", n.marker.key)
                };
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        ref_key: "markerContainer",
                        ref: S,
                        class: (0,
                        ec.normalizeClass)(["marker-container", x.value]),
                        style: (0,
                        ec.normalizeStyle)({
                            flexDirection: M.value,
                            top: k.value.top,
                            left: k.value.left,
                            transform: k.value.scale
                        }),
                        onDrag: disableDrag
                    }, [(0,
                    ec.createElementVNode)("div", {
                        class: "marker-mask",
                        "data-key": n.id
                    }, null, 8, r0), (0,
                    ec.createElementVNode)("div", {
                        class: (0,
                        ec.normalizeClass)(["close-icon", x.value]),
                        onMousedown: (0,
                        ec.withModifiers)(closeMark, ["stop"])
                    }, [(0,
                    ec.createElementVNode)("img", {
                        src: (0,
                        ec.unref)(rK)
                    }, null, 8, r1)], 34), (0,
                    ec.createElementVNode)("div", {
                        class: (0,
                        ec.normalizeClass)(["reverse-icon", x.value]),
                        onMousedown: (0,
                        ec.withModifiers)(reverseMark, ["stop"])
                    }, [(0,
                    ec.createElementVNode)("img", {
                        src: (0,
                        ec.unref)(r$)
                    }, null, 8, r2)], 34), d[0] || (d[0] = (0,
                    ec.createElementVNode)("div", {
                        class: "marker-pointer"
                    }, [(0,
                    ec.createElementVNode)("div", {
                        class: "pointer-background"
                    }), (0,
                    ec.createElementVNode)("div", {
                        class: "pointer-foreground"
                    })], -1)), (0,
                    ec.createElementVNode)("div", r4, [(0,
                    ec.createElementVNode)("img", {
                        class: "mark-icon",
                        src: C.value
                    }, null, 8, r3), (0,
                    ec.createElementVNode)("span", {
                        class: (0,
                        ec.normalizeClass)(I.value)
                    }, [(0,
                    ec.createTextVNode)((0,
                    ec.toDisplayString)(h.value.config.event.value.name) + " ", 1), h.value.config.price ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("span", r5, [(0,
                    ec.createTextVNode)(" \xa5" + (0,
                    ec.toDisplayString)(h.value.config.price) + " ", 1), (0,
                    ec.createElementVNode)("img", {
                        class: "arrow-icon",
                        src: (0,
                        ec.unref)(rX)
                    }, null, 8, r8)])) : (0,
                    ec.createCommentVNode)("", !0)], 2), h.value.config.price ? (0,
                    ec.createCommentVNode)("", !0) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("img", {
                        key: 0,
                        class: "arrow-icon",
                        style: {
                            marginTop: "3px"
                        },
                        src: (0,
                        ec.unref)(rX)
                    }, null, 8, r6))])], 38)
                }
            }
        });
        let r7 = (0,
        eN.default)(r9, [["__scopeId", "data-v-2b52967a"]]);
        var ie = (0,
        ec.defineComponent)({
            __name: "MarkerEngine",
            props: {
                currentIndex: {},
                imgList: {},
                editable: {
                    type: Boolean
                },
                maxWidth: {
                    default: 600
                },
                maxHeight: {
                    default: 300
                }
            },
            setup: function(n) {
                var d = this
                  , v = (0,
                ec.inject)("img-shadow-list")
                  , m = (0,
                ec.computed)(function() {
                    return (null == v ? void 0 : v.value) ? v.value : n.imgList
                })
                  , h = (0,
                ec.computed)(function() {
                    var d;
                    return null === (d = m.value) || void 0 === d ? void 0 : d[n.currentIndex]
                })
                  , y = (0,
                ec.computed)(function() {
                    var d;
                    return ((null === (d = h.value) || void 0 === d ? void 0 : d.markers) || []).map(function(d) {
                        return (0,
                        O._)((0,
                        B._)({}, d), {
                            active: n.editable
                        })
                    })
                })
                  , N = (0,
                ec.computed)(function() {
                    var d;
                    if (null === (d = h.value) || void 0 === d ? void 0 : d.file)
                        return h.value.file.width * (n.maxHeight / h.value.file.height) > n.maxWidth ? n.maxWidth : h.value.file.width * (n.maxHeight / h.value.file.height);
                    return n.maxWidth
                })
                  , k = (0,
                ec.computed)(function() {
                    return N.value > n.maxWidth ? n.maxHeight * (n.maxWidth / N.value) : n.maxHeight
                })
                  , I = (0,
                ec.ref)();
                I.value = [[0, 0], [N.value, k.value]];
                var closeMark = function(n) {
                    var d;
                    if (!!h.value)
                        h.value.markers = (null === (d = h.value.markers) || void 0 === d ? void 0 : d.filter(function(d) {
                            return d.key !== n
                        })) || []
                }
                  , generateAnchor = function(n, d) {
                    var v = (0,
                    rG._)(parseMarkerCoordinate(n.config.anchor_center), 2)
                      , m = v[0]
                      , h = v[1]
                      , y = (0,
                    rG._)(parseMarkerCoordinate(n.config.container_size), 2)[1]
                      , N = n.config.style;
                    n.config.anchor_center = "{".concat((y * m + (0 === N ? -1 : 1) * (d - 22)) / y, ", ").concat(h, "}")
                }
                  , reverseMark = function(n, d) {
                    for (var v = 0; v < y.value.length; v++) {
                        var m = y.value[v];
                        if (m.key === n) {
                            m.config.style ? m.config.style = 0 : m.config.style = 1,
                            generateAnchor(m, d);
                            return
                        }
                    }
                }
                  , resetActiveAll = function(n) {
                    null == n || n.some(function(n) {
                        return !!n.active && (n.active = !1,
                        !0)
                    })
                };
                (0,
                ec.watch)(function() {
                    return n.currentIndex
                }, function(n, d) {
                    return resetActiveAll(m.value[d].markers)
                });
                var C = (0,
                ec.ref)(null)
                  , x = (0,
                ec.ref)(null)
                  , M = (0,
                ec.ref)(null)
                  , S = (0,
                ec.ref)(null)
                  , _ = (0,
                ec.ref)(null)
                  , V = (0,
                ec.ref)(null)
                  , R = (0,
                ec.ref)(null)
                  , handleMouseDown = function(n) {
                    var d, v, m = n.target, N = null === (d = m.dataset) || void 0 === d ? void 0 : d.key;
                    N ? (S.value = "mark",
                    x.value = N,
                    V.value = m.offsetWidth,
                    R.value = m.offsetHeight,
                    M.value = [n.clientX, n.clientY],
                    h.value.markers = y.value.length > 1 ? y.value.sort(function(n, d) {
                        return n.key === N && (C.value = n),
                        d.key === N && (C.value = d),
                        n.active = n.key === N,
                        d.active = d.key === N,
                        -(d.key === N)
                    }) : y.value.map(function(n) {
                        return n.active = !0,
                        C.value = n,
                        n
                    }),
                    _.value = parseMarkerCoordinate(null === (v = C.value) || void 0 === v ? void 0 : v.config.anchor_center)) : resetActiveAll(y.value)
                }
                  , U = ar()(function(n) {
                    if ("mark" === S.value) {
                        var d, v = null === (d = C.value) || void 0 === d ? void 0 : d.config.style, m = (0,
                        rG._)(M.value || [0, 0], 2), h = m[0], y = m[1], I = n.clientX - h, x = n.clientY - y, B = (0,
                        rG._)(_.value || [0, 0], 2), O = B[0], U = B[1], z = O + I / N.value, Z = U + x / k.value, Q = (24 + (R.value || 0) / 2) / k.value, J = (k.value - 24 - (R.value || 0) / 2) / k.value, H = ((V.value || 0) - 8) / N.value, G = (N.value - 10) / N.value;
                        !v && (H = 12 / N.value,
                        G = (N.value - ((V.value || 0) - 8)) / N.value),
                        Z <= Q && (Z = Q),
                        Z >= J && (Z = J),
                        z <= H && (z = H),
                        z >= G && (z = G),
                        C.value ? C.value.config.anchor_center = "{".concat(z, ",").concat(Z, "}") : C.value = {
                            config: {
                                anchor_center: "{".concat(z, ",").concat(Z, "}")
                            }
                        }
                    }
                }, 16)
                  , handleMouseUp = function() {
                    S.value = null
                };
                return function(n, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        class: "markers-container",
                        style: (0,
                        ec.normalizeStyle)({
                            width: N.value + "px",
                            height: k.value + "px"
                        }),
                        onMousedown: (0,
                        ec.withModifiers)(handleMouseDown, ["stop"]),
                        onMousemove: v[0] || (v[0] = function() {
                            for (var n = arguments.length, v = Array(n), m = 0; m < n; m++)
                                v[m] = arguments[m];
                            return (0,
                            ec.unref)(U) && (0,
                            ec.unref)(U).apply(d, (0,
                            ee._)(v))
                        }
                        ),
                        onMouseup: handleMouseUp
                    }, [((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(y.value, function(n) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createBlock)(r7, {
                            id: n.key,
                            key: n.key,
                            marker: n,
                            style: (0,
                            ec.normalizeStyle)({
                                visibility: n.visibility ? "visible" : "hidden"
                            }),
                            "img-bounding": I.value,
                            onClose: closeMark,
                            onReverse: reverseMark
                        }, null, 8, ["id", "marker", "style", "img-bounding"])
                    }), 128))], 36)
                }
            }
        });
        let it = (0,
        eN.default)(ie, [["__scopeId", "data-v-618023c3"]])
          , getStyle = (n,d)=>{
            let v = n[1] / d[1];
            v * d[0] > n[0] && (v = n[0] / d[0]);
            let m = "0px";
            d[1] * v < n[1] && (m = `${(n[1] - d[1] * v) / 2 / v}px`);
            let h = "0px";
            return d[0] * v < n[0] && (h = `${(n[0] - d[0] * v) / 2 / v}px`),
            {
                zoom: v,
                left: m,
                top: h
            }
        }
        ;
        v(96176),
        v(68837),
        v(64089);
        var ia = {
            class: "order"
        }
          , io = {
            class: "operator"
        }
          , ir = (0,
        ec.defineComponent)({
            __name: "ImgSwiper",
            props: {
                imgList: {}
            },
            setup: function(n) {
                var d = (0,
                ec.ref)(1);
                (0,
                ec.onMounted)(function() {
                    var v, m;
                    d.value = null === (m = n.imgList[0]) || void 0 === m ? void 0 : null === (v = m.file) || void 0 === v ? void 0 : v.ratio
                });
                var v = (0,
                ej.Jk)((0,
                eY.Z)()).selectedOrder
                  , m = (0,
                ec.computed)(function() {
                    var n;
                    return null === (n = v.value) || void 0 === n ? void 0 : n.orderId
                })
                  , h = (0,
                ec.computed)(function() {
                    var n;
                    return null === (n = v.value) || void 0 === n ? void 0 : n.taskName
                });
                (0,
                ec.watch)(function() {
                    return n.imgList[0]
                }, function(n) {
                    var v;
                    d.value = null == n ? void 0 : null === (v = n.file) || void 0 === v ? void 0 : v.ratio
                }, {
                    deep: !0
                });
                var y = (0,
                ec.computed)(function() {
                    var d, v, m, h, y, N, k = null === (d = n.imgList) || void 0 === d ? void 0 : d[0];
                    return (null == k ? void 0 : null === (v = k.markers) || void 0 === v ? void 0 : v.length) ? 234 / (null === (m = parseMarkerCoordinate(null === (N = k.markers) || void 0 === N ? void 0 : null === (y = N[0]) || void 0 === y ? void 0 : null === (h = y.config) || void 0 === h ? void 0 : h.container_size)) || void 0 === m ? void 0 : m[1]) : 0
                })
                  , N = (0,
                ec.computed)(function() {
                    var d, v, m, h, N, k, I = null === (d = n.imgList) || void 0 === d ? void 0 : d[0];
                    return (null == I ? void 0 : null === (v = I.markers) || void 0 === v ? void 0 : v.length) ? (null === (m = parseMarkerCoordinate(null === (k = I.markers) || void 0 === k ? void 0 : null === (N = k[0]) || void 0 === N ? void 0 : null === (h = N.config) || void 0 === h ? void 0 : h.container_size)) || void 0 === m ? void 0 : m[0]) * y.value : 0
                })
                  , k = [rz.tl, rz.W_];
                return function(n, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        class: (0,
                        ec.normalizeClass)(["img-swiper", {
                            hasMargin: n.imgList.length > 1
                        }])
                    }, [(0,
                    ec.createVNode)((0,
                    ec.unref)(rZ.tq), {
                        modules: k,
                        "slides-per-view": 1,
                        "space-between": 0,
                        navigation: "",
                        pagination: {
                            clickable: !0
                        }
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(n.imgList, function(v, m) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createBlock)((0,
                                ec.unref)(rZ.o5), {
                                    key: m
                                }, {
                                    default: (0,
                                    ec.withCtx)(function() {
                                        var h;
                                        return [(0,
                                        ec.createVNode)(rH, {
                                            img: v,
                                            ratio: d.value
                                        }, null, 8, ["img", "ratio"]), (0,
                                        ec.createVNode)(it, {
                                            class: "marker-wrapper",
                                            style: (0,
                                            ec.normalizeStyle)((0,
                                            ec.unref)(getStyle)([N.value, 252], (0,
                                            ec.unref)(parseMarkerCoordinate)(v.markers ? null === (h = v.markers[0]) || void 0 === h ? void 0 : h.config.container_size : ""))),
                                            "img-list": n.imgList,
                                            "current-index": m
                                        }, null, 8, ["style", "img-list", "current-index"])]
                                    }),
                                    _: 2
                                }, 1024)
                            }), 128))]
                        }),
                        _: 1
                    }), (0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", ia, [v[0] || (v[0] = (0,
                    ec.createElementVNode)("img", {
                        src: o6
                    }, null, -1)), (0,
                    ec.createElementVNode)("span", io, (0,
                    ec.toDisplayString)(h.value), 1)], 512), [[ec.vShow, !!m.value]])], 2)
                }
            }
        });
        let ii = (0,
        eN.default)(ir, [["__scopeId", "data-v-0b27b1de"]]);
        var il = {
            class: "preview-container"
        }
          , ic = {
            class: "phone"
        }
          , iu = {
            class: "area"
        }
          , is = {
            class: "top-msg"
        }
          , id = ["src"]
          , iv = {
            class: "name"
        }
          , im = {
            class: "scroll-container"
        }
          , ip = {
            class: "content-area"
        }
          , ig = {
            class: "title"
        }
          , ih = {
            class: "info"
        }
          , iy = ["innerHTML"]
          , iN = {
            key: 0,
            class: "collection-container"
        }
          , ik = {
            class: "collection"
        }
          , iI = {
            class: "c-name"
        }
          , iC = {
            key: 1,
            class: "group-container"
        }
          , ib = ["src"]
          , iE = {
            class: "name"
        }
          , iA = {
            class: "desc"
        }
          , iw = {
            key: 2,
            class: "live-container"
        }
          , ix = ["src"]
          , iT = {
            class: "live-text"
        }
          , iM = {
            key: 0,
            class: "right-arrow",
            src: rj
        }
          , iS = {
            key: 3,
            class: "address-container"
        }
          , i_ = {
            class: "name"
        }
          , iV = {
            class: "comment"
        }
          , iD = {
            class: "time"
        }
          , iB = ["src"]
          , iL = {
            key: 0,
            class: "goods-logo"
        }
          , iP = {
            class: "goods-container"
        }
          , iO = {
            class: "image"
        }
          , iR = ["src"]
          , iU = {
            class: "info"
        }
          , ij = {
            class: "title"
        }
          , iF = {
            class: "price"
        }
          , iz = (0,
        ec.defineComponent)({
            __name: "Index",
            setup: function(n) {
                var d = (0,
                eG.ZP)()
                  , v = (0,
                e$.Z)()
                  , m = (0,
                ej.Jk)(v).userInfo
                  , h = (0,
                ej.Jk)(d)
                  , y = h.title
                  , N = h.descInnerHTML
                  , k = h.noteType
                  , I = h.imgList
                  , C = (0,
                ec.ref)()
                  , x = (0,
                ec.computed)(function() {
                    return N.value.replaceAll('width="16"', 'width="9"').replaceAll('style="position: relative; top: 3px;"', 'style="position: relative; top: 1px;"')
                })
                  , M = (0,
                ej.Jk)((0,
                eq.Z)())
                  , S = M.goodsContext
                  , _ = M.liveContext
                  , V = (0,
                ej.Jk)((0,
                eY.Z)())
                  , B = V.selectedOrder
                  , O = V.postLoc
                  , R = V.collectionId
                  , U = V.groupBind
                  , z = V.liveReservationBind
                  , Z = V.liveNoticeBind
                  , Q = V.privacyInfo;
                (0,
                ec.computed)(function() {
                    var n;
                    return null === (n = B.value) || void 0 === n ? void 0 : n.taskName
                });
                var J = (0,
                ec.computed)(function() {
                    return S.value.goodsPreviewDetail
                })
                  , H = (0,
                ap.DZ)(new Date, "yyyy-MM-dd hh:mm")
                  , G = (0,
                ec.computed)(function() {
                    var n;
                    return (null === (n = m.value) || void 0 === n ? void 0 : n.collections) || []
                })
                  , Y = (0,
                ec.computed)(function() {
                    var n;
                    return null === (n = G.value.find(function(n) {
                        return n.id === R.value
                    })) || void 0 === n ? void 0 : n.name
                })
                  , W = (0,
                ec.computed)(function() {
                    var n, d;
                    return (null === (n = z.value) || void 0 === n ? void 0 : n.reserve) || (null === (d = Z.value) || void 0 === d ? void 0 : d.liveNoticeType) === eX.tK.Bind
                })
                  , q = (0,
                ec.computed)(function() {
                    var n, d;
                    return (null === (n = z.value) || void 0 === n ? void 0 : n.reserve) ? "预约下一场直播" : "".concat(timestamp2Date(null === (d = _.value) || void 0 === d ? void 0 : d.time, "MM月dd日 HH:mm"), "直播")
                })
                  , X = (0,
                ec.computed)(function() {
                    var n;
                    return (null === (n = z.value) || void 0 === n ? void 0 : n.reserve) ? "https://picasso-static.xiaohongshu.com/fe-platform/1220f3867e39e08ed1d5feb67ae6ec63fe9b5928.png" : "https://picasso-static.xiaohongshu.com/fe-platform/4c734342765aca4b74702ca5228fa2c890211c99.png"
                })
                  , handlePScroll = function(n) {
                    var d = n.currentTarget
                      , v = d.scrollTop
                      , m = d.scrollHeight
                      , h = d.clientHeight;
                    if (!!(m > h))
                        n.deltaY > 0 && v + h >= m || n.deltaY < 0 && 0 === v || n.stopPropagation()
                };
                return function(n, d) {
                    var v, h, N, M, S, _, V, B, R;
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", il, [(0,
                    ec.createElementVNode)("div", ic, [(0,
                    ec.createElementVNode)("div", iu, [(0,
                    ec.createElementVNode)("div", is, [(0,
                    ec.createElementVNode)("img", {
                        src: null === (v = (0,
                        ec.unref)(m)) || void 0 === v ? void 0 : v.image,
                        alt: "",
                        class: "icon"
                    }, null, 8, id), (0,
                    ec.createElementVNode)("span", iv, (0,
                    ec.toDisplayString)(null === (h = (0,
                    ec.unref)(m)) || void 0 === h ? void 0 : h.nickName), 1)]), (0,
                    ec.createElementVNode)("div", im, [(0,
                    ec.createElementVNode)("div", {
                        ref_key: "contentRef",
                        ref: C,
                        class: "content-center",
                        onWheel: handlePScroll
                    }, [(0,
                    ec.createVNode)(ii, {
                        "img-list": (0,
                        ec.unref)(I)
                    }, null, 8, ["img-list"]), (0,
                    ec.createElementVNode)("div", ip, [(0,
                    ec.createElementVNode)("div", ig, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y)), 1), (0,
                    ec.createElementVNode)("div", ih, [(0,
                    ec.createElementVNode)("p", {
                        class: "inner",
                        innerHTML: x.value
                    }, null, 8, iy)])]), Y.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", iN, [(0,
                    ec.createElementVNode)("div", ik, [d[0] || (d[0] = (0,
                    ec.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAA5klEQVR4Xu2UYQ3CMBCFz8AMIAADGJgBBMwABjBQATOADgRgYKLoR3ehu3Vrm7Dwp1/yEtb29d1upSKNH3PyGr0eBWLdNdjquHhNlXpKKK6KToIpp7OXk28QvsO4Swga7EQMVd2k7Fs4rx5TBH5C8CfhlV+y7nNOFKVoCEUkoZdqsj1PiYOhHn7DboieJGfGc1jfbghnnMnas243tc8LWojd1D4vaCF2U+6sw0Ogn8dXaMhgJzKkQjbRf27R4giKwufM+CYEYBglvFlOeq2jZHtSsFAvvFJxa9d+xw+0zla9pW72/I8310FyCFrSSn0AAAAASUVORK5CYII="
                    }, null, -1)), d[1] || (d[1] = (0,
                    ec.createElementVNode)("span", {
                        class: "name"
                    }, "合集", -1)), (0,
                    ec.createElementVNode)("span", iI, (0,
                    ec.toDisplayString)(Y.value), 1)])])) : (0,
                    ec.createCommentVNode)("", !0), (null === (N = (0,
                    ec.unref)(U)) || void 0 === N ? void 0 : N.groupName) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", iC, [(0,
                    ec.createElementVNode)("img", {
                        class: "group-avatar",
                        src: (0,
                        ec.unref)(U).avatar
                    }, null, 8, ib), (0,
                    ec.createElementVNode)("div", iE, "群聊\xb7" + (0,
                    ec.toDisplayString)(null === (M = (0,
                    ec.unref)(U)) || void 0 === M ? void 0 : M.groupName), 1), (0,
                    ec.createElementVNode)("div", iA, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(U).desc) + "在聊", 1), d[2] || (d[2] = (0,
                    ec.createElementVNode)("img", {
                        class: "right-arrow",
                        src: rj
                    }, null, -1))])) : (0,
                    ec.createCommentVNode)("", !0), W.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", iw, [(0,
                    ec.createElementVNode)("img", {
                        class: "live-icon",
                        src: X.value
                    }, null, 8, ix), (0,
                    ec.createElementVNode)("div", iT, (0,
                    ec.toDisplayString)(q.value), 1), d[3] || (d[3] = (0,
                    ec.createElementVNode)("div", {
                        class: "desc"
                    }, "预约", -1)), (null === (S = (0,
                    ec.unref)(z)) || void 0 === S ? void 0 : S.reserve) ? (0,
                    ec.createCommentVNode)("", !0) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("img", iM))])) : (0,
                    ec.createCommentVNode)("", !0), (null === (_ = (0,
                    ec.unref)(O)) || void 0 === _ ? void 0 : _.poiId) && !(null === (V = (0,
                    ec.unref)(U)) || void 0 === V ? void 0 : V.groupName) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", iS, [d[4] || (d[4] = (0,
                    ec.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAaCAYAAABCfffNAAABJklEQVR4Xu2UYRHCMAyFYwADCMAABjCAAAxgAAMRgAEMIAAEYABR9NG9re2lWTfGL/jucrdrmrykSyvy58usO1uUVbBjsEuwZ2HXYHv5UHQX7CFDUnxDDJau3yWKTQbVM4kG22beCDpQGfYhphlUxcqt5CXYw86aOkJ1aB8BLQIEe1kY/qMLu9BinXjTdZLGY+MUbUqH5P/JSsRukMOFLZfgCChAszpCrBXfw0RWJZaIdfa4OzXfGya6lY6OseMCFHHhKNYqwbrnQyym00Ulbtzly02MTWYPJwTV1Cq2wN5J94tjrMW6h8rEmLQqzV0mKkP31lhXSZ8XzV0ZKjMFSCqE0UyToFuO62wBkgoxmSc+G1R9lpgUxruknW9RcMv5Nh0K3w/wAr7jWxtqMFHKAAAAAElFTkSuQmCC"
                    }, null, -1)), (0,
                    ec.createElementVNode)("div", i_, (0,
                    ec.toDisplayString)(null === (B = (0,
                    ec.unref)(O)) || void 0 === B ? void 0 : B.name), 1), d[5] || (d[5] = (0,
                    ec.createElementVNode)("div", {
                        class: "operator"
                    }, ">", -1))])) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createElementVNode)("div", iV, [(0,
                    ec.createElementVNode)("div", iD, "编辑于 " + (0,
                    ec.toDisplayString)((0,
                    ec.unref)(H)) + " \xb7 " + (0,
                    ec.toDisplayString)((0,
                    ec.unref)(nX.br)[(0,
                    ec.unref)(Q).type]), 1), (0,
                    ec.createElementVNode)("img", {
                        src: null === (R = (0,
                        ec.unref)(m)) || void 0 === R ? void 0 : R.image,
                        alt: "",
                        class: "avatar"
                    }, null, 8, iB), d[6] || (d[6] = (0,
                    ec.createElementVNode)("img", {
                        src: rF,
                        alt: "",
                        class: "comment-bg"
                    }, null, -1))])], 544)]), 1 === (0,
                    ec.unref)(k) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", iL, [(0,
                    ec.createElementVNode)("div", iP, [(0,
                    ec.createElementVNode)("div", iO, [(0,
                    ec.createElementVNode)("img", {
                        src: J.value.image
                    }, null, 8, iR)]), (0,
                    ec.createElementVNode)("div", iU, [(0,
                    ec.createElementVNode)("div", ij, (0,
                    ec.toDisplayString)(J.value.name), 1), (0,
                    ec.createElementVNode)("div", iF, (0,
                    ec.toDisplayString)(J.value.description), 1)])])])) : (0,
                    ec.createCommentVNode)("", !0)])])])
                }
            }
        });
        let iZ = (0,
        eN.default)(iz, [["__scopeId", "data-v-0e7feff9"]]);
        var iQ = {
            class: "view-container"
        }
          , iJ = {
            class: "video-wrapper"
        }
          , iH = {
            class: "inner-cover"
        }
          , iG = {
            key: 0,
            class: "tab"
        }
          , iY = ["onClick"]
          , iW = (0,
        ec.defineComponent)({
            __name: "Index",
            setup: function(n) {
                var d = [{
                    name: "详情",
                    key: "preview",
                    value: 0
                }, {
                    name: "双列",
                    key: "cover",
                    value: 1
                }]
                  , v = (0,
                ej.Jk)((0,
                eH.Z)())
                  , m = v.status
                  , h = v.publishType;
                v.noteId;
                var y = (0,
                ej.Jk)((0,
                eq.Z)()).coverContext
                  , N = (0,
                eG.ZP)()
                  , k = (0,
                ej.Jk)((0,
                e$.Z)()).userInfo
                  , I = (0,
                ec.ref)(0)
                  , C = (0,
                ej.Jk)(N)
                  , x = C.cover
                  , M = C.title
                  , S = C.coverUrl
                  , _ = C.imgList
                  , V = (0,
                ec.computed)(function() {
                    return h.value === eX.QO.Video
                })
                  , B = (0,
                ec.computed)(function() {
                    return m.value === eX.qb.Preview
                })
                  , O = (0,
                ec.computed)(function() {
                    return y.value.coverUrl
                })
                  , R = (0,
                ec.computed)(function() {
                    var n;
                    return h.value === eX.QO.Image ? null === (n = _.value[0]) || void 0 === n ? void 0 : n.url : S.value
                })
                  , handleClickPreviewBtn = function(n) {
                    var d, v;
                    null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["63121"]({
                        channelTabName: n.name
                    })),
                    I.value = n.value
                };
                return function(n, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", iQ, [(0,
                    ec.createElementVNode)("div", iJ, [I.value === d[0].value && V.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(rU, {
                        key: 0
                    })) : I.value !== d[0].value || V.value ? (0,
                    ec.createCommentVNode)("", !0) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(iZ, {
                        key: 1
                    })), (0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", iH, [(0,
                    ec.createVNode)((0,
                    ec.unref)(nl._$), {
                        "cover-url": O.value || R.value,
                        title: (0,
                        ec.unref)(M),
                        "note-type": (0,
                        ec.unref)(eX.QO).Image ? "image" : "video",
                        "cover-ratio": (0,
                        ec.unref)(x).width / (0,
                        ec.unref)(x).height,
                        "user-info": (0,
                        ec.unref)(k),
                        size: "large"
                    }, null, 8, ["cover-url", "title", "note-type", "cover-ratio", "user-info"])], 512), [[ec.vShow, I.value === d[1].value]])]), B.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", iG, [((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(d, function(n) {
                        return (0,
                        ec.createElementVNode)("button", {
                            key: n.key,
                            class: (0,
                            ec.normalizeClass)("radio-item preview-btn-".concat(n.key, "-").concat(I.value === n.value)),
                            onClick: function(d) {
                                return handleClickPreviewBtn(n)
                            }
                        }, (0,
                        ec.toDisplayString)(n.name), 11, iY)
                    }), 64))])) : (0,
                    ec.createCommentVNode)("", !0)])
                }
            }
        });
        let iq = (0,
        eN.default)(iW, [["__scopeId", "data-v-04e421c2"]]);
        var iX = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACGElEQVR4Xu2YbVHFQAxFYwADCMAABmoAARjAAAYiAAMYQAAIwACi6JnX8LLL9Gub3RamZyZ/2G177yZt8hA5OTmpxX0fz33oEE9DPPbxMKwTd33c9nHDRUcAgZ99fBXGm1wMY6o5nHguaEuQsWaopA8nCxiiXAgrIfYRr0Nw4h/D/twAwd7qqKQPRXhpTfNeYMzfj7Kshkr6sKi0+3IkO6UHMolKHfEG5VUtCyp1xQOi7f6aLm1Dpb544H2wZ/BehKDSRjzQC+w579laESox4ju5XMvndYpQAyox4vNmp8lqCl8ev7cYlRjxzD3+Phb8fYzNBlRixMOYgc7tyfEdevV8lKd7i3igJPKRgTFiShjrRQYQGyneIAsmikY1VT7AHtMwt/cHnPqTihJfgp+L6AuLUElTvCcvctXSpUvj+Lqb+1bXRmWlFv+loIz2xmdgkYEq88cGfDUsegdwaRdoutQcr2VxNXRyvYj07QVfQn/6mqxO4Aeoxa6DycXPNbtf+B6wqO4CycWjZXEDM3wXphO2IkQ85DMLM1FtwsQb/vcoUXOcCBdvqNQ3UU28oVLPRHXxhkq8iWbiDZU4E83FGyrbTewm3lApN7G7eEMlNUGfmPvnKx39EOINldQE4pge/cyCKYTrsOcw4g1O3gvzAv1p50YPId7g1MfE5sEPpFVTZUswgkA/Q9mJkylK6c9A7R/2pE9O/hPfvk4Z6o6x+mYAAAAASUVORK5CYII="
          , iK = {
            MARK_PP: "标记人或地点让重点突出",
            EDIT_MARKER: "修改",
            CANCEL: "取消",
            CONFIRM: "确定",
            USER: "用户",
            LOCATION: "地点",
            EXIT_PAGE: "离开页面",
            SEARCH_LOCATION: "搜索地点",
            CHOOSE_MARKER: "选择标记",
            SEARCH_USER: "搜索用户",
            RECOMMEND: "为你推荐",
            MY_GOODS: "我的商品",
            NOT_FOUND_GOODS: "没有找到相关商品,换个词试试吧",
            NOT_FOUND_USER: "没有找到相关用户,换个词试试吧",
            NOT_FOUND_LOCATION: "没有找到相关地点,换个词试试吧",
            LOADING: "加载中,请稍后...",
            EXIT_DONT_SAVE: "退出后将不保存编辑效果，确定要退出吗？",
            PUBLISH_VIDEO: "发布视频",
            PASS_5S_CAN_ADD_MARKER: "超过5秒的视频才可以添加标记哦",
            ADD_MARKER: "添加标记",
            VIDEO_EXACTING: "正在抽帧中，请稍后..",
            VIDEO_UPLOADING: "视频上传中，请稍后",
            UPDATE_NOT_ALLOW_SETTING: "暂不支持修改该字段",
            VIDEO_TRANSCODING: function(n) {
                return "视频转码中(".concat(n, "%)，请稍后")
            },
            ADDED_MARKER: function(n) {
                return "已添加".concat(n, "个标记")
            }
        }
          , i$ = [{
            type: "user",
            name: iK.USER,
            suggested: !0,
            searchPlaceholder: iK.SEARCH_USER
        }, {
            type: "location",
            name: iK.LOCATION,
            suggested: !0,
            searchPlaceholder: iK.SEARCH_LOCATION
        }]
          , i0 = {
            class: "chapter-container"
        }
          , i1 = {
            class: "add-box"
        }
          , i2 = {
            class: "flexBox"
        }
          , i4 = {
            class: "add-boxfont"
        }
          , i3 = {
            class: "add-videochapter"
        }
          , i5 = {
            key: 0,
            class: "add-length"
        }
          , i8 = (0,
        ec.defineComponent)({
            __name: "MarkerBtn",
            props: {
                enable: {
                    type: Boolean
                }
            },
            emits: ["open"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                eG.ZP)()
                  , h = t3()
                  , y = (0,
                ej.Jk)(m)
                  , N = y.video
                  , k = y.videoUrl;
                (0,
                ej.Jk)((0,
                eH.Z)()).status;
                var I = (0,
                ec.computed)(function() {
                    return N.value.duration
                })
                  , C = (0,
                ec.computed)(function() {
                    return n.enable && I.value >= 5
                })
                  , x = (0,
                ec.computed)(function() {
                    return N.value.videoMarks.length
                })
                  , M = (0,
                ec.ref)()
                  , S = (0,
                eH.Z)()
                  , _ = (0,
                ej.Jk)(S)
                  , V = _.theme
                  , B = _.noteId;
                _.publishType;
                var O = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["31259"]())
                })
                  , R = (0,
                ec.computed)(function() {
                    return 0 !== x.value
                })
                  , U = (0,
                ec.computed)(function() {
                    return R.value ? iK.EDIT_MARKER : iK.ADD_MARKER
                })
                  , add = function() {
                    var n, d, m;
                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["31260"]()),
                    null === (m = window) || void 0 === m || m.eaglet.push(el.tracker["63115"]({
                        channelTabName: "标记",
                        noteEditSource: B.value ? 2 : 1,
                        noteType: 3
                    })),
                    k && I.value >= 5 && C.value && (h.saveMarkerToLs(),
                    v("open"))
                };
                return function(n, d) {
                    var v = (0,
                    ec.resolveComponent)("el-popover");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", i0, [(0,
                    ec.createElementVNode)("div", i1, [(0,
                    ec.createElementVNode)("div", i2, [d[0] || (d[0] = (0,
                    ec.createElementVNode)("img", {
                        class: "marker-icon",
                        src: iX
                    }, null, -1)), (0,
                    ec.createElementVNode)("div", i4, [(0,
                    ec.createElementVNode)("p", i3, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(iK).MARK_PP), 1), 0 !== x.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("p", i5, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(iK).ADDED_MARKER(x.value)), 1)) : (0,
                    ec.createCommentVNode)("", !0)])]), (0,
                    ec.createVNode)((0,
                    ec.unref)(nl.zx), {
                        ref_key: "btnRef",
                        ref: M,
                        disabled: !C.value,
                        "data-impression": O.value,
                        color: (0,
                        ec.unref)(V),
                        onClick: add
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createTextVNode)((0,
                            ec.toDisplayString)(U.value), 1)]
                        }),
                        _: 1
                    }, 8, ["disabled", "data-impression", "color"]), (0,
                    ec.createVNode)(v, {
                        ref: "popoverRef",
                        "show-arrow": "",
                        "virtual-ref": M.value,
                        placement: "left",
                        trigger: "hover",
                        title: "视频上传成功且时长大于5s可添加标记",
                        disabled: C.value,
                        "popper-class": "marker-popper"
                    }, null, 8, ["virtual-ref", "disabled"])])])
                }
            }
        });
        let i6 = (0,
        eN.default)(i8, [["__scopeId", "data-v-2a560b25"]]);
        var i9 = new (function() {
            function Tip() {
                (0,
                eO._)(this, Tip),
                (0,
                eU._)(this, "drag", void 0),
                this.drag = !1
            }
            return (0,
            eR._)(Tip, [{
                key: "getTip",
                value: function getTip(n, d) {
                    var v;
                    switch (n) {
                    case "select":
                        this.drag ? v = "已选标记持续时间段".concat(d.time.toFixed(1), "秒") : (this.drag = !0,
                        v = "继续拖动时间轴，添加下一个标记");
                        break;
                    case "limit":
                        v = "标记最短时长5.0s";
                        break;
                    case "null":
                        break;
                    default:
                        v = "拖动时间轴，选择标记开始的时刻"
                    }
                    return v
                }
            }]),
            Tip
        }())
          , utils_parseMarkerCoordinate = function(n) {
            var d = null == n ? void 0 : n.match(/\{(.*),(.*)\}/);
            if (d) {
                var v = (0,
                rG._)(d, 3);
                return [+v[1], +v[2]]
            }
            return []
        }
          , utils_getDistanceBetweenUnitAndAnchor = function(n, d) {
            return (0 === d ? -1 : 1) * (n / 2 - 7.19 + 8.35 + 4.79)
        }
          , utils_videoMarkGenerator = function(n) {
            var d, v = {
                visibility: !0,
                type: n.type.toUpperCase(),
                startTime: 0,
                endTime: 0,
                config: {
                    style: 1,
                    type: n.type,
                    event: {
                        value: {}
                    }
                }
            };
            switch (n.type) {
            case "user":
                v.markId = n.userBaseDto.userId,
                v.config.event.value.id = n.userBaseDto.userId,
                v.config.event.value.name = n.userBaseDto.userNickname;
                break;
            case "goods_baidu":
            case "goods_v2":
                v.markId = n.id,
                v.config.event.value.id = n.id,
                v.config.price = n.price,
                (d = n.subtitle.slice(0, 17 - n.price.toString().length)) < n.subtitle && (d += "..."),
                v.config.event.value.name = d;
                break;
            case "location":
            case "location_page":
                v.markId = n.poiId,
                v.config.event.value.id = n.poiId,
                v.config.event.value.name = n.name
            }
            return v
        }
          , utils_normalDeviceCoordinate = function() {
            return {
                width: 312.1875,
                height: 555,
                safeground: {
                    top: 37,
                    left: 0,
                    right: 0,
                    bottom: 161
                }
            }
        }
          , i7 = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE0IDE0Ij48cGF0aCBmaWxsPSIjM0E2NEZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDBhNyA3IDAgMSAxIDAgMTRBNyA3IDAgMCAxIDcgMG0uMDQyIDExYS43LjcgMCAwIDAgLjcwMi0uNzAydi00LjIxYS43MDIuNzAyIDAgMSAwLTEuNDA0IDB2NC4yMWMwIC4zODguMzE1LjcwMi43MDIuNzAyTTYuMiAzLjg0MmEuODQyLjg0MiAwIDEgMSAxLjY4NCAwIC44NDIuODQyIDAgMCAxLTEuNjg0IDAiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="
          , le = ["data-key"]
          , lt = ["data-key"]
          , ln = ["data-key"]
          , la = (0,
        ec.defineComponent)({
            __name: "Bar",
            props: {
                startTime: {},
                endTime: {},
                duration: {},
                active: {
                    type: Boolean
                },
                id: {}
            },
            setup: function(n) {
                var d = (0,
                ec.computed)(function() {
                    return (n.endTime - n.startTime) / n.duration * 100
                })
                  , v = (0,
                ec.computed)(function() {
                    return n.startTime / n.duration * 100
                })
                  , m = (0,
                ec.computed)(function() {
                    return n.active
                })
                  , h = (0,
                ec.computed)(function() {
                    return n.id
                });
                return function(n, y) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        class: (0,
                        ec.normalizeClass)(["control-bar-marker-mask", {
                            active: m.value
                        }]),
                        style: (0,
                        ec.normalizeStyle)({
                            width: "".concat(d.value, "%"),
                            left: "".concat(v.value, "%")
                        }),
                        "data-key": h.value,
                        "data-type": "content"
                    }, [(0,
                    ec.createElementVNode)("div", {
                        class: "left-handle",
                        "data-key": h.value,
                        "data-type": "left"
                    }, null, 8, lt), (0,
                    ec.createElementVNode)("div", {
                        class: "right-handle",
                        "data-key": h.value,
                        "data-type": "right"
                    }, null, 8, ln)], 14, le)
                }
            }
        });
        let lo = (0,
        eN.default)(la, [["__scopeId", "data-v-e0a9a636"]]);
        var lr = ["data-key"]
          , li = {
            class: "marker-content"
        }
          , ll = ["src"]
          , lc = {
            key: 0,
            class: "price"
        }
          , lu = {
            key: 0,
            class: "arrow-icon",
            style: {
                marginTop: "3px"
            },
            src: rX
        }
          , ls = (0,
        ec.defineComponent)({
            __name: "MarkerTarget",
            props: {
                marker: {},
                videoBounding: {}
            },
            emits: ["close", "reverse", "bounding"],
            setup: function(n, d) {
                var v = d.emit
                  , m = {
                    USER: rY,
                    LOCATION: rq,
                    LOCATION_PAGE: rq,
                    GOODS_V2: rW,
                    GOODS_BAIDU: rW
                }
                  , h = (0,
                ec.ref)({})
                  , y = (0,
                ec.ref)({})
                  , N = (0,
                ec.ref)()
                  , k = (0,
                ec.ref)({
                    width: 0,
                    height: 0,
                    scale: "scale(1)"
                })
                  , I = (0,
                ec.computed)(function() {
                    return n.marker
                })
                  , C = (0,
                ec.computed)(function() {
                    return n.videoBounding
                })
                  , x = (0,
                ec.computed)(function() {
                    return n.marker.key
                })
                  , M = (0,
                ec.computed)(function() {
                    return {
                        active: I.value.active
                    }
                })
                  , S = (0,
                ec.computed)(function() {
                    return 1 === I.value.config.style ? "row-reverse" : "row"
                })
                  , _ = (0,
                ec.computed)(function() {
                    return m[I.value.type]
                })
                  , disableDrag = function(n) {
                    n.preventDefault(),
                    n.stopPropagation()
                }
                  , closeMark = function() {
                    v("close", I.value.key)
                }
                  , reverseMark = function() {
                    v("reverse", I.value.key, k.value.width)
                }
                  , setContainerBounding = function() {
                    var n;
                    k.value = null === (n = N.value) || void 0 === n ? void 0 : n.getBoundingClientRect(),
                    h.value.width = k.value.width + "px",
                    h.value.height = k.value.height + "px",
                    v("bounding", I.value.key, {
                        width: k.value.width,
                        height: k.value.height
                    })
                }
                  , computedContainerPosition = function() {
                    setContainerBounding();
                    var n, d, v = utils_parseMarkerCoordinate(I.value.config.container_size), m = utils_parseMarkerCoordinate(I.value.config.unit_center), y = utils_parseMarkerCoordinate(I.value.config.anchor_center), N = k.value, x = N.width, M = N.height, S = (0,
                    rG._)(v, 2)[1], _ = (0,
                    rG._)(m, 2), V = _[0], R = _[1], U = (0,
                    rG._)(C.value, 2), z = (0,
                    rG._)(U[0], 2)[1], Z = (0,
                    rG._)(U[1], 2)[1] - z;
                    if (y.length) {
                        var Q = (0,
                        rG._)(y, 2)
                          , J = Q[0];
                        n = z + Z * Q[1] - M / 2,
                        d = S * (J - utils_getDistanceBetweenUnitAndAnchor(k.value.width, I.value.config.style) / S) - x / 2
                    } else
                        n = z + Z * R - M / 2,
                        d = S * V - x / 2;
                    h.value = (0,
                    O._)((0,
                    B._)({}, h.value), {
                        top: "".concat(n, "px"),
                        left: "".concat(d, "px")
                    })
                };
                return (0,
                ec.onMounted)(function() {
                    y.value = {
                        user: I.value.type === eX.QZ.USER,
                        location: I.value.type === eX.QZ.LOCATION_PAGE || I.value.type === eX.QZ.LOCATION,
                        goods: I.value.type === eX.QZ.GOODS_V2 || I.value.type === eX.QZ.GOODS_BAIDU
                    },
                    (0,
                    ec.nextTick)(function() {
                        computedContainerPosition()
                    })
                }),
                (0,
                ec.watch)(I, computedContainerPosition, {
                    deep: !0
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        ref_key: "markerRef",
                        ref: N,
                        class: (0,
                        ec.normalizeClass)(["marker-container", M.value]),
                        style: (0,
                        ec.normalizeStyle)({
                            flexDirection: S.value,
                            top: h.value.top,
                            left: h.value.left,
                            transform: h.value.scale,
                            width: h.value.width,
                            height: h.value.height
                        }),
                        onDrag: disableDrag
                    }, [(0,
                    ec.createElementVNode)("div", {
                        class: "marker-mask",
                        "data-key": x.value
                    }, null, 8, lr), (0,
                    ec.createElementVNode)("div", {
                        class: (0,
                        ec.normalizeClass)(["close-icon", M.value]),
                        onMousedown: (0,
                        ec.withModifiers)(closeMark, ["stop"])
                    }, d[0] || (d[0] = [(0,
                    ec.createElementVNode)("img", {
                        src: rK
                    }, null, -1)]), 34), (0,
                    ec.createElementVNode)("div", {
                        class: (0,
                        ec.normalizeClass)(["reverse-icon", M.value]),
                        onMousedown: (0,
                        ec.withModifiers)(reverseMark, ["stop"])
                    }, d[1] || (d[1] = [(0,
                    ec.createElementVNode)("img", {
                        src: r$
                    }, null, -1)]), 34), d[3] || (d[3] = (0,
                    ec.createElementVNode)("div", {
                        class: "marker-pointer"
                    }, [(0,
                    ec.createElementVNode)("div", {
                        class: "pointer-background"
                    }), (0,
                    ec.createElementVNode)("div", {
                        class: "pointer-foreground"
                    })], -1)), (0,
                    ec.createElementVNode)("div", li, [(0,
                    ec.createElementVNode)("img", {
                        class: "mark-icon",
                        src: _.value
                    }, null, 8, ll), (0,
                    ec.createElementVNode)("span", {
                        class: (0,
                        ec.normalizeClass)(y.value)
                    }, [(0,
                    ec.createTextVNode)((0,
                    ec.toDisplayString)(I.value.config.event.value.name) + " ", 1), I.value.config.price ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("span", lc, [(0,
                    ec.createTextVNode)(" \xa5" + (0,
                    ec.toDisplayString)(I.value.config.price) + " ", 1), d[2] || (d[2] = (0,
                    ec.createElementVNode)("img", {
                        class: "arrow-icon",
                        src: rX
                    }, null, -1))])) : (0,
                    ec.createCommentVNode)("", !0)], 2), I.value.config.price ? (0,
                    ec.createCommentVNode)("", !0) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("img", lu))])], 38)
                }
            }
        });
        let ld = (0,
        eN.default)(ls, [["__scopeId", "data-v-cafd6d4c"]]);
        var lv = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBmaWxsPSIjODg4IiBkPSJNOCAyLjRBNS42IDUuNiAwIDEgMCAxMy42IDhhLjkuOSAwIDEgMSAxLjggMEE3LjQgNy40IDAgMSAxIDggLjZhLjkuOSAwIDAgMSAwIDEuOCIvPjwvc3ZnPg=="
          , lm = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MCIgaGVpZ2h0PSI5MCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDkwIDkwIj48cGF0aCBzdHJva2U9IiNDQ0MiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNNzEgNzlhMjUuODggMjUuODggMCAwIDAtNi4zMy0xNi45OSA0LjQgNC40IDAgMCAxLS45NTYtMy44MTRjLjc3OC0zLjcyNi0yLjUzMi0xLjkyLTMuNTc1LTIuNTQ1LTEuMDQ0LS42MjQtMS4xMjQtMy40MTgtMy41NC0yLjQ0OS0uMjMyLjA5NC0uNDE2LjE5MS0uNTc0LjI5LTEuMTA2LjY4NC0yLjQyNi45MzQtMy42NzQuNTY2YTI2IDI2IDAgMCAwLTcuODgtMS4wNTNDMzAuNDkyIDUzLjI4MSAxOS40MTggNjQuODYgMTkgNzguNzU0TTQgODloODMiLz48cGF0aCBzdHJva2U9IiNDQ0MiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMjYgODlIMTF2LTIuMjA4QzExIDgyLjQ5IDE0LjM1NyA3OSAxOC41IDc5czcuNSAzLjQ4OSA3LjUgNy43OTJ6TTgyIDg5SDY3di0yLjIwOEM2NyA4Mi40OSA3MC4zNTggNzkgNzQuNSA3OXM3LjUgMy40ODkgNy41IDcuNzkyeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggc3Ryb2tlPSIjQ0NDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTYxIDU2czEuNjM0LTMuMTczIDQtNSIvPjxwYXRoIHN0cm9rZT0iI0NDQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik02OS42NzMgNTQuODVjLTMuNTYtLjY3LTYuMDc3LTMuMzg0LTUuNjItNi4wNjNzMy43MTMtNC4zMDYgNy4yNzMtMy42MzdjMy41Ni42NyA2LjA3NiAzLjM4NCA1LjYyIDYuMDYzcy0zLjcxMyA0LjMwNi03LjI3MyAzLjYzN1oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIHN0cm9rZT0iI0NDQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik03MS44NDYgNDUuMDM3Yy40NjgtMi4yOTItLjEzMS00LjQ1My0xLjc3Mi01LjQ3LTIuMzItMS40MzgtNS43OTgtLjA0Ni03Ljc2NiAzLjExMnMtMS42ODMgNi44ODMuNjM4IDguMzIxIi8+PHBhdGggZmlsbD0iI0NDQyIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMzUuNDY0IDg1YTIuMSAyLjEgMCAxIDEgLjAwMy00LjIgMi4xIDIuMSAwIDAgMS0uMDAzIDQuMk01NC42NDQgODVhMi4xIDIuMSAwIDEgMSAuMDAyLTQuMiAyLjEgMi4xIDAgMCAxLS4wMDIgNC4yIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBzdHJva2U9IiNFNkU2RTYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMzEgNzNjLjUxNS0xLjIzMyAxLjQ3NC0yIDIuNS0yczEuOTg1Ljc2NyAyLjUgMk01NCA3M2MuNTE1LTEuMjMzIDEuNDc0LTIgMi41LTJzMS45ODUuNzY3IDIuNSAyIi8+PC9zdmc+"
          , lf = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MCIgaGVpZ2h0PSI5MCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDkwIDkwIj48cGF0aCBzdHJva2U9IiNFNkU2RTYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNNjYuNzA1IDI0djQuNDE4TTc2LjAzNSAzMy4yaC00LjQxOE03NC4wNSAyNi4yMDlsLTMuMTI0IDMuMTI0Ii8+PHBhdGggc3Ryb2tlPSIjQ0NDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTIgODcuODU2aDY0LjVNNzYuMjQgODcuODU2aDEwIi8+PHBhdGggZmlsbD0iI0NDQyIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNzIuNTIgODcuODc4YTEuMTUgMS4xNSAwIDEgMS0yLjI5OCAwIDEuMTUgMS4xNSAwIDAgMSAyLjI5OSAwIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjRTZFNkU2IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Im04MS44NjcgNTIuNDE3LTE2LjAzMi0zLjg2YTQuMzYgNC4zNiAwIDAgMC0yLjY1Ny4yMDZsMi42MDMgMjQuODQyYTYuNTUgNi41NSAwIDAgMS0yLjE4NyA1LjYwNWwxMy4zNjMgMy4yMmE0LjQgNC40IDAgMCAwIDUuMzkzLTMuN2wyLjg0OS0yMS40NThhNC40IDQuNCAwIDAgMC0zLjMzMi00Ljg1NU02LjM3NCA1Mi40MTdsMTYuMDMyLTMuODZhNC4zNiA0LjM2IDAgMCAxIDIuNjU3LjIwNkwyMi40NiA3My42MDVhNi41NSA2LjU1IDAgMCAwIDIuMTg3IDUuNjA1bC0xMy4zNjMgMy4yMmE0LjQgNC40IDAgMCAxLTUuMzkzLTMuN0wzLjA0MiA1Ny4yNzJhNC40IDQuNCAwIDAgMSAzLjMzMi00Ljg1NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggc3Ryb2tlPSIjQ0NDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTU5LjcyMyA4MC44NTdIMjguMzg1Yy0zLjg5OCAwLTYuOTM3LTMuMzc1LTYuNTMyLTcuMjUxbDMuMzY3LTMyLjEzM2E2LjU2NiA2LjU2NiAwIDAgMSA2LjUzLTUuODgyaDI0LjYwN2E2LjU2NyA2LjU2NyAwIDAgMSA2LjUzIDUuODgybDMuMzY3IDMyLjEzM2MuNDA2IDMuODc2LTIuNjM0IDcuMjUtNi41MzEgNy4yNVoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIHN0cm9rZT0iI0NDQyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0zNS40MDIgNDMuMjE0djUuMDNjMCA0Ljc4MyAzLjc2MyA4Ljg3MiA4LjU0MyA4LjkybC4xMDguMDAyLjExLS4wMDFjNC43OC0uMDUgOC41NDMtNC4xMzggOC41NDMtOC45MnYtNS4wMyIvPjwvc3ZnPg=="
          , lp = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MCIgaGVpZ2h0PSI5MCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDkwIDkwIj48bWFzayBpZD0iYSIgd2lkdGg9IjIzIiBoZWlnaHQ9IjI5IiB4PSI4IiB5PSI1MiIgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSIgc3R5bGU9Im1hc2stdHlwZTphbHBoYSI+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMjcuMjE4IDY0LjM0YTE5LjQ3IDE5LjQ3IDAgMCAxLTIuNjItOS43ODVjMC0uMjA1LjAxMy0uNDA3LjAxOS0uNjExLS4wMjQtLjAxLS4wNS0uMDI2LS4wNzUtLjAzNi04LjQ3Mi0zLjM3MS0xNi41MjggMi43OC0xNi41MjggMTAuODEgMCAyLjE0NC41NzQgNC4xNTIgMS41NzUgNS44ODMgMS41NjUgMi43IDYuNzUgNy4xMjkgOS4wNTYgOS4wMjZhMS43NiAxLjc2IDAgMCAwIDIuMjQ1IDBjMi4zMDctMS44OTcgNy40OTUtNi4zMjcgOS4wNTgtOS4wMy4zMjUtLjU2MS41ODctMS4xNTguODE2LTEuNzczLTEuNTEyLTEuNjItMi43ODgtMy4xNzQtMy41NDYtNC40ODMiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSIjRTZFNkU2IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjAxNCA4NS4wM2gzMi43NVY0Ny45NjVIMy4wMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L2c+PG1hc2sgaWQ9ImIiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyOSIgeD0iNTciIHk9IjUyIiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBzdHlsZT0ibWFzay10eXBlOmFscGhhIj48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03OS4xOCA1OS44MTljLS45NDQtMi4zMTEtMy42NjctNC45ODgtNS45ODUtNS45MS0zLjQwMy0xLjM1NC02LjcyNy0xLjE1My05LjUuMDY4YTE5LjUgMTkuNSAwIDAgMS0yLjYwMiAxMC4zNThjLS43NzIgMS4zMzYtMi4wODMgMi45MjYtMy42MzYgNC41ODMuMjIzLjU4Mi40NzUgMS4xNDkuNzg1IDEuNjgzIDEuNTY0IDIuNyA2Ljc1IDcuMTI5IDkuMDU2IDkuMDI3LjY1NC41MzggMS41OS41MzggMi4yNDUgMCAyLjMwNi0xLjg5OCA3LjQ5NC02LjMyOCA5LjA1OC05LjAzMSAxLjczOS0zLjAwNSAyLjE4NS02Ljg1MS41NzktMTAuNzc4IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L21hc2s+PGcgbWFzaz0idXJsKCNiKSI+PHBhdGggZmlsbD0iI0U2RTZFNiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNTIuNDU3IDg1LjAzMWgzMi43MTdWNDcuOTc1SDUyLjQ1N3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvZz48cGF0aCBzdHJva2U9IiNDQ0MiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMiA4OGg2NC41TTc2IDg4aDEwIi8+PG1hc2sgaWQ9ImMiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiIHg9IjcwIiB5PSI4NyIgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSIgc3R5bGU9Im1hc2stdHlwZTphbHBoYSI+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNzIgODhhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L21hc2s+PGcgbWFzaz0idXJsKCNjKSI+PHBhdGggZmlsbD0iI0NDQyIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNjUgOTRoMTJWODJINjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L2c+PHBhdGggc3Ryb2tlPSIjQ0NDIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTUxLjk0IDUyLjY1N2E3Ljg0NSA3Ljg0NSAwIDEgMS0xNS42OSAwIDcuODQ1IDcuODQ1IDAgMCAxIDE1LjY5IDBaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBzdHJva2U9IiNDQ0MiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNNjEuOTk3IDQ2LjQwMWMyLjY3MiA2LjUzNCAxLjkzIDEyLjkzMy0uOTYzIDE3LjkzMy0yLjYwMyA0LjUtMTEuMjMzIDExLjg2OC0xNS4wNyAxNS4wMjRhMi45MyAyLjkzIDAgMCAxLTMuNzM3IDBDMzguMzkgNzYuMjAzIDI5Ljc2MyA2OC44MzYgMjcuMTYgNjQuMzRhMTkuNDYgMTkuNDYgMCAwIDEtMi42Mi05Ljc4NWMwLTEzLjM2MyAxMy40MDItMjMuNTk1IDI3LjUtMTcuOTg3IDMuODU2IDEuNTM0IDguMzg2IDUuOTkgOS45NTcgOS44MzNaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4="
          , lg = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNCIgaGVpZ2h0PSIzNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDM0IDM2Ij48cGF0aCBmaWxsPSIjM0E2NEZGIiBkPSJNMjEgMjQuNTk5YTMgMyAwIDAgMCAzLTNWMy43NzZMMCAyNC41OTl6Ii8+PC9zdmc+"
          , lh = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMSIgaGVpZ2h0PSI4IiBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgMTEgOCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTS45ODggNC40MDJhLjUyLjUyIDAgMCAxIC43NDIgMGwyLjA3NyAyLjA5NEw5LjI3LjkzM2EuNTIuNTIgMCAwIDEgLjc0My0uMDA0Yy4yMDYuMjA2LjIwNy41NDEuMDAzLjc0OWwtNS44MzMgNS45NGEuNTIzLjUyMyAwIDAgMS0uNzQ0LjAwM0wuOTg4IDUuMTVhLjUzMy41MzMgMCAwIDEgMC0uNzUiLz48L3N2Zz4="
          , ly = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE0IDE0Ij48cGF0aCBmaWxsPSIjNUI5MkUxIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDEyLjgzM0E1LjgzMyA1LjgzMyAwIDEgMCA3IDEuMTY2YTUuODMzIDUuODMzIDAgMCAwIDAgMTEuNjY3IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTAuMDYgNS41NTdhLjUyLjUyIDAgMCAwLS4wMTMtLjc0My41MzQuNTM0IDAgMCAwLS43NDkuMDEyTDYuMTM5IDguMDYgNC45OSA2LjkyYS41MzQuNTM0IDAgMCAwLS43NSAwIC41Mi41MiAwIDAgMCAwIC43NDNMNS43NyA5LjE3OWEuNTMzLjUzMyAwIDAgMCAuNzU2LS4wMDZ6Ii8+PC9zdmc+"
          , lN = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE0IDE0Ij48cGF0aCBmaWxsPSIjRkYyNDQyIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDEyLjgzM0E1LjgzMyA1LjgzMyAwIDEgMCA3IDEuMTY3YTUuODMzIDUuODMzIDAgMCAwIDAgMTEuNjY2IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTAuMDYgNS41NTdhLjUyLjUyIDAgMCAwLS4wMTMtLjc0My41MzQuNTM0IDAgMCAwLS43NDkuMDEzTDYuMTM5IDguMDYgNC45OSA2LjkyYS41MzQuNTM0IDAgMCAwLS43NSAwIC41Mi41MiAwIDAgMCAwIC43NDNMNS43NyA5LjE4YS41MzMuNTMzIDAgMCAwIC43NTYtLjAwN3oiLz48L3N2Zz4="
          , lk = v(22711)
          , lI = {
            class: "sign-item"
        }
          , lC = {
            class: "sign-tab"
        }
          , lb = ["onClick"]
          , lE = {
            key: 0,
            class: "tab-item-active"
        }
          , lA = {
            key: 0,
            class: "recommend"
        }
          , lw = {
            key: 1,
            class: "nohas-down"
        }
          , lx = {
            key: 0,
            class: "loading"
        }
          , lT = {
            class: "loading-font"
        }
          , lM = {
            key: 1,
            class: "nohas-list"
        }
          , lS = {
            key: 0,
            class: "loading-noimg",
            src: lm,
            alt: ""
        }
          , l_ = {
            key: 1,
            class: "loading-noimg",
            src: lf,
            alt: ""
        }
          , lV = {
            key: 2,
            class: "loading-noimg",
            src: lp,
            alt: ""
        }
          , lD = {
            class: "loading-nofont"
        }
          , lB = ["onClick"]
          , lL = {
            key: 0,
            class: "triangle",
            src: lg,
            alt: ""
        }
          , lP = {
            key: 1,
            class: "yes-active",
            src: lh,
            alt: ""
        }
          , lO = ["src"]
          , lR = {
            class: "sign-name"
        }
          , lU = {
            key: 0,
            class: "icon-box"
        }
          , lj = {
            key: 0,
            src: ly
        }
          , lF = {
            key: 1,
            src: lN
        }
          , lz = {
            class: "sign-note"
        }
          , lZ = ["onClick"]
          , lQ = {
            key: 0,
            class: "triangle",
            src: lg,
            alt: ""
        }
          , lJ = {
            key: 1,
            class: "yes-active",
            src: lh,
            alt: ""
        }
          , lH = {
            class: "sign-store"
        }
          , lG = ["src"]
          , lY = {
            class: "store-msg"
        }
          , lW = {
            class: "store-name"
        }
          , lq = {
            class: "store-price"
        }
          , lX = ["onClick"]
          , lK = {
            key: 0,
            class: "triangle",
            src: lg,
            alt: ""
        }
          , l$ = {
            key: 1,
            class: "yes-active",
            src: lh,
            alt: ""
        }
          , l0 = {
            class: "sign-address"
        }
          , l1 = {
            class: "address-name"
        }
          , l2 = {
            class: "address-subname"
        }
          , l4 = (0,
        ec.defineComponent)({
            __name: "Sign",
            emits: ["getSign"],
            setup: function(n, d) {
                var v, m, h = d.expose, y = d.emit, N = (0,
                ec.ref)(!1), k = (0,
                ec.ref)(!1), I = (0,
                ec.ref)(0), C = (0,
                ec.ref)(0), x = (0,
                ec.ref)(0), M = (0,
                ec.ref)(1), S = (0,
                ec.ref)(20), _ = (0,
                ec.ref)(-1), B = (0,
                ec.ref)(""), O = (0,
                ec.ref)(""), U = (0,
                ec.ref)(""), z = (0,
                ec.ref)([]), Z = (0,
                ec.ref)({
                    searchPlaceholder: iK.SEARCH_USER,
                    type: "user"
                }), Q = (0,
                ec.ref)({}), J = (0,
                ej.Jk)((0,
                eH.Z)()), H = (J.theme,
                J.themeColor), Y = (0,
                ec.computed)(function() {
                    return "user" === Z.value.type ? {
                        recommend: iK.RECOMMEND,
                        msg: iK.NOT_FOUND_USER
                    } : "location" === Z.value.type ? {
                        recommend: iK.RECOMMEND,
                        msg: iK.NOT_FOUND_LOCATION
                    } : {
                        recommend: iK.MY_GOODS,
                        msg: iK.NOT_FOUND_GOODS
                    }
                }), init = function() {
                    I.value = 0,
                    M.value = 1,
                    _.value = -1,
                    B.value = "",
                    O.value = "",
                    U.value = "",
                    z.value = [],
                    Z.value = {
                        searchPlaceholder: iK.SEARCH_USER,
                        type: "user"
                    },
                    Q.value = {}
                }, cancel = function() {
                    N.value = !1,
                    init()
                };
                var W = (v = (0,
                V._)(function() {
                    return (0,
                    R.Jh)(this, function(n) {
                        return [2, new Promise(function(n) {
                            try {
                                window.navigator.geolocation.getCurrentPosition(function(d) {
                                    var v = d.coords
                                      , m = v.latitude
                                      , h = v.longitude;
                                    C.value = m,
                                    x.value = h,
                                    n()
                                }, function(d) {
                                    console.error(d),
                                    n()
                                }, {
                                    timeout: 3e3
                                })
                            } catch (d) {
                                n()
                            }
                        }
                        )]
                    })
                }),
                function getPositionJurisdiction() {
                    return v.apply(this, arguments)
                }
                );
                W();
                var q = (m = (0,
                V._)(function() {
                    var n, d, v, m, h, y, N;
                    return (0,
                    R.Jh)(this, function(I) {
                        switch (I.label) {
                        case 0:
                            if (!(!x.value && !C.value))
                                return [3, 2];
                            return [4, W()];
                        case 1:
                            I.sent(),
                            I.label = 2;
                        case 2:
                            if (n = {
                                userGeo: {
                                    latitude: C.value,
                                    longitude: x.value
                                }
                            },
                            k.value = !0,
                            "user" !== Z.value.type)
                                return [3, 4];
                            return d = {
                                keyword: U.value,
                                page: {
                                    page: M.value,
                                    pageSize: S.value
                                },
                                type: Z.value.type,
                                geoInfo: JSON.stringify(n),
                                searchId: "",
                                sourceEnum: 2
                            },
                            [4, (0,
                            nq.nN)(d)];
                        case 3:
                            return v = I.sent(),
                            1 === M.value ? z.value = v.users || v.goods || [] : (m = v.users || v.goods || [],
                            z.value = (0,
                            ee._)(z.value).concat((0,
                            ee._)(m)) || []),
                            [3, 6];
                        case 4:
                            return h = {
                                keyword: U.value,
                                page: M.value,
                                size: S.value,
                                longitude: x.value,
                                latitude: C.value,
                                source: "WEB",
                                searchContext: O.value || void 0,
                                type: U.value ? nq.MW.Foreign : nq.MW.Nearby
                            },
                            [4, (0,
                            nq.vn)(h)];
                        case 5:
                            y = I.sent(),
                            1 === M.value ? z.value = y.poiList || [] : (N = y.poiList || [],
                            y.searchContext && (O.value = y.searchContext),
                            z.value = (0,
                            G.uniqBy)((0,
                            ee._)(z.value).concat((0,
                            ee._)(N)), "poiId") || []),
                            I.label = 6;
                        case 6:
                            return k.value = !1,
                            [2]
                        }
                    })
                }),
                function getSigns() {
                    return m.apply(this, arguments)
                }
                )
                  , changeTitle = function(n, d) {
                    I.value = n,
                    _.value = -1,
                    Z.value = d,
                    z.value = [],
                    k.value = !0,
                    M.value = 1,
                    q()
                }
                  , X = n1()(function() {
                    U.value = B.value,
                    k.value = !0,
                    M.value = 1,
                    q()
                }, 1e3)
                  , K = n1()(function(n) {
                    n.target.scrollTop + n.target.clientHeight >= n.target.scrollHeight - 200 && "" !== B.value && !k.value && (M.value += 1,
                    q())
                }, 1e3)
                  , getActiveSign = function(n, d) {
                    _.value = n,
                    Q.value = d
                }
                  , confirm = function() {
                    y("getSign", Q.value),
                    N.value = !1,
                    init()
                };
                return h({
                    open: function() {
                        N.value = !0,
                        q()
                    },
                    cancel: cancel
                }),
                function(n, d) {
                    var v = (0,
                    ec.resolveComponent)("el-button");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(ai.d0), {
                        width: 574,
                        title: (0,
                        ec.unref)(iK).CHOOSE_MARKER,
                        modelValue: N.value,
                        "onUpdate:modelValue": d[4] || (d[4] = function(n) {
                            return N.value = n
                        }
                        ),
                        "append-to-body": "",
                        onClose: cancel
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", lI, [(0,
                            ec.createElementVNode)("div", lC, [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)((0,
                            ec.unref)(i$), function(n, d) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    key: d,
                                    class: (0,
                                    ec.normalizeClass)(["tab-item", {
                                        "tab-item-font": I.value === d
                                    }]),
                                    onClick: function(v) {
                                        return changeTitle(d, n)
                                    }
                                }, [I.value === d ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", lE)) : (0,
                                ec.createCommentVNode)("", !0), (0,
                                ec.createTextVNode)(" " + (0,
                                ec.toDisplayString)(n.name), 1)], 10, lb)
                            }), 128))]), (0,
                            ec.createVNode)((0,
                            ec.unref)(lk.Z), {
                                modelValue: B.value,
                                "onUpdate:modelValue": [d[0] || (d[0] = function(n) {
                                    return B.value = n
                                }
                                ), (0,
                                ec.unref)(X)],
                                placeholder: Z.value.searchPlaceholder,
                                class: "search"
                            }, null, 8, ["modelValue", "placeholder", "onUpdate:modelValue"]), B.value ? (0,
                            ec.createCommentVNode)("", !0) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", lA, (0,
                            ec.toDisplayString)(Y.value.recommend), 1)), z.value && 0 !== z.value.length ? (0,
                            ec.createCommentVNode)("", !0) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("ul", lw, [k.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("span", lx, [d[5] || (d[5] = (0,
                            ec.createElementVNode)("img", {
                                class: "loadingImg",
                                src: lv
                            }, null, -1)), (0,
                            ec.createElementVNode)("span", lT, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(iK).LOADING), 1)])) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("span", lM, ["user" === Z.value.type ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("img", lS)) : (0,
                            ec.createCommentVNode)("", !0), "goods" === Z.value.type ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("img", l_)) : (0,
                            ec.createCommentVNode)("", !0), "location" === Z.value.type ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("img", lV)) : (0,
                            ec.createCommentVNode)("", !0), (0,
                            ec.createElementVNode)("div", lD, (0,
                            ec.toDisplayString)(Y.value.msg), 1)]))])), "user" === Z.value.type ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", {
                                key: 2,
                                class: "recommend-list",
                                onScroll: d[1] || (d[1] = function(n) {
                                    return (0,
                                    ec.unref)(K)(n)
                                }
                                )
                            }, [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(z.value, function(n, d) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    key: d,
                                    class: (0,
                                    ec.normalizeClass)(["sign-list", {
                                        "sign-list-active": _.value === d
                                    }]),
                                    onClick: function(v) {
                                        return getActiveSign(d, n)
                                    }
                                }, [_.value === d ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("img", lL)) : (0,
                                ec.createCommentVNode)("", !0), _.value === d ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("img", lP)) : (0,
                                ec.createCommentVNode)("", !0), (0,
                                ec.createElementVNode)("div", null, [(0,
                                ec.createElementVNode)("img", {
                                    class: "sign-image",
                                    src: null == n ? void 0 : n.userBaseDto.image,
                                    alt: ""
                                }, null, 8, lO)]), (0,
                                ec.createElementVNode)("div", null, [(0,
                                ec.createElementVNode)("span", lR, [(0,
                                ec.createTextVNode)((0,
                                ec.toDisplayString)(null == n ? void 0 : n.userBaseDto.userNickname) + " ", 1), (null == n ? void 0 : n.userBaseDto.showRedOfficialVerifyIcon) ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("span", lU, [(null == n ? void 0 : n.userBaseDto.redOfficialVerifyType) === 2 ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("img", lj)) : (0,
                                ec.createCommentVNode)("", !0), (null == n ? void 0 : n.userBaseDto.redOfficialVerifyType) === 1 ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("img", lF)) : (0,
                                ec.createCommentVNode)("", !0)])) : (0,
                                ec.createCommentVNode)("", !0)]), (0,
                                ec.createElementVNode)("span", lz, [(0,
                                ec.createElementVNode)("span", null, (0,
                                ec.toDisplayString)(n.desc), 1)])])], 10, lB)
                            }), 128))], 32)) : (0,
                            ec.createCommentVNode)("", !0), "goods" === Z.value.type ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", {
                                key: 3,
                                class: "recommend-list",
                                onScroll: d[2] || (d[2] = function(n) {
                                    return (0,
                                    ec.unref)(K)(n)
                                }
                                )
                            }, [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(z.value, function(n, v) {
                                var m, h;
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    key: v,
                                    class: (0,
                                    ec.normalizeClass)(["sign-list", {
                                        "sign-list-active": _.value === v,
                                        "sign-storelist": "goods" === Z.value.type
                                    }]),
                                    onClick: function(d) {
                                        return getActiveSign(v, n)
                                    }
                                }, [_.value === v ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("img", lQ)) : (0,
                                ec.createCommentVNode)("", !0), _.value === v ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("img", lJ)) : (0,
                                ec.createCommentVNode)("", !0), (0,
                                ec.createElementVNode)("div", lH, [(0,
                                ec.createElementVNode)("img", {
                                    class: "sign-store-image",
                                    src: n.image,
                                    alt: ""
                                }, null, 8, lG)]), (0,
                                ec.createElementVNode)("div", lY, [(0,
                                ec.createElementVNode)("span", lW, (0,
                                ec.toDisplayString)(null !== (m = null == n ? void 0 : n.subtitle) && void 0 !== m ? m : ""), 1), (0,
                                ec.createElementVNode)("span", lq, [d[6] || (d[6] = (0,
                                ec.createElementVNode)("em", {
                                    class: "money-info"
                                }, "\xa5", -1)), (0,
                                ec.createTextVNode)(" " + (0,
                                ec.toDisplayString)(null !== (h = null == n ? void 0 : n.price) && void 0 !== h ? h : 0), 1)])])], 10, lZ)
                            }), 128))], 32)) : (0,
                            ec.createCommentVNode)("", !0), "location" === Z.value.type ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", {
                                key: 4,
                                class: "recommend-list",
                                onScroll: d[3] || (d[3] = function(n) {
                                    return (0,
                                    ec.unref)(K)(n)
                                }
                                )
                            }, [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(z.value, function(n, d) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    key: d,
                                    class: (0,
                                    ec.normalizeClass)(["sign-list", {
                                        "sign-list-active": _.value === d,
                                        "sign-address-list": "location" === Z.value.type
                                    }]),
                                    onClick: function(v) {
                                        return getActiveSign(d, n)
                                    }
                                }, [_.value === d ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("img", lK)) : (0,
                                ec.createCommentVNode)("", !0), _.value === d ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("img", l$)) : (0,
                                ec.createCommentVNode)("", !0), (0,
                                ec.createElementVNode)("div", l0, [(0,
                                ec.createElementVNode)("span", l1, (0,
                                ec.toDisplayString)(n.name), 1), (0,
                                ec.createElementVNode)("span", l2, (0,
                                ec.toDisplayString)((null == n ? void 0 : n.fullAddress) || ""), 1)])], 10, lX)
                            }), 128))], 32)) : (0,
                            ec.createCommentVNode)("", !0)])]
                        }),
                        footer: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("button", {
                                class: "cancel-button",
                                onClick: cancel
                            }, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(iK).CANCEL), 1), (0,
                            ec.createVNode)(v, {
                                class: "confirm",
                                color: (0,
                                ec.unref)(H),
                                onClick: confirm
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(iK).CONFIRM), 1)]
                                }),
                                _: 1
                            }, 8, ["color"])]
                        }),
                        _: 1
                    }, 8, ["title", "modelValue"])
                }
            }
        });
        let l3 = (0,
        eN.default)(l4, [["__scopeId", "data-v-2cc1463c"]]);
        var l5 = {
            class: "marker-container"
        }
          , l8 = {
            class: "header"
        }
          , l6 = {
            class: "header-title"
        }
          , l9 = {
            class: "header-des"
        }
          , l7 = {
            ref: "contentVideo",
            class: "content-video"
        }
          , ce = ["src"]
          , ct = {
            class: "buttom-ui"
        }
          , cn = ["src"]
          , ca = {
            class: "user-name"
        }
          , co = ["src"]
          , cr = {
            class: "progress-container"
        }
          , ci = ["src"]
          , cl = {
            key: 0,
            class: "img-container"
        }
          , cc = ["src", "data-index"]
          , cu = {
            class: "time"
        }
          , cs = {
            key: 1,
            class: "exact-loading"
        }
          , cd = {
            class: "tips"
        }
          , cv = ["src"]
          , cm = {
            class: "btn-container"
        }
          , cf = {
            class: "submit-container"
        }
          , cp = {
            class: "creator-video-marker-modal-content"
        }
          , cg = (0,
        ec.defineComponent)({
            __name: "MarkerContent",
            props: {
                show: {
                    type: Boolean
                }
            },
            emits: ["close", "markerUploaded"],
            setup: function(n, d) {
                var v = this
                  , m = d.emit
                  , h = t3()
                  , y = (0,
                ej.Jk)((0,
                e$.Z)()).userInfo
                  , N = (0,
                ej.Jk)((0,
                eH.Z)())
                  , k = N.theme
                  , I = N.themeColor;
                (0,
                ec.computed)(function() {
                    var n;
                    return null === (n = y.value) || void 0 === n ? void 0 : n.id
                });
                var C = (0,
                ec.computed)(function() {
                    var n;
                    return null === (n = y.value) || void 0 === n ? void 0 : n.image
                })
                  , x = (0,
                ec.computed)(function() {
                    var n;
                    return null === (n = y.value) || void 0 === n ? void 0 : n.nickName
                })
                  , M = (0,
                ej.Jk)((0,
                eG.ZP)())
                  , S = M.videoUrl
                  , _ = M.video
                  , V = M.exacting
                  , R = M.coverImgList
                  , U = M.needTranscode
                  , z = M.transcodeVideoUrl
                  , Z = (0,
                ec.computed)(function() {
                    return U.value ? z.value : S.value
                })
                  , Q = (0,
                ec.computed)(function() {
                    return _.value.duration
                })
                  , J = (0,
                ec.ref)([])
                  , H = (0,
                ec.ref)("")
                  , G = (0,
                ec.ref)()
                  , Y = (0,
                ec.ref)()
                  , W = (0,
                ec.ref)()
                  , q = (0,
                ec.ref)()
                  , X = (0,
                ec.ref)()
                  , K = (0,
                ec.ref)(!1)
                  , $ = (0,
                ec.ref)(!1)
                  , et = (0,
                ec.ref)(!1)
                  , en = (0,
                ec.ref)(!1)
                  , ea = (0,
                ec.ref)(!1)
                  , eo = (0,
                ec.ref)(!1)
                  , er = (0,
                ec.ref)(0)
                  , ei = (0,
                ec.ref)(0)
                  , el = (0,
                ec.ref)(0)
                  , eu = (0,
                ec.ref)(-1)
                  , es = (0,
                ec.ref)({})
                  , ed = (0,
                ec.ref)([[0, 0], [0, 0]])
                  , ev = ""
                  , em = ""
                  , ef = null
                  , ep = null
                  , eg = null
                  , eh = !1
                  , ey = 0
                  , eN = 0
                  , ek = 0
                  , eI = null;
                (0,
                ec.onMounted)(function() {
                    J.value = _.value.videoMarks
                });
                var eC = (0,
                ec.computed)(function() {
                    return (0,
                    ap.CX)(er.value)
                })
                  , eb = (0,
                ec.computed)(function() {
                    return $.value ? "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADbSURBVHgB7dixDcIwEAXQs1mAknQZASWLMAIbhBXYADoo2YYmEiOEyjUTmO9I7oyErciX4j8pusSRzv5ydyJERESkx0iBvu8H7/3JGNOivlAv4zg+avcINpKp67ojNrvh2YZv1B3KoWmaj3PuWatHZCXfkFrEIQb53xI9ZtkBsMn+x69WKvaISm5gVRhAGwNoYwBtDKCNAbQxgDYG0MYA2hhAGwNoKwkwpRbDcErq9phlB8Am19R6mKxJxR5R9mQuTM4wQXvjtQ0TNRxmstaeMRa81+xBREREa/AFjT1SXm36hWcAAAAASUVORK5CYII=" : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFaSURBVHgB7ZnhTcMwEIUfiAG6Ad4AsQFswAaYDWCClA1gAlZgA7IBbNBuAEzQ3imp1B+tY7t2/CrdJz1VlR3pnnzPSRzAMAzDOIELpHMnehDdjP/Xotfxl55OtDmiD5EDMaHi99WBkAXiit9pJXoEEdrzmwypEYeKXEbOWyAPh8FE83x45K0ATT48yhholg+PcgaK5iM2AzVwmDEfHuVXYNZ8eKC6gar58MAsBpLz0TIDIRwGE89TE1kN7OgwcRNlN6DFB1eB3YByHRo8BwP/ocFzMPAZGmQ38C7qQxOYDeh79uQ2egU+etETIg8JmFbgR3Q/ah17EYOBP9GL6BYT/X6I1i2kff6GwUQWrQz0SOjzEHO3UFafl8DjtMfjX0RsiTXxyC9+ifxjmWI4pBf+BbKzUi0opvBvDCfYdGgbrEDc5zGoCd23941o4UsQ9HkqDuTfAwzDMIxJtsT+FLG/yAmOAAAAAElFTkSuQmCC"
                })
                  , disableAllMarkers = function() {
                    J.value.length && (J.value = J.value.map(function(n) {
                        return (0,
                        O._)((0,
                        B._)({}, n), {
                            active: !1
                        })
                    }),
                    H.value = i9.getTip("null"),
                    G.value = i7,
                    eI = null)
                }
                  , clickPlayOrPause = function() {
                    var n, d;
                    Y.value.paused ? (null === (n = Y.value) || void 0 === n || n.play().catch(function() {}),
                    $.value = !0) : (null === (d = Y.value) || void 0 === d || d.pause(),
                    $.value = !1)
                }
                  , updateTipsText = function() {
                    if (!J.value) {
                        H.value = i9.getTip(),
                        G.value = i7;
                        return
                    }
                    eI && (er.value >= eI.startTime - .1 || er.value <= eI.endTime + .1) ? H.value = i9.getTip("select", {
                        time: eI.endTime - eI.startTime
                    }) : H.value = i9.getTip("null"),
                    G.value = i7,
                    eI && eI.endTime - eI.startTime < 5 && (H.value = i9.getTip("limit"),
                    G.value = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE0IDE1Ij48cGF0aCBmaWxsPSIjRkY1MjVEIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0wIDcuNWE3IDcgMCAxIDAgMTQgMCA3IDcgMCAwIDAtMTQgMG04Ljg3LTIuODA2TDcgNi41NjRsLTEuODctMS44N2EuNjYxLjY2MSAwIDAgMC0uOTM2LjkzNUw2LjA2NCA3LjVsLTEuODcgMS44N2EuNjYxLjY2MSAwIDAgMCAuOTM1LjkzNkw3IDguNDM2bDEuODcgMS44N2EuNjYxLjY2MSAwIDAgMCAuOTM2LS45MzVMNy45MzYgNy41bDEuODctMS44N2EuNjYxLjY2MSAwIDEgMC0uOTM1LS45MzYiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==")
                }
                  , activeMarkByKey = function(n, d) {
                    if (ev = n,
                    em = d,
                    eI = J.value.find(function(d) {
                        return d.key === n
                    })) {
                        updateTipsText();
                        var v = Y.value.currentTime;
                        (v < eI.startTime - .1 || v > eI.endTime) && (Y.value.currentTime = eI.startTime),
                        J.value.length > 1 ? J.value = J.value.sort(function(d, v) {
                            return d.active = d.key === n,
                            v.active = v.key === n,
                            -(v.key === n)
                        }) : J.value = J.value.map(function(n) {
                            return (0,
                            O._)((0,
                            B._)({}, n), {
                                active: !0
                            })
                        })
                    }
                }
                  , handleVideoMouseDown = function(n) {
                    disableAllMarkers();
                    var d, v = null === (d = n.target.dataset) || void 0 === d ? void 0 : d.key;
                    if (v) {
                        activeMarkByKey(v, "mark");
                        var m = (0,
                        rG._)(J.value.filter(function(n) {
                            return n.key === ev
                        }), 1)[0];
                        ef = [n.clientX, n.clientY],
                        ep = m.config.unit_center,
                        eg = m.config.anchor_center
                    }
                }
                  , setPressedMarkCoordinate = function(n, d, v) {
                    var m = (0,
                    rG._)(utils_parseMarkerCoordinate(n.config.container_size), 2)
                      , h = m[0]
                      , y = m[1]
                      , N = utils_parseMarkerCoordinate(ep)
                      , k = utils_parseMarkerCoordinate(eg)
                      , I = (0,
                    rG._)(k, 1)[0]
                      , C = (0,
                    rG._)(ed.value, 2)
                      , x = (0,
                    rG._)(C[0], 2)[1]
                      , M = (0,
                    rG._)(C[1], 2)[1]
                      , S = (0,
                    rG._)(N, 2)
                      , _ = S[0]
                      , V = S[1]
                      , B = M - x;
                    B < h && (V = (x + V * B) / h);
                    var O = d / y
                      , R = _ + O
                      , U = V + v / h
                      , z = 0;
                    .01 > Math.abs(R - .5) ? (z = .5 - R,
                    R = .5,
                    K.value = !0) : K.value = !1,
                    .01 > Math.abs(U - .5) ? (U = .5,
                    en.value = !0) : en.value = !1;
                    var Z = I + O + z
                      , Q = n.markerBounding.width / y / 2;
                    R <= Q && (R = Q),
                    R >= 1 - Q && (R = 1 - Q);
                    var J = Y.value
                      , H = J.videoWidth
                      , G = J.videoHeight
                      , W = utils_normalDeviceCoordinate()
                      , q = W.width
                      , X = W.height
                      , $ = (X - G * q / H) / 2
                      , ee = 0
                      , et = 0;
                    H / G > q / X && (ee = ($ - 16.5) / X,
                    et = ($ + 16.5) / X);
                    var eo = n.markerBounding.height / 2 / X
                      , er = Math.min(1 - 161 / X, 1 - et) - eo
                      , ei = Math.max(36 / X, ee) + eo;
                    U < ei && (U = ei),
                    U > er && (U = er),
                    ea.value = U === 1 - 161 / X - eo,
                    U = (X * U - x) / (M - x),
                    n.config.unit_center = "{".concat(R, ",").concat(U, "}"),
                    n.config.anchor_center = "{".concat(Z, ",").concat(U, "}")
                }
                  , handleVideoMouseMove = function(n) {
                    if ("mark" === em) {
                        var d = (0,
                        rG._)(J.value.filter(function(n) {
                            return n.key === ev
                        }), 1)[0]
                          , v = (0,
                        rG._)(ef, 2)
                          , m = v[0]
                          , h = v[1];
                        setPressedMarkCoordinate(d, n.clientX - m, n.clientY - h)
                    }
                }
                  , showCurrentMarker = function() {
                    J.value = J.value.map(function(n) {
                        return n.visibility = !(n.startTime.toFixed(2) - .1 > er.value || n.endTime.toFixed(2) < er.value),
                        n
                    })
                }
                  , handleVideoMouseUp = function() {
                    showCurrentMarker(),
                    em = "",
                    K.value = !1,
                    en.value = !1
                }
                  , setVideoStyle = function() {
                    var n = utils_normalDeviceCoordinate()
                      , d = n.width
                      , v = n.height
                      , m = {};
                    if (Y.value.videoWidth / Y.value.videoHeight <= d / v)
                        m.transform = "scale(".concat(d / (v * Y.value.videoWidth / el.value), ")"),
                        ed.value = [[0, 0], [d, v]];
                    else {
                        m.transform = "translateY(-16.5px)";
                        var h = d * Y.value.videoHeight / Y.value.videoWidth
                          , y = v / 2 - 16.5 - h / 2;
                        ed.value = [[0, y], [d, y + h]]
                    }
                    m.width = "100%",
                    es.value = m
                };
                (0,
                ec.onMounted)(function() {
                    setVideoStyle()
                }),
                (0,
                ec.onBeforeUnmount)(function() {
                    J.value = J.value.map(function(n) {
                        return n.visibility = !1,
                        n
                    })
                });
                var videoCanplay = function() {
                    et.value = !0,
                    Y.value.duration >= 5 && setTimeout(function() {
                        var n, d, v, m = ((null === (n = document.getElementById("publish-container")) || void 0 === n ? void 0 : n.offsetWidth) || 1024) - 100, h = null === (d = Y.value) || void 0 === d ? void 0 : d.videoWidth, y = null === (v = Y.value) || void 0 === v ? void 0 : v.videoHeight;
                        ei.value = h,
                        el.value = y,
                        ey = m - 12,
                        W.value && (W.value.width = h,
                        W.value.height = y),
                        setVideoStyle()
                    }, 300)
                }
                  , handleMousedown = function(n) {
                    if (!V.value) {
                        var d, v, m, h = n.target, y = null === (d = h.dataset) || void 0 === d ? void 0 : d.key, N = null === (v = h.dataset) || void 0 === v ? void 0 : v.type, k = n.currentTarget.getBoundingClientRect().left, I = n.clientX - k + -1 - 6;
                        ek = n.clientX,
                        eN = I,
                        y ? activeMarkByKey(y, N) : (eh = !0,
                        disableAllMarkers(),
                        I >= -9 && I <= ey && (eu.value = I,
                        I === ey - -1 ? Y.value.currentTime = Q.value * I / (ey - -1) - .1 : Y.value.currentTime = Q.value * I / (ey - -1),
                        er.value = null === (m = Y.value) || void 0 === m ? void 0 : m.currentTime))
                    }
                }
                  , videoMarksDynamicClamp = function(n) {
                    return "left" === em ? Math.min(Math.max(0, n), eI.endTime - 5) : "right" === em ? Math.min(Math.max(eI.startTime + 5, n), Q.value) : n
                }
                  , eE = ar()(function(n) {
                    if (eh) {
                        var d, v = n.clientX - ek, m = eN + v;
                        m >= -1 && m <= ey && (eu.value = m,
                        m === ey - -1 ? Y.value.currentTime = Q.value * m / (ey - -1) - .1 : Y.value.currentTime = Q.value * m / (ey - -1),
                        er.value = null === (d = Y.value) || void 0 === d ? void 0 : d.currentTime)
                    }
                    if (em) {
                        eI = J.value.find(function(n) {
                            return n.key === ev
                        });
                        var h = n.clientX - ek;
                        if ("left" === em) {
                            var y = (eN + h) / ey * Q.value;
                            eI.startTime = videoMarksDynamicClamp(y)
                        }
                        if ("right" === em) {
                            var N = (eN + h) / ey * Q.value;
                            eI.endTime = videoMarksDynamicClamp(N)
                        }
                    }
                    updateTipsText()
                }, 16)
                  , handleMouseup = function() {
                    showCurrentMarker(),
                    eh = !1,
                    em = "",
                    ev = ""
                }
                  , addMarker = function() {
                    var n;
                    null === (n = Y.value) || void 0 === n || n.pause(),
                    $.value = !1,
                    X.value.open()
                }
                  , cancel = function() {
                    h.getMarkerFromLs() === JSON.stringify(J.value) ? (m("close"),
                    h.removeMarkerInLs()) : eo.value = !0
                }
                  , save = function() {
                    m("close"),
                    J.value && (_.value.videoMarks = J.value),
                    h.removeMarkerInLs()
                }
                  , closeMark = function(n) {
                    J.value && (J.value = J.value.filter(function(d) {
                        return d.key !== n
                    }) || [])
                }
                  , inCancel = function() {
                    eo.value = !1
                }
                  , inConfirm = function() {
                    eo.value = !1;
                    try {
                        J.value = JSON.parse(h.getMarkerFromLs() || "[]") || [],
                        m("close"),
                        h.removeMarkerInLs()
                    } catch (n) {}
                }
                  , pointerUpdate = function() {
                    var n, d = (null === (n = Y.value) || void 0 === n ? void 0 : n.currentTime) / Q.value * (ey - -1);
                    q.value && (eu.value = d,
                    er.value = Y.value.currentTime,
                    showCurrentMarker())
                }
                  , injectMarker = function(n) {
                    var d = Y.value.duration
                      , v = er.value;
                    if (!(d < 5)) {
                        d - er.value < 5 && (v = d - 5);
                        var m = utils_normalDeviceCoordinate()
                          , h = m.width
                          , y = m.height;
                        n.config.container_size = "{".concat(y, ", ").concat(h, "}"),
                        n.config.unit_center = "{0.5, 0.5}",
                        n.config.anchor_center = null,
                        n.config.markY = .5,
                        n.startTime = v,
                        n.endTime = v + 5,
                        n.key = Date.now().toString(),
                        n.active = !0,
                        J.value.push(n)
                    }
                }
                  , getSign = function(n) {
                    n.type && (J.value.length >= 50 ? nY.A.error("最多支持50个标记哦") : injectMarker(utils_videoMarkGenerator(n)))
                }
                  , setMarkerSizeInfo = function(n, d) {
                    J.value.some(function(v) {
                        return v.key === n && (!v.markerBounding && (v.markerBounding = d),
                        !0)
                    })
                }
                  , generateAnchor = function(n, d) {
                    var v = (0,
                    rG._)(utils_parseMarkerCoordinate(n.config.unit_center), 2)
                      , m = v[0]
                      , h = v[1]
                      , y = (0,
                    rG._)(utils_parseMarkerCoordinate(n.config.container_size), 2)[1]
                      , N = (y * m + utils_getDistanceBetweenUnitAndAnchor(d, n.config.style)) / y;
                    n.config.anchor_center = "{".concat(N, ", ").concat(h, "}")
                }
                  , bounding = function(n, d) {
                    setMarkerSizeInfo(n, d),
                    J.value.some(function(d) {
                        return d.key === n && (generateAnchor(d, d.markerBounding.width),
                        !0)
                    })
                }
                  , reverseMark = function(n, d) {
                    for (var v = 0; v < J.value.length; v++) {
                        var m = J.value[v];
                        if (console.log("[seven] item info:", m),
                        m.key === n) {
                            m.config.style ? m.config.style = 0 : m.config.style = 1,
                            generateAnchor(m, d);
                            return
                        }
                    }
                }
                  , bodyMouseUp = function() {
                    handleVideoMouseUp(),
                    handleMouseup()
                };
                return (0,
                ec.onMounted)(function() {
                    Y.value.addEventListener("timeupdate", pointerUpdate),
                    document.body.addEventListener("mousedown", disableAllMarkers),
                    document.body.addEventListener("mouseup", bodyMouseUp)
                }),
                (0,
                ec.onBeforeUnmount)(function() {
                    Y.value.removeEventListener("timeupdate", pointerUpdate),
                    document.body.removeEventListener("mousedown", disableAllMarkers),
                    document.body.removeEventListener("mouseup", bodyMouseUp)
                }),
                (0,
                ec.watch)(Z, function(n, d) {
                    n !== d && d && (J.value = [],
                    m("markerUploaded", []))
                }, {
                    deep: !0
                }),
                function(n, d) {
                    var m, h, y = (0,
                    ec.resolveComponent)("el-button");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", l5, [(0,
                    ec.createElementVNode)("div", l8, [d[4] || (d[4] = (0,
                    ec.createElementVNode)("span", {
                        class: "header-icon"
                    }, null, -1)), (0,
                    ec.createElementVNode)("span", l6, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(iK).PUBLISH_VIDEO), 1), (0,
                    ec.createElementVNode)("span", l9, "\xa0 >" + (0,
                    ec.toDisplayString)((0,
                    ec.unref)(iK).ADD_MARKER), 1)]), (0,
                    ec.createElementVNode)("div", l7, [(0,
                    ec.createElementVNode)("div", {
                        class: "marker-wrapper",
                        style: (0,
                        ec.normalizeStyle)({
                            width: "".concat((0,
                            ec.unref)(utils_normalDeviceCoordinate)().width, "px"),
                            height: "".concat((0,
                            ec.unref)(utils_normalDeviceCoordinate)().height, "px")
                        }),
                        onMousedown: (0,
                        ec.withModifiers)(handleVideoMouseDown, ["stop"]),
                        onMousemove: handleVideoMouseMove,
                        onMouseup: handleVideoMouseUp
                    }, [(0,
                    ec.createElementVNode)("div", {
                        class: "horizontal-line",
                        style: (0,
                        ec.normalizeStyle)({
                            display: en.value ? "block" : "none"
                        })
                    }, null, 4), (0,
                    ec.createElementVNode)("div", {
                        class: "vertical-line",
                        style: (0,
                        ec.normalizeStyle)({
                            display: K.value ? "block" : "none"
                        })
                    }, null, 4), (0,
                    ec.createElementVNode)("div", {
                        class: "safe-line-bottom",
                        style: (0,
                        ec.normalizeStyle)({
                            display: ea.value ? "block" : "none"
                        })
                    }, null, 4), d[5] || (d[5] = (0,
                    ec.createElementVNode)("div", {
                        class: "bottom-safe-area-line"
                    }, null, -1)), ((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(J.value, function(n) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createBlock)(ld, {
                            id: n.key,
                            key: n.key,
                            marker: n,
                            style: (0,
                            ec.normalizeStyle)({
                                visibility: n.visibility ? "visible" : "hidden"
                            }),
                            "video-bounding": ed.value,
                            onBounding: bounding,
                            onReverse: reverseMark,
                            onClose: closeMark
                        }, null, 8, ["id", "marker", "style", "video-bounding"])
                    }), 128)), (0,
                    ec.createElementVNode)("video", {
                        ref_key: "videoRef",
                        ref: Y,
                        class: "marker-video video",
                        src: Z.value,
                        style: (0,
                        ec.normalizeStyle)(es.value),
                        onCanplay: videoCanplay,
                        onEnded: d[0] || (d[0] = function() {
                            for (var d = arguments.length, v = Array(d), h = 0; h < d; h++)
                                v[h] = arguments[h];
                            return n.onended && (m = n).onended.apply(m, (0,
                            ee._)(v))
                        }
                        ),
                        onLoadedmetadata: d[1] || (d[1] = function() {
                            for (var d = arguments.length, v = Array(d), m = 0; m < d; m++)
                                v[m] = arguments[m];
                            return n.onload && (h = n).onload.apply(h, (0,
                            ee._)(v))
                        }
                        )
                    }, null, 44, ce)], 36), (0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", ct, [(0,
                    ec.createElementVNode)("img", {
                        src: C.value,
                        class: "avatar"
                    }, null, 8, cn), (0,
                    ec.createElementVNode)("span", ca, (0,
                    ec.toDisplayString)(x.value), 1), (0,
                    ec.createElementVNode)("img", {
                        src: (0,
                        ec.unref)(rv),
                        class: "full-screen-icon"
                    }, null, 8, co)], 512), [[ec.vShow, ea.value]]), (0,
                    ec.createElementVNode)("canvas", {
                        id: "marker-canvas",
                        ref_key: "canvasRef",
                        ref: W,
                        style: {
                            display: "none"
                        }
                    }, null, 512)], 512), (0,
                    ec.createElementVNode)("div", cr, [(0,
                    ec.createElementVNode)("img", {
                        class: "pause",
                        src: eb.value,
                        onClick: clickPlayOrPause
                    }, null, 8, ci), (0,
                    ec.createElementVNode)("div", {
                        ref: "list",
                        class: "list",
                        onMousedown: (0,
                        ec.withModifiers)(handleMousedown, ["stop"]),
                        onMousemove: d[2] || (d[2] = function() {
                            for (var n = arguments.length, d = Array(n), m = 0; m < n; m++)
                                d[m] = arguments[m];
                            return (0,
                            ec.unref)(eE) && (0,
                            ec.unref)(eE).apply(v, (0,
                            ee._)(d))
                        }
                        ),
                        onMouseup: handleMouseup
                    }, [(0,
                    ec.unref)(R).length ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("ul", cl, [((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)((0,
                    ec.unref)(R), function(n, d) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("li", {
                            key: d,
                            class: "item"
                        }, [n ? ((0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("img", {
                            key: 0,
                            src: n,
                            "data-index": d,
                            draggable: "false",
                            alt: ""
                        }, null, 8, cc)) : (0,
                        ec.createCommentVNode)("", !0)])
                    }), 128)), (0,
                    ec.createElementVNode)("li", {
                        ref_key: "pointRef",
                        ref: q,
                        style: (0,
                        ec.normalizeStyle)({
                            left: eu.value + "px"
                        }),
                        class: "point"
                    }, [d[6] || (d[6] = (0,
                    ec.createElementVNode)("span", {
                        class: "span1"
                    }, null, -1)), d[7] || (d[7] = (0,
                    ec.createElementVNode)("span", {
                        class: "span2"
                    }, null, -1)), (0,
                    ec.createElementVNode)("div", cu, (0,
                    ec.toDisplayString)(eC.value), 1)], 4)])) : (0,
                    ec.createCommentVNode)("", !0), ((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(J.value, function(n) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createBlock)(lo, {
                            id: n.key,
                            key: n.key,
                            "start-time": n.startTime,
                            "end-time": n.endTime,
                            duration: Q.value,
                            active: n.active
                        }, null, 8, ["id", "start-time", "end-time", "duration", "active"])
                    }), 128)), (0,
                    ec.unref)(V) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", cs, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(iK).VIDEO_EXACTING), 1)) : (0,
                    ec.createCommentVNode)("", !0)], 544)]), (0,
                    ec.createElementVNode)("div", cd, [(0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("img", {
                        src: G.value
                    }, null, 8, cv), [[ec.vShow, H.value]]), (0,
                    ec.createElementVNode)("span", null, (0,
                    ec.toDisplayString)(H.value), 1)]), (0,
                    ec.createElementVNode)("div", cm, [(0,
                    ec.createVNode)(y, {
                        color: (0,
                        ec.unref)(I),
                        class: (0,
                        ec.normalizeClass)(["add-marker", [(0,
                        ec.unref)(k), J.value.length >= 50 ? "grey" : ""]]),
                        icon: (0,
                        ec.unref)(aa.v37),
                        onClick: addMarker
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createTextVNode)((0,
                            ec.toDisplayString)((0,
                            ec.unref)(iK).ADD_MARKER), 1)]
                        }),
                        _: 1
                    }, 8, ["color", "class", "icon"]), (0,
                    ec.createElementVNode)("div", cf, [(0,
                    ec.createElementVNode)("button", {
                        class: "creator-video-marker-modal-cancel",
                        onClick: cancel
                    }, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(iK).CANCEL), 1), (0,
                    ec.createVNode)(y, {
                        color: (0,
                        ec.unref)(I),
                        class: "save-btn confirm",
                        onClick: save
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createTextVNode)((0,
                            ec.toDisplayString)((0,
                            ec.unref)(iK).CONFIRM), 1)]
                        }),
                        _: 1
                    }, 8, ["color"])])]), (0,
                    ec.createVNode)(l3, {
                        ref_key: "signRef",
                        ref: X,
                        onGetSign: getSign
                    }, null, 512), (0,
                    ec.createVNode)((0,
                    ec.unref)(ai.d0), {
                        modelValue: eo.value,
                        "onUpdate:modelValue": d[3] || (d[3] = function(n) {
                            return eo.value = n
                        }
                        ),
                        title: (0,
                        ec.unref)(iK).EXIT_PAGE,
                        "append-to-body": "",
                        width: 350,
                        onClose: inCancel
                    }, {
                        footer: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(y, {
                                color: (0,
                                ec.unref)(I),
                                class: "confirm",
                                onClick: inConfirm
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(iK).CONFIRM), 1)]
                                }),
                                _: 1
                            }, 8, ["color"]), (0,
                            ec.createElementVNode)("button", {
                                class: "creator-video-marker-modal-cancel",
                                onClick: inCancel
                            }, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(iK).CANCEL), 1)]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", cp, [d[8] || (d[8] = (0,
                            ec.createElementVNode)("img", {
                                src: an
                            }, null, -1)), (0,
                            ec.createElementVNode)("span", null, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(iK).EXIT_DONT_SAVE), 1)])]
                        }),
                        _: 1
                    }, 8, ["modelValue", "title"])])
                }
            }
        });
        let ch = (0,
        eN.default)(cg, [["__scopeId", "data-v-d922cde2"]]);
        v(85945);
        var cy = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACmElEQVR4Xs1XsUoDQRBNYSEoaCFY2IiChYWKYDR3OVhQ/AP7QC4XtbKwt7Ow0T9Q8APsbP2EfIKlZT5hnLe5O3cnm+Q2lzN5MHAku7Nv3szO7tZqnlDXtN2I6S7s0GvQpu8gpj4bpdYPY+oFHfrAGIyV82cGXqTFi30ZixeylGBL+psazZgUO4QSQ4t5GXyUIabuaJ2jex5yXNLChJ5Vi9blemNxxrnnGulJZ7lTTh1qhCM+AvFsHr6hqK6xcelltVRCG+aaIwEyo1KEQvYpVPhicm/STxrUEyu1LOdYQIROMoP8H8nxReEKkoN7jBI6Vg+0JMfncNVMo01vZlqmBeomSOg9bNMP2yevFcH4t105VgM7QJJBP5HjyqLZob2MTGYXCa3JcSBkpwqFNwNlJJCiqE11kxCvdWINcqnjU7y+uLynFanSaUyb+YAQ3dQgg91kzK8EMnVRTAf6D70D/lGdDNjyUiXdBnSDM9XhhiYnVwWoYhJqXNMW6ufDJASCcmJVAAGTENI4VD9o/XJiVZDFrXdbYN9nyPvgKwHFLcAi1KUGCFkFLSdVDZMQbCEJLVjKBvfiP5VKnOq+QPAmIZz+6EPWfWWe2z7q0v7iNcaFOzoAqGKpNI/DFfWTwXX9qLK4XepY1w/AeUGroAWoIhc0QD8IhUpVpA47aaI6GbgnvUhSuA0gKjnWF/Ah6wbWvKEdOTZH2qiGHohhkTfUGOBUl2nKUjUx2FFvKB0NR+hDDGNdquRkivoSpHrNhK5MZ2hoaGJQ1IwQ3+qWVvGfbHrWfDwQi5LJAOf1Lh1KZ2UNNTMxTeNwzjvAlX9fQ4qcD8JpoYmx1HKhSYbUjdzWswByr2uE+wkI4g6Tq8DfUBOFnNaYX50wfgHzjC1z9prx9gAAAABJRU5ErkJggg=="
          , cN = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAACS0lEQVR4Xu1YQU7DMBDsUyrRSD0iPkBIisQJce6pRzjRD1TNT8pP+hQOReIYIR5gsnaMwnq9WTtxC6gjjVo13vXIGe/anUzOOCMd1DyfqtkiV1mxUhflg/l+e4nHnQxGYLFVs3LffNYNlZ96zFrN76Y4T3LolTMCCGESQuwix3lHB6zOMKGIWblLtuJmVfteewSz4hX8jucbhGYlnp2JxucWzxsFSEQkT8U1nj8IpjQ5SRMzcjPqDQb+chImZx21EfUOdpMdieUe62HRVgQi0TEZYA1xrb26V+px4/5O0Y7Nl+4zksJVNs0BBxOEiT8+lcbbOy8EnsEYAMSAeDyGYtP6sT4HCvo9DqT4tDECLHyiu2ItpG9lVlRYn4MgOxyQECyaEgsxOJeXAlu4QQyvl37RPrEQg/P4WWN9PwBnVyKIp0/0cLGGnI+jyxkluotYsZpMeRvUin2iB4kt4DS3wjq/oa82OEBKyrMAvBFDyR09oy3hE2sxSDRnCXNHI4IYUmLBBtgesaKznL/EqpBbhU8seJbydIRorM+BuHEAfWLtc59oaWsWNo7KDSSIWzMWa0mJlrfm/huI2MewSvbw4xNr2RUNMdzYLrmm0YXYFjAxrLT0FYeMldjBIrq8jUqmnFEQr3IKZsUO6+lF62V5iRuLcPGVehfjJNbgWrEESnoDGYcVnj8KkIhIPjb7a24I9NEzzR8rdXBFkEJvxOzmhZg0kk0lit1gIfgzf2hjtKVvLRBft2Oqo6yoFHB21atv/L7S33+TwDP+I74AzsbuKy83z1sAAAAASUVORK5CYII="
          , ck = v(40735);
        function checkImageUpload(n) {
            return -1 === n.type.indexOf("image/") ? "上传失败，支持jpg、png等常见图片格式" : ""
        }
        function getSpeed(n, d, v) {
            var m = d / 100;
            if (0 === m || !d || !v || !n)
                return "0KB/s";
            var h = Date.now() - v
              , y = Math.trunc(n / 1024 * m / (h / 1e3));
            if (y > 1024) {
                var N = (y / 1024).toFixed(2);
                return "".concat(N, "MB/s")
            }
            return "".concat(y, "KB/s")
        }
        function getRemainTime(n, d) {
            if (!n || !d)
                return "0s";
            var v = n / 100
              , m = Date.now() - d
              , h = Math.trunc(m / 1e3 / v * (1 - v));
            return h > 3600 ? "".concat(Math.trunc(h / 3600), "h") : h > 60 ? "".concat(Math.trunc(h / 60), "min") : "".concat(Math.max(Math.trunc(h), 1), "s")
        }
        function formatFileSize(n) {
            if (!n)
                return "0B";
            for (var d = ["B", "KB", "MB", "GB", "TB"], v = 0; n >= 1024 && v < d.length - 1; )
                n /= 1024,
                v += 1;
            return "".concat(n.toFixed(2), " ").concat(d[v])
        }
        function formatVideoLength(n) {
            if (!n)
                return "0s";
            var d = Math.floor(n / 3600)
              , v = Math.floor(n % 3600 / 60)
              , m = d || v ? Math.floor(n % 60) : (n % 60).toFixed(2)
              , h = "";
            return d > 0 && (h += "".concat(d, "h ")),
            (v > 0 || d > 0) && (h += "".concat(v, "min ")),
            0 !== m && (h += "".concat(m, "s")),
            h.trim()
        }
        var cI = {
            EDIT: "编辑",
            CHANGE: "修改",
            REMOVE: "删除",
            CANCEL: "取消",
            CONFIRM: "确定",
            DEFAULT_COVER: "默认封面",
            NOT_SUPPORT_PLEASE_UPDATE: "不支持视频展示，请升级浏览器",
            BACKUP_COVER: "备选封面",
            COPPER_RATIO: "裁剪比例",
            VIDEO_EXACTING: "视频正在抽帧中，请稍后...",
            SET_COVER: "设置封面",
            REUPLOAD: "重新上传",
            UPLOAD_IMAGE: "上传图片",
            DRAG_IMAGE_UPLOAD: "拖拽图片到此或点击上传",
            VIDEO_TRANSCODING: "视频正在转码中，请稍后",
            VIDEO_UPLOADING: "视频正在上传中，请稍后",
            ADD_COVER: "添加封面",
            PLEASE_UPLOAD_FIRST: "请先去上传视频",
            SUPPORT_FROM_VIDEO: "支持从视频中截取或上传",
            DEFAULT_FIRST_FRAME: "默认使用视频第一帧作为封面，清晰美观的封面有利于作品被推荐"
        }
          , cC = {
            Select: "selectTab",
            Upload: "uploadTab"
        };
        cC.Select,
        cC.Upload;
        var cE = "default.mp4";
        v(96592);
        var cA = v(30736)
          , cw = v.n(cA)
          , cx = v(83322)
          , cT = {
            class: "crop-ratio-list-container"
        }
          , cM = {
            class: "crop-title"
        }
          , cS = {
            class: "crop-ratio-list"
        }
          , c_ = ["onClick"]
          , cV = (0,
        ec.defineComponent)({
            __name: "CopperList",
            props: {
                size: {},
                disabled: {
                    type: Boolean
                }
            },
            emits: ["handleCrop"],
            setup: function(n, d) {
                var v = d.emit
                  , m = [{
                    key: "origin",
                    text: "原始",
                    size: null,
                    style: {
                        width: "40px",
                        height: "52px"
                    }
                }, {
                    key: "1:1",
                    text: "1:1",
                    size: 1,
                    style: {
                        width: "52px",
                        height: "52px"
                    }
                }, {
                    key: "3:4",
                    text: "3:4",
                    size: 3 / 4,
                    style: {
                        width: "40px",
                        height: "52px"
                    }
                }, {
                    key: "4:3",
                    text: "4:3",
                    size: 4 / 3,
                    style: {
                        width: "52px",
                        height: "40px"
                    }
                }]
                  , handleCrop = function(d) {
                    if (!n.disabled)
                        v("handleCrop", d)
                };
                return function(d, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", cT, [(0,
                    ec.createElementVNode)("div", cM, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(cI).COPPER_RATIO), 1), (0,
                    ec.createElementVNode)("div", cS, [((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(m, function(v) {
                        return (0,
                        ec.createElementVNode)("div", {
                            key: v.text,
                            class: (0,
                            ec.normalizeClass)(["crop-ratio-item", n.size === v.key ? "crop-ratio-item-active" : "", d.disabled ? "crop-ratio-item-disabled" : ""]),
                            style: (0,
                            ec.normalizeStyle)(v.style),
                            onClick: function(n) {
                                return handleCrop(v)
                            }
                        }, (0,
                        ec.toDisplayString)(v.text), 15, c_)
                    }), 64))])])
                }
            }
        });
        let cD = (0,
        eN.default)(cV, [["__scopeId", "data-v-12da73f3"]]);
        var trackerErrorInCreateImage = function(n, d) {
            tt.kg.error(eX.R9.PosterizeFail, {
                error: n,
                video: d
            }, eX.b5.VideoCover)
        }
          , cB = {
            class: "cover-choose-container"
        }
          , cL = ["src"]
          , cP = {
            id: "cover-container",
            class: "cover"
        }
          , cO = ["src"]
          , cR = {
            ref: "list",
            class: "list"
        }
          , cU = ["src", "data-index"]
          , cj = {
            class: "time"
        }
          , cF = {
            key: 1,
            class: "loading-wrapper"
        }
          , cz = {
            class: "tips"
        }
          , cZ = (0,
        ec.defineComponent)({
            __name: "CoverChoose",
            props: {
                visible: {
                    type: Boolean
                }
            },
            emits: ["update-size"],
            setup: function(n, d) {
                var v, m = this, h = d.expose, y = d.emit, N = (0,
                ej.Jk)((0,
                eG.ZP)()), k = N.videoUrl, I = N.videoRotation, C = N.coverImgList, x = N.video, M = N.exacting, S = N.needTranscode, _ = N.transcodeVideoUrl, V = (0,
                ec.computed)(function() {
                    return S.value ? _.value : k.value
                }), B = (0,
                ec.ref)(), O = (0,
                ec.ref)(), R = (0,
                ec.ref)(), U = (0,
                ec.ref)(0), z = (0,
                ec.ref)(0), Z = (0,
                ec.ref)(0), Q = (0,
                ec.ref)(0), J = (0,
                ec.ref)(-1), H = (0,
                ec.ref)(!1), G = (0,
                ec.ref)(!1), Y = (0,
                ec.ref)(!1), W = (0,
                ec.ref)(!0), q = (0,
                ec.ref)({
                    currentTime: 0,
                    point: -1,
                    image: null
                }), X = (0,
                ec.ref)({
                    currentTime: 0,
                    point: -1
                }), K = (0,
                ec.ref)(""), $ = (0,
                ec.ref)("origin"), et = !1, en = 0, ea = 0, eo = (0,
                ec.computed)(function() {
                    return n.visible
                }), er = (0,
                ec.computed)(function() {
                    return (0,
                    ap.CX)(X.value.currentTime)
                }), getVideoCropperRatio = function() {
                    var n = x.value
                      , d = n.width
                      , v = n.height;
                    return d / v >= 4 / 3 ? 4 / 3 : d / v <= 3 / 4 ? 3 / 4 : d / v
                }, getCroppedImgUrl = function() {
                    return v.getCroppedCanvas({
                        imageSmoothingQuality: "high"
                    }).toDataURL("image/jpeg")
                }, ei = getVideoCropperRatio(), handleBootstrapCropper = function() {
                    setTimeout(function() {
                        !v && R.value && (v = new (cw())(R.value,{
                            viewMode: 1,
                            dragMode: "move",
                            initialAspectRatio: ei,
                            aspectRatio: ei,
                            autoCropArea: 1,
                            responsive: !1,
                            guides: !1,
                            rotatable: !1,
                            minCropBoxWidth: 160,
                            minCropBoxHeight: 160,
                            ready: function() {
                                !Y.value && (q.value.image = getCroppedImgUrl(),
                                Y.value = !0)
                            },
                            crop: function(n) {
                                y("update-size", {
                                    width: n.detail.width,
                                    height: n.detail.height
                                })
                            }
                        }))
                    }, 100)
                }, getDuration = function() {
                    if (!!B.value)
                        !Z.value && (Z.value = B.value.duration,
                        U.value = B.value.videoWidth,
                        z.value = B.value.videoHeight,
                        O.value.width = U.value,
                        O.value.height = z.value)
                }, resetVideo = function() {
                    K.value = "",
                    Z.value = 0,
                    Q.value = 0,
                    U.value = 0,
                    z.value = 0,
                    J.value = 0,
                    H.value = !1,
                    G.value = !1,
                    Y.value = !1,
                    W.value = !0,
                    q.value = {
                        currentTime: 0,
                        point: -1,
                        image: null
                    },
                    X.value = {
                        currentTime: 0,
                        point: -1
                    },
                    null == v || v.destroy(),
                    v = null
                }, changeCover = function() {
                    new Promise(function(n, d) {
                        var v = B.value
                          , m = O.value;
                        if (m) {
                            var h = m.getContext("2d")
                              , seekedFn = function() {
                                m.width = U.value,
                                m.height = z.value,
                                h.drawImage(v, 0, 0, m.width, m.height);
                                var d = .5;
                                return d = 1,
                                n(m.toDataURL("image/jpeg", d))
                            }
                              , y = setTimeout(function() {
                                return d("seek timeout, list.length: ".concat(C.value.length))
                            }, 2e3);
                            v.addEventListener("seeked", function() {
                                clearTimeout(y),
                                (0,
                                tx.isSafari)() && 0 === C.value.length ? setTimeout(function() {
                                    seekedFn()
                                }, 100) : seekedFn()
                            }, {
                                once: !0,
                                capture: !1
                            })
                        }
                    }
                    ).then(function(n) {
                        K.value = n,
                        v && v.replace(n),
                        X.value = {
                            currentTime: B.value.currentTime,
                            point: J.value
                        }
                    }).catch(function(n) {
                        trackerErrorInCreateImage(n, x.value)
                    })
                }, timeupdate = function() {
                    !k.value && resetVideo(),
                    C.value.length >= 20 && changeCover()
                }, setTime = function(n) {
                    B.value.currentTime = n,
                    setTimeout(function() {
                        var d;
                        (null === (d = B.value) || void 0 === d ? void 0 : d.seeking) && B.value.currentTime === n && setTime(n + .001)
                    }, 1e3)
                }, handleMousedown = function(n) {
                    if (!H.value) {
                        et = !0;
                        var d = n.currentTarget.getBoundingClientRect().left
                          , v = n.clientX - d + -1;
                        ea = n.clientX,
                        v >= -8 && v <= 540 && (J.value = v,
                        541 === v ? setTime(Z.value * v / 541 - .1) : setTime(Z.value * v / 541),
                        en = v)
                    }
                }, el = ar()(function(n) {
                    if (et) {
                        var d = n.clientX - ea
                          , v = en + d;
                        v >= -1 && v <= 540 && (J.value = v,
                        541 === v ? B.value.currentTime = Z.value * v / 541 - .1 : B.value.currentTime = Z.value * v / 541)
                    }
                }, 16), handleImageDrag = function() {
                    return !1
                }, handleMouseup = function() {
                    et = !1
                }, handleCrop = function(n) {
                    n.size ? null == v || v.setAspectRatio(n.size) : null == v || v.setAspectRatio(getVideoCropperRatio()),
                    tl.Db.trackImageCropSize(n.key),
                    $.value = n.key
                };
                (0,
                ec.onMounted)(function() {
                    document.documentElement.addEventListener("mouseup", handleMouseup)
                }),
                (0,
                ec.onBeforeUnmount)(function() {
                    document.documentElement.removeEventListener("mouseup", handleMouseup)
                });
                var screenshot = function() {
                    B.value.currentTime = Q.value
                };
                (0,
                ec.watch)(Q, function() {
                    Z.value && screenshot()
                }),
                (0,
                ec.watch)(k, function(n) {
                    !n && resetVideo()
                });
                var reset = function() {
                    B.value && (B.value.currentTime = q.value.currentTime),
                    J.value = q.value.point
                };
                return (0,
                ec.watch)(eo, function(n) {
                    n && (0,
                    ec.nextTick)(function() {
                        reset()
                    })
                }),
                h({
                    confirm: function() {
                        return q.value.currentTime = X.value.currentTime,
                        q.value.point = X.value.point,
                        q.value.image = getCroppedImgUrl(),
                        {
                            file: q.value.image,
                            frametime: 1e3 * q.value.currentTime
                        }
                    }
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", cB, [(0,
                    ec.createElementVNode)("canvas", {
                        id: "canvas",
                        ref_key: "canvasRef",
                        ref: O,
                        style: {
                            display: "none"
                        }
                    }, null, 512), V.value && "unknown" !== (0,
                    ec.unref)(I) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("video", {
                        key: 0,
                        ref_key: "videoRef",
                        ref: B,
                        class: "cover-video video",
                        crossorigin: "anonymous",
                        src: V.value,
                        controls: !1,
                        onCanplay: getDuration,
                        onTimeupdate: timeupdate
                    }, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(cI).NOT_SUPPORT_PLEASE_UPDATE), 41, cL)) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createElementVNode)("div", cP, [(0,
                    ec.createElementVNode)("img", {
                        ref_key: "cropperRef",
                        ref: R,
                        src: K.value || (0,
                        ec.unref)(C)[0],
                        alt: "",
                        class: "cropper",
                        onLoad: handleBootstrapCropper
                    }, null, 40, cO)]), (0,
                    ec.createElementVNode)("div", cR, [(0,
                    ec.unref)(C).length ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("ul", {
                        key: 0,
                        onMousedown: handleMousedown,
                        onMousemove: d[0] || (d[0] = function() {
                            for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                d[v] = arguments[v];
                            return (0,
                            ec.unref)(el) && (0,
                            ec.unref)(el).apply(m, (0,
                            ee._)(d))
                        }
                        ),
                        onMouseup: handleMouseup
                    }, [((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)((0,
                    ec.unref)(C), function(n, d) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("li", {
                            key: d,
                            class: "item"
                        }, [n ? ((0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("img", {
                            key: 0,
                            src: n,
                            "data-index": d,
                            draggable: "false",
                            alt: "",
                            onDragstart: (0,
                            ec.withModifiers)(handleImageDrag, ["prevent"])
                        }, null, 40, cU)) : (0,
                        ec.createCommentVNode)("", !0)])
                    }), 128)), (0,
                    ec.createElementVNode)("li", {
                        ref_key: "point",
                        ref: J,
                        style: (0,
                        ec.normalizeStyle)({
                            left: J.value + "px"
                        }),
                        class: "point"
                    }, [d[1] || (d[1] = (0,
                    ec.createElementVNode)("span", {
                        class: "span1"
                    }, null, -1)), d[2] || (d[2] = (0,
                    ec.createElementVNode)("span", {
                        class: "span2"
                    }, null, -1)), (0,
                    ec.createElementVNode)("div", cj, (0,
                    ec.toDisplayString)(er.value), 1)], 4)], 32)) : (0,
                    ec.createCommentVNode)("", !0)], 512), d[4] || (d[4] = (0,
                    ec.createElementVNode)("div", {
                        class: "divider"
                    }, null, -1)), (0,
                    ec.createVNode)(cD, {
                        size: $.value,
                        onHandleCrop: handleCrop
                    }, null, 8, ["size"]), (0,
                    ec.unref)(M) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", cF, [d[3] || (d[3] = (0,
                    ec.createElementVNode)("div", {
                        class: "loading"
                    }, null, -1)), (0,
                    ec.createElementVNode)("div", cz, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(cI).VIDEO_EXACTING), 1)])) : (0,
                    ec.createCommentVNode)("", !0)])
                }
            }
        });
        let cQ = (0,
        eN.default)(cZ, [["__scopeId", "data-v-682111f3"]]);
        var cJ = {
            key: 1,
            class: "blank"
        }
          , cH = {
            class: "center-box"
        }
          , cG = {
            id: "upload-cover-containner",
            class: "cover"
        }
          , cY = ["src"]
          , cW = {
            class: "upload-wrapper"
        }
          , cq = {
            class: "wrapper"
        }
          , cX = {
            class: "crop-container"
        }
          , cK = (0,
        ec.defineComponent)({
            __name: "Upload",
            props: {
                showModal: {
                    type: Boolean
                }
            },
            emits: ["set-modal-visible", "confirm"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                ec.computed)(function() {
                    return n.showModal
                })
                  , h = (0,
                ec.ref)("")
                  , y = (0,
                ec.ref)("")
                  , N = (0,
                ec.ref)()
                  , k = (0,
                ec.ref)()
                  , I = (0,
                ec.ref)()
                  , C = (0,
                ec.ref)("origin")
                  , x = (0,
                ec.ref)(0)
                  , M = (0,
                ec.ref)(0)
                  , S = (0,
                ej.Jk)((0,
                eH.Z)())
                  , _ = S.status
                  , V = S.themeColor
                  , B = (0,
                ec.computed)(function() {
                    return _.value === eX.qb.Transcoding
                })
                  , O = (0,
                ec.ref)(cC.Select)
                  , R = (0,
                ej.Jk)((0,
                eG.ZP)())
                  , U = R.video
                  , z = R.videoUrl;
                (0,
                ej.Jk)((0,
                e$.Z)()).userInfo;
                var Z = (0,
                ec.computed)(function() {
                    return O.value === cC.Select ? _.value === eX.qb.Uploading : !y.value
                })
                  , getVideoCropperRatio = function() {
                    var n = U.value
                      , d = n.width
                      , v = n.height;
                    return d / v >= 4 / 3 ? 4 / 3 : d / v <= 3 / 4 ? 3 / 4 : d / v
                }
                  , Q = getVideoCropperRatio()
                  , J = (0,
                ec.ref)()
                  , handleBootstrapCropper = function() {
                    !J.value && k.value && (J.value = new (cw())(k.value,{
                        viewMode: 1,
                        dragMode: "move",
                        initialAspectRatio: Q,
                        aspectRatio: Q,
                        autoCropArea: 1,
                        responsive: !1,
                        guides: !1,
                        rotatable: !1,
                        minCropBoxWidth: 60,
                        minCropBoxHeight: 60,
                        crop: function(n) {
                            x.value = n.detail.width.toFixed(0),
                            M.value = n.detail.height.toFixed(0)
                        }
                    }))
                }
                  , removeCropper = function() {
                    var n;
                    y.value = "",
                    N.value && (N.value.value = ""),
                    null === (n = J.value) || void 0 === n || n.destroy(),
                    J.value = void 0
                }
                  , cancel = function() {
                    h.value = "",
                    removeCropper(),
                    v("set-modal-visible", !1)
                }
                  , updateSize = function(n) {
                    x.value = n.width,
                    M.value = n.height
                }
                  , handleCrop = function(n) {
                    var d, v;
                    n.size ? null === (d = J.value) || void 0 === d || d.setAspectRatio(n.size) : null === (v = J.value) || void 0 === v || v.setAspectRatio(getVideoCropperRatio()),
                    tl.Db.trackImageCropSize(n.key),
                    C.value = n.key
                }
                  , clickInput = function() {
                    N.value.click()
                }
                  , uploadChange = function() {
                    var n, d = null === (n = N.value.files) || void 0 === n ? void 0 : n[0];
                    if (d) {
                        var v = checkImageUpload(d);
                        if (v) {
                            N.value.value = "",
                            nY.A.error(v);
                            return
                        }
                        removeCropper(),
                        y.value = (0,
                        cx.D)(d)
                    }
                }
                  , confirm = function() {
                    if (!Z.value) {
                        if (O.value === cC.Select) {
                            var n, d = I.value.confirm();
                            v("confirm", {
                                base64File: d.file,
                                frametime: d.frametime,
                                isUpload: !1,
                                width: x.value,
                                height: M.value
                            })
                        } else {
                            ;v("confirm", {
                                base64File: (null === (n = J.value) || void 0 === n ? void 0 : n.getCroppedCanvas({
                                    imageSmoothingQuality: "high"
                                })).toDataURL("image/jpeg"),
                                frametime: 0,
                                isUpload: !0,
                                width: x.value,
                                height: M.value
                            })
                        }
                        cancel()
                    }
                };
                return function(n, d) {
                    var v = (0,
                    ec.resolveComponent)("el-tab-pane")
                      , h = (0,
                    ec.resolveComponent)("el-icon")
                      , x = (0,
                    ec.resolveComponent)("el-button")
                      , M = (0,
                    ec.resolveComponent)("el-tabs");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(ai.d0), {
                        id: "cover-modal",
                        modelValue: m.value,
                        "onUpdate:modelValue": d[2] || (d[2] = function(n) {
                            return m.value = n
                        }
                        ),
                        "append-to-body": "",
                        title: (0,
                        ec.unref)(cI).SET_COVER,
                        "footer-position": "center",
                        class: "cover-model",
                        width: 652,
                        onClose: cancel
                    }, {
                        title: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(em.Z), null, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(cI).SET_COVER), 1)]
                                }),
                                _: 1
                            })]
                        }),
                        footer: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.withDirectives)((0,
                            ec.createVNode)((0,
                            ec.unref)(em.Z), {
                                bs: {
                                    textAlign: "right",
                                    display: "flex",
                                    alignItems: "center",
                                    justifyContent: "flex-end"
                                }
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createElementVNode)("button", {
                                        class: "cancelBtn",
                                        onClick: d[1] || (d[1] = function(n) {
                                            return cancel()
                                        }
                                        )
                                    }, (0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(cI).CANCEL), 1), (0,
                                    ec.createVNode)(x, {
                                        class: "btn-confirm",
                                        color: (0,
                                        ec.unref)(V),
                                        disabled: Z.value,
                                        onClick: confirm
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return [(0,
                                            ec.createTextVNode)((0,
                                            ec.toDisplayString)((0,
                                            ec.unref)(cI).CONFIRM), 1)]
                                        }),
                                        _: 1
                                    }, 8, ["color", "disabled"])]
                                }),
                                _: 1
                            }, 512), [[ec.vShow, O.value !== (0,
                            ec.unref)(cC).Upload || J.value]])]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(M, {
                                modelValue: O.value,
                                "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                                    return O.value = n
                                }
                                )
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)(v, {
                                        label: "截取封面",
                                        name: (0,
                                        ec.unref)(cC).Select
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return [(0,
                                            ec.unref)(z) ? ((0,
                                            ec.openBlock)(),
                                            (0,
                                            ec.createBlock)(cQ, {
                                                key: 0,
                                                ref_key: "coverChooseRef",
                                                ref: I,
                                                onUpdateSize: updateSize
                                            }, null, 512)) : ((0,
                                            ec.openBlock)(),
                                            (0,
                                            ec.createElementBlock)("div", cJ, (0,
                                            ec.toDisplayString)(B.value ? (0,
                                            ec.unref)(cI).VIDEO_TRANSCODING : (0,
                                            ec.unref)(cI).VIDEO_UPLOADING), 1))]
                                        }),
                                        _: 1
                                    }, 8, ["name"]), (0,
                                    ec.createVNode)(v, {
                                        label: "上传封面",
                                        name: (0,
                                        ec.unref)(cC).Upload
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return [(0,
                                            ec.withDirectives)((0,
                                            ec.createElementVNode)("div", cH, [(0,
                                            ec.createElementVNode)("div", cG, [(0,
                                            ec.createElementVNode)("img", {
                                                ref_key: "cropperRef",
                                                ref: k,
                                                src: y.value,
                                                alt: "",
                                                class: "cropper",
                                                onLoad: handleBootstrapCropper
                                            }, null, 40, cY)]), (0,
                                            ec.createElementVNode)("div", {
                                                class: "reUpload",
                                                onClick: clickInput
                                            }, [(0,
                                            ec.createVNode)(h, null, {
                                                default: (0,
                                                ec.withCtx)(function() {
                                                    return [(0,
                                                    ec.createVNode)((0,
                                                    ec.unref)(aa.hYj))]
                                                }),
                                                _: 1
                                            }), (0,
                                            ec.createTextVNode)(" " + (0,
                                            ec.toDisplayString)((0,
                                            ec.unref)(cI).REUPLOAD), 1)]), d[3] || (d[3] = (0,
                                            ec.createElementVNode)("div", {
                                                class: "divider"
                                            }, null, -1))], 512), [[ec.vShow, y.value]]), (0,
                                            ec.withDirectives)((0,
                                            ec.createElementVNode)("div", cW, [(0,
                                            ec.createElementVNode)("input", {
                                                ref_key: "uploadRef",
                                                ref: N,
                                                class: "upload-input",
                                                type: "file",
                                                accept: "image/png, image/jpeg, image/*",
                                                onChange: uploadChange
                                            }, null, 544), (0,
                                            ec.createElementVNode)("div", cq, [d[4] || (d[4] = (0,
                                            ec.createElementVNode)("div", {
                                                class: "upload-img"
                                            }, [(0,
                                            ec.createElementVNode)("img", {
                                                src: ti
                                            })], -1)), (0,
                                            ec.createElementVNode)("p", null, (0,
                                            ec.toDisplayString)((0,
                                            ec.unref)(cI).DRAG_IMAGE_UPLOAD), 1), (0,
                                            ec.createVNode)(x, {
                                                color: (0,
                                                ec.unref)(V)
                                            }, {
                                                default: (0,
                                                ec.withCtx)(function() {
                                                    return [(0,
                                                    ec.createTextVNode)((0,
                                                    ec.toDisplayString)((0,
                                                    ec.unref)(cI).UPLOAD_IMAGE), 1)]
                                                }),
                                                _: 1
                                            }, 8, ["color"])])], 512), [[ec.vShow, !y.value]]), (0,
                                            ec.createElementVNode)("div", cX, [(0,
                                            ec.createVNode)(cD, {
                                                size: C.value,
                                                onHandleCrop: handleCrop
                                            }, null, 8, ["size"])])]
                                        }),
                                        _: 1
                                    }, 8, ["name"])]
                                }),
                                _: 1
                            }, 8, ["modelValue"])]
                        }),
                        _: 1
                    }, 8, ["modelValue", "title"])
                }
            }
        });
        let c$ = (0,
        eN.default)(cK, [["__scopeId", "data-v-49ff91bb"]]);
        var c0 = {
            class: "cover-container"
        }
          , c1 = ["accept"]
          , c2 = {
            key: 0,
            class: "analyze"
        }
          , c4 = {
            class: "name"
        }
          , c3 = {
            class: "operator"
        }
          , c5 = {
            class: "stage"
        }
          , c8 = {
            key: 1,
            class: "uploading"
        }
          , c6 = {
            class: "left"
        }
          , c9 = {
            class: "name"
        }
          , c7 = {
            class: "operator"
        }
          , ue = {
            class: "stage"
        }
          , ut = {
            class: "cancel"
        }
          , un = {
            key: 2,
            class: "transcoding"
        }
          , ua = {
            class: "left"
        }
          , uo = {
            class: "name"
        }
          , ur = {
            class: "operator"
        }
          , ui = {
            class: "stage"
        }
          , ul = {
            class: "cancel"
        }
          , uc = {
            key: 3,
            class: "preview-new"
        }
          , uu = {
            class: "left"
        }
          , us = {
            class: "name"
        }
          , ud = {
            class: "operator"
        }
          , uv = {
            class: "stage"
        }
          , um = {
            key: 0
        }
          , uf = {
            key: 1
        }
          , up = {
            key: 4,
            class: "canceled"
        }
          , ug = {
            class: "left"
        }
          , uh = {
            class: "name"
        }
          , uy = {
            class: "operator"
        }
          , uN = {
            class: "stage"
        }
          , uk = {
            key: 0
        }
          , uI = {
            key: 5,
            class: "fail"
        }
          , uC = {
            class: "left"
        }
          , ub = {
            class: "name"
        }
          , uE = {
            class: "operator"
        }
          , uA = {
            class: "stage"
        }
          , uw = {
            key: 6,
            class: "not-upload"
        }
          , ux = (0,
        ec.defineComponent)({
            __name: "Main",
            setup: function(n) {
                var d = (0,
                ej.Jk)((0,
                eG.ZP)())
                  , v = (d.coverUrl,
                d.coverEdited)
                  , m = d.videoFile
                  , h = d.isReplaceVideo
                  , y = d.video
                  , N = d.cover
                  , k = (0,
                ej.Jk)((0,
                eH.Z)())
                  , I = k.status
                  , C = (k.theme,
                k.themeColor)
                  , x = k.noteId
                  , M = k.uploadPercent
                  , S = k.uploadStartTime
                  , _ = k.transcodePercent
                  , B = k.transcodeStartTime
                  , O = k.failReason
                  , U = (0,
                ec.ref)(!1)
                  , z = (0,
                ec.ref)()
                  , Z = (0,
                to.Z)()
                  , Q = (0,
                ec.ref)(1)
                  , J = (0,
                ec.ref)(20);
                (0,
                ec.onMounted)(function() {
                    var n = setInterval(function() {
                        if (Q.value >= 100) {
                            clearInterval(n);
                            return
                        }
                        var d = Math.trunc(10 * Math.random()) + 1;
                        Q.value = Math.min(Q.value + d, 100),
                        J.value = Math.max(J.value - Math.max(Math.trunc(d / 3), 1), 1)
                    }, 1e3)
                });
                var H = (0,
                ec.ref)(0)
                  , resizeDom = function() {
                    U.value = !1
                };
                (0,
                ec.onMounted)(function() {
                    window.addEventListener("resize", resizeDom)
                }),
                (0,
                ec.onBeforeUnmount)(function() {
                    window.removeEventListener("resize", resizeDom)
                }),
                (0,
                ec.watch)(I, function() {
                    [eX.qb.Cancel, eX.qb.Fail].includes(I.value) && z.value && "value"in z.value && (z.value.value = "")
                }, {
                    immediate: !0
                });
                var replaceVideo = function(n) {
                    var d, v, m;
                    1 === n && (null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || v.push(el.tracker["63123"]({
                        noteEditSource: x.value ? 2 : 1,
                        noteId: x.value
                    }))),
                    H.value = n,
                    null === (d = z.value) || void 0 === d || d.click()
                }
                  , setModalVisible = function(n) {
                    U.value = n
                }
                  , selectCover = function(n) {
                    v.value = !0,
                    Z.uploadFirstCover(n)
                }
                  , cancel = function(n) {
                    Z.cancelUploadVideo(),
                    z.value.value = "",
                    I.value = eX.qb.Cancel,
                    null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["63113"]({
                        status: n
                    }));
                    var d, v, m, h, y = new Date - S.value;
                    null === (h = window) || void 0 === h || null === (m = h.eaglet) || void 0 === m || m.push(el.tracker["63125"]({
                        noteEditSource: x.value ? 2 : 1,
                        noteId: x.value,
                        status: "cancel",
                        timeDurationMs: String(y)
                    }))
                }
                  , uploadChange = function() {
                    var n = Array.from(z.value.files);
                    n.length && (0,
                    ec.nextTick)((0,
                    V._)(function() {
                        var d, v, m, y, k;
                        return (0,
                        R.Jh)(this, function(y) {
                            switch (y.label) {
                            case 0:
                                if (!n.length)
                                    return [3, 5];
                                return [4, Z.validateFilesByVideoFormat(n)];
                            case 1:
                                if (d = y.sent(),
                                I.value = eX.qb.Fail,
                                O.value = "网络错误，请稍后刷新重试",
                                !d)
                                    return [2];
                                if (Z.resetVideo(),
                                (v = 0 === H.value) && !N.value.frame.isUpload && !N.value.frame.isUserSelect && Z.resetCover(),
                                !(m = n[0]))
                                    return [2];
                                y.label = 2;
                            case 2:
                                return y.trys.push([2, 4, , 5]),
                                x.value && (h.value = !0),
                                [4, Z.presetVideo(m, v)];
                            case 3:
                                return y.sent(),
                                [3, 5];
                            case 4:
                                return y.sent(),
                                I.value = eX.qb.Fail,
                                O.value = "网络错误，请稍后刷新重试",
                                (null === (k = z.value) || void 0 === k ? void 0 : k.value) && (z.value.value = ""),
                                [3, 5];
                            case 5:
                                return [2]
                            }
                        })
                    }))
                };
                return function(n, d) {
                    var v, h, N, k, x, V, R, Z, H, G, Y, W, q, X, K, $, ee, et, en, ea, eo, er, ei, el;
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", c0, [(0,
                    ec.createElementVNode)("input", {
                        ref_key: "uploadInput",
                        ref: z,
                        class: "upload-input",
                        type: "file",
                        accept: (0,
                        ec.unref)(tr.Py),
                        onChange: uploadChange
                    }, null, 40, c1), (0,
                    ec.unref)(I) === (0,
                    ec.unref)(eX.qb).Analyze ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", c2, [(0,
                    ec.createElementVNode)("div", c4, (0,
                    ec.toDisplayString)(null !== (ee = null === (v = (0,
                    ec.unref)(m)) || void 0 === v ? void 0 : v.name) && void 0 !== ee ? ee : (0,
                    ec.unref)(cE)), 1), (0,
                    ec.createElementVNode)("div", c3, [(0,
                    ec.createElementVNode)("div", c5, [(0,
                    ec.createElementVNode)("div", null, [d[6] || (d[6] = (0,
                    ec.createElementVNode)("img", {
                        class: "spin",
                        src: cy
                    }, null, -1)), (0,
                    ec.createTextVNode)(" 视频解析中 " + (0,
                    ec.toDisplayString)(Q.value) + "% ", 1)]), (0,
                    ec.createElementVNode)("div", null, "预估剩余时间：" + (0,
                    ec.toDisplayString)(J.value) + "s", 1)])])])) : (0,
                    ec.unref)(I) === (0,
                    ec.unref)(eX.qb).Uploading ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", c8, [(0,
                    ec.createElementVNode)("div", c6, [(0,
                    ec.createElementVNode)("div", c9, (0,
                    ec.toDisplayString)(null !== (et = null === (h = (0,
                    ec.unref)(m)) || void 0 === h ? void 0 : h.name) && void 0 !== et ? et : (0,
                    ec.unref)(cE)), 1), (0,
                    ec.createElementVNode)("div", c7, [(0,
                    ec.createElementVNode)("div", ue, [(0,
                    ec.createElementVNode)("div", null, [d[7] || (d[7] = (0,
                    ec.createElementVNode)("img", {
                        class: "spin",
                        src: cy
                    }, null, -1)), (0,
                    ec.createTextVNode)(" 上传中 " + (0,
                    ec.toDisplayString)(Math.trunc((0,
                    ec.unref)(M))) + "% ", 1)]), (0,
                    ec.createElementVNode)("div", null, "上传速度：" + (0,
                    ec.toDisplayString)((0,
                    ec.unref)(getSpeed)(null !== (en = null === (N = (0,
                    ec.unref)(m)) || void 0 === N ? void 0 : N.size) && void 0 !== en ? en : null === (k = (0,
                    ec.unref)(y)) || void 0 === k ? void 0 : k.fsize, (0,
                    ec.unref)(M), (0,
                    ec.unref)(S))), 1), (0,
                    ec.createElementVNode)("div", null, "预估剩余时间：" + (0,
                    ec.toDisplayString)((0,
                    ec.unref)(getRemainTime)((0,
                    ec.unref)(M), (0,
                    ec.unref)(S))), 1)])])]), (0,
                    ec.createVNode)((0,
                    ec.unref)(ck.Z), {
                        placement: "left",
                        title: "注意",
                        description: "你确定要取消上传吗？",
                        type: "danger",
                        size: 220,
                        arrow: "",
                        onConfirm: d[0] || (d[0] = function(n) {
                            return cancel("上传")
                        }
                        )
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", ut, [(0,
                            ec.createElementVNode)("span", {
                                style: (0,
                                ec.normalizeStyle)("color: ".concat((0,
                                ec.unref)(C)))
                            }, "取消上传", 4)])]
                        }),
                        _: 1
                    })])) : (0,
                    ec.unref)(I) === (0,
                    ec.unref)(eX.qb).Transcoding ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", un, [(0,
                    ec.createElementVNode)("div", ua, [(0,
                    ec.createElementVNode)("div", uo, (0,
                    ec.toDisplayString)(null === (x = (0,
                    ec.unref)(m)) || void 0 === x ? void 0 : x.name), 1), (0,
                    ec.createElementVNode)("div", ur, [(0,
                    ec.createElementVNode)("div", ui, [(0,
                    ec.createElementVNode)("div", null, [d[8] || (d[8] = (0,
                    ec.createElementVNode)("img", {
                        class: "spin",
                        src: cy
                    }, null, -1)), (0,
                    ec.createTextVNode)(" 视频转码中 " + (0,
                    ec.toDisplayString)(Math.trunc((0,
                    ec.unref)(_))) + "% ", 1)]), (0,
                    ec.createElementVNode)("div", null, "转码速度：" + (0,
                    ec.toDisplayString)((0,
                    ec.unref)(getSpeed)(null !== (ea = null === (V = (0,
                    ec.unref)(m)) || void 0 === V ? void 0 : V.size) && void 0 !== ea ? ea : null === (R = (0,
                    ec.unref)(y)) || void 0 === R ? void 0 : R.fsize, (0,
                    ec.unref)(_), (0,
                    ec.unref)(B))), 1), (0,
                    ec.createElementVNode)("div", null, "预估剩余时间：" + (0,
                    ec.toDisplayString)((0,
                    ec.unref)(getRemainTime)((0,
                    ec.unref)(_), (0,
                    ec.unref)(B))), 1)])])]), (0,
                    ec.createVNode)((0,
                    ec.unref)(ck.Z), {
                        placement: "left",
                        title: "注意",
                        description: "你确定要取消上传吗？",
                        type: "danger",
                        size: 220,
                        arrow: "",
                        onConfirm: d[1] || (d[1] = function(n) {
                            return cancel("上传")
                        }
                        )
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", ul, [(0,
                            ec.createElementVNode)("span", {
                                style: (0,
                                ec.normalizeStyle)("color: ".concat((0,
                                ec.unref)(C)))
                            }, "取消上传", 4)])]
                        }),
                        _: 1
                    })])) : (0,
                    ec.unref)(I) === (0,
                    ec.unref)(eX.qb).Preview ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", uc, [(0,
                    ec.createElementVNode)("div", uu, [(0,
                    ec.createElementVNode)("div", us, (0,
                    ec.toDisplayString)(null !== (eo = null === (Z = (0,
                    ec.unref)(m)) || void 0 === Z ? void 0 : Z.name) && void 0 !== eo ? eo : (0,
                    ec.unref)(cE)), 1), (0,
                    ec.createElementVNode)("div", ud, [(0,
                    ec.createElementVNode)("div", uv, [d[9] || (d[9] = (0,
                    ec.createElementVNode)("div", null, [(0,
                    ec.createElementVNode)("img", {
                        class: "icon",
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAACNklEQVR4Xu1Y223DMAw07AToZ0foCBmBI3SDdoNmg2SEbtBukK/m5Y+M0BE8gkdIRddOHIqWKJlKiiIHHJDAInWgT5TkLLvjjnR42MDTpAQo9vBa7OAZf0/3MKPjbgYUmJewMAIP+R7qfAfHITZjSphjDM2THG0VD1SUlBiLOWhedWB1xgilNLk+klUcK+J77ZGs0O90vlEwQt+YiXRp1gKdNwom2cJKnopbmNP5g4CvykqamNGLsWlZxl804RVYRy1EXMFMsqsQOxHV48RkYzoCk+iaDLKGZq9ladpjUcIqd1hOXOXWu1YCRVZZ51HPXKdxLmBroYGKPIvt5nNvRsv+WBYJ7WCL9fR4kS1okBKDxbas+zEWpl8wY4LG0hYbsNXT2AskaGeWWLN7vjDjBulsb+KteAvv7dhP69mZo8Ui8fbSz3EBfEgDGF74Kt/AkhmjIhbpPHoKLVFnK3jsxxHRamKRTkv4GnlHPGfQ0FY0J1ZmswFmvkusp5Gf2PRIUmn6H2/M0nxD7OdjEbhxfFORHTTEyjYOfhG5aInWENtQdAMR+pjwJFpN7M6zafQRaIuOVXPoVxIrskMHYXtLSnc7YxBZZR0ybdMP9LLS6w2k1cvFuIU1irVjK5YgXye9gVAu6fxRiOjN4RT13AC0Z4LKmmgszTpB69H5dPC7qbjOwEFsem3sAgsBVmRM28PYdFV1AStuvOcVjx9OcIxZC1HfzVIBzxFN9Y3f8faCv/+UwDv+I34AbmHcBODfjtUAAAAASUVORK5CYII="
                    }), (0,
                    ec.createTextVNode)(" 上传成功 ")], -1)), (null === (H = (0,
                    ec.unref)(y)) || void 0 === H ? void 0 : H.fsize) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", um, "视频大小：" + (0,
                    ec.toDisplayString)((0,
                    ec.unref)(formatFileSize)(null === (G = (0,
                    ec.unref)(y)) || void 0 === G ? void 0 : G.fsize)), 1)) : (0,
                    ec.createCommentVNode)("", !0), (null === (Y = (0,
                    ec.unref)(y)) || void 0 === Y ? void 0 : Y.duration) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", uf, "视频时长：" + (0,
                    ec.toDisplayString)((0,
                    ec.unref)(formatVideoLength)(null !== (er = null === (W = (0,
                    ec.unref)(y)) || void 0 === W ? void 0 : W.duration) && void 0 !== er ? er : 0)), 1)) : (0,
                    ec.createCommentVNode)("", !0)])])]), (0,
                    ec.createElementVNode)("div", {
                        class: "reupload",
                        onClick: d[2] || (d[2] = function(n) {
                            return replaceVideo(1)
                        }
                        )
                    }, [(0,
                    ec.createElementVNode)("span", {
                        style: (0,
                        ec.normalizeStyle)("color: ".concat((0,
                        ec.unref)(C)))
                    }, "替换视频", 4)])])) : (0,
                    ec.unref)(I) === (0,
                    ec.unref)(eX.qb).Cancel ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", up, [(0,
                    ec.createElementVNode)("div", ug, [(0,
                    ec.createElementVNode)("div", uh, (0,
                    ec.toDisplayString)(null !== (ei = null === (q = (0,
                    ec.unref)(m)) || void 0 === q ? void 0 : q.name) && void 0 !== ei ? ei : (0,
                    ec.unref)(cE)), 1), (0,
                    ec.createElementVNode)("div", uy, [(0,
                    ec.createElementVNode)("div", uN, [d[10] || (d[10] = (0,
                    ec.createElementVNode)("div", null, [(0,
                    ec.createElementVNode)("img", {
                        class: "icon",
                        src: cN
                    }), (0,
                    ec.createTextVNode)(" 已取消 ")], -1)), (null === (X = (0,
                    ec.unref)(m)) || void 0 === X ? void 0 : X.size) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", uk, "视频大小：" + (0,
                    ec.toDisplayString)((0,
                    ec.unref)(formatFileSize)(null === (K = (0,
                    ec.unref)(m)) || void 0 === K ? void 0 : K.size)), 1)) : (0,
                    ec.createCommentVNode)("", !0)])])]), (0,
                    ec.createElementVNode)("div", {
                        class: "reupload",
                        onClick: d[3] || (d[3] = function(n) {
                            return replaceVideo(0)
                        }
                        )
                    }, [(0,
                    ec.createElementVNode)("span", {
                        style: (0,
                        ec.normalizeStyle)("color: ".concat((0,
                        ec.unref)(C)))
                    }, "重新上传", 4)])])) : (0,
                    ec.unref)(I) === (0,
                    ec.unref)(eX.qb).Fail ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", uI, [(0,
                    ec.createElementVNode)("div", uC, [(0,
                    ec.createElementVNode)("div", ub, (0,
                    ec.toDisplayString)(null !== (el = null === ($ = (0,
                    ec.unref)(m)) || void 0 === $ ? void 0 : $.name) && void 0 !== el ? el : (0,
                    ec.unref)(cE)), 1), (0,
                    ec.createElementVNode)("div", uE, [(0,
                    ec.createElementVNode)("div", uA, [d[11] || (d[11] = (0,
                    ec.createElementVNode)("div", null, [(0,
                    ec.createElementVNode)("img", {
                        class: "icon",
                        src: cN
                    }), (0,
                    ec.createTextVNode)(" 上传失败 ")], -1)), (0,
                    ec.createElementVNode)("div", null, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(O)), 1)])])]), (0,
                    ec.createElementVNode)("div", {
                        class: "reupload",
                        onClick: d[4] || (d[4] = function(n) {
                            return replaceVideo(0)
                        }
                        )
                    }, [(0,
                    ec.createElementVNode)("span", {
                        style: (0,
                        ec.normalizeStyle)("color: ".concat((0,
                        ec.unref)(C)))
                    }, "重新上传", 4)])])) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", uw, [d[12] || (d[12] = (0,
                    ec.createElementVNode)("div", {
                        class: "left"
                    }, [(0,
                    ec.createElementVNode)("div", {
                        class: "not-upload-text"
                    }, "暂未上传视频")], -1)), (0,
                    ec.createElementVNode)("div", {
                        class: "reupload",
                        onClick: d[5] || (d[5] = function(n) {
                            return replaceVideo(0)
                        }
                        )
                    }, [(0,
                    ec.createElementVNode)("span", {
                        style: (0,
                        ec.normalizeStyle)("color: ".concat((0,
                        ec.unref)(C)))
                    }, "上传视频", 4)])])), U.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(c$, {
                        key: 7,
                        "show-modal": U.value,
                        onSetModalVisible: setModalVisible,
                        onConfirm: selectCover
                    }, null, 8, ["show-modal"])) : (0,
                    ec.createCommentVNode)("", !0)])
                }
            }
        });
        let uT = (0,
        eN.default)(ux, [["__scopeId", "data-v-7b158db0"]]);
        var uM = v(41977)
          , uS = v(82916)
          , u_ = {
            class: "hide-view-for-exact"
        }
          , uV = ["src"]
          , uD = (0,
        ec.defineComponent)({
            __name: "ExactFrame",
            setup: function(n) {
                var d = (0,
                ej.Jk)((0,
                eG.ZP)())
                  , v = d.videoUrl
                  , m = d.videoRotation
                  , h = d.video
                  , y = d.coverImgList
                  , N = d.exacting
                  , k = d.needTranscode
                  , I = d.transcodeVideoUrl
                  , C = d.coverUrl
                  , x = (0,
                ec.computed)(function() {
                    return k.value ? I.value : v.value
                })
                  , M = (0,
                ec.ref)()
                  , S = (0,
                ec.ref)()
                  , _ = (0,
                ec.ref)(0)
                  , V = (0,
                ec.ref)(!1)
                  , B = new uM.x
                  , canplay = function() {
                    setTimeout(function() {
                        B.next(null)
                    }, 300)
                }
                  , O = B.pipe((0,
                uS.q)(1)).subscribe(function() {
                    S.value && (S.value.width = h.value.width,
                    S.value.height = h.value.height),
                    M.value && (M.value.currentTime = _.value),
                    O.unsubscribe()
                })
                  , screenshot = function(n) {
                    M.value && (M.value.currentTime = n,
                    setTimeout(function() {
                        var d;
                        (null === (d = M.value) || void 0 === d ? void 0 : d.seeking) && M.value.currentTime === n && screenshot(n + .001)
                    }, 3e3))
                }
                  , createdImageCb = function(n) {
                    !C.value && !V.value && !k.value && (V.value = !0,
                    e2.eC.useIframe2GenerateDefaultCover({
                        base64File: n,
                        width: h.value.width,
                        height: h.value.height
                    }, {
                        success: function() {
                            e8._.info("[seven] 前端抽帧完成:", Date.now())
                        },
                        error: function() {
                            e8._.info("[seven] 前端抽帧失败:", Date.now())
                        }
                    })),
                    y.value.push(n),
                    y.value.length < 20 && (_.value = +(h.value.duration / 20 * y.value.length).toFixed(6),
                    screenshot(_.value))
                }
                  , timeupdate = function() {
                    if (!!x.value)
                        N.value && new Promise(function(n, d) {
                            var v = S.value;
                            if (v) {
                                var N = v.getContext("2d")
                                  , k = h.value.width
                                  , I = h.value.height
                                  , seekedFn = function() {
                                    return v.width = k,
                                    v.height = I,
                                    "90" === m.value ? (v.width = I,
                                    v.height = k) : "180" === m.value ? (v.width = k,
                                    v.height = I) : "270" === m.value && (v.width = I,
                                    v.height = k),
                                    N.drawImage(M.value, 0, 0, v.width, v.height),
                                    n(v.toDataURL("image/jpeg", .5))
                                }
                                  , C = setTimeout(function() {
                                    return d("seek timeout, list.length: ".concat(y.value.length))
                                }, 2e3);
                                M.value.addEventListener("seeked", function() {
                                    clearTimeout(C),
                                    (0,
                                    tx.isSafari)() && 0 === y.value.length ? setTimeout(function() {
                                        seekedFn()
                                    }, 100) : seekedFn()
                                }, {
                                    once: !0,
                                    capture: !1
                                })
                            }
                        }
                        ).then(createdImageCb).catch(function(n) {
                            tt.kg.error(eX.kF.ExtractFrameFail, {
                                error: n
                            }, eX.b5.VideoMarker)
                        })
                }
                  , videoError = function(n) {
                    e8._.error("exact frame video play error: ", n)
                };
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", u_, [x.value && "unknown" !== (0,
                    ec.unref)(m) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("video", {
                        key: 0,
                        ref_key: "videoRef",
                        ref: M,
                        class: "exact-video video",
                        crossorigin: "anonymous",
                        src: x.value,
                        onCanplay: canplay,
                        onError: videoError,
                        onTimeupdate: timeupdate
                    }, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(cI).NOT_SUPPORT_PLEASE_UPDATE), 41, uV)) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createElementVNode)("canvas", {
                        id: "canvas",
                        ref_key: "canvasRef",
                        ref: S,
                        style: {
                            display: "none"
                        }
                    }, null, 512)])
                }
            }
        });
        let uB = (0,
        eN.default)(uD, [["__scopeId", "data-v-2a6c2714"]]);
        v(29744);
        var uL = v(51358);
        tt.dJ.get;
        var uP = tt.dJ.post;
        function postNoteRequest(n) {
            return uP(uL.y.POST_NOTE, n, {
                transform: !0,
                extractData: !1,
                timeout: 15e3
            })
        }
        function updateNoteRequest(n) {
            return tt.dJ.put(uL.y.UPDATE_NOTE_INFO, n, {
                transform: !0,
                extractData: !1,
                timeout: 15e3
            })
        }
        var uO = v(6515)
          , uR = v(35763)
          , uU = v(82345)
          , uj = v(65664)
          , uF = v(61433)
          , uz = v(80066)
          , uZ = v(97327)
          , uQ = v(5408)
          , uJ = v(37267)
          , usePublish = function(n) {
            var d, v, m = (0,
            t5.b)(), h = (0,
            e$.Z)(), y = (0,
            eH.Z)(), N = (0,
            eq.Z)(), k = (0,
            ej.Jk)(h).userInfo, I = (0,
            ej.Jk)((0,
            eG.ZP)()), C = I.videoInfo, x = I.video, M = I.imgList, S = I.needTranscode, _ = (0,
            ej.Jk)((0,
            eY.Z)()), U = _.privacyInfo, z = _.interactionPermissionBind, Z = _.userDeclaration, Q = _.postTime, J = _.groupBind, H = _.liveNoticeBind, G = _.liveReservationBind, Y = (0,
            ej.Jk)(y), W = Y.publishCoreStartTime, q = Y.publishStartHandler, X = Y.publishSuccessHandler, K = Y.publishType, $ = Y.systemId, ee = Y.source, et = Y.isPublishing, en = Y.hasBeenPublished, ea = Y.hasBeenPublishSuccess, eo = (0,
            ej.Jk)(N), er = eo.goodsContext, ei = eo.bizRelationContext, eu = (0,
            ec.computed)(function() {
                return K.value === eX.QO.Video ? 3 : 1
            }), es = (0,
            ec.computed)(function() {
                return K.value === eX.QO.Video ? "video_note" : "short_note"
            }), ed = (0,
            ec.ref)(), ev = (0,
            uj.R)(), em = ev.constructData, ef = ev.checkData, ep = (0,
            uF.s)(), eg = ep.constructData, eh = ep.checkData, ey = (0,
            uz.U)(), eN = ey.constructData, ek = ey.checkData, eI = (0,
            uZ.c)(), eC = eI.constructData, eb = eI.checkData, eE = {
                0: "video",
                1: "normal"
            }, constructData = function() {
                var n, d = em(), v = eg(), m = eN(), h = eC();
                return {
                    common: (0,
                    O._)((0,
                    B._)({
                        type: eE[K.value],
                        noteId: "",
                        source: JSON.stringify(ee.value)
                    }, d, v), {
                        goodsInfo: null === (n = er.value) || void 0 === n ? void 0 : n.goodsInfo,
                        bizRelations: ei.value.bizRelation
                    }),
                    imageInfo: K.value === eX.QO.Image ? m : null,
                    videoInfo: K.value === eX.QO.Video ? h : null
                }
            };
            var eA = (d = (0,
            V._)(function() {
                var d, v, m, h, y, N;
                return (0,
                R.Jh)(this, function(I) {
                    switch (I.label) {
                    case 0:
                        if (v = "",
                        et.value)
                            return v = "正在发布中",
                            nY.A.error(v),
                            [2, {
                                result: !1,
                                toastMsg: v
                            }];
                        if (!(null === (d = k.value) || void 0 === d ? void 0 : d.bindPhone))
                            return null == n || null === (m = n.handleUserNotBindPhone) || void 0 === m || m.call(n),
                            v = "未绑定手机号",
                            !(null == n ? void 0 : n.handleUserNotBindPhone) && nY.A.error(v),
                            [2, {
                                result: !1,
                                toastMsg: v
                            }];
                        if (!k.value.id)
                            return v = "获取用户信息失败，请刷新页面重试",
                            nY.A.error(v),
                            [2, {
                                result: !1,
                                toastMsg: v
                            }];
                        h = [ef, eh],
                        K.value === eX.QO.Image && h.push(ek),
                        K.value === eX.QO.Video && h.push(eb),
                        y = 0,
                        I.label = 1;
                    case 1:
                        if (!(y < h.length))
                            return [3, 4];
                        return [4, (0,
                        h[y])(n)];
                    case 2:
                        if (!(N = I.sent()).result)
                            return [2, N];
                        I.label = 3;
                    case 3:
                        return y++,
                        [3, 1];
                    case 4:
                        return [2, {
                            result: !0
                        }]
                    }
                })
            }),
            function checkParams() {
                return d.apply(this, arguments)
            }
            )
              , handlePostSuccess = function(n, d) {
                tt.kg.info("publish success", {
                    result: n
                }, "note post"),
                uQ.C.trackerPublishSuccess({
                    result: "success",
                    type: K.value === eX.QO.Video ? "video" : "image",
                    duration: Date.now() - W.value,
                    format: $.value
                }),
                en.value = !0,
                ea.value = !0,
                null === (v = X.value) || void 0 === v || v.call(X, (0,
                B._)({}, n), d),
                K.value === eX.QO.Video ? (uJ.D.recordPublishTime("end"),
                uJ.D.end(x.value.videoId, !!S.value)) : (uJ.$.recordPublishTime("end"),
                uJ.$.end());
                var v, h, y, N = JSON.stringify({
                    msg: "success_".concat(ed.value, "_").concat((0,
                    ap.DZ)(String(new Date)))
                });
                null === (y = window) || void 0 === y || null === (h = y.eaglet) || void 0 === h || h.push(el.tracker["7735"]({
                    channelType: m,
                    noteType: es.value,
                    noteEditSource: 1,
                    errorDesc: N,
                    loadingDesc: N
                })),
                (0,
                tK.fX)(K.value === eX.QO.Video ? tr.Ve : tr.dP, k.value.id)
            }
              , handlePostFail = function(n, d) {
                console.error("[发布失败]", n, JSON.stringify(n), String(n)),
                ea.value = !1;
                var v, m, h, y = null == n ? void 0 : n.data, N = "".concat((null == y ? void 0 : y.code) || (null == n ? void 0 : n.code) || (null == n ? void 0 : n.statusCode)), k = (null == n ? void 0 : n.message) || (null == n ? void 0 : null === (v = n.data) || void 0 === v ? void 0 : v.msg) || (null == y ? void 0 : y.error_msg) || N, I = null == y ? void 0 : y.can_show_err_msg_to_user, C = "发布失败，请稍后重试";
                C = n.name === tr.eE.HTTPClientError && "firefox" === (0,
                uR.q)() ? "发布失败，请使用新版谷歌浏览器重试" : n.name === tr.eE.HTTPBizError && I ? k : ["-14004", "-9109"].includes(N) ? "发布失败，请退出登录后重试（".concat(N, "）") : "".concat(C, "（").concat(k, "）"),
                nY.A.error(C),
                tt.kg.error("note post api fail", {
                    data: d
                }, "note post"),
                uQ.C.trackerPublishFailed({
                    type: K.value === eX.QO.Video ? "video" : "image",
                    traceId: ed.value,
                    errorType: n.name,
                    errorCode: N,
                    errorFormat: tr.Lv.includes(N) ? "operation" : "common",
                    result: k,
                    duration: Date.now() - W.value
                }),
                null === (h = window) || void 0 === h || null === (m = h.eaglet) || void 0 === m || m.push(el.tracker["7734"]({
                    errorCode: N,
                    errorDesc: k
                }))
            }
              , handlePostJSError = function(n) {
                et.value = !1;
                var d, v, m = (0,
                uO.E)(n, ed.value, W.value), h = "PUBLISH JS ERROR";
                throw null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["7734"]({
                    errorCode: h,
                    errorDesc: m
                })),
                tt.kg.error(eX.Eb.GetFormDataFail, {
                    msg: m,
                    traceId: ed.value
                }, eX.b5.ImagePublish),
                uQ.C.trackerPublishFailed({
                    type: K.value === eX.QO.Video ? "video" : "image",
                    traceId: ed.value,
                    errorType: h,
                    result: m
                }),
                Error(n)
            }
              , handlePublish = function(n) {
                return postNoteRequest(n).then(function(d) {
                    var v, m, h = "not_bind";
                    (null === (v = d.businessBindResults) || void 0 === v ? void 0 : v.length) > 0 && (h = (null === (m = d.businessBindResults[0]) || void 0 === m ? void 0 : m.success) ? "bind_success" : "bind_fail");
                    var y = (0,
                    O._)((0,
                    B._)({}, d), {
                        orderBindStatus: h
                    });
                    return handlePostSuccess(y, n),
                    y
                }).catch(function(d) {
                    handlePostFail(d, n)
                }).finally(function() {
                    et.value = !1
                })
            };
            var ew = (v = (0,
            V._)(function() {
                var n, d, v, h, N, k, I, C, x, M, S, _, V, B, O, Y, X;
                return (0,
                R.Jh)(this, function(R) {
                    switch (R.label) {
                    case 0:
                        return R.trys.push([0, 5, , 6]),
                        W.value = Date.now(),
                        O = constructData(),
                        ed.value = (0,
                        uU.Ht)(),
                        null === (C = window) || void 0 === C || null === (I = C.eaglet) || void 0 === I || I.push(el.tracker["31493"]({
                            channelType: m,
                            noteType: eu.value,
                            status: eX.br[U.value.type],
                            publicationTimeSetting: Q.value ? "scheduled" : "now",
                            noteEditSource: 1,
                            hasBindGoods: !!(null === (d = er.value) || void 0 === d ? void 0 : null === (n = d.goodsDetail) || void 0 === n ? void 0 : n.skuId),
                            isDeclared: !!(null === (v = Z.value) || void 0 === v ? void 0 : v.origin),
                            extraInfo: JSON.stringify({
                                hasGroup: !!(null === (h = J.value) || void 0 === h ? void 0 : h.groupId),
                                live_preview: (null === (N = H.value) || void 0 === N ? void 0 : N.liveNoticeType) === eX.tK.Bind,
                                live_stream: !!(null === (k = G.value) || void 0 === k ? void 0 : k.reserve),
                                commentPermission: z.value.commentPermission
                            })
                        })),
                        null === (x = q.value) || void 0 === x || x.call(q, O),
                        K.value === eX.QO.Video ? uJ.D.recordPublishTime("start") : uJ.$.recordPublishTime("start"),
                        uQ.C.trackerPublishBefore({
                            type: K.value === eX.QO.Video ? "video" : "image",
                            traceId: ed.value
                        }),
                        [4, eA()];
                    case 1:
                        if (Y = R.sent(),
                        et.value = !0,
                        !(null == Y ? void 0 : Y.result))
                            return uQ.C.trackerPublishCheck({
                                type: K.value === eX.QO.Video ? "video" : "image",
                                result: null == Y ? void 0 : Y.toastMsg,
                                traceId: ed.value
                            }),
                            et.value = !1,
                            [2];
                        if (tt.kg.info(eX.Eb.GetFormDataSuccess, {
                            data: O,
                            traceId: ed.value
                        }, eX.b5.ImagePublish),
                        null === (S = window) || void 0 === S || null === (M = S.eaglet) || void 0 === M || M.push(el.tracker["7733"]({
                            errorDesc: "开始发布_".concat(ed.value, "_").concat((0,
                            ap.DZ)(String(new Date)))
                        })),
                        null === (V = window) || void 0 === V || null === (_ = V.eaglet) || void 0 === _ || _.push(el.tracker["8316"]({
                            channelTabId: "1",
                            channelTabName: K.value === eX.QO.Video ? "发布视频-发布" : "发布图文-发布"
                        })),
                        !(null === (B = y.publishConfig) || void 0 === B ? void 0 : B.validator))
                            return [3, 3];
                        return [4, null === (X = y.publishConfig) || void 0 === X ? void 0 : X.validator(O)];
                    case 2:
                        return R.sent(),
                        handlePublish(O),
                        [3, 4];
                    case 3:
                        handlePublish(O),
                        R.label = 4;
                    case 4:
                        return [3, 6];
                    case 5:
                        return handlePostJSError(R.sent()),
                        [3, 6];
                    case 6:
                        return [2]
                    }
                })
            }),
            function publish() {
                return v.apply(this, arguments)
            }
            );
            return {
                isPublishing: et,
                hasBeenPublished: en,
                submitBtnText: (0,
                ec.computed)(function() {
                    return Q.value ? "定时发布" : "发布"
                }),
                handlePublish: n1()(ew, 1e3, {
                    leading: !0,
                    trailing: !1
                }),
                handleCancel: function() {
                    var n, d, v, m, h, N, k, I;
                    null === (I = window) || void 0 === I || null === (k = I.eaglet) || void 0 === k || k.push(el.tracker["9568"]({
                        fileFormat: (null === (n = C.value) || void 0 === n ? void 0 : n.Format) || (null === (h = M.value) || void 0 === h ? void 0 : null === (m = h[0]) || void 0 === m ? void 0 : null === (v = m.origin) || void 0 === v ? void 0 : null === (d = v.file) || void 0 === d ? void 0 : d.type) || "",
                        fileSize: (null === (N = x.value) || void 0 === N ? void 0 : N.fsize) || "",
                        noteEditSource: 1,
                        route: (0,
                        uR.q)() || -999
                    })),
                    y.cancelPublisher()
                }
            }
        }
          , uH = {
            class: "formbox"
        }
          , uG = (0,
        ec.defineComponent)({
            __name: "index",
            setup: function(n) {
                var d = (0,
                ej.Jk)(e4()).plugins
                  , v = (0,
                ec.computed)(function() {
                    return d.value.filter(function(n) {
                        return n.position === eX.eE.Extension
                    }).sort(function(n, d) {
                        var v, m;
                        return (null !== (v = d.priority) && void 0 !== v ? v : 10) - (null !== (m = n.priority) && void 0 !== m ? m : 10)
                    })
                });
                return console.log("[seven] extensionPlugins info:", v),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", uH, [((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(v.value, function(n) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createBlock)(n6, {
                            key: n.key,
                            plugin: n
                        }, null, 8, ["plugin"])
                    }), 128))])
                }
            }
        });
        let uY = (0,
        eN.default)(uG, [["__scopeId", "data-v-619b3356"]]);
        var uW = ["data-impression"]
          , uq = {
            class: "commerce"
        }
          , uX = {
            key: 0,
            width: "12",
            height: "10",
            viewBox: "0 0 12 10",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
          , uK = {
            class: "submit"
        }
          , u$ = {
            key: 1,
            class: "marker"
        }
          , u0 = (0,
        ec.defineComponent)({
            __name: "Index",
            setup: function(n) {
                var d, v, m, h = this, y = (0,
                eH.Z)(), N = y.onEditPageShow, k = (0,
                e$.Z)(), I = (0,
                ej.Jk)(k).userInfo, C = (0,
                ej.Jk)((0,
                eY.Z)()), x = C.selectedOrder, M = C.postTime, S = (0,
                e0.Z)(), _ = (0,
                ej.Jk)(S).skipTranscoding, B = (0,
                eG.ZP)(), O = (0,
                ej.Jk)(B), U = O.videoUrl, z = O.video, Z = O.cover, Q = O.needTranscode, J = (O.videoFile,
                O.title), H = O.descLength, G = O.transcodeVideoUrl, Y = O.draftConfig, W = O.videoBlobUrl, q = (0,
                to.Z)(), X = (0,
                t$.Z)().buildDraftData, K = (0,
                ej.Jk)((0,
                eq.Z)()).goodsContext, $ = (0,
                ec.computed)(function() {
                    return Q.value ? G.value : U.value
                }), ee = (0,
                ej.Jk)(y), et = (ee.step,
                ee.noteId), en = ee.status, ea = ee.theme, eo = ee.publishType, er = ee.isPublishing, ei = ee.systemId, eu = ee.unFoldList, es = (ee.themeColor,
                ee.hasBeenPublishSuccess), ed = ee.isUploadingCover, ev = (0,
                ej.Jk)(e4()).plugins, em = (0,
                ec.computed)(function() {
                    return ev.value.filter(function(n) {
                        return n.position === eX.eE.VideoCover
                    })
                }), ef = (0,
                ec.computed)(function() {
                    return ev.value.filter(function(n) {
                        return n.position === eX.eE.AboveSettings
                    })
                }), ep = (0,
                ec.computed)(function() {
                    return ev.value.filter(function(n) {
                        return n.position === eX.eE.Commerce
                    }).sort(function(n, d) {
                        var v, m;
                        return (null !== (v = n.priority) && void 0 !== v ? v : 100) - (null !== (m = d.priority) && void 0 !== m ? m : 100)
                    })
                }), eg = (0,
                ec.computed)(function() {
                    var n;
                    return eu.value.includes("commerce") || (null === (n = ep.value) || void 0 === n ? void 0 : n.length) === 1
                }), eh = (0,
                ec.computed)(function() {
                    return {
                        commerce: eg.value
                    }
                });
                (0,
                ec.computed)(function() {
                    return I.value.id
                });
                var ey = usePublish()
                  , eN = ey.submitBtnText
                  , ek = ey.handleCancel
                  , eI = ey.handlePublish
                  , eC = (0,
                ec.computed)(function() {
                    return I.value.kolCoOrder
                })
                  , eb = (0,
                ec.computed)(function() {
                    return _.value ? en.value === eX.qb.Preview || !!W.value : en.value === eX.qb.Preview
                })
                  , eE = (0,
                ec.computed)(function() {
                    return en.value === eX.qb.Preview
                })
                  , eA = (0,
                ec.computed)(function() {
                    var n = !(z.value.fileid && y.finishedFirstTranscode && !ed.value);
                    return !n && e7.Z.setStart("earliestEnablePublish"),
                    n
                })
                  , ew = (0,
                ec.computed)(function() {
                    return !J.value && !H.value && (!z.value.fileid || !Z.value.fileid) && !0
                })
                  , ex = (0,
                ec.ref)(!1)
                  , eT = (0,
                ec.ref)(0)
                  , eM = (0,
                ec.ref)(null)
                  , markerUploaded = function(n) {
                    ex.value = !1,
                    n && (z.value.videoMarks = n,
                    eT.value = n.length)
                }
                  , closeMarker = function() {
                    ex.value = !1
                }
                  , openMarker = function() {
                    ex.value = !0
                }
                  , coverUploaded = function(n) {
                    var d = n.file
                      , v = n.frametime
                      , m = n.uploadCover;
                    Z.value.fileid = d.id,
                    eM.value = d,
                    z.value.coverInfo = d,
                    d.width && (h.cover.width = d.width),
                    d.height && (h.cover.height = d.height),
                    (0 !== v || m) && (z.value.frame.userSelect = !0),
                    z.value.frame.ts = v
                }
                  , eS = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["50979"]({
                        noteEditSource: 1,
                        noteType: eo.value === eX.QO.Image ? 1 : 3
                    }))
                })
                  , e_ = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["50980"]({
                        noteEditSource: 1
                    }))
                });
                var eV = (d = (0,
                V._)(function() {
                    var n, d, v, m, h, y, N, k, I;
                    return (0,
                    R.Jh)(this, function(y) {
                        switch (y.label) {
                        case 0:
                            if (!((null == Y ? void 0 : null === (n = Y.value) || void 0 === n ? void 0 : n.disableDefaultDraft) && (null == Y ? void 0 : null === (v = Y.value) || void 0 === v ? void 0 : null === (d = v.save) || void 0 === d ? void 0 : d.handler)))
                                return [3, 8];
                            if (null != Y)
                                return [3, 1];
                            return [3, 7];
                        case 1:
                            if (null !== (h = Y.value) && void 0 !== h)
                                return [3, 2];
                            return N = void 0,
                            [3, 6];
                        case 2:
                            if (null !== (m = h.save) && void 0 !== m)
                                return [3, 3];
                            return k = void 0,
                            [3, 5];
                        case 3:
                            return I = m.handler,
                            [4, X()];
                        case 4:
                            k = I.apply(m, [y.sent()]),
                            y.label = 5;
                        case 5:
                            N = k,
                            y.label = 6;
                        case 6:
                            y.label = 7;
                        case 7:
                            y.label = 8;
                        case 8:
                            return [2]
                        }
                    })
                }),
                function manualSaveDraft() {
                    return d.apply(this, arguments)
                }
                )
                  , getChoosed = function(n) {
                    var d, v, m;
                    return "goods" === n ? !!(null === (v = K.value) || void 0 === v ? void 0 : null === (d = v.goodsDetail) || void 0 === d ? void 0 : d.skuId) : "orders" === n && !!(null === (m = x.value) || void 0 === m ? void 0 : m.orderId)
                }
                  , eD = (0,
                t$.Z)({
                    beforeSave: function() {
                        return !ew.value
                    }
                }).saveDraft;
                var eB = (v = (0,
                V._)(function() {
                    var n, d;
                    return (0,
                    R.Jh)(this, function(v) {
                        switch (v.label) {
                        case 0:
                            if (ew.value)
                                return [2];
                            return null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["63117"]({
                                noteEditSource: et.value ? 2 : 1,
                                noteType: eo.value === eX.QO.Video ? 3 : 1,
                                publicationTimeSetting: M.value ? "scheduled" : "now"
                            })),
                            [4, eD()];
                        case 1:
                            return v.sent() ? (nY.A.success("保存成功"),
                            t8.X.trackerDraftSavedSuccess({
                                title: J.value,
                                type: "video"
                            }),
                            ek()) : (nY.A.error("草稿保存失败"),
                            t8.X.trackerDraftSavedFail({
                                title: J.value,
                                type: "video"
                            })),
                            [2]
                        }
                    })
                }),
                function handleSaveDraft() {
                    return v.apply(this, arguments)
                }
                );
                (0,
                ec.onUnmounted)(function() {
                    !es.value && (eD(),
                    q.resetAll())
                });
                var eL = (m = (0,
                V._)(function() {
                    var n, d, v, m, h, y, N;
                    return (0,
                    R.Jh)(this, function(h) {
                        switch (h.label) {
                        case 0:
                            if (!(null == Y ? void 0 : null === (d = Y.value) || void 0 === d ? void 0 : null === (n = d.cancel) || void 0 === n ? void 0 : n.handler))
                                return [3, 4];
                            if (null !== (v = (m = Y.value.cancel).handler) && void 0 !== v)
                                return [3, 1];
                            return [3, 3];
                        case 1:
                            return y = v.call,
                            N = [m],
                            [4, X()];
                        case 2:
                            y.apply(v, N.concat([h.sent()])),
                            h.label = 3;
                        case 3:
                            return [2];
                        case 4:
                            return [4, eB()];
                        case 5:
                            return h.sent(),
                            q.resetAll(),
                            ek(),
                            [2]
                        }
                    })
                }),
                function manualCancel() {
                    return m.apply(this, arguments)
                }
                );
                return (0,
                ec.onMounted)(function() {
                    tl.s1.trackerEnterPublishPage()
                }),
                function(n, d) {
                    var v = (0,
                    ec.resolveComponent)("el-tab-pane")
                      , m = (0,
                    ec.resolveComponent)("el-tabs");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        id: "publish-container",
                        "data-impression": e_.value,
                        class: "publish-container"
                    }, [(0,
                    ec.createVNode)(ae, {
                        onOnshow: d[0] || (d[0] = function(n) {
                            return (0,
                            ec.unref)(N) && (0,
                            ec.unref)(N)("video")
                        }
                        )
                    }), $.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(uB, {
                        key: $.value
                    })) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.withDirectives)((0,
                    ec.createVNode)(o8, {
                        "collapse-setting": eh.value,
                        title: (0,
                        ec.unref)(nK).PUBLISH_VIDEO,
                        onOnBack: eL
                    }, (0,
                    ec.createSlots)({
                        "media-area": (0,
                        ec.withCtx)(function() {
                            var n, d;
                            return [(0,
                            ec.createVNode)(uT, {
                                ref: "videoCover",
                                onCoverUploaded: coverUploaded
                            }, null, 512), (null === (d = em.value) || void 0 === d ? void 0 : null === (n = d[0]) || void 0 === n ? void 0 : n.key) ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(n6, {
                                key: em.value[0].key,
                                plugin: em.value[0]
                            }, null, 8, ["plugin"])) : (0,
                            ec.createCommentVNode)("", !0)]
                        }),
                        form: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(n7)]
                        }),
                        extension: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(uY)]
                        }),
                        "media-addon": (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(a0, {
                                enable: eb.value
                            }, null, 8, ["enable"]), (0,
                            ec.createVNode)(i6, {
                                enable: eE.value,
                                show: ex.value,
                                onOpen: openMarker
                            }, null, 8, ["enable", "show"]), ((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(ef.value, function(n, d) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    key: d
                                }, [(0,
                                ec.createVNode)(n6, {
                                    plugin: n
                                }, null, 8, ["plugin"])])
                            }), 128))]
                        }),
                        settings: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(oZ, {
                                "cooperation-permission": eC.value,
                                "hide-collection": !1
                            }, null, 8, ["cooperation-permission"])]
                        }),
                        submit: (0,
                        ec.withCtx)(function() {
                            var n;
                            return [(0,
                            ec.createElementVNode)("div", uK, [(0,
                            ec.createVNode)((0,
                            ec.unref)(nl.gj), {
                                class: "publishBtn",
                                "data-impression": eS.value,
                                loading: (0,
                                ec.unref)(er),
                                color: (0,
                                ec.unref)(ea),
                                disabled: eA.value,
                                size: "large",
                                onClick: (0,
                                ec.unref)(eI)
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(eN)), 1)]
                                }),
                                _: 1
                            }, 8, ["data-impression", "loading", "color", "disabled", "onClick"]), (null === (n = (0,
                            ec.unref)(Y)) || void 0 === n ? void 0 : n.save) ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(ni.Z), {
                                key: 0,
                                disabled: eA.value,
                                size: "large",
                                class: "saveBtn",
                                onClick: eV
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    var n, d;
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((null === (d = (0,
                                    ec.unref)(Y)) || void 0 === d ? void 0 : null === (n = d.save) || void 0 === n ? void 0 : n.buttonText) || "保存"), 1)]
                                }),
                                _: 1
                            }, 8, ["disabled"])) : (0,
                            ec.createCommentVNode)("", !0), "web" === (0,
                            ec.unref)(ei) ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(nl.G$), {
                                key: 1,
                                disabled: ew.value,
                                size: "large",
                                onClick: eB
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[2] || (d[2] = [(0,
                                    ec.createTextVNode)(" 暂存离开 ")])
                                }),
                                _: 1
                            }, 8, ["disabled"])) : (0,
                            ec.createCommentVNode)("", !0)])]
                        }),
                        preview: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(iq)]
                        }),
                        _: 2
                    }, [ep.value.length ? {
                        name: "commerce",
                        fn: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", uq, [ep.value.length > 1 ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(m, {
                                key: 0,
                                lazy: ""
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [((0,
                                    ec.openBlock)(!0),
                                    (0,
                                    ec.createElementBlock)(ec.Fragment, null, (0,
                                    ec.renderList)(ep.value, function(n) {
                                        return (0,
                                        ec.openBlock)(),
                                        (0,
                                        ec.createBlock)(v, {
                                            key: n.key
                                        }, {
                                            label: (0,
                                            ec.withCtx)(function() {
                                                return [(0,
                                                ec.createElementVNode)("span", null, [(0,
                                                ec.createTextVNode)((0,
                                                ec.toDisplayString)(n.commerceName) + " ", 1), getChoosed(n.key) ? ((0,
                                                ec.openBlock)(),
                                                (0,
                                                ec.createElementBlock)("svg", uX, d[1] || (d[1] = [(0,
                                                ec.createElementVNode)("path", {
                                                    d: "M3.92161 7.15118L4.02806 7.25496L4.13279 7.14945L10.3218 0.914056C10.6632 0.57005 11.2277 0.560907 11.5808 0.894017C11.9317 1.2251 11.9407 1.76905 11.6013 2.11094L4.67824 9.08594C4.51293 9.25249 4.28515 9.34806 4.04577 9.34997C3.8064 9.35188 3.577 9.25997 3.40887 9.09605L0.408873 6.17105C0.0637089 5.83451 0.063709 5.29049 0.408873 4.95396C0.756161 4.61535 1.32076 4.61535 1.66805 4.95396L3.92161 7.15118Z",
                                                    fill: "currentColor"
                                                }, null, -1)]))) : (0,
                                                ec.createCommentVNode)("", !0)])]
                                            }),
                                            default: (0,
                                            ec.withCtx)(function() {
                                                return [((0,
                                                ec.openBlock)(),
                                                (0,
                                                ec.createBlock)(n6, {
                                                    key: n.key,
                                                    plugin: n
                                                }, null, 8, ["plugin"]))]
                                            }),
                                            _: 2
                                        }, 1024)
                                    }), 128))]
                                }),
                                _: 1
                            })) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(n6, {
                                key: ep.value[0].key,
                                plugin: ep.value[0]
                            }, null, 8, ["plugin"]))])]
                        }),
                        key: "0"
                    } : void 0]), 1032, ["collapse-setting", "title"]), [[ec.vShow, !ex.value]]), ex.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", u$, [(0,
                    ec.createVNode)(ch, {
                        show: ex.value,
                        onClose: closeMarker,
                        onMarkerUploaded: markerUploaded
                    }, null, 8, ["show"])])) : (0,
                    ec.createCommentVNode)("", !0)], 8, uW)
                }
            }
        });
        let u1 = (0,
        eN.default)(u0, [["__scopeId", "data-v-141f333e"]]);
        var u2 = v(95267)
          , u4 = {
            PUBLISH_IMAGE: "发布图文",
            IMAGE_EDIT: "图片编辑",
            PUBLISH_SETTING: "发布设置",
            I_SEE: "我知道了",
            COMMON_EMO: "常用表情",
            RED_EMO: "小红薯表情",
            CANCEL: "取消",
            TOPIC: "话题",
            USER: "用户",
            EMO: "表情",
            BIND_AFTER_PUBLISH: "绑定手机号后才可发布笔记哦",
            REQUIRE_BIND_PHONE: "根据国家法律法规，发布笔记需要绑定手机号， 前往APP端「设置」-「账户与安全」-「手机号」",
            WRITE_TITLE_HAS_ZAN: "填写标题会有更多赞哦～",
            WRITE_DESC: "在这里输入正文描述，真诚有价值的分享予人温暖"
        };
        v(82427),
        v(36062),
        v(57057);
        var u3 = {
            class: "format-img"
        }
          , u5 = ["src"]
          , u8 = ["src"]
          , u6 = (0,
        ec.defineComponent)({
            __name: "FormatImg",
            props: {
                img: {
                    type: Object,
                    required: !0
                },
                objectFit: {
                    type: String,
                    default: "contain"
                }
            },
            setup: function(n) {
                var d = (0,
                ec.ref)(!1)
                  , urlLoaded = function() {
                    d.value = !0
                };
                return function(d, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", u3, [(0,
                    ec.withDirectives)(((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("img", {
                        key: n.img.previewUrl,
                        src: n.img.previewUrl,
                        alt: "",
                        class: "img preview",
                        style: (0,
                        ec.normalizeStyle)({
                            "object-fit": n.objectFit
                        })
                    }, null, 12, u5)), [[ec.vShow, n.img.previewUrl]]), (0,
                    ec.withDirectives)(((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("img", {
                        key: n.img.url,
                        src: n.img.url,
                        alt: "",
                        class: "img",
                        style: (0,
                        ec.normalizeStyle)({
                            "object-fit": n.objectFit
                        }),
                        onLoad: urlLoaded
                    }, null, 44, u8)), [[ec.vShow, !n.img.previewUrl]])])
                }
            }
        });
        let u9 = (0,
        eN.default)(u6, [["__scopeId", "data-v-39bc45eb"]])
          , u7 = {
            class: "sign-item"
        }
          , se = {
            class: "sign-tab"
        }
          , st = ["onClick"]
          , sn = {
            key: 0,
            class: "recommend"
        }
          , sa = {
            key: 1,
            class: "nohas-down"
        }
          , so = {
            key: 0,
            class: "loading"
        }
          , sr = {
            key: 1,
            class: "nohas-list"
        }
          , si = {
            key: 0,
            class: "loading-noimg",
            src: lm,
            alt: ""
        }
          , sl = {
            key: 1,
            class: "loading-noimg",
            src: lf,
            alt: ""
        }
          , sc = {
            key: 2,
            class: "loading-noimg",
            src: lp,
            alt: ""
        }
          , su = {
            class: "loading-nofont"
        }
          , ss = ["onClick"]
          , sd = ["src"]
          , sv = {
            class: "sign-name"
        }
          , sm = {
            key: 0,
            class: "icon-box"
        }
          , sf = {
            key: 0,
            src: ly
        }
          , sp = {
            key: 1,
            src: lN
        }
          , sg = {
            class: "sign-note"
        }
          , sh = ["onClick"]
          , sy = {
            class: "sign-store"
        }
          , sN = ["src"]
          , sk = {
            class: "store-msg"
        }
          , sI = {
            class: "store-name"
        }
          , sC = {
            class: "store-price"
        }
          , sb = ["onClick"]
          , sE = {
            class: "sign-address"
        }
          , sA = {
            class: "address-name"
        }
          , sw = {
            class: "address-subname"
        };
        function Signvue_type_template_id_f1c0dbd6_scoped_true_render(n, d, v, m, h, y) {
            let N = (0,
            ec.resolveComponent)("SearchInput");
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", u7, [(0,
            ec.createElementVNode)("div", se, [((0,
            ec.openBlock)(!0),
            (0,
            ec.createElementBlock)(ec.Fragment, null, (0,
            ec.renderList)(h.signTitle, (n,d)=>((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                key: d,
                class: (0,
                ec.normalizeClass)(["tab-item", {
                    "tab-item-font": h.activeTitle === d
                }]),
                onClick: v=>y.changeTitle(d, n)
            }, [h.activeTitle === d ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                key: 0,
                class: (0,
                ec.normalizeClass)(`tab-item-active tab-item-active-${y.theme}`)
            }, null, 2)) : (0,
            ec.createCommentVNode)("", !0), (0,
            ec.createTextVNode)(" " + (0,
            ec.toDisplayString)(n.name), 1)], 10, st))), 128))]), (0,
            ec.createVNode)(N, {
                modelValue: h.searchValue,
                "onUpdate:modelValue": [d[0] || (d[0] = n=>h.searchValue = n), y.handleSearch],
                placeholder: h.activeType.searchPlaceholder,
                class: "search"
            }, null, 8, ["modelValue", "placeholder", "onUpdate:modelValue"]), h.searchValue ? (0,
            ec.createCommentVNode)("", !0) : ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", sn, (0,
            ec.toDisplayString)(y.signItem.recommend), 1)), h.signList && 0 !== h.signList.length ? (0,
            ec.createCommentVNode)("", !0) : ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("ul", sa, [h.loading ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("span", so, d[4] || (d[4] = [(0,
            ec.createElementVNode)("img", {
                class: "loadingImg",
                src: lv
            }, null, -1), (0,
            ec.createElementVNode)("span", {
                class: "loading-font"
            }, "加载中,请稍后...", -1)]))) : ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("span", sr, ["user" === h.activeType.type ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("img", si)) : (0,
            ec.createCommentVNode)("", !0), "goods" === h.activeType.type ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("img", sl)) : (0,
            ec.createCommentVNode)("", !0), "location" === h.activeType.type ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("img", sc)) : (0,
            ec.createCommentVNode)("", !0), (0,
            ec.createElementVNode)("div", su, (0,
            ec.toDisplayString)(y.signItem.msg), 1)]))])), "user" === h.activeType.type ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                key: 2,
                class: "recommend-list",
                onScroll: d[1] || (d[1] = n=>y.handleScorll(n))
            }, [((0,
            ec.openBlock)(!0),
            (0,
            ec.createElementBlock)(ec.Fragment, null, (0,
            ec.renderList)(h.signList, (n,d)=>((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                key: d,
                class: "sign-list",
                onClick: v=>y.getActiveSign(d, n)
            }, [(0,
            ec.createElementVNode)("div", null, [(0,
            ec.createElementVNode)("img", {
                class: "sign-image",
                src: n.userBaseDto.image,
                alt: ""
            }, null, 8, sd)]), (0,
            ec.createElementVNode)("div", null, [(0,
            ec.createElementVNode)("span", sv, [(0,
            ec.createTextVNode)((0,
            ec.toDisplayString)(n.userBaseDto.userNickname) + " ", 1), n.userBaseDto.showRedOfficialVerifyIcon ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("span", sm, [2 === n.userBaseDto.redOfficialVerifyType ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("img", sf)) : (0,
            ec.createCommentVNode)("", !0), 1 === n.userBaseDto.redOfficialVerifyType ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("img", sp)) : (0,
            ec.createCommentVNode)("", !0)])) : (0,
            ec.createCommentVNode)("", !0)]), (0,
            ec.createElementVNode)("span", sg, [(0,
            ec.createElementVNode)("span", null, (0,
            ec.toDisplayString)(n.desc), 1)])])], 8, ss))), 128))], 32)) : (0,
            ec.createCommentVNode)("", !0), "goods" === h.activeType.type ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                key: 3,
                class: "recommend-list",
                onScroll: d[2] || (d[2] = n=>y.handleScorll(n))
            }, [((0,
            ec.openBlock)(!0),
            (0,
            ec.createElementBlock)(ec.Fragment, null, (0,
            ec.renderList)(h.signList, (n,v)=>((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                key: v,
                class: "sign-list",
                onClick: d=>y.getActiveSign(v, n)
            }, [(0,
            ec.createElementVNode)("div", sy, [(0,
            ec.createElementVNode)("img", {
                class: "sign-store-image",
                src: n.image,
                alt: ""
            }, null, 8, sN)]), (0,
            ec.createElementVNode)("div", sk, [(0,
            ec.createElementVNode)("span", sI, (0,
            ec.toDisplayString)(n.subtitle), 1), (0,
            ec.createElementVNode)("span", sC, [d[5] || (d[5] = (0,
            ec.createElementVNode)("em", {
                class: "money-info"
            }, "\xa5", -1)), (0,
            ec.createTextVNode)(" " + (0,
            ec.toDisplayString)(n.price), 1)])])], 8, sh))), 128))], 32)) : (0,
            ec.createCommentVNode)("", !0), "location" === h.activeType.type ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                key: 4,
                class: "recommend-list",
                onScroll: d[3] || (d[3] = n=>y.debounce(y.handleScorll(n), 1e3))
            }, [((0,
            ec.openBlock)(!0),
            (0,
            ec.createElementBlock)(ec.Fragment, null, (0,
            ec.renderList)(h.signList, (n,d)=>((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                key: d,
                class: "sign-list",
                onClick: v=>y.getActiveSign(d, n)
            }, [(0,
            ec.createElementVNode)("div", sE, [(0,
            ec.createElementVNode)("span", sA, (0,
            ec.toDisplayString)(n.name), 1), (0,
            ec.createElementVNode)("span", sw, (0,
            ec.toDisplayString)(n.fullAddress), 1)])], 8, sb))), 128))], 32)) : (0,
            ec.createCommentVNode)("", !0)])
        }
        var sx = {
            components: {
                SearchInput: lk.Z
            },
            props: {
                uid: {
                    type: String,
                    default: ""
                }
            },
            data: ()=>({
                showModal: !1,
                signList: [],
                signTitle: [{
                    type: "user",
                    name: "用户",
                    suggested: !0,
                    searchPlaceholder: "搜索用户"
                }, {
                    type: "location",
                    name: "地点",
                    suggested: !0,
                    searchPlaceholder: "搜索地点"
                }],
                activeTitle: 0,
                activeSign: -1,
                activeType: {
                    searchPlaceholder: "搜索用户",
                    type: "user"
                },
                signs: {},
                keyword: "",
                searchValue: "",
                searchContext: "",
                page: 1,
                pageSize: 20,
                loading: !1,
                latitude: 0,
                longitude: 0,
                initSearch: !1
            }),
            computed: {
                theme() {
                    let {theme: n} = (0,
                    eH.Z)();
                    return n
                },
                signItem() {
                    return "user" === this.activeType.type ? {
                        recommend: "为你推荐",
                        msg: "没有找到相关用户,换个词试试吧"
                    } : "location" === this.activeType.type ? {
                        recommend: "为你推荐",
                        msg: "没有找到相关地点,换个词试试吧"
                    } : {
                        recommend: "我的商品",
                        msg: "没有找到相关商品,换个词试试吧"
                    }
                }
            },
            created() {
                this.getPositionJurisdiction()
            },
            mounted() {
                this.handleSearch()
            },
            methods: {
                debounce: n1(),
                async getLabelCategory() {
                    !this.initSearch && this.uid && (this.getSignInfo(),
                    this.initSearch = !0)
                },
                async getSignInfo() {
                    !this.longitude && !this.latitude && await this.getPositionJurisdiction();
                    let n = {
                        userGeo: {
                            latitude: this.latitude,
                            longitude: this.longitude
                        }
                    };
                    if (this.loading = !0,
                    "user" === this.activeType.type) {
                        let d = {
                            keyword: this.keyword,
                            page: {
                                page: this.page,
                                pageSize: this.pageSize
                            },
                            type: this.activeType.type,
                            geoInfo: JSON.stringify(n),
                            searchId: "",
                            sourceEnum: 2
                        }
                          , v = await (0,
                        nq.nN)(d);
                        if (1 === this.page)
                            this.signList = v.users || v.goods || [];
                        else {
                            let n = v.users || v.goods || [];
                            this.signList = [...this.signList, ...n]
                        }
                    } else {
                        let n = {
                            keyword: this.keyword,
                            page: this.page,
                            size: this.pageSize,
                            longitude: this.longitude,
                            latitude: this.latitude,
                            source: "WEB",
                            searchContext: this.searchContext || void 0,
                            type: this.keyword ? nq.MW.Foreign : nq.MW.Nearby
                        }
                          , d = await (0,
                        nq.vn)(n);
                        if (1 === this.page)
                            this.signList = d.poiList || [];
                        else {
                            let n = d.poiList || [];
                            d.searchContext && (this.searchContext = d.searchContext),
                            this.signList = (0,
                            G.uniqBy)([...this.signList, ...n], "poiId") || []
                        }
                    }
                    this.loading = !1
                },
                handleScorll: n1()(function t(n) {
                    let d = n.target.scrollTop
                      , v = n.target.clientHeight;
                    d + v >= n.target.scrollHeight - 200 && "" !== this.searchValue && !this.loading && (this.page += 1,
                    this.getSignInfo())
                }, 1e3),
                init() {
                    this.activeTitle = 0,
                    this.activeSign = -1,
                    this.searchValue = "",
                    this.keyword = "",
                    this.page = 1,
                    this.signList = [],
                    this.activeType = {
                        searchPlaceholder: "搜索用户",
                        type: "user"
                    },
                    this.signs = {}
                },
                cancel() {
                    this.showModal = !1,
                    this.init()
                },
                confirm() {
                    this.$emit("get-signs", this.signs),
                    this.showModal = !1,
                    this.init()
                },
                handleSearch: n1()(function s() {
                    this.keyword = this.searchValue,
                    this.loading = !0,
                    this.page = 1,
                    this.getSignInfo()
                }, 1e3),
                changeTitle(n, d) {
                    this.activeTitle = n,
                    this.activeSign = -1,
                    this.activeType = d,
                    this.signList = [],
                    this.loading = !0,
                    this.page = 1,
                    this.getSignInfo()
                },
                getActiveSign(n, d) {
                    this.activeSign = n,
                    this.signs = d,
                    this.$emit("select-item", n, d)
                },
                async getPositionJurisdiction() {
                    return new Promise(n=>{
                        try {
                            window.navigator.geolocation.getCurrentPosition(d=>{
                                let {latitude: v, longitude: m} = d.coords;
                                this.latitude = v,
                                this.longitude = m,
                                n()
                            }
                            , d=>{
                                console.error(d),
                                n()
                            }
                            , {
                                timeout: 1e3
                            })
                        } catch (d) {
                            n()
                        }
                    }
                    )
                }
            }
        };
        let sT = (0,
        eN.default)(sx, [["render", Signvue_type_template_id_f1c0dbd6_scoped_true_render], ["__scopeId", "data-v-f1c0dbd6"]]);
        var sM = {
            class: "content"
        }
          , sS = {
            class: "left"
        }
          , s_ = {
            class: "imgbg"
        }
          , sV = ["src"]
          , sD = {
            class: "marker-engine"
        }
          , sB = {
            class: "right"
        }
          , sL = {
            class: "footer"
        }
          , sP = {
            class: "scroll-container"
        }
          , sO = {
            class: "img-list"
        }
          , sR = {
            class: "btn-group"
        }
          , sU = (0,
        ec.defineComponent)({
            __name: "MarkerModal",
            props: {
                uid: {},
                imgList: {},
                showAddMarker: {
                    type: Boolean
                }
            },
            emits: ["cancel-marker", "on-change"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                ec.ref)()
                  , h = (0,
                ec.ref)(null)
                  , y = (0,
                ec.ref)(!1)
                  , N = (0,
                ej.Jk)((0,
                eH.Z)())
                  , k = (N.theme,
                N.themeColor)
                  , I = (0,
                ec.ref)(1);
                (0,
                ec.watch)(function() {
                    return n.imgList[0]
                }, function(n) {
                    var d;
                    I.value = (null == n ? void 0 : null === (d = n.file) || void 0 === d ? void 0 : d.ratio) || 1
                }, {
                    deep: !0
                });
                var C = (0,
                ec.ref)(0)
                  , x = (0,
                ec.computed)(function() {
                    var n;
                    return null == h ? void 0 : null === (n = h.value) || void 0 === n ? void 0 : n[C.value]
                });
                (0,
                ec.onMounted)(function() {
                    C.value = 0
                });
                var M = (0,
                ec.computed)(function() {
                    return n.showAddMarker
                });
                (0,
                ec.watch)(function() {
                    return n.showAddMarker
                }, function(d) {
                    setTimeout(function() {
                        y.value = d
                    }, 100),
                    d && (h.value = e5()(n.imgList))
                });
                var selectImg = function(n, d) {
                    C.value = d
                }
                  , selectItem = function(n, d) {
                    var v, h, y = videoMarkGenerator(d);
                    y.config.container_size = "{".concat(null === (v = m.value) || void 0 === v ? void 0 : v.height, ", ").concat(null === (h = m.value) || void 0 === h ? void 0 : h.width, "}"),
                    y.config.unit_center = "{0.5, 0.5}",
                    y.config.anchor_center = null,
                    y.config.markY = .5,
                    y.key = Date.now().toString(),
                    y.active = !0,
                    x.value && (x.value.markers = x.value.markers || [],
                    x.value.markers.some(function(n) {
                        return !!n.active && (n.active = !1,
                        !0)
                    }),
                    x.value.markers.push(y))
                };
                (0,
                ec.provide)("img-shadow-list", h);
                var cancel = function() {
                    h.value = null,
                    v("cancel-marker")
                }
                  , confirm = function() {
                    h.value && (v("on-change", e5()(h.value)),
                    h.value = null),
                    v("cancel-marker")
                };
                return function(n, d) {
                    var v = (0,
                    ec.resolveComponent)("el-button");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(ai.d0), {
                        id: "img-note-modal",
                        size: "xl",
                        modelValue: M.value,
                        "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                            return M.value = n
                        }
                        ),
                        "append-to-body": "",
                        title: "添加标记",
                        "footer-position": "center",
                        width: 950,
                        onClose: cancel
                    }, {
                        footer: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", sL, [(0,
                            ec.createElementVNode)("div", sP, [(0,
                            ec.createElementVNode)("div", sO, [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(n.imgList, function(n, d) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    key: d,
                                    class: (0,
                                    ec.normalizeClass)(["img-container", {
                                        active: d === C.value
                                    }]),
                                    style: (0,
                                    ec.normalizeStyle)({
                                        width: "".concat(40 * I.value, "px")
                                    })
                                }, [(0,
                                ec.createVNode)(u9, {
                                    img: n,
                                    onClick: function(v) {
                                        return selectImg(n, d)
                                    }
                                }, null, 8, ["img", "onClick"])], 6)
                            }), 128))])]), (0,
                            ec.createElementVNode)("div", sR, [(0,
                            ec.createElementVNode)("button", {
                                class: "cancel",
                                onClick: cancel
                            }, " 取消 "), (0,
                            ec.createVNode)(v, {
                                color: (0,
                                ec.unref)(k),
                                class: "confirm",
                                onClick: confirm
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[2] || (d[2] = [(0,
                                    ec.createTextVNode)(" 确定 ")])
                                }),
                                _: 1
                            }, 8, ["color"])])])]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            var v;
                            return [(0,
                            ec.createElementVNode)("div", sM, [(0,
                            ec.createElementVNode)("div", sS, [(0,
                            ec.createElementVNode)("div", s_, [(0,
                            ec.createElementVNode)("img", {
                                ref_key: "markerImg",
                                ref: m,
                                class: "img",
                                src: null === (v = x.value) || void 0 === v ? void 0 : v.url
                            }, null, 8, sV), (0,
                            ec.createElementVNode)("div", sD, [y.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(it, {
                                key: 0,
                                "img-list": n.imgList,
                                editable: !0,
                                "current-index": C.value
                            }, null, 8, ["img-list", "current-index"])) : (0,
                            ec.createCommentVNode)("", !0)])])]), d[1] || (d[1] = (0,
                            ec.createElementVNode)("div", {
                                class: "line"
                            }, null, -1)), (0,
                            ec.createElementVNode)("div", sB, [(0,
                            ec.createVNode)(sT, {
                                ref: "sign",
                                uid: n.uid,
                                onSelectItem: selectItem
                            }, null, 8, ["uid"])])])]
                        }),
                        _: 1
                    }, 8, ["modelValue"])
                }
            }
        });
        let sj = (0,
        eN.default)(sU, [["__scopeId", "data-v-15518f68"]]);
        var sF = {
            class: "chapter-container"
        }
          , sz = {
            class: "add-box"
        }
          , sZ = {
            class: "flex-row"
        }
          , sQ = {
            class: "add-boxfont"
        }
          , sJ = {
            key: 0,
            class: "add-length"
        }
          , sH = (0,
        ec.defineComponent)({
            __name: "MarkerBtn",
            props: {
                images: {},
                uid: {}
            },
            emits: ["on-change"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                ec.ref)()
                  , h = (0,
                ec.computed)(function() {
                    var d;
                    return !!(null === (d = n.images) || void 0 === d ? void 0 : d.length)
                })
                  , y = (0,
                ec.computed)(function() {
                    return n.images.reduce(function(n, d) {
                        var v;
                        return ((null === (v = d.markers) || void 0 === v ? void 0 : v.length) || 0) + n
                    }, 0)
                })
                  , N = (0,
                ec.ref)(!1)
                  , k = (0,
                ej.Jk)((0,
                eH.Z)())
                  , I = k.theme
                  , C = k.noteId
                  , x = (0,
                ec.computed)(function() {
                    return y.value ? "修改" : "添加标记"
                })
                  , handleMarkerChange = function(n) {
                    v("on-change", n)
                }
                  , cancelMarker = function() {
                    N.value = !1
                }
                  , M = JSON.stringify(el.tracker["31259"]())
                  , handleAdd = function() {
                    var d, v, m, h;
                    null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["31260"]()),
                    null === (m = window) || void 0 === m || m.eaglet.push(el.tracker["63115"]({
                        channelTabName: "标记",
                        noteEditSource: C.value ? 2 : 1,
                        noteType: 1
                    })),
                    (null === (h = n.images) || void 0 === h ? void 0 : h.length) ? N.value = !0 : nY.A.error("请上传图片")
                };
                return function(n, d) {
                    var v, k = (0,
                    ec.resolveComponent)("el-popover");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, [(0,
                    ec.createElementVNode)("div", sF, [(0,
                    ec.createElementVNode)("div", sz, [(0,
                    ec.createElementVNode)("div", sZ, [d[1] || (d[1] = (0,
                    ec.createElementVNode)("img", {
                        class: "marker-icon",
                        src: iX
                    }, null, -1)), (0,
                    ec.createElementVNode)("div", sQ, [d[0] || (d[0] = (0,
                    ec.createElementVNode)("p", {
                        class: "add-videochapter"
                    }, "标记人或地点让重点突出", -1)), y.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("p", sJ, "已添加" + (0,
                    ec.toDisplayString)(y.value) + "个标记", 1)) : (0,
                    ec.createCommentVNode)("", !0)])]), (0,
                    ec.createVNode)((0,
                    ec.unref)(nl.zx), {
                        ref_key: "btnRef",
                        ref: m,
                        class: (0,
                        ec.normalizeClass)([(null === (v = n.images) || void 0 === v ? void 0 : v.length) ? "has-click" : "nohas-click"]),
                        "data-impression": (0,
                        ec.unref)(M),
                        disabled: !h.value,
                        color: (0,
                        ec.unref)(I),
                        onClick: handleAdd
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createTextVNode)((0,
                            ec.toDisplayString)(x.value), 1)]
                        }),
                        _: 1
                    }, 8, ["class", "data-impression", "disabled", "color"]), (0,
                    ec.createVNode)(k, {
                        ref: "popoverRef",
                        "show-arrow": "",
                        "virtual-ref": m.value,
                        placement: "left",
                        trigger: "hover",
                        title: "至少上传成功一张图片可添加标记",
                        disabled: h.value,
                        "popper-class": "img-marker-popper"
                    }, null, 8, ["virtual-ref", "disabled"])])]), (0,
                    ec.createVNode)(sj, {
                        ref: "cropperModal",
                        "img-list": n.images,
                        uid: n.uid,
                        "show-add-marker": N.value,
                        onCancelMarker: cancelMarker,
                        onOnChange: handleMarkerChange
                    }, null, 8, ["img-list", "uid", "show-add-marker"])], 64)
                }
            }
        });
        let sG = (0,
        eN.default)(sH, [["__scopeId", "data-v-63d8b705"]]);
        var sY = v(2128)
          , sW = v.n(sY)
          , sq = v(95006)
          , sX = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMSIgaGVpZ2h0PSIxMSIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDExIDExIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNi4zNTUgNS44IDkuODYgMi4yOTRhLjgxNy44MTcgMCAwIDAtMS4xNTUtMS4xNTVMNS4yIDQuNjQ1IDEuNjk0IDEuMTM5QS44MTcuODE3IDAgMSAwIC41MzkgMi4yOTRMNC4wNDUgNS44LjUzOSA5LjMwNmEuODE3LjgxNyAwIDEgMCAxLjE1NSAxLjE1NUw1LjIgNi45NTVsMy41MDYgMy41MDZBLjgxNy44MTcgMCAwIDAgOS44NiA5LjMwNnoiLz48L3N2Zz4="
          , sK = {
            class: "center"
        }
          , s$ = (0,
        ec.defineComponent)({
            __name: "Process",
            props: {
                percent: {
                    type: Number,
                    default: 0
                }
            },
            setup: function(n) {
                var d = (0,
                ec.computed)(function() {
                    return 100 * n.percent
                });
                return function(n, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", sK, [(0,
                    ec.createElementVNode)("div", {
                        class: "inner",
                        style: (0,
                        ec.normalizeStyle)({
                            width: "".concat(d.value, "%")
                        })
                    }, null, 4)])
                }
            }
        });
        let s0 = (0,
        eN.default)(s$, [["__scopeId", "data-v-71b9c0ac"]]);
        var s1 = v(16914)
          , s2 = {
            class: "img-container",
            style: {
                height: "98px",
                width: "98px",
                marginRight: "6px"
            }
        }
          , s4 = {
            key: 0,
            class: "mask uploading"
        }
          , s3 = ["src"]
          , s5 = {
            key: 0,
            class: "btn-bottom hoverShow"
        }
          , s8 = {
            key: 2,
            class: "mask failed"
        }
          , s6 = ["src"]
          , s9 = {
            class: "center"
        }
          , s7 = ["src"]
          , de = (0,
        ec.defineComponent)({
            __name: "SingleImg",
            props: {
                img: {}
            },
            emits: ["remove", "re-upload", "edit", "update"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                ec.computed)(function() {
                    return n.img.status
                })
                  , h = (0,
                s1.Z)((0,
                ec.ref)([n.img]));
                h.beforeUpload,
                h.getAcceptTypes,
                h.getInitialImg;
                var reUpload = function() {
                    v("reUpload")
                }
                  , remove = function() {
                    v("remove")
                }
                  , edit = function() {
                    v("edit")
                };
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", s2, [(0,
                    ec.createVNode)(u9, {
                        img: n.img,
                        "object-fit": "cover"
                    }, null, 8, ["img"]), m.value === (0,
                    ec.unref)(eX.wW).uploading ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", s4, [(0,
                    ec.createVNode)(s0, {
                        percent: n.img.progress
                    }, null, 8, ["percent"])])) : (0,
                    ec.createCommentVNode)("", !0), m.value !== (0,
                    ec.unref)(eX.wW).uploadFailed ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        key: 1,
                        class: (0,
                        ec.normalizeClass)(["mask", {
                            prerender: m.value === (0,
                            ec.unref)(eX.wW).preRender
                        }])
                    }, [(0,
                    ec.createElementVNode)("div", {
                        class: "icon-close hoverShow",
                        onClick: remove
                    }, [(0,
                    ec.createElementVNode)("img", {
                        src: (0,
                        ec.unref)(sX),
                        class: "icon"
                    }, null, 8, s3)]), m.value !== (0,
                    ec.unref)(eX.wW).preRender ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", s5, [(0,
                    ec.createElementVNode)("div", {
                        class: "btn edit",
                        onClick: edit
                    }, " 编辑 "), d[0] || (d[0] = (0,
                    ec.createElementVNode)("div", {
                        class: "line"
                    }, null, -1)), (0,
                    ec.createElementVNode)("div", {
                        class: "btn reupload",
                        onClick: reUpload
                    }, " 替换 ")])) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(sq.Z), {
                        key: 1,
                        color: "#FFFfff",
                        size: 20,
                        "text-bs": {
                            color: "#FFFFFF"
                        },
                        text: "正在处理中"
                    }))], 2)) : (0,
                    ec.createCommentVNode)("", !0), m.value === (0,
                    ec.unref)(eX.wW).uploadFailed ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", s8, [(0,
                    ec.createElementVNode)("div", {
                        class: "icon-close hoverShow",
                        onClick: remove
                    }, [(0,
                    ec.createElementVNode)("img", {
                        src: (0,
                        ec.unref)(sX),
                        class: "icon"
                    }, null, 8, s6)]), (0,
                    ec.createElementVNode)("div", s9, [(0,
                    ec.createElementVNode)("img", {
                        src: (0,
                        ec.unref)("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNyIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE3IDE2Ij48cGF0aCBmaWxsPSIjODg4IiBkPSJNNy42MjYgNS43NzdjLS4wMTQtLjQ4Ni4zNTYtLjg4OC44MTgtLjg4OHMuODMzLjQwMi44MTkuODg4bC0uMTY1IDMuNzc5Yy0uMDExLjM3MS0uMy42NjYtLjY1NC42NjYtLjM1MiAwLS42NDItLjI5NS0uNjUzLS42NjZ6TTkuMjg5IDEyYzAgLjQ5LS4zNzguODg5LS44NDUuODg5UzcuNiAxMi40OSA3LjYgMTJzLjM3OC0uODg5Ljg0NC0uODg5Yy40NjcgMCAuODQ1LjM5OS44NDUuODg5Ii8+PHBhdGggZmlsbD0iIzg4OCIgZD0iTTIuMjY5IDE2QzEuMDE2IDE2IDAgMTQuOTYyIDAgMTMuNjgxYzAtLjM5NC4wOTgtLjc4Mi4yODYtMS4xMjZMNi40NiAxLjE5M2EyLjI0MyAyLjI0MyAwIDAgMSAzLjA4NS0uOWMuMzcuMjEuNjc2LjUyMi44ODIuOWw2LjE3NSAxMS4zNjJjLjYwOCAxLjEyLjIxNCAyLjUzMS0uODgyIDMuMTUzQTIuMjMgMi4yMyAwIDAgMSAxNC42MiAxNnptMC0xLjMzM2gxMi4zNWMuMTc4IDAgLjM1LS4wNDcuNTAxLS4xMzJhLjk3Ni45NzYgMCAwIDAgLjM4NC0xLjMxOEw5LjMyOCAxLjg1NWExLjAxIDEuMDEgMCAwIDAtMS43NjggMEwxLjM4NSAxMy4yMTdhMSAxIDAgMCAwLS4xMTguNDY0YzAgLjUwOC40MTMuOTg2IDEuMDAyLjk4NiIvPjwvc3ZnPg=="),
                        alt: "",
                        class: "warn"
                    }, null, 8, s7), d[1] || (d[1] = (0,
                    ec.createElementVNode)("div", {
                        class: "info"
                    }, "上传失败", -1))]), (0,
                    ec.createElementVNode)("div", {
                        class: "btn-bottom retry hoverShow",
                        onClick: reUpload
                    }, " 重新上传 ")])) : (0,
                    ec.createCommentVNode)("", !0)])
                }
            }
        });
        let dt = (0,
        eN.default)(de, [["__scopeId", "data-v-1361902e"]]);
        var dn = ["src"]
          , da = (0,
        ec.defineComponent)({
            __name: "UploadEntry",
            emits: ["upload"],
            setup: function(n, d) {
                var v = d.emit
                  , onUpload = function() {
                    var n, d;
                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["60048"]()),
                    v("upload")
                };
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        class: "entry",
                        onClick: onUpload
                    }, [(0,
                    ec.createElementVNode)("img", {
                        src: (0,
                        ec.unref)("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjODg4IiBkPSJNMjIuODg0IDEwLjg1NmgtOS44NzZWMS4xMjhjMC0uNjI0LS41LTEuMTI4LTEuMTE2LTEuMTI4LS42MTggMC0xLjExNy41MDQtMS4xMTcgMS4xMjh2OS43MjhIMS4xMTZDLjUgMTAuODU2IDAgMTEuMzYxIDAgMTEuOTg0YzAgLjYyNC41IDEuMTI4IDEuMTE2IDEuMTI4aDkuNjZ2OS43NmMwIC42MjQuNDk4IDEuMTI4IDEuMTE2IDEuMTI4LjYxNyAwIDEuMTE2LS41MDQgMS4xMTYtMS4xMjh2LTkuNzZoOS44NzZjLjYxNyAwIDEuMTE2LS41MDQgMS4xMTYtMS4xMjhzLS41LTEuMTI4LTEuMTE2LTEuMTI4Ii8+PG1hc2sgaWQ9ImEiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgeD0iMCIgeT0iMCIgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSIgc3R5bGU9Im1hc2stdHlwZTphbHBoYSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTIyLjg4NCAxMC44NTZoLTkuODc2VjEuMTI4YzAtLjYyNC0uNS0xLjEyOC0xLjExNi0xLjEyOC0uNjE4IDAtMS4xMTcuNTA0LTEuMTE3IDEuMTI4djkuNzI4SDEuMTE2Qy41IDEwLjg1NiAwIDExLjM2MSAwIDExLjk4NGMwIC42MjQuNSAxLjEyOCAxLjExNiAxLjEyOGg5LjY2djkuNzZjMCAuNjI0LjQ5OCAxLjEyOCAxLjExNiAxLjEyOC42MTcgMCAxLjExNi0uNTA0IDEuMTE2LTEuMTI4di05Ljc2aDkuODc2Yy42MTcgMCAxLjExNi0uNTA0IDEuMTE2LTEuMTI4cy0uNS0xLjEyOC0xLjExNi0xLjEyOCIvPjwvbWFzaz48L3N2Zz4="),
                        class: "icon"
                    }, null, 8, dn), d[0] || (d[0] = (0,
                    ec.createElementVNode)("div", {
                        class: "tip"
                    }, "添加", -1))])
                }
            }
        });
        let dr = (0,
        eN.default)(da, [["__scopeId", "data-v-958d9d96"]]);
        var di = {
            class: "cropper"
        }
          , dl = ["src"]
          , dc = {
            key: 1,
            class: "mask"
        }
          , du = (0,
        ec.defineComponent)({
            __name: "Cropper",
            props: {
                url: {
                    type: String
                },
                ratio: {
                    type: Number
                },
                ratioIndex: {
                    type: Number,
                    default: 0
                },
                cropData: {
                    type: Object,
                    default: function() {
                        return null
                    }
                },
                cropWhenReady: {
                    type: Boolean,
                    default: !1
                }
            },
            emits: ["cropped"],
            setup: function(n, d) {
                var v, m = d.expose, h = d.emit, y = (0,
                ec.ref)(null), N = (0,
                ec.ref)(""), k = (0,
                ec.ref)(!1), getCroppedImgFile = function() {
                    var n;
                    N.value = null === (n = v.getCroppedCanvas({
                        imageSmoothingQuality: "high"
                    })) || void 0 === n ? void 0 : n.toDataURL("image/jpeg")
                }, I = n1()(function() {
                    var d = v.getData()
                      , m = d.width / d.height;
                    getCroppedImgFile(),
                    h("cropped", {
                        ratio: m,
                        ratioIndex: n.ratioIndex,
                        base64: N.value,
                        data: d
                    })
                }, 300), initCropper = function() {
                    if (!v)
                        y.value && (v = new (cw())(y.value,{
                            viewMode: 1,
                            dragMode: "move",
                            zoomOnWheel: !1,
                            data: n.cropData,
                            aspectRatio: n.ratio,
                            autoCropArea: 1,
                            responsive: !1,
                            guides: !1,
                            rotatable: !1,
                            minCropBoxWidth: 60,
                            minCropBoxHeight: 60,
                            ready: function() {
                                k.value = !0,
                                n.cropWhenReady && I()
                            },
                            cropmove: function() {
                                I()
                            }
                        }))
                }, destroy = function() {
                    null == v || v.destroy()
                };
                return (0,
                ec.computed)(function() {
                    return n.ratio
                }),
                (0,
                ec.onMounted)(function() {
                    try {
                        initCropper()
                    } catch (n) {
                        throw console.error("init error:", n),
                        Error("init cropper error")
                    }
                }),
                (0,
                ec.onUnmounted)(function() {
                    try {
                        destroy()
                    } catch (n) {
                        throw console.error("destroy error:", n),
                        Error("destroy cropper error")
                    }
                }),
                m({
                    recover: function(n) {
                        null == v || v.setAspectRatio(n)
                    },
                    setRatio: function(n) {
                        null == v || v.setAspectRatio(n),
                        (0,
                        ec.nextTick)(function() {
                            I()
                        })
                    }
                }),
                function(d, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", di, [n.url ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("img", {
                        key: 0,
                        ref_key: "cropperRef",
                        ref: y,
                        src: n.url,
                        alt: "",
                        class: "img"
                    }, null, 8, dl)) : (0,
                    ec.createCommentVNode)("", !0), k.value ? (0,
                    ec.createCommentVNode)("", !0) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", dc, "loading..."))])
                }
            }
        });
        let ds = (0,
        eN.default)(du, [["__scopeId", "data-v-d8622e76"]]);
        var dd = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDIwIDIwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjAgMTBjMC01LjUyMy00LjQ3Ny0xMC0xMC0xMFMwIDQuNDc3IDAgMTBzNC40NzcgMTAgMTAgMTAgMTAtNC40NzcgMTAtMTBNOC4zIDEzLjNsMy4zLTMuMy0zLjMtMy4zYS44MzMuODMzIDAgMCAxIDEuMTc4LTEuMTc4bDMuNzMyIDMuNzMyYy40MTIuNDEyLjQxMiAxLjA4IDAgMS40OTJsLTMuNzMyIDMuNzMyQS44MzMuODMzIDAgMCAxIDguMyAxMy4zIi8+PC9zdmc+"
          , dv = ["src"]
          , dm = ["src"]
          , df = (0,
        ec.defineComponent)({
            __name: "ScrollContainer",
            props: {
                instance: {
                    type: Number,
                    default: 120
                },
                listKey: {
                    type: Number,
                    default: 0
                },
                customScrollContainerStyle: {
                    type: Object,
                    default: function() {
                        return {}
                    }
                }
            },
            emits: [],
            setup: function(n, d) {
                var v = d.expose;
                d.emit;
                var m = (0,
                ec.ref)()
                  , h = (0,
                ec.ref)(0)
                  , y = (0,
                ec.ref)(0)
                  , N = (0,
                ec.ref)(0)
                  , k = (0,
                ec.computed)(function() {
                    return N.value < y.value - h.value - 10
                })
                  , I = (0,
                ec.computed)(function() {
                    return N.value > 0
                })
                  , C = (0,
                ec.computed)(function() {
                    return y.value > h.value
                })
                  , scrollHandler = function(n) {
                    var d = n.target;
                    N.value = d.scrollLeft
                }
                  , resizeContainer = function() {
                    setTimeout(function() {
                        var n, d;
                        h.value = (null === (n = m.value) || void 0 === n ? void 0 : n.offsetWidth) || 0,
                        y.value = (null === (d = m.value) || void 0 === d ? void 0 : d.scrollWidth) || 0
                    }, 100)
                }
                  , x = (0,
                ec.computed)(function() {
                    return n.listKey
                })
                  , addScrollHandler = function() {
                    var n;
                    (0,
                    ec.watch)(x, function(n) {
                        resizeContainer()
                    }),
                    null === (n = m.value) || void 0 === n || n.addEventListener("scroll", scrollHandler)
                }
                  , removeScrollHandler = function() {
                    var n;
                    null === (n = m.value) || void 0 === n || n.removeEventListener("scroll", scrollHandler)
                }
                  , scrollMove = function(n) {
                    var d = N.value + n;
                    d = Math.max(0, d),
                    d = Math.min(y.value - h.value, d),
                    m.value && (m.value.scrollLeft = d)
                };
                return (0,
                ec.onMounted)(function() {
                    addScrollHandler(),
                    resizeContainer()
                }),
                (0,
                ec.onBeforeUnmount)(function() {
                    removeScrollHandler()
                }),
                v({
                    scrollMove: scrollMove,
                    resizeContainer: resizeContainer,
                    canScrollToRight: k,
                    canScrollToLeft: I
                }),
                function(d, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        class: "scroll-container",
                        style: (0,
                        ec.normalizeStyle)(n.customScrollContainerStyle)
                    }, [(0,
                    ec.createElementVNode)("div", {
                        ref_key: "scrollInner",
                        ref: m,
                        class: "scroll-inner"
                    }, [(0,
                    ec.renderSlot)(d.$slots, "default")], 512), C.value && I.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        key: 0,
                        class: "scroll-icon left",
                        onClick: v[0] || (v[0] = function(d) {
                            return scrollMove(-1 * n.instance)
                        }
                        )
                    }, [(0,
                    ec.createElementVNode)("img", {
                        src: (0,
                        ec.unref)(dd),
                        alt: "",
                        class: "icon"
                    }, null, 8, dv)])) : (0,
                    ec.createCommentVNode)("", !0), C.value && k.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        key: 1,
                        class: "scroll-icon right",
                        onClick: v[1] || (v[1] = function(d) {
                            return scrollMove(n.instance)
                        }
                        )
                    }, [(0,
                    ec.createElementVNode)("img", {
                        src: (0,
                        ec.unref)(dd),
                        alt: "",
                        class: "icon"
                    }, null, 8, dm)])) : (0,
                    ec.createCommentVNode)("", !0)], 4)
                }
            }
        });
        let dp = (0,
        eN.default)(df, [["__scopeId", "data-v-1e8944ca"]]);
        var dg = {
            key: 0,
            class: "content"
        }
          , dh = {
            class: "left"
        }
          , dy = {
            class: "right"
        }
          , dN = {
            class: "select-area"
        }
          , dk = ["onClick"]
          , dI = {
            class: "img-list"
        }
          , dC = {
            class: "btn-group"
        }
          , db = (0,
        ec.defineComponent)({
            __name: "ImgCropperModal",
            props: {
                imgList: {}
            },
            emits: ["update-cropped-info", "cancel-cropped-info"],
            setup: function(n, d) {
                var v = d.expose
                  , m = d.emit
                  , h = (0,
                ej.Jk)((0,
                eH.Z)())
                  , y = h.themeColor
                  , N = h.theme
                  , k = (0,
                ec.ref)(1);
                (0,
                ec.watch)(function() {
                    return n.imgList[0]
                }, function(n) {
                    var d;
                    k.value = null == n ? void 0 : null === (d = n.file) || void 0 === d ? void 0 : d.ratio
                }, {
                    deep: !0
                });
                var I = (0,
                ec.ref)()
                  , C = (0,
                ec.computed)(function() {
                    return n.imgList[I.value]
                })
                  , x = (0,
                ec.ref)(0)
                  , M = (0,
                ec.ref)(null)
                  , selectImg = function(n, d) {
                    I.value = d;
                    var v = n.croppedImg || {};
                    v.ratio;
                    var m = v.ratioIndex
                      , h = v.data;
                    x.value = m || 0,
                    M.value = h || null
                }
                  , S = (0,
                ec.computed)(function() {
                    var n, d, v, m, h;
                    return [{
                        value: C.value.useOrigin ? null === (v = C.value) || void 0 === v ? void 0 : null === (d = v.origin) || void 0 === d ? void 0 : null === (n = d.file) || void 0 === n ? void 0 : n.ratio : null === (h = C.value) || void 0 === h ? void 0 : null === (m = h.file) || void 0 === m ? void 0 : m.ratio,
                        name: "原始"
                    }, {
                        value: 1,
                        name: "1:1"
                    }, {
                        value: .75,
                        name: "3:4"
                    }, {
                        value: 4 / 3,
                        name: "4:3"
                    }]
                })
                  , _ = (0,
                ec.computed)(function() {
                    return S.value[x.value]
                })
                  , V = (0,
                ec.ref)(null)
                  , setRatio = function(n, d) {
                    x.value = d,
                    V.value.setRatio(n)
                }
                  , recover = function() {
                    if (console.log(C.value),
                    C.value.origin) {
                        var n = C.value.croppedImg || {};
                        n.ratio;
                        var d = n.ratioIndex
                          , v = n.data;
                        x.value = d || 0,
                        M.value = v || null,
                        C.value.useOrigin = !0
                    }
                }
                  , addCropInfo = function(n) {
                    C.value.croppedImg = n
                }
                  , B = (0,
                ec.ref)(!1)
                  , cancel = function() {
                    B.value = !1,
                    m("cancel-cropped-info")
                }
                  , confirm = function() {
                    B.value = !1,
                    m("update-cropped-info")
                };
                return v({
                    show: function() {
                        var d = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                        selectImg(n.imgList[d], d),
                        (0,
                        ec.nextTick)(function() {
                            B.value = !0
                        })
                    }
                }),
                function(n, d) {
                    var v = (0,
                    ec.resolveComponent)("el-button")
                      , m = (0,
                    ec.resolveComponent)("el-dialog");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(m, {
                        id: "img-note-modal",
                        size: "xl",
                        modelValue: B.value,
                        "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                            return B.value = n
                        }
                        ),
                        "append-to-body": "",
                        title: "图片编辑",
                        "footer-position": "center",
                        width: 950,
                        onClose: cancel
                    }, {
                        footer: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(dp, {
                                ref: "scrollContainer",
                                instance: 40 * k.value,
                                "list-key": n.imgList.length * (B.value ? 1 : -1)
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createElementVNode)("div", dI, [((0,
                                    ec.openBlock)(!0),
                                    (0,
                                    ec.createElementBlock)(ec.Fragment, null, (0,
                                    ec.renderList)(n.imgList, function(n, d) {
                                        return (0,
                                        ec.openBlock)(),
                                        (0,
                                        ec.createElementBlock)("div", {
                                            key: d,
                                            class: (0,
                                            ec.normalizeClass)(["img-container", {
                                                active: d === I.value
                                            }]),
                                            style: (0,
                                            ec.normalizeStyle)({
                                                width: "".concat(40 * k.value, "px")
                                            })
                                        }, [(0,
                                        ec.createVNode)(u9, {
                                            img: n,
                                            onClick: function(v) {
                                                return selectImg(n, d)
                                            }
                                        }, null, 8, ["img", "onClick"])], 6)
                                    }), 128))])]
                                }),
                                _: 1
                            }, 8, ["instance", "list-key"]), (0,
                            ec.createElementVNode)("div", dC, [(0,
                            ec.createElementVNode)("button", {
                                class: "cancel-button",
                                onClick: cancel
                            }, " 取消 "), (0,
                            ec.createVNode)(v, {
                                color: (0,
                                ec.unref)(y),
                                class: "btn-confirm",
                                onClick: confirm
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[4] || (d[4] = [(0,
                                    ec.createTextVNode)(" 确定 ")])
                                }),
                                _: 1
                            }, 8, ["color"])])]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            var n, v, m, h;
                            return [C.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", dg, [(0,
                            ec.createElementVNode)("div", dh, [C.value && B.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(ds, {
                                ref_key: "cropperRef",
                                ref: V,
                                key: (C.value.useOrigin ? (null === (n = C.value.origin) || void 0 === n ? void 0 : n.url) + "-origin" : null === (v = C.value) || void 0 === v ? void 0 : v.url) + I.value,
                                url: C.value.useOrigin ? null === (m = C.value.origin) || void 0 === m ? void 0 : m.url : null === (h = C.value) || void 0 === h ? void 0 : h.url,
                                ratio: _.value.value,
                                "ratio-index": x.value,
                                "crop-data": M.value,
                                "crop-when-ready": C.value.useOrigin,
                                onCropped: addCropInfo
                            }, null, 8, ["url", "ratio", "ratio-index", "crop-data", "crop-when-ready"])) : (0,
                            ec.createCommentVNode)("", !0), C.value.origin && C.value.url !== C.value.origin.url ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", {
                                key: 1,
                                class: "recover-area",
                                onClick: recover
                            }, d[1] || (d[1] = [(0,
                            ec.createElementVNode)("img", {
                                src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBmaWxsPSIjM0E2NEZGIiBkPSJNOCAxLjJhNi44IDYuOCAwIDAgMC00Ljg4OCAxMS41MjhsLjY0NS0uNjQ1YS40LjQgMCAwIDEgLjY4My4yODNWMTQuNmEuNC40IDAgMCAxLS40LjRIMS44MDZhLjQuNCAwIDAgMS0uMjgzLS42ODNsLjc0LS43NEE4IDggMCAwIDEgMTEuMTEyLjYyN2EuNi42IDAgMCAxLS40NjcgMS4xMDVBNi44IDYuOCAwIDAgMCA4IDEuMk0xMy4yODMgNS4yMzdsLjYxOC0uNjE4YTYuOCA2LjggMCAwIDEtNy4yOTMgMTAuMDM5LjYuNiAwIDEgMC0uMjQ1IDEuMTc0IDggOCAwIDAgMCA4LjQxMi0xMi4wODhsLjc0Mi0uNzQxYS40LjQgMCAwIDAtLjI4My0uNjgzSDEzYS40LjQgMCAwIDAtLjQuNHYyLjIzNGEuNC40IDAgMCAwIC42ODMuMjgzIi8+PC9zdmc+"
                            }, null, -1), (0,
                            ec.createTextVNode)(" 恢复原图 ")]))) : (0,
                            ec.createCommentVNode)("", !0)]), d[3] || (d[3] = (0,
                            ec.createElementVNode)("div", {
                                class: "line"
                            }, null, -1)), (0,
                            ec.createElementVNode)("div", dy, [d[2] || (d[2] = (0,
                            ec.createElementVNode)("div", {
                                class: "title"
                            }, "比例选择", -1)), (0,
                            ec.createElementVNode)("div", dN, [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(S.value, function(n, d) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    key: d,
                                    class: "option",
                                    onClick: function(v) {
                                        return setRatio(n.value, d)
                                    }
                                }, [(0,
                                ec.createElementVNode)("div", {
                                    class: (0,
                                    ec.normalizeClass)(["graph", {
                                        active: x.value === d,
                                        red: (0,
                                        ec.unref)(N) === (0,
                                        ec.unref)(eX.h6).red,
                                        blue: (0,
                                        ec.unref)(N) === (0,
                                        ec.unref)(eX.h6).blue
                                    }]),
                                    style: (0,
                                    ec.normalizeStyle)({
                                        "aspect-ratio": n.value
                                    })
                                }, (0,
                                ec.toDisplayString)(n.name), 7)], 8, dk)
                            }), 128))])])])) : (0,
                            ec.createCommentVNode)("", !0)]
                        }),
                        _: 1
                    }, 8, ["modelValue"])
                }
            }
        });
        let dE = (0,
        eN.default)(db, [["__scopeId", "data-v-a2c5b030"]]);
        var dA = v(43858)
          , dw = v(59408)
          , dx = {
            class: "img-list"
        }
          , dT = {
            class: "top",
            style: {
                justifyContent: "space-between"
            }
        }
          , dM = {
            class: "title-area"
        }
          , dS = ["accept"]
          , d_ = ["accept"]
          , dV = {
            class: "img-upload-area"
        }
          , dD = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                imgList: {}
            },
            emits: ["on-change"],
            setup: function(n, d) {
                var v, m, h, y = d.expose, N = d.emit, k = (0,
                dA.Z)(), I = k.uploadFile, C = k.uploadFiles, x = (0,
                ec.computed)(function() {
                    return n.imgList.length >= tr.Dt
                }), M = (0,
                ec.computed)(function() {
                    return !x.value
                }), S = (0,
                ec.ref)(!1), _ = (0,
                ec.ref)(!1), B = (0,
                ec.ref)();
                (0,
                ec.provide)("uploadFile", I);
                var O = (0,
                ej.Jk)((0,
                eH.Z)())
                  , U = (O.theme,
                O.themeColor)
                  , z = (0,
                s1.Z)((0,
                ec.toRef)(n, "imgList"))
                  , Z = z.validateFiles
                  , Q = z.getAcceptTypes
                  , J = z.getInitialImgList
                  , H = z.getInitialImg
                  , G = z.getUploadFiles
                  , Y = z.beforeUpload
                  , W = (0,
                ec.ref)()
                  , q = (0,
                ec.ref)()
                  , X = (0,
                ec.ref)(null)
                  , removeItem = function(d) {
                    if (1 === n.imgList.length)
                        nY.A.error("删除不成功，发布笔记需要至少保留1张照片");
                    else {
                        var v = n.imgList.slice();
                        v.splice(d, 1),
                        N("on-change", v)
                    }
                }
                  , uploadMore = function() {
                    if (n.imgList.length === tr.Dt)
                        nY.A.error("上传失败，最多可选择".concat(tr.Dt, "张图片"));
                    else {
                        var d;
                        S.value = !1,
                        null === (d = W.value) || void 0 === d || d.click()
                    }
                }
                  , K = -1
                  , reUploadOne = function(n) {
                    var d;
                    null === (d = q.value) || void 0 === d || d.click(),
                    K = n
                }
                  , edit = function(n) {
                    X.value.show(n)
                }
                  , seeInfo = function(d) {
                    e8._.info("info:", n.imgList[d])
                }
                  , update = function(d, v) {
                    var m = (0,
                    ee._)(n.imgList);
                    return m[v] = d,
                    m
                }
                  , append = function(d) {
                    var v = (0,
                    ee._)(n.imgList);
                    return v.push.apply(v, (0,
                    ee._)(d)),
                    v
                }
                  , cancelRefresh = function() {
                    _.value = !1
                }
                  , confirmRefresh = function() {
                    var n, d, v;
                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["60047"]()),
                    _.value = !1,
                    S.value = !0,
                    null === (v = W.value) || void 0 === v || v.click()
                }
                  , tryResetUpload = function() {
                    var n, d;
                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["60049"]()),
                    _.value = !0
                };
                var $ = (v = (0,
                V._)(function() {
                    return (0,
                    R.Jh)(this, function(n) {
                        return S.value && (N("on-change", []),
                        S.value = !1),
                        (0,
                        ec.nextTick)((0,
                        V._)(function() {
                            var n, d, v, m, h, y, N;
                            return (0,
                            R.Jh)(this, function(k) {
                                switch (k.label) {
                                case 0:
                                    tl.Db.trackImageUploadStep("start"),
                                    d = Array.from((null === (n = W.value) || void 0 === n ? void 0 : n.files) || []),
                                    k.label = 1;
                                case 1:
                                    return k.trys.push([1, 4, , 5]),
                                    [4, Z(d)];
                                case 2:
                                    return v = k.sent(),
                                    tl.Db.trackImageUploadStep("afterValidateFiles"),
                                    [4, Y(v)];
                                case 3:
                                    return m = k.sent(),
                                    tl.Db.trackImageUploadStep("afterBeforeUpload"),
                                    h = J(m),
                                    tl.Db.trackImageUploadStep("afterGetInitialImgList"),
                                    y = G(h),
                                    tl.Db.trackImageUploadStep("afterGetUploadFiles"),
                                    e2.eC.modifyImgList({
                                        imgList: append(h)
                                    }),
                                    tl.Db.trackImageUploadStep("afterModifyImgList"),
                                    C({
                                        files: y,
                                        onFileFinish: function(n, d, v) {
                                            var m = y[Number(v.Index)].key;
                                            m && e2.eC.modifyImg({
                                                key: m,
                                                data: {
                                                    status: n ? eX.wW.uploadFailed : eX.wW.uploadSuccess,
                                                    fileId: v.Key
                                                }
                                            })
                                        }
                                    }),
                                    W.value && (W.value.value = ""),
                                    (0,
                                    ec.nextTick)(function() {
                                        return setTimeout(function() {
                                            var n;
                                            return null === (n = B.value) || void 0 === n ? void 0 : n.scrollMove(108 * tr.Dt)
                                        }, 200)
                                    }),
                                    [3, 5];
                                case 4:
                                    return N = k.sent(),
                                    nY.A.error(N),
                                    tl.Db.trackerImageUploadFileCatch(N),
                                    [3, 5];
                                case 5:
                                    return [2]
                                }
                            })
                        })),
                        [2]
                    })
                }),
                function onFileInput() {
                    return v.apply(this, arguments)
                }
                );
                var et = (m = (0,
                V._)(function() {
                    var n, d, v, m, h, y, N;
                    return (0,
                    R.Jh)(this, function(k) {
                        switch (k.label) {
                        case 0:
                            tl.Db.trackImageUploadStep("start"),
                            d = Array.from((null === (n = q.value) || void 0 === n ? void 0 : n.files) || []),
                            k.label = 1;
                        case 1:
                            return k.trys.push([1, 4, , 5]),
                            [4, Z(d, "exchange")];
                        case 2:
                            return v = k.sent(),
                            tl.Db.trackImageUploadStep("afterValidateFiles"),
                            [4, Y(v)];
                        case 3:
                            return m = k.sent(),
                            tl.Db.trackImageUploadStep("afterBeforeUpload"),
                            h = J(m),
                            tl.Db.trackImageUploadStep("afterGetInitialImgList"),
                            y = G(h),
                            tl.Db.trackImageUploadStep("afterGetUploadFiles"),
                            e2.eC.modifyImgList({
                                imgList: update(h[0], K)
                            }),
                            tl.Db.trackImageUploadStep("afterModifyImgList"),
                            C({
                                files: y,
                                onFileFinish: function(n, d, v) {
                                    var m = y[Number(v.Index)].key;
                                    m && e2.eC.modifyImg({
                                        key: m,
                                        data: {
                                            status: n ? eX.wW.uploadFailed : eX.wW.uploadSuccess,
                                            fileId: v.Key
                                        }
                                    })
                                }
                            }),
                            K = -1,
                            q.value && (q.value.value = ""),
                            (0,
                            ec.nextTick)(function() {
                                return setTimeout(function() {
                                    var n;
                                    return null === (n = B.value) || void 0 === n ? void 0 : n.scrollMove(108 * tr.Dt)
                                }, 200)
                            }),
                            [3, 5];
                        case 4:
                            return N = k.sent(),
                            nY.A.error(N),
                            tl.Db.trackerImageUploadFileCatch(N),
                            [3, 5];
                        case 5:
                            return [2]
                        }
                    })
                }),
                function onSingleFileInput() {
                    return m.apply(this, arguments)
                }
                )
                  , constructNewFile = function(n) {
                    if (n.croppedImg) {
                        var d = (0,
                        uU.Ll)(n.croppedImg.base64, n.file.name);
                        return d.width = n.croppedImg.data.width,
                        d.height = n.croppedImg.data.height,
                        d.ratio = n.croppedImg.ratio,
                        d
                    }
                    return null
                }
                  , updateCroppedInfo = function() {
                    var d = {};
                    n.imgList.forEach(function(n, v) {
                        var m = constructNewFile(n);
                        m && (d[v] = H(m, eX.wW.preUpload, {
                            origin: n.origin
                        })),
                        n.useOrigin = void 0
                    }),
                    Object.keys(d).forEach(function(v) {
                        var m = n.imgList[v].markers;
                        if (m) {
                            var h = d[v].file.ratio
                              , y = 300 * h;
                            m.forEach(function(n) {
                                n.config.container_size = "{".concat(300, ", ").concat(y, "}")
                            }),
                            d[v].markers = m
                        }
                        var N = d[v]
                          , k = G([N]);
                        C({
                            files: k,
                            onFileFinish: function(n, d, v) {
                                var m = k[Number(v.Index)].key;
                                m && e2.eC.modifyImg({
                                    key: m,
                                    data: {
                                        status: n ? eX.wW.uploadFailed : eX.wW.uploadSuccess,
                                        fileId: v.Key
                                    }
                                })
                            }
                        }),
                        e2.eC.modifyImgList({
                            imgList: update(N, Number(v))
                        })
                    })
                }
                  , cancelCroppedInfo = function() {
                    n.imgList.forEach(function(n, d) {
                        n.croppedImg = null,
                        n.useOrigin = void 0
                    })
                }
                  , handleDrag = function(d) {
                    if (!!(null == d ? void 0 : d.moved))
                        N("on-change", (0,
                        ee._)(n.imgList))
                };
                return y({
                    recover: (h = (0,
                    V._)(function(d) {
                        var v, m, h, y, N, k, I;
                        return (0,
                        R.Jh)(this, function(k) {
                            var C, x;
                            switch (k.label) {
                            case 0:
                                n.imgList = d,
                                n.imgList.forEach(function(n) {
                                    n.status = eX.wW.beforeFetchCDNUrl
                                }),
                                v = 0,
                                k.label = 1;
                            case 1:
                                if (!(v < d.length))
                                    return [3, 13];
                                k.label = 2;
                            case 2:
                                return k.trys.push([2, 8, , 9]),
                                [4, (0,
                                nq.Jn)(d[v].fileId)];
                            case 3:
                                ;m = k.sent(),
                                n.imgList[v].url = m,
                                n.imgList[v].previewUrl = (C = m,
                                "".concat(C, "&imageView2/rq/1/format/jpg")),
                                n.imgList[v].status = eX.wW.afterFetchCDNUrl,
                                k.label = 4;
                            case 4:
                                ;return k.trys.push([4, 6, , 7]),
                                h = m,
                                [4, (x = m,
                                new Promise(function(n, d) {
                                    var v = setTimeout(function() {
                                        e8._.info("超时，保留使用CDN url"),
                                        n(x)
                                    }, 2e4);
                                    (0,
                                    dw.f7)(x).then(function(d) {
                                        var m = (0,
                                        uU.Uu)(d);
                                        e8._.info("blobUrl:", m),
                                        n(m),
                                        clearTimeout(v)
                                    })
                                }
                                ))];
                            case 5:
                                return y = k.sent(),
                                h === n.imgList[v].url && (n.imgList[v].url = y),
                                [3, 7];
                            case 6:
                                return N = k.sent(),
                                e8._.error("转blob url失败:", N),
                                [3, 7];
                            case 7:
                                return [3, 9];
                            case 8:
                                return k.sent(),
                                n.imgList[v] && (n.imgList[v].status = eX.wW.uploadFailed),
                                [3, 9];
                            case 9:
                                if (!(null == (I = d[v].origin) ? void 0 : I.fileId))
                                    return [3, 11];
                                return [4, (0,
                                nq.Jn)(I.fileId)];
                            case 10:
                                return I.url = k.sent(),
                                I.status = eX.wW.afterFetchCDNUrl,
                                [3, 12];
                            case 11:
                                d[v].origin = null,
                                k.label = 12;
                            case 12:
                                return v++,
                                [3, 1];
                            case 13:
                                return [2]
                            }
                        })
                    }),
                    function recover(n) {
                        return h.apply(this, arguments)
                    }
                    )
                }),
                function(n, d) {
                    var v = (0,
                    ec.resolveComponent)("el-button");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", dx, [(0,
                    ec.createElementVNode)("div", dT, [(0,
                    ec.createElementVNode)("div", dM, [d[1] || (d[1] = (0,
                    ec.createElementVNode)("div", {
                        class: "title"
                    }, "图片编辑", -1)), (0,
                    ec.createElementVNode)("div", {
                        class: (0,
                        ec.normalizeClass)(x.value ? "status warning" : "status")
                    }, "(" + (0,
                    ec.toDisplayString)(n.imgList.length) + "/" + (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tr.Dt)) + ")", 3)]), (0,
                    ec.createElementVNode)("input", {
                        ref_key: "uploadInput",
                        ref: W,
                        type: "file",
                        hidden: "",
                        multiple: "",
                        accept: (0,
                        ec.unref)(Q)(),
                        alt: "",
                        onChange: $
                    }, null, 40, dS), (0,
                    ec.createElementVNode)("input", {
                        ref_key: "uploadSingleInput",
                        ref: q,
                        type: "file",
                        hidden: "",
                        accept: (0,
                        ec.unref)(Q)(),
                        alt: "",
                        onChange: et
                    }, null, 40, d_), (0,
                    ec.createElementVNode)("span", {
                        class: "reset-upload",
                        onClick: tryResetUpload
                    }, " 清空并重新上传 ")]), (0,
                    ec.createElementVNode)("div", dV, [M.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(dr, {
                        key: 0,
                        onUpload: uploadMore
                    })) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createElementVNode)("div", {
                        class: "img-preview-area",
                        style: (0,
                        ec.normalizeStyle)(M.value ? {
                            width: "calc(100% - 98px - 10px)"
                        } : {
                            width: "100%"
                        })
                    }, [(0,
                    ec.createVNode)(dp, {
                        ref_key: "scrollContainerRef",
                        ref: B,
                        "list-key": n.imgList.length,
                        "custom-scroll-container-style": {
                            marginBottom: 0
                        }
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(sW()), {
                                list: n.imgList,
                                "item-key": "key",
                                class: "flex-list",
                                onChange: handleDrag
                            }, {
                                item: (0,
                                ec.withCtx)(function(n) {
                                    var d = n.element
                                      , v = n.index;
                                    return [((0,
                                    ec.openBlock)(),
                                    (0,
                                    ec.createBlock)(dt, {
                                        key: d.fileId,
                                        index: v,
                                        img: d,
                                        onClick: (0,
                                        ec.withModifiers)(function(n) {
                                            return seeInfo(v)
                                        }, ["shift"]),
                                        onRemove: function(n) {
                                            return removeItem(v)
                                        },
                                        onReUpload: function(n) {
                                            return reUploadOne(v)
                                        },
                                        onEdit: function(n) {
                                            return edit(v)
                                        },
                                        onUpdate: function(n) {
                                            return update(n, v)
                                        }
                                    }, null, 8, ["index", "img", "onClick", "onRemove", "onReUpload", "onEdit", "onUpdate"]))]
                                }),
                                _: 1
                            }, 8, ["list"])]
                        }),
                        _: 1
                    }, 8, ["list-key"])], 4)]), n.imgList.length ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(dE, {
                        key: 0,
                        ref_key: "cropperModal",
                        ref: X,
                        "img-list": n.imgList,
                        onUpdateCroppedInfo: updateCroppedInfo,
                        onCancelCroppedInfo: cancelCroppedInfo
                    }, null, 8, ["img-list"])) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createVNode)((0,
                    ec.unref)(ai.d0), {
                        modelValue: _.value,
                        "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                            return _.value = n
                        }
                        ),
                        "append-to-body": "",
                        title: "提示",
                        width: 320,
                        onClose: cancelRefresh
                    }, {
                        footer: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("span", {
                                type: "text",
                                class: "cancel-btn",
                                onClick: cancelRefresh
                            }, " 取消 "), (0,
                            ec.createVNode)(v, {
                                color: (0,
                                ec.unref)(U),
                                class: "confirm-btn",
                                onClick: confirmRefresh
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[2] || (d[2] = [(0,
                                    ec.createTextVNode)(" 重新上传 ")])
                                }),
                                _: 1
                            }, 8, ["color"])]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            return [d[3] || (d[3] = (0,
                            ec.createElementVNode)("div", {
                                class: "warning-content"
                            }, "重新上传将会清空已上传的图片，是否重新上传？", -1))]
                        }),
                        _: 1
                    }, 8, ["modelValue"])])
                }
            }
        });
        let dB = (0,
        eN.default)(dD, [["__scopeId", "data-v-4b532c54"]]);
        var dL = ["data-impression"]
          , dP = {
            class: "commerce"
        }
          , dO = {
            key: 0,
            width: "12",
            height: "10",
            viewBox: "0 0 12 10",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
          , dR = {
            class: "submit"
        }
          , dU = (0,
        ec.defineComponent)({
            __name: "Index",
            setup: function(n) {
                var d, v, m, h = (0,
                e$.Z)(), y = (0,
                eH.Z)(), N = (0,
                eG.ZP)();
                (0,
                e0.Z)();
                var k = (0,
                ej.Jk)(h).userInfo
                  , I = (0,
                ej.Jk)(N)
                  , C = I.imgList
                  , x = I.draftConfig
                  , M = I.title
                  , S = I.descLength
                  , _ = (0,
                ej.Jk)(y)
                  , B = _.theme
                  , O = _.noteId
                  , U = _.publishType
                  , z = (_.hasBeenDraftReady,
                _.step,
                _.unFoldList)
                  , Z = (_.themeColor,
                _.hasBeenPublishSuccess)
                  , Q = _.systemId
                  , J = (0,
                ej.Jk)(e4()).plugins
                  , H = (0,
                t$.Z)().buildDraftData
                  , G = (0,
                ej.Jk)((0,
                eq.Z)()).goodsContext
                  , Y = (0,
                ej.Jk)((0,
                eY.Z)())
                  , W = Y.selectedOrder
                  , q = Y.postTime
                  , X = (0,
                ec.ref)(!1)
                  , K = (0,
                ec.computed)(function() {
                    return k.value.id
                })
                  , $ = (0,
                ec.computed)(function() {
                    return J.value.filter(function(n) {
                        return n.position === eX.eE.AboveSettings
                    })
                })
                  , ee = (0,
                ec.computed)(function() {
                    return J.value.filter(function(n) {
                        return n.position === eX.eE.Commerce
                    }).sort(function(n, d) {
                        var v, m;
                        return (null !== (v = n.priority) && void 0 !== v ? v : 100) - (null !== (m = d.priority) && void 0 !== m ? m : 100)
                    })
                })
                  , et = (0,
                ec.computed)(function() {
                    var n;
                    return z.value.includes("commerce") || (null === (n = ee.value) || void 0 === n ? void 0 : n.length) === 1
                })
                  , en = (0,
                ec.computed)(function() {
                    return {
                        commerce: et.value
                    }
                })
                  , ea = y.onEditPageShow
                  , eo = (0,
                ec.computed)(function() {
                    return !!Z.value || !M.value && !S.value && !(C.value.length > 0) && !0
                })
                  , handleUserBindPhoneClose = function() {
                    X.value = !1
                }
                  , handleImgListChange = function(n) {
                    n.length > tr.Dt ? (nY.A.warn("最多只允许添加".concat(tr.Dt, "张照片，超出部分未上传")),
                    e2.eC.modifyImgList({
                        imgList: n.slice(0, 18)
                    })) : e2.eC.modifyImgList({
                        imgList: n
                    })
                }
                  , er = usePublish({
                    handleUserNotBindPhone: function() {
                        X.value = !0
                    }
                })
                  , ei = er.submitBtnText
                  , eu = er.handleCancel
                  , es = er.handlePublish
                  , ed = er.isPublishing;
                er.hasBeenPublished;
                var ev = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["50979"]({
                        noteEditSource: 1,
                        noteType: U.value === eX.QO.Image ? 1 : 3
                    }))
                })
                  , em = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["50980"]({
                        noteEditSource: 1
                    }))
                });
                var ep = (d = (0,
                V._)(function() {
                    var n, d, v, m, h, y, N, k;
                    return (0,
                    R.Jh)(this, function(y) {
                        switch (y.label) {
                        case 0:
                            if (!((null == x ? void 0 : null === (n = x.value) || void 0 === n ? void 0 : n.disableDefaultDraft) && (null == x ? void 0 : null === (v = x.value) || void 0 === v ? void 0 : null === (d = v.save) || void 0 === d ? void 0 : d.handler)))
                                return [3, 4];
                            if (null !== (m = (h = x.value.save).handler) && void 0 !== m)
                                return [3, 1];
                            return [3, 3];
                        case 1:
                            return N = m.call,
                            k = [h],
                            [4, H()];
                        case 2:
                            N.apply(m, k.concat([y.sent()])),
                            y.label = 3;
                        case 3:
                            y.label = 4;
                        case 4:
                            return [2]
                        }
                    })
                }),
                function manualSaveDraft() {
                    return d.apply(this, arguments)
                }
                )
                  , getChoosed = function(n) {
                    var d, v, m;
                    return "goods" === n ? !!(null === (v = G.value) || void 0 === v ? void 0 : null === (d = v.goodsDetail) || void 0 === d ? void 0 : d.skuId) : "orders" === n && !!(null === (m = W.value) || void 0 === m ? void 0 : m.orderId)
                }
                  , eg = (0,
                t$.Z)({
                    beforeSave: function() {
                        return !eo.value
                    }
                }).saveDraft;
                var eh = (v = (0,
                V._)(function() {
                    var n, d;
                    return (0,
                    R.Jh)(this, function(v) {
                        switch (v.label) {
                        case 0:
                            return null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["63117"]({
                                noteEditSource: O.value ? 2 : 1,
                                noteType: U.value === eX.QO.Video ? 3 : 1,
                                publicationTimeSetting: q.value ? "scheduled" : "now"
                            })),
                            [4, eg()];
                        case 1:
                            return v.sent() ? (nY.A.success("保存成功"),
                            t8.X.trackerDraftSavedSuccess({
                                title: M.value,
                                type: "image"
                            }),
                            eu()) : (nY.A.error("草稿保存失败"),
                            t8.X.trackerDraftSavedFail({
                                title: M.value,
                                type: "image"
                            })),
                            [2]
                        }
                    })
                }),
                function handleSaveDraft() {
                    return v.apply(this, arguments)
                }
                );
                (0,
                ec.onUnmounted)(function() {
                    !Z.value && eg()
                });
                var ey = (m = (0,
                V._)(function() {
                    var n, d, v, m, h, y, N;
                    return (0,
                    R.Jh)(this, function(h) {
                        switch (h.label) {
                        case 0:
                            if (!(null == x ? void 0 : null === (d = x.value) || void 0 === d ? void 0 : null === (n = d.cancel) || void 0 === n ? void 0 : n.handler))
                                return [3, 4];
                            if (null !== (v = (m = x.value.cancel).handler) && void 0 !== v)
                                return [3, 1];
                            return [3, 3];
                        case 1:
                            return y = v.call,
                            N = [m],
                            [4, H()];
                        case 2:
                            y.apply(v, N.concat([h.sent()])),
                            h.label = 3;
                        case 3:
                            return [2];
                        case 4:
                            return [4, eh()];
                        case 5:
                            return h.sent(),
                            eu(),
                            [2]
                        }
                    })
                }),
                function manualCancel() {
                    return m.apply(this, arguments)
                }
                );
                return (0,
                ec.onMounted)(function() {
                    tl.Db.trackerEnterPublishPage()
                }),
                function(n, d) {
                    var v = (0,
                    ec.resolveComponent)("el-tab-pane")
                      , m = (0,
                    ec.resolveComponent)("el-tabs");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        "data-impression": em.value,
                        class: "publish-container"
                    }, [(0,
                    ec.createVNode)(ae, {
                        onOnshow: d[0] || (d[0] = function(n) {
                            return (0,
                            ec.unref)(ea) && (0,
                            ec.unref)(ea)("image")
                        }
                        )
                    }), (0,
                    ec.createVNode)(o8, {
                        "collapse-setting": en.value,
                        title: (0,
                        ec.unref)(u4).PUBLISH_IMAGE,
                        onOnBack: ey
                    }, (0,
                    ec.createSlots)({
                        "media-area": (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(dB, {
                                ref: "imgListRef",
                                "img-list": (0,
                                ec.unref)(C),
                                onOnChange: handleImgListChange
                            }, null, 8, ["img-list"])]
                        }),
                        form: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(n7)]
                        }),
                        extension: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(uY)]
                        }),
                        "media-addon": (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(sG, {
                                ref: "markerBtn",
                                uid: K.value,
                                images: (0,
                                ec.unref)(C),
                                onOnChange: handleImgListChange
                            }, null, 8, ["uid", "images"]), ((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)($.value, function(n, d) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    key: d
                                }, [(0,
                                ec.createVNode)(n6, {
                                    plugin: n
                                }, null, 8, ["plugin"])])
                            }), 128))]
                        }),
                        settings: (0,
                        ec.withCtx)(function() {
                            var n;
                            return [(0,
                            ec.createVNode)(oZ, {
                                "cooperation-permission": null === (n = (0,
                                ec.unref)(k)) || void 0 === n ? void 0 : n.kolCoOrder,
                                "hide-collection": !1
                            }, null, 8, ["cooperation-permission"])]
                        }),
                        preview: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(iq)]
                        }),
                        submit: (0,
                        ec.withCtx)(function() {
                            var n;
                            return [(0,
                            ec.createElementVNode)("div", dR, [(0,
                            ec.createVNode)((0,
                            ec.unref)(nl.gj), {
                                class: "publishBtn",
                                size: "large",
                                color: (0,
                                ec.unref)(B),
                                "data-impression": ev.value,
                                loading: (0,
                                ec.unref)(ed),
                                onClick: (0,
                                ec.unref)(es)
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(ei)), 1)]
                                }),
                                _: 1
                            }, 8, ["color", "data-impression", "loading", "onClick"]), (null === (n = (0,
                            ec.unref)(x)) || void 0 === n ? void 0 : n.save) ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(ni.Z), {
                                key: 0,
                                size: "large",
                                class: "saveBtn",
                                onClick: ep
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    var n, d;
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((null === (d = (0,
                                    ec.unref)(x)) || void 0 === d ? void 0 : null === (n = d.save) || void 0 === n ? void 0 : n.buttonText) || "保存"), 1)]
                                }),
                                _: 1
                            })) : (0,
                            ec.createCommentVNode)("", !0), "web" === (0,
                            ec.unref)(Q) ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(nl.G$), {
                                key: 1,
                                class: "cancelBtn",
                                size: "large",
                                onClick: eh
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[2] || (d[2] = [(0,
                                    ec.createTextVNode)(" 暂存离开 ")])
                                }),
                                _: 1
                            })) : (0,
                            ec.createCommentVNode)("", !0)])]
                        }),
                        _: 2
                    }, [ee.value.length ? {
                        name: "commerce",
                        fn: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", dP, [ee.value.length > 1 ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(m, {
                                key: 0,
                                lazy: ""
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [((0,
                                    ec.openBlock)(!0),
                                    (0,
                                    ec.createElementBlock)(ec.Fragment, null, (0,
                                    ec.renderList)(ee.value, function(n) {
                                        return (0,
                                        ec.openBlock)(),
                                        (0,
                                        ec.createBlock)(v, {
                                            key: n.key
                                        }, {
                                            label: (0,
                                            ec.withCtx)(function() {
                                                return [(0,
                                                ec.createElementVNode)("span", null, [(0,
                                                ec.createTextVNode)((0,
                                                ec.toDisplayString)(n.commerceName) + " ", 1), getChoosed(n.key) ? ((0,
                                                ec.openBlock)(),
                                                (0,
                                                ec.createElementBlock)("svg", dO, d[1] || (d[1] = [(0,
                                                ec.createElementVNode)("path", {
                                                    d: "M3.92161 7.15118L4.02806 7.25496L4.13279 7.14945L10.3218 0.914056C10.6632 0.57005 11.2277 0.560907 11.5808 0.894017C11.9317 1.2251 11.9407 1.76905 11.6013 2.11094L4.67824 9.08594C4.51293 9.25249 4.28515 9.34806 4.04577 9.34997C3.8064 9.35188 3.577 9.25997 3.40887 9.09605L0.408873 6.17105C0.0637089 5.83451 0.063709 5.29049 0.408873 4.95396C0.756161 4.61535 1.32076 4.61535 1.66805 4.95396L3.92161 7.15118Z",
                                                    fill: "currentColor"
                                                }, null, -1)]))) : (0,
                                                ec.createCommentVNode)("", !0)])]
                                            }),
                                            default: (0,
                                            ec.withCtx)(function() {
                                                return [((0,
                                                ec.openBlock)(),
                                                (0,
                                                ec.createBlock)(n6, {
                                                    key: n.key,
                                                    plugin: n
                                                }, null, 8, ["plugin"]))]
                                            }),
                                            _: 2
                                        }, 1024)
                                    }), 128))]
                                }),
                                _: 1
                            })) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(n6, {
                                key: ee.value[0].key,
                                plugin: ee.value[0]
                            }, null, 8, ["plugin"]))])]
                        }),
                        key: "0"
                    } : void 0]), 1032, ["collapse-setting", "title"]), (0,
                    ec.createVNode)((0,
                    ec.unref)(u2.Z), {
                        width: "400",
                        "append-to-body": "",
                        show: X.value,
                        title: "您还未绑定手机号",
                        name: "测试",
                        "footer-position": "right",
                        class: "verify-phone-modal",
                        onClose: handleUserBindPhoneClose
                    }, {
                        footer: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(ef.Z), {
                                class: "btn-confirm",
                                onClick: handleUserBindPhoneClose
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[3] || (d[3] = [(0,
                                    ec.createTextVNode)(" 我知道了 ")])
                                }),
                                _: 1
                            })]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            return [d[4] || (d[4] = (0,
                            ec.createElementVNode)("span", {
                                class: "text-content"
                            }, " 根据国家法律法规，发布笔记需要绑定手机号， 前往APP端「设置」-「账户与安全」-「手机号」 绑定手机号后才可发布笔记哦 ", -1))]
                        }),
                        _: 1
                    }, 8, ["show"])], 8, dL)
                }
            }
        });
        let dj = (0,
        eN.default)(dU, [["__scopeId", "data-v-9bfbb062"]]);
        var dF = v(31547);
        function isWasmSupported() {
            return ("undefined" == typeof WebAssembly ? "undefined" : (0,
            dF._)(WebAssembly)) === "object" && "function" == typeof WebAssembly.instantiate
        }
        var dz = {
            key: 0,
            class: "progetto-sugger-error"
        }
          , dZ = {
            class: "creator-container"
        }
          , dQ = (0,
        ec.defineComponent)({
            __name: "Index",
            setup: function(n) {
                var d = (0,
                eH.Z)()
                  , v = (0,
                ej.Jk)(d)
                  , m = v.step
                  , h = v.publishType
                  , y = (v.hasBeenPublished,
                v.isPublishing)
                  , N = (v.status,
                v.hasBeenPublishSuccess)
                  , k = v.isFromDraft
                  , I = (0,
                e$.Z)();
                (0,
                e0.Z)();
                var C = (0,
                ej.Jk)(I).userInfo
                  , x = (0,
                ej.Jk)((0,
                eG.ZP)())
                  , M = x.imgList
                  , S = x.video
                  , _ = x.cover
                  , V = x.defaultTopics
                  , B = x.desc
                  , O = x.descLength
                  , R = x.descInnerHTML
                  , U = x.title
                  , z = (0,
                ec.computed)(function() {
                    return m.value === eX.cl.Upload && C.value
                })
                  , Z = (0,
                ec.computed)(function() {
                    return m.value === eX.cl.Publish && C.value
                })
                  , Q = (0,
                ec.computed)(function() {
                    return h.value === eX.QO.Video && C.value
                })
                  , J = (0,
                ec.computed)(function() {
                    return h.value === eX.QO.Image && C.value
                })
                  , H = (0,
                ec.ref)(!(CSS && CSS.supports && CSS.supports("aspect-ratio", "1 / 1")) || !isWasmSupported())
                  , updateBrowser = function() {
                    window.open("https://support.google.com/chrome/answer/95414?hl=zh-Hans&co=GENIE.Platform%3DDesktop&sjid=17820434310336693059-NC")
                };
                return (0,
                ec.watch)(m, function(n) {
                    if (n === eX.cl.Publish) {
                        var d, v;
                        if (null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["62530"]({
                            noteEditSource: 1,
                            noteType: Q.value ? 3 : 1
                        })),
                        !k.value) {
                            var m, h = "";
                            null === (m = V.value) || void 0 === m || m.forEach(function(n) {
                                h += " #".concat(n.name, "[话题]# ")
                            }),
                            B.value = h,
                            O.value = h.length;
                            var y = h;
                            V.value.forEach(function(n) {
                                y = y.replaceAll("#".concat(n.name, "[话题]#"), (0,
                                nW.nq)({
                                    name: n.name,
                                    id: n.id,
                                    link: n.link
                                }).trim())
                            }),
                            R.value = y
                        }
                    }
                }),
                (0,
                t$.L)(y, {
                    beforeSave: function() {
                        if (!Z.value || N.value)
                            return !1;
                        var n = !!(U.value || O.value);
                        if (J.value)
                            return n || M.value.length > 0;
                        if (Q.value) {
                            var d = !!_.value.fileid && !!S.value.fileid;
                            return n || d
                        }
                        return !1
                    }
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        class: (0,
                        ec.normalizeClass)("outarea ".concat(z.value ? "upload-c" : "publish-c"))
                    }, [H.value && z.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", dz, [d[0] || (d[0] = (0,
                    ec.createElementVNode)("span", {
                        class: "icon icon-warn"
                    }, null, -1)), d[1] || (d[1] = (0,
                    ec.createElementVNode)("span", {
                        class: "tips"
                    }, "当前浏览器版本过低，部分发布功能使用受限，升级浏览器即可解决。", -1)), (0,
                    ec.createElementVNode)("span", {
                        class: "btn",
                        onClick: updateBrowser
                    }, " 如何升级浏览器版本 ")])) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createElementVNode)("div", dZ, [z.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(nr, {
                        key: 0
                    })) : Z.value && Q.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(u1, {
                        key: 1
                    })) : Z.value && J.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(dj, {
                        key: 2
                    })) : (0,
                    ec.createCommentVNode)("", !0)])], 2)
                }
            }
        });
        let dJ = (0,
        eN.default)(dQ, [["__scopeId", "data-v-4a24413c"]]);
        var dH = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABaCAYAAADXaio8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUCSURBVHgB7ZxbUttIFIYPYD+Phg2MZgVjF5cqnsasIOwAWMEwK4hZQZgV2LOCJCuI36gCUzgriLIByo9Uccv/2y1K5WBdWuq2I52vqlHbloX0+/Tp01cRRVEURVEURVEURVEURVEURVEURVEURVEURVEURVEURcnL1dVVB+lESrIpSiabm5sfkAZlBVexPdIST1xeXoatVisUx2xsbAS7u7ufpCS3t7fB4+Njx7wMzLXD6+vrHvN7e3sjKciGOIY3h5v8gGxH/BE9Pz+f7+/vD8WS8Xj8DYdw2ecvLy/nELwvBXBq2Tc3N+9xU33zcoo0EbeEcaKPxf//Y2dn51zs+Iz0LnFdMjWJVl74WZxZNt1Gu92mdVhZgQ2wxiEOx0h0Iz2kAKL0SwgeX/cLr4fSclqmtDirICH0GY942KEPoZNAlM9Ih8hOWbJYwmQNcBmN/MU/eOj/ZQXAAidVCY7v06VMn56eRlKCWod+VQmOknmBCOf3g4ODSEpQ+zi7SgsvSyMaNesieGNakOsgeKOa66sWvFZiQ8CIRzRolrZWFwVHC/dMPOGtb8QTIyRa6zF66CaI8aNlJ+KzC4qN43v0gwy73e5UHFMrsdk5BEs9p4BsrqedC6HjbPDw8HCE41AcUzfLpuD0xRHEZL9GkHF6yMTePPFA7cQm6AsZSg5LRSmYuRHxhA4eeETF9oiK7REV2yMqtkdUbI+sJPS7u7tLHUytkGh7e/vPZR9i9HyIEX9BuhAP1DLOzosZDOiLJ1Yidpq11ZlGW3ZyIo7NpJuiNFZsTrXAAO6XuF9kPB5H6JA6LDvOmEZjo5F2u825IKHMu2Uj5vHeQBzSSLHNCE2IFGHU/HBra6sr85lOPZeDCY0Tm+4jnhJHt8EjBw7gTv5l3gwmZHXNWtE4sY37mE2JS/pn0y07QgowbOak27VRYifdx1tT4mDppzIfmzyLpwZXSWPEfst9LEJLxzn/MQ93MqjanfwKzfWoikbQMvcBaz9BCCjx7FRaPMJADql1EIOzsuxLRTTCspe5DwoN8QeL62Xw3mtlyRIhFVH75nqa+0BFyMHeWT456MvWJKyb7uQfE3sfSgXU3rKXuY8sEHv3peLYu9ZiZ0UfaZhJO4xOKou9ayt2nugjC7PqbIQUoBIt3ZSvrdi27mOROPZGOiobe9dS7DLuYxETe88WQJWNvWsndhH3gZAvivPxDNi34DIPmS8rDE3sbUVpsWlFXEgva0IR98H+EFjraZ4ld8nY2/Z5S4ttpt0eyRpg4z4oeJ61jWYkZ9aU58YBYoG12Iw9OTGReYj9N/OrtPAqoo8sTOwdiWXsbSU2KwkIfMxk3uqY173EafGyYyd9w4vYRB/8gbhGnSlPs5yxN67/GnsXbcpbic1/ihi0izRrdrOnjHlTkYh576u5qXfiGNvoo9VqnZjvhSafiXEnTAF+4ELupIpoJHqrJjcTX2gJJy4XCpVxH5ykI3O3EJl8Lmxjb6dbYLAnLbHc4nVHAwumJmL4aScEs8UGXciEpU08AdfzEYejIpsHOO31401AjCix30gZ/83v/yQ2StCE/dH8HCVogIf/Lo6BAf2G0tRjPm2R1CJOLTsJK9X7+3trsdMqPd/LNRKwrsodlXgT2zXGd/bEHyMfs6gURVESvPrsrN2+GkIUN9SI2Rsq5PS05HJrS60iXeaRDsPNMLG/n+IKtk6r7Fz7ARd91viTGEd9AAAAAElFTkSuQmCC";
        let dG = {
            class: "bg"
        };
        function Indexvue_type_template_id_590c8f62_scoped_true_render(n, d) {
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", dG, d[0] || (d[0] = [(0,
            ec.createStaticVNode)('<div class="left" data-v-590c8f62><div class="title" data-v-590c8f62></div><div class="desc" data-v-590c8f62></div><div class="image" data-v-590c8f62></div><div class="content1" data-v-590c8f62></div><div class="content2" data-v-590c8f62></div><div class="content3" data-v-590c8f62></div><div class="content4" data-v-590c8f62></div><div class="content5" data-v-590c8f62></div><div class="footer" data-v-590c8f62><div class="footer1" data-v-590c8f62></div><div class="footer2" data-v-590c8f62></div></div></div><div class="right" data-v-590c8f62><div class="preview" data-v-590c8f62></div><div class="button" data-v-590c8f62></div></div>', 2)]))
        }
        let dY = (0,
        eN.default)({}, [["render", Indexvue_type_template_id_590c8f62_scoped_true_render], ["__scopeId", "data-v-590c8f62"]]);
        var dW = {
            PUBLISH_VIDEO: "发布视频",
            VIDEO_EDIT: "视频编辑",
            PUBLISH_SETTING: "发布设置",
            I_SEE: "我知道了",
            COMMON_EMO: "常用表情",
            RED_EMO: "小红薯表情",
            CANCEL: "取消",
            TOPIC: "话题",
            USER: "用户",
            EMO: "表情",
            BIND_AFTER_PUBLISH: "绑定手机号后才可发布笔记哦",
            REQUIRE_BIND_PHONE: "根据国家法律法规，发布笔记需要绑定手机号， 前往APP端「设置」-「账户与安全」-「手机号」",
            WRITE_TITLE_HAS_ZAN: "填写标题会有更多赞哦～",
            WRITE_DESC: "在这里输入正文描述，真诚有价值的分享予人温暖"
        }
          , dq = v(26540)
          , buildContentData_buildContentData = function() {
            var n, d, v = (0,
            eG.ZP)(), m = (0,
            ej.Jk)(v), h = m.title, y = m.descLength, N = m.descInnerHTML, k = m.desc, I = m.hashTag, C = (d = {},
            (0,
            eU._)(d, eX.Q5.TOPIC, "topic"),
            (0,
            eU._)(d, eX.Q5.MOMENT, "moment"),
            d), getContentData = function() {
                var n, d = document.createElement("div");
                d.innerHTML = N.value;
                var v = d.querySelectorAll("a")
                  , m = []
                  , h = []
                  , x = []
                  , M = {};
                v.forEach(function(n) {
                    var d = n.dataset
                      , v = d.user
                      , y = d.topic
                      , N = d.moment;
                    if (y)
                        try {
                            var k = JSON.parse(y);
                            if (!k.id)
                                return;
                            var I = {
                                id: k.id,
                                name: k.name,
                                link: k.link
                            };
                            m.push(I),
                            x.push((0,
                            O._)((0,
                            B._)({}, I), {
                                type: eX.Q5.TOPIC
                            }))
                        } catch (n) {
                            tt.kg.error(eX.LQ.JSONParseError, {
                                data: y,
                                type: "note content parse topic"
                            }, eX.b5.CommonLog)
                        }
                    if (v)
                        try {
                            var C = JSON.parse(v);
                            if (M[C.userId])
                                return;
                            M[C.userId] = !0;
                            h.push(C)
                        } catch (n) {
                            tt.kg.error(eX.LQ.JSONParseError, {
                                data: v,
                                type: "note content parse user"
                            }, eX.b5.CommonLog)
                        }
                    if (N)
                        try {
                            var S = JSON.parse(N);
                            x.push(S)
                        } catch (n) {
                            tt.kg.error(eX.LQ.JSONParseError, {
                                data: N,
                                type: "note content parse moment"
                            }, eX.b5.CommonLog)
                        }
                });
                var S = x.filter(function(n) {
                    return [eX.Q5.TOPIC, eX.Q5.MOMENT].includes(n.type)
                }).map(function(n) {
                    return (0,
                    O._)((0,
                    B._)({}, n), {
                        type: C[n.type]
                    })
                });
                return null === (n = I.value) || void 0 === n || n.forEach(function(n) {
                    !["topic", "moment"].includes(n.type) && S.push(n)
                }),
                {
                    content: k.value,
                    userIds: h,
                    topics: m,
                    hashTags: S,
                    innerHTML: N.value,
                    length: y.value
                }
            };
            return {
                constructData: function() {
                    var n = getContentData();
                    return {
                        title: h.value,
                        desc: n.content,
                        ats: n.userIds.map(function(n) {
                            return (0,
                            B._)({
                                nickname: n.name
                            }, n)
                        }),
                        hashTag: n.hashTags
                    }
                },
                constructDraft: function() {
                    var n = getContentData();
                    return {
                        title: h.value,
                        desc: n.content,
                        noteContent: n
                    }
                },
                checkData: (n = (0,
                V._)(function() {
                    var n;
                    return (0,
                    R.Jh)(this, function(d) {
                        return (n = "",
                        y.value > 1e3) ? (n = "正文最多支持1000字",
                        nY.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : h.value && (0,
                        nW.bU)(h.value) > 20 ? (n = "标题长度超出20",
                        nY.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : getContentData().topics.length > 10 ? (n = "最多支持添加10个话题",
                        nY.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : [2, {
                            result: !0
                        }]
                    })
                }),
                function checkData() {
                    return n.apply(this, arguments)
                }
                )
            }
        }
          , buildVideoData_buildVideoData = function() {
            var n, d = (0,
            eG.ZP)(), v = (0,
            ej.Jk)(d), m = v.cover, h = v.video, y = v.chapters, N = v.backupCovers, k = v.videoMeta, I = v.audioMeta, C = v.title, x = v.descLength, M = v.videoInfo, S = v.audioInfo, _ = v.updateTemp, U = v.videoMarksExtends, z = v.isReplaceVideo, Z = (0,
            ej.Jk)((0,
            eH.Z)()).status, Q = (0,
            ej.Jk)((0,
            eq.Z)()).coverContext, J = (0,
            ec.computed)(function() {
                return Z.value === eX.qb.Uploading
            });
            (0,
            ec.computed)(function() {
                return N.value.filter(function(n) {
                    return !n.uploading
                })
            });
            var genTimeLines = function() {
                try {
                    var n;
                    return null === (n = Array.prototype.concat([], h.value.videoMarks || [], U.value || [])) || void 0 === n ? void 0 : n.map(function(n) {
                        return {
                            type: "video_marks_v2",
                            start: 1e3 * n.startTime,
                            end: 1e3 * n.endTime,
                            detail: (0,
                            B._)({
                                id: n.markId
                            }, n.config)
                        }
                    })
                } catch (n) {
                    return []
                }
            }
              , JSONParse = function(n) {
                try {
                    return JSON.parse(n)
                } catch (n) {
                    return null
                }
            }
              , genSegments = function() {
                var n;
                return {
                    count: 1,
                    needSlice: !1,
                    items: [{
                        mute: 0,
                        speed: 1,
                        start: 0,
                        duration: null === (n = h.value) || void 0 === n ? void 0 : n.duration,
                        transcoded: 0,
                        mediaSource: 1,
                        originalMetadata: {
                            video: JSONParse(k.value || "{}"),
                            audio: JSONParse(I.value || "{}")
                        }
                    }]
                }
            }
              , genChapters = function() {
                try {
                    var n, d = [];
                    return null === (n = y.value) || void 0 === n || n.forEach(function(n) {
                        var v = "".concat(parseInt("".concat(1e3 * n.time), 10));
                        d.push({
                            text: n.text,
                            time: v
                        })
                    }),
                    d
                } catch (n) {
                    return []
                }
            };
            return {
                constructData: function() {
                    var n, d, v, y, N, C, x, M, S, V, R, U, Z, J, H, G, Y, W, q, X, K, $, ee, et, en, ea, eo, er, ei, el, ec, eu, es = Q.value, ed = (null === (n = es.cover) || void 0 === n ? void 0 : n.fileid) || (null === (d = m.value) || void 0 === d ? void 0 : d.fileid), ev = (null === (v = es.cover) || void 0 === v ? void 0 : v.width) || (null === (y = m.value) || void 0 === y ? void 0 : y.width), em = (null === (N = es.cover) || void 0 === N ? void 0 : N.height) || (null === (C = m.value) || void 0 === C ? void 0 : C.height), ef = (null === (x = es.cover) || void 0 === x ? void 0 : x.stickers) || (null === (M = m.value) || void 0 === M ? void 0 : M.stickers), ep = (null === (S = es.cover) || void 0 === S ? void 0 : S.fonts) || (null === (V = m.value) || void 0 === V ? void 0 : V.fonts), eg = (null === (R = es.cover) || void 0 === R ? void 0 : R.coverTemplateId) || (null === (U = m.value) || void 0 === U ? void 0 : U.coverTemplateId), eh = (null === (J = es.cover) || void 0 === J ? void 0 : null === (Z = J.frame) || void 0 === Z ? void 0 : Z.ts) || (null === (G = m.value) || void 0 === G ? void 0 : null === (H = G.frame) || void 0 === H ? void 0 : H.ts), ey = (null === (W = es.cover) || void 0 === W ? void 0 : null === (Y = W.frame) || void 0 === Y ? void 0 : Y.isUpload) || (null === (X = m.value) || void 0 === X ? void 0 : null === (q = X.frame) || void 0 === q ? void 0 : q.isUpload), eN = {
                        fileid: ed,
                        file_id: ed,
                        height: em,
                        width: ev,
                        frame: {
                            ts: eh,
                            isUserSelect: (null === ($ = es.cover) || void 0 === $ ? void 0 : null === (K = $.frame) || void 0 === K ? void 0 : K.isUserSelect) || (null === (et = m.value) || void 0 === et ? void 0 : null === (ee = et.frame) || void 0 === ee ? void 0 : ee.isUserSelect),
                            isUpload: ey
                        },
                        extra_info_json: (null === (en = es.cover) || void 0 === en ? void 0 : en.extra_info_json) || (null === (ea = m.value) || void 0 === ea ? void 0 : ea.extra_info_json),
                        stickers: (0,
                        O._)((0,
                        B._)({}, ef), {
                            floating: null === (er = _.value) || void 0 === er ? void 0 : null === (eo = er.cover) || void 0 === eo ? void 0 : eo.mark_list
                        }),
                        fonts: ep,
                        coverTemplateId: eg
                    };
                    return {
                        fileid: null === (ei = h.value) || void 0 === ei ? void 0 : ei.fileid,
                        file_id: null === (el = h.value) || void 0 === el ? void 0 : el.fileid,
                        formatWidth: null === (ec = h.value) || void 0 === ec ? void 0 : ec.width,
                        formatHeight: null === (eu = h.value) || void 0 === eu ? void 0 : eu.height,
                        compositeMetadata: {
                            video: JSONParse(k.value || "{}"),
                            audio: JSONParse(I.value || "{}")
                        },
                        timelines: genTimeLines(),
                        cover: eN,
                        chapters: genChapters(),
                        chapterSyncText: !1,
                        segments: genSegments(),
                        entrance: "web",
                        replacedVideo: z.value
                    }
                },
                checkData: (n = (0,
                V._)(function() {
                    var n;
                    return (0,
                    R.Jh)(this, function(d) {
                        return (n = "",
                        J.value) ? (n = "视频上传中，请稍后",
                        nY.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : m.value.fileid ? x.value > 1e3 ? (n = "正文长度超过1000",
                        nY.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : C.value && (0,
                        nW.bU)(C.value) > 20 ? (n = "标题长度超过20",
                        nY.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : [2, {
                            result: !0
                        }] : (n = "请上传封面",
                        nY.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }])
                    })
                }),
                function checkData() {
                    return n.apply(this, arguments)
                }
                ),
                constructDraft: function() {
                    return {
                        videoData: {
                            video: h.value,
                            videoInfo: M.value,
                            audioInfo: S.value,
                            cover: m.value,
                            status: Z.value
                        },
                        chapter: y.value,
                        marker: h.value.videoMarks
                    }
                }
            }
        }
          , buildImageData_buildImageData = function() {
            var n, d = (0,
            eG.ZP)(), v = (0,
            ej.Jk)(d), m = v.imgList, h = v.updateTemp, y = (0,
            ec.computed)(function() {
                return m.value.some(function(n) {
                    return n.status === eX.wW.uploading || n.status === eX.wW.preUpload
                })
            }), N = (0,
            ec.computed)(function() {
                return m.value.some(function(n) {
                    return n.status === eX.wW.uploadFailed
                })
            }), k = (0,
            ec.computed)(function() {
                return m.value.some(function(n) {
                    return n.status === eX.wW.preRender
                })
            }), getImageTemplate = function(n) {
                if (!n)
                    return null;
                var d, v, m = null === (v = h.value) || void 0 === v ? void 0 : null === (d = v.images_list) || void 0 === d ? void 0 : d.find(function(d) {
                    return n === d.fileid
                });
                return m ? m.image_template : null
            };
            return {
                constructData: function() {
                    var n, d;
                    return {
                        images: m.value.map(function(n, d) {
                            var v, m, h, y;
                            return {
                                file_id: n.fileId,
                                width: null === (v = n.file) || void 0 === v ? void 0 : v.width,
                                height: null === (m = n.file) || void 0 === m ? void 0 : m.height,
                                metadata: {
                                    source: -1,
                                    image_template: getImageTemplate(n.fileId)
                                },
                                stickers: {
                                    version: 2,
                                    floating: null === (h = Array.prototype.concat(n.markers || [], n.markersExtends || [])) || void 0 === h ? void 0 : h.map(function(n) {
                                        return null == n ? void 0 : n.config
                                    }).filter(function(n) {
                                        return n
                                    })
                                },
                                video_file_id: n.videoFileId,
                                extra_info_json: JSON.stringify({
                                    mimeType: null !== (y = n.file.mimeType) && void 0 !== y ? y : "image/png"
                                })
                            }
                        }),
                        music_info: null === (n = h.value) || void 0 === n ? void 0 : n.music_info,
                        soundtrack: null == h ? void 0 : null === (d = h.value) || void 0 === d ? void 0 : d.sound_info
                    }
                },
                constructDraft: function() {
                    var n = [eX.wW.uploadSuccess, eX.wW.beforeFetchCDNUrl, eX.wW.afterFetchCDNUrl];
                    return {
                        images: m.value.filter(function(d) {
                            return n.includes(d.status) && d.fileId
                        })
                    }
                },
                checkData: (n = (0,
                V._)(function() {
                    var n;
                    return (0,
                    R.Jh)(this, function(d) {
                        return (n = "",
                        y.value) ? (n = "图片上传中，请稍后",
                        nY.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : k.value ? (n = "图片处理中，请稍后",
                        nY.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : N.value ? (n = "有图片上传失败，请检查后再发布",
                        nY.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }]) : m.value.length ? [2, {
                            result: !0
                        }] : (n = "请上传图片",
                        nY.A.error(n),
                        [2, {
                            result: !1,
                            toastMsg: n
                        }])
                    })
                }),
                function checkData() {
                    return n.apply(this, arguments)
                }
                )
            }
        }
          , dX = v(17361)
          , dK = v.n(dX)
          , buildSettingsData_buildSettingsData = function() {
            var n, d = (0,
            eY.Z)(), v = (0,
            ej.Jk)(d), m = v.privacyInfo, h = v.postTime, y = v.postLoc, N = v.collectionId, k = v.selectedOrder, I = (v.coOrderId,
            v.postLocs), C = v.userDeclaration, x = v.groupBind, M = v.liveReservationBind, S = v.liveNoticeBind, _ = v.interactionPermissionBind, U = v.noteSketch, z = (0,
            ej.Jk)((0,
            eG.ZP)()).updateTemp, genBusinessBinds = function() {
                var n, d, v, m, y, I, V, R, Z, Q, J, H, G, Y, W, q, X = {
                    BRAND_COOP: 2,
                    PRE_POST_NOTE: 13
                }, K = {
                    version: 1,
                    bizType: 0
                }, $ = {
                    brandAccountId: null === (n = k.value) || void 0 === n ? void 0 : n.brandAccountId,
                    orderId: null === (d = k.value) || void 0 === d ? void 0 : d.orderId
                }, ee = {
                    postTime: h.value
                }, et = {
                    id: N.value
                }, en = {
                    id: U.value.id
                };
                $.orderId ? K.bizType = X.BRAND_COOP : ee.postTime && (K.bizType = X.PRE_POST_NOTE);
                var ea = x.value
                  , eo = !1;
                if (!dK()(z.value.interactionPermissionBind, _.value) && (eo = !0),
                (null !== (W = null === (v = z.value.note_collection_bind) || void 0 === v ? void 0 : v.id) && void 0 !== W ? W : "") !== N.value && (eo = !0),
                z.value.scheduled_post_time !== h.value && (eo = !0),
                (null === (m = z.value.note_order_bind) || void 0 === m ? void 0 : m.order_id) !== (null === (y = k.value) || void 0 === y ? void 0 : y.orderId) && (eo = !0),
                !dK()(z.value.userDeclarationBind, C.value) && (eo = !0),
                !dK()(z.value.group_bind, x.value) && (eo = !0),
                !dK()(null === (I = z.value.live_reservation_bind) || void 0 === I ? void 0 : I.reserve, null === (V = M.value) || void 0 === V ? void 0 : V.reserve) && (eo = !0),
                (!dK()(null === (Z = z.value) || void 0 === Z ? void 0 : null === (R = Z.live_notice_bind) || void 0 === R ? void 0 : R.id, null === (Q = S.value) || void 0 === Q ? void 0 : Q.id) || !dK()(null === (H = z.value) || void 0 === H ? void 0 : null === (J = H.live_notice_bind) || void 0 === J ? void 0 : J.liveNoticeType, null === (G = S.value) || void 0 === G ? void 0 : G.liveNoticeType)) && (eo = !0),
                (null !== (q = null === (Y = z.value.note_sketch_collection_bind) || void 0 === Y ? void 0 : Y.id) && void 0 !== q ? q : "") !== U.value.id && (eo = !0),
                !eo)
                    return null;
                var er = z.value.note_cooperation_bind
                  , ei = z.value.note_lottery_bind
                  , el = z.value.note_seller_bind
                  , ec = z.value.note_shop_bind
                  , eu = z.value.note_original;
                return JSON.stringify((0,
                O._)((0,
                B._)({}, K), {
                    noteOrderBind: $,
                    notePostTiming: ee,
                    noteCollectionBind: et,
                    noteSketchCollectionBind: en,
                    noteCooperationBind: er,
                    noteLotteryBind: ei,
                    noteSellerBind: el,
                    noteShopBind: ec,
                    liveNoticeBind: S.value,
                    liveReservationBind: M.value,
                    noteOriginal: eu,
                    groupBind: ea,
                    userDeclarationBind: C.value,
                    interactionPermissionBind: _.value
                }))
            }, genPrivacyInfo = function() {
                return m.value.type === nX.vH.PartiallyInvisible || m.value.type === nX.vH.PartiallyVisible ? {
                    opType: 1,
                    type: m.value.userIds.length ? m.value.type : nX.vH.Public,
                    userIds: m.value.userIds
                } : {
                    opType: 1,
                    type: m.value.type,
                    userIds: m.value.userIds
                }
            };
            return {
                constructData: function() {
                    var n;
                    return {
                        businessBinds: genBusinessBinds(),
                        postLoc: y.value,
                        postLocs: (null === (n = I.value) || void 0 === n ? void 0 : n.length) > 1 ? I.value : y.value ? [y.value] : [],
                        privacyInfo: genPrivacyInfo()
                    }
                },
                constructDraft: function() {
                    var n, d;
                    return {
                        postLoc: y.value,
                        postTime: h.value,
                        privacyInfo: genPrivacyInfo(),
                        collectionId: N.value,
                        orderId: (null === (n = k.value) || void 0 === n ? void 0 : n.orderId) || "",
                        brandAccountId: (null === (d = k.value) || void 0 === d ? void 0 : d.brandAccountId) || ""
                    }
                },
                checkData: (n = (0,
                V._)(function() {
                    var n, d;
                    return (0,
                    R.Jh)(this, function(v) {
                        return (d = "",
                        (null === (n = k.value) || void 0 === n ? void 0 : n.orderId) && m.value.type !== nX.vH.Public) ? (d = "内容合作笔记仅支持公开可见，修改可见性后继续操作",
                        nY.A.error(d),
                        [2, {
                            result: !1,
                            toastMsg: d
                        }]) : [2, {
                            result: !0
                        }]
                    })
                }),
                function checkData() {
                    return n.apply(this, arguments)
                }
                )
            }
        }
          , logNotePost = function(n) {
            (0,
            dq.O)((0,
            B._)({
                event: "publishV2"
            }, n))
        }
          , useUpdate = function(n) {
            var d, v, m = (0,
            t5.b)(), h = (0,
            e$.Z)(), y = (0,
            eH.Z)(), N = (0,
            eY.Z)(), k = (0,
            ej.Jk)(h).userInfo, I = (0,
            ej.Jk)(N), C = I.privacyInfo, x = I.interactionPermissionBind, M = I.postTime, S = I.userDeclaration, _ = I.groupBind, U = I.liveNoticeBind, z = I.liveReservationBind, Z = (0,
            ej.Jk)((0,
            eG.ZP)()).updateTemp, Q = (0,
            ej.Jk)(y), J = Q.publishCoreStartTime, H = Q.publishStartHandler, G = Q.publishSuccessHandler, Y = Q.publishType, W = Q.systemId, q = Q.source, X = Q.noteId, K = Q.isPublishing, $ = Q.hasBeenPublished, ee = (0,
            ec.computed)(function() {
                return Y.value === eX.QO.Video ? 3 : 1
            }), et = (0,
            ec.computed)(function() {
                return Y.value === eX.QO.Video ? "video_note" : "short_note"
            }), en = (0,
            ec.ref)(), ea = (0,
            ej.Jk)((0,
            eG.ZP)()), eo = ea.videoInfo, er = ea.video, ei = ea.imgList, eu = (0,
            ej.Jk)((0,
            eq.Z)()), es = eu.goodsContext, ed = eu.bizRelationContext, ev = buildContentData_buildContentData(), em = ev.constructData, ef = ev.checkData, ep = buildSettingsData_buildSettingsData(), eg = ep.constructData, eh = ep.checkData, ey = buildImageData_buildImageData(), eN = ey.constructData, ek = ey.checkData, eI = buildVideoData_buildVideoData(), eC = eI.constructData, eb = eI.checkData, eE = {
                0: "video",
                1: "normal"
            }, constructData = function() {
                var n, d, v = em(), m = eg(), h = eN(), y = eC();
                return {
                    common: (0,
                    O._)((0,
                    B._)({
                        type: eE[Y.value],
                        noteId: X.value,
                        source: JSON.stringify(q.value)
                    }, v, m), {
                        goodsInfo: null === (n = es.value) || void 0 === n ? void 0 : n.goodsInfo,
                        metadata: (null === (d = Z.value) || void 0 === d ? void 0 : d.metadata_str) || {},
                        bizRelations: ed.value.bizRelation
                    }),
                    imageInfo: Y.value === eX.QO.Image ? h : null,
                    videoInfo: Y.value === eX.QO.Video ? y : null
                }
            };
            var eA = (d = (0,
            V._)(function() {
                var d, v, m, h, y, N;
                return (0,
                R.Jh)(this, function(I) {
                    switch (I.label) {
                    case 0:
                        if (v = "",
                        K.value)
                            return v = "正在发布中",
                            nY.A.error(v),
                            [2, {
                                result: !1,
                                toastMsg: v
                            }];
                        if (!(null === (d = k.value) || void 0 === d ? void 0 : d.bindPhone))
                            return null == n || null === (m = n.handleUserNotBindPhone) || void 0 === m || m.call(n),
                            [2, {
                                result: !1,
                                toastMsg: v = "未绑定手机号"
                            }];
                        if (!k.value.id)
                            return v = "获取用户信息失败，请刷新页面重试",
                            nY.A.error(v),
                            [2, {
                                result: !1,
                                toastMsg: v
                            }];
                        h = [ef, eh],
                        Y.value === eX.QO.Image && h.push(ek),
                        Y.value === eX.QO.Video && h.push(eb),
                        y = 0,
                        I.label = 1;
                    case 1:
                        if (!(y < h.length))
                            return [3, 4];
                        return [4, (0,
                        h[y])(n)];
                    case 2:
                        if (!(N = I.sent()).result)
                            return [2, N];
                        I.label = 3;
                    case 3:
                        return y++,
                        [3, 1];
                    case 4:
                        return [2, {
                            result: !0
                        }]
                    }
                })
            }),
            function checkParams() {
                return d.apply(this, arguments)
            }
            )
              , handlePostSuccess = function(n, d) {
                tt.kg.info("publish success", {
                    result: n
                }, "note post"),
                logNotePost({
                    result: "success",
                    type: Y.value === eX.QO.Video ? "video" : "image",
                    duration: Date.now() - J.value,
                    format: W.value
                }),
                uQ.C.trackerPublishSuccess({
                    result: "success",
                    type: Y.value === eX.QO.Video ? "video" : "image",
                    duration: Date.now() - J.value,
                    format: W.value
                }),
                $.value = !0,
                null === (v = G.value) || void 0 === v || v.call(G, (0,
                B._)({}, n), d);
                var v, h, y, N = JSON.stringify({
                    msg: "success_".concat(en.value, "_").concat((0,
                    ap.DZ)(String(new Date)))
                });
                null === (y = window) || void 0 === y || null === (h = y.eaglet) || void 0 === h || h.push(el.tracker["7735"]({
                    channelType: m,
                    noteType: et.value,
                    noteEditSource: 2,
                    errorDesc: N,
                    loadingDesc: N
                }))
            }
              , handlePostFail = function(n, d) {
                e8._.error("[发布失败]", n, JSON.stringify(n), String(n));
                var v, m, h, y = null == n ? void 0 : n.data, N = "".concat((null == y ? void 0 : y.code) || (null == n ? void 0 : n.code) || (null == n ? void 0 : n.statusCode)), k = (null == n ? void 0 : n.message) || (null == n ? void 0 : null === (v = n.data) || void 0 === v ? void 0 : v.msg) || (null == y ? void 0 : y.error_msg) || N, I = null == y ? void 0 : y.can_show_err_msg_to_user, C = "发布失败，请稍后重试";
                C = n.name === tr.eE.HTTPClientError && "firefox" === (0,
                uR.q)() ? "发布失败，请使用新版谷歌浏览器重试" : n.name === tr.eE.HTTPBizError && I ? k : ["-14004", "-9109"].includes(N) ? "发布失败，请退出登录后重试（".concat(N, "）") : "".concat(C, "（").concat(k, "）"),
                nY.A.error(C),
                tt.kg.error("note post api fail", {
                    data: d
                }, "note post"),
                logNotePost({
                    result: k,
                    type: Y.value === eX.QO.Video ? "video" : "image",
                    process: n.name,
                    eventCode: N,
                    format: tr.Lv.includes(N) ? "operation" : "common",
                    duration: Date.now() - J.value
                }),
                uQ.C.trackerPublishFailed({
                    result: k,
                    type: Y.value === eX.QO.Video ? "video" : "image",
                    traceId: en.value,
                    errorType: n.name,
                    errorCode: N,
                    errorFormat: tr.Lv.includes(N) ? "operation" : "common",
                    duration: Date.now() - J.value
                }),
                null === (h = window) || void 0 === h || null === (m = h.eaglet) || void 0 === m || m.push(el.tracker["7734"]({
                    errorCode: N,
                    errorDesc: k
                }))
            }
              , handlePostJSError = function(n) {
                K.value = !1;
                var d, v, m = (0,
                uO.E)(n, en.value, J.value), h = "PUBLISH JS ERROR";
                throw null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["7734"]({
                    errorCode: h,
                    errorDesc: m
                })),
                tt.kg.error(eX.Eb.GetFormDataFail, {
                    msg: m,
                    traceId: en.value
                }, eX.b5.ImagePublish),
                (0,
                dq.w)({
                    type: Y.value === eX.QO.Video ? "videoPublish" : "imagePublish",
                    code: "".concat(h, ":").concat(m),
                    desc: m,
                    traceId: en.value || ""
                }),
                (0,
                dq.O)({
                    event: "publishV2",
                    type: Y.value === eX.QO.Video ? "video" : "image",
                    traceId: en.value,
                    result: h,
                    message: m
                }),
                uQ.C.trackerPublishFailed({
                    type: Y.value === eX.QO.Video ? "video" : "image",
                    traceId: en.value,
                    errorType: h,
                    result: m
                }),
                Error(n)
            }
              , handleUpdate = function(n) {
                return updateNoteRequest(n).then(function(d) {
                    var v, m, h = "not_bind";
                    (null === (v = d.businessBindResults) || void 0 === v ? void 0 : v.length) > 0 && (h = (null === (m = d.businessBindResults[0]) || void 0 === m ? void 0 : m.success) ? "bind_success" : "bind_fail");
                    var y = (0,
                    O._)((0,
                    B._)({}, d), {
                        orderBindStatus: h
                    });
                    return handlePostSuccess(y, n),
                    y
                }).catch(function(d) {
                    handlePostFail(d, n)
                }).finally(function() {
                    K.value = !1
                })
            };
            var ew = (v = (0,
            V._)(function() {
                var n, d, v, h, N, k, I, V, B, O, Z, Q, G, W, q, X, $;
                return (0,
                R.Jh)(this, function(R) {
                    switch (R.label) {
                    case 0:
                        return R.trys.push([0, 5, , 6]),
                        J.value = Date.now(),
                        q = constructData(),
                        en.value = (0,
                        uU.Ht)(),
                        null === (V = window) || void 0 === V || null === (I = V.eaglet) || void 0 === I || I.push(el.tracker["31493"]({
                            channelType: m,
                            noteType: ee.value,
                            status: eX.br[C.value.type],
                            publicationTimeSetting: M.value ? "scheduled" : "now",
                            noteEditSource: 2,
                            hasBindGoods: !!(null === (d = es.value) || void 0 === d ? void 0 : null === (n = d.goodsDetail) || void 0 === n ? void 0 : n.skuId),
                            isDeclared: !!(null === (v = S.value) || void 0 === v ? void 0 : v.origin),
                            extraInfo: JSON.stringify({
                                hasGroup: !!(null === (h = _.value) || void 0 === h ? void 0 : h.groupId),
                                live_preview: (null === (N = U.value) || void 0 === N ? void 0 : N.liveNoticeType) === eX.tK.Bind,
                                live_stream: !!(null === (k = z.value) || void 0 === k ? void 0 : k.reserve),
                                commentPermission: x.value.commentPermission
                            })
                        })),
                        null === (B = H.value) || void 0 === B || B.call(H, q),
                        (0,
                        dq.O)({
                            event: "publishStart",
                            type: Y.value === eX.QO.Video ? "video" : "image",
                            traceId: en.value
                        }),
                        uQ.C.trackerPublishBefore({
                            type: Y.value === eX.QO.Video ? "video" : "image",
                            traceId: en.value
                        }),
                        [4, eA()];
                    case 1:
                        if (!(null == (X = R.sent()) ? void 0 : X.result))
                            return (0,
                            dq.O)({
                                event: "publishCheck",
                                type: Y.value === eX.QO.Video ? "video" : "image",
                                result: null == X ? void 0 : X.toastMsg,
                                traceId: en.value
                            }),
                            uQ.C.trackerPublishCheck({
                                type: Y.value === eX.QO.Video ? "video" : "image",
                                result: null == X ? void 0 : X.toastMsg,
                                traceId: en.value
                            }),
                            [2];
                        if (tt.kg.info(eX.Eb.GetFormDataSuccess, {
                            data: q,
                            traceId: en.value
                        }, eX.b5.ImagePublish),
                        K.value = !0,
                        null === (Z = window) || void 0 === Z || null === (O = Z.eaglet) || void 0 === O || O.push(el.tracker["7733"]({
                            errorDesc: "开始发布_".concat(en.value, "_").concat((0,
                            ap.DZ)(String(new Date)))
                        })),
                        null === (G = window) || void 0 === G || null === (Q = G.eaglet) || void 0 === Q || Q.push(el.tracker["8316"]({
                            channelTabId: "1",
                            channelTabName: Y.value === eX.QO.Video ? "发布视频-发布" : "发布图文-发布"
                        })),
                        !(null === (W = y.publishConfig) || void 0 === W ? void 0 : W.validator))
                            return [3, 3];
                        return [4, null === ($ = y.publishConfig) || void 0 === $ ? void 0 : $.validator(q)];
                    case 2:
                        return R.sent(),
                        handleUpdate(q),
                        [3, 4];
                    case 3:
                        handleUpdate(q),
                        R.label = 4;
                    case 4:
                        return [3, 6];
                    case 5:
                        return handlePostJSError(R.sent()),
                        [3, 6];
                    case 6:
                        return [2]
                    }
                })
            }),
            function update() {
                return v.apply(this, arguments)
            }
            );
            return {
                isPublishing: K,
                hasBeenPublished: $,
                submitBtnText: (0,
                ec.computed)(function() {
                    return M.value ? "定时发布" : "发布"
                }),
                handleUpdate: n1()(ew, 1e3, {
                    leading: !0,
                    trailing: !1
                }),
                handleCancel: function() {
                    var n, d, v, m, h, N, k, I;
                    null === (I = window) || void 0 === I || null === (k = I.eaglet) || void 0 === k || k.push(el.tracker["9568"]({
                        fileFormat: (null === (n = eo.value) || void 0 === n ? void 0 : n.Format) || (null === (h = ei.value) || void 0 === h ? void 0 : null === (m = h[0]) || void 0 === m ? void 0 : null === (v = m.origin) || void 0 === v ? void 0 : null === (d = v.file) || void 0 === d ? void 0 : d.type) || "",
                        fileSize: null === (N = er.value) || void 0 === N ? void 0 : N.fsize,
                        noteEditSource: 2,
                        route: (0,
                        uR.q)() || -999
                    })),
                    y.cancelPublisher()
                }
            }
        }
          , d$ = ["data-impression"]
          , d0 = {
            class: "layout-container"
        }
          , d1 = {
            class: "commerce"
        }
          , d2 = {
            key: 0,
            width: "12",
            height: "10",
            viewBox: "0 0 12 10",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
          , d4 = {
            class: "submit"
        }
          , d3 = {
            key: 1,
            class: "marker"
        }
          , d5 = (0,
        ec.defineComponent)({
            __name: "Index",
            setup: function(n) {
                var d = this;
                (0,
                e0.Z)();
                var v = (0,
                ej.Jk)((0,
                eq.Z)()).goodsContext
                  , m = (0,
                ej.Jk)((0,
                eY.Z)()).selectedOrder
                  , h = (0,
                eH.Z)()
                  , y = h.onEditPageShow
                  , N = (0,
                e$.Z)()
                  , k = (0,
                ej.Jk)(N).userInfo
                  , I = (0,
                ec.computed)(function() {
                    var n;
                    return null === (n = k.value) || void 0 === n ? void 0 : n.kolCoOrder
                })
                  , C = (0,
                eG.ZP)()
                  , x = (0,
                ej.Jk)(C)
                  , M = x.videoUrl
                  , S = x.video
                  , _ = x.cover
                  , V = x.updateTemp
                  , B = x.isReplaceVideo
                  , O = (0,
                ej.Jk)(h)
                  , R = O.status
                  , U = O.theme
                  , z = O.publishType
                  , Z = O.isPublishing
                  , Q = O.unFoldList;
                O.themeColor;
                var J = (0,
                ec.computed)(function() {
                    return R.value === eX.qb.Preview
                })
                  , H = (0,
                ej.Jk)(e4()).plugins
                  , Y = (0,
                ec.computed)(function() {
                    return H.value.filter(function(n) {
                        return n.position === eX.eE.VideoCover
                    })
                })
                  , W = (0,
                ec.computed)(function() {
                    var n = !(S.value.fileid && _.value.fileid) && B.value;
                    return !n && e7.Z.setStart("earliestEnablePublish"),
                    n
                })
                  , q = (0,
                ec.computed)(function() {
                    return H.value.filter(function(n) {
                        return n.position === eX.eE.AboveSettings
                    })
                })
                  , X = (0,
                ec.computed)(function() {
                    return H.value.filter(function(n) {
                        return n.position === eX.eE.Commerce
                    }).sort(function(n, d) {
                        var v, m;
                        return (null !== (v = n.priority) && void 0 !== v ? v : 100) - (null !== (m = d.priority) && void 0 !== m ? m : 100)
                    })
                })
                  , K = (0,
                ec.computed)(function() {
                    var n;
                    return Q.value.includes("commerce") || (null === (n = X.value) || void 0 === n ? void 0 : n.length) === 1
                })
                  , $ = (0,
                ec.computed)(function() {
                    return {
                        commerce: K.value
                    }
                });
                (0,
                ec.computed)(function() {
                    return !!V.value.scheduled_post_time || !1
                });
                var ee = useUpdate()
                  , et = ee.handleUpdate
                  , en = ee.handleCancel
                  , ea = ee.submitBtnText;
                (0,
                ec.computed)(function() {
                    return k.value.id
                });
                var eo = (0,
                ec.ref)(!1)
                  , er = (0,
                ec.ref)(0)
                  , ei = (0,
                ec.ref)(null)
                  , markerUploaded = function(n) {
                    eo.value = !1,
                    n && (S.value.videoMarks = (0,
                    G.cloneDeep)(n),
                    er.value = n.length)
                }
                  , closeMarker = function() {
                    eo.value = !1
                }
                  , openMarker = function() {
                    eo.value = !0
                }
                  , coverUploaded = function(n) {
                    var v = n.file
                      , m = n.frametime
                      , h = n.uploadCover;
                    _.value.fileid = v.id,
                    ei.value = v,
                    S.value.coverInfo = v,
                    v.width && (d.cover.width = v.width),
                    v.height && (d.cover.height = v.height),
                    (0 !== m || h) && (S.value.frame.userSelect = !0),
                    S.value.frame.ts = m
                }
                  , eu = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["50979"]({
                        noteEditSource: 2,
                        noteType: z.value === eX.QO.Image ? 1 : 3
                    }))
                })
                  , es = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["50980"]({
                        noteEditSource: 2
                    }))
                })
                  , getChoosed = function(n) {
                    var d, h, y;
                    return "goods" === n ? !!(null === (h = v.value) || void 0 === h ? void 0 : null === (d = h.goodsDetail) || void 0 === d ? void 0 : d.skuId) : "orders" === n && !!(null === (y = m.value) || void 0 === y ? void 0 : y.orderId)
                };
                return function(n, d) {
                    var v = (0,
                    ec.resolveComponent)("el-tab-pane")
                      , m = (0,
                    ec.resolveComponent)("el-tabs");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        id: "publish-container",
                        class: "publish-container",
                        "data-impression": es.value
                    }, [(0,
                    ec.createVNode)(ae, {
                        onOnshow: d[0] || (d[0] = function(n) {
                            return (0,
                            ec.unref)(y) && (0,
                            ec.unref)(y)("video")
                        }
                        )
                    }), (0,
                    ec.unref)(M) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(uB, {
                        key: (0,
                        ec.unref)(M)
                    })) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", d0, [(0,
                    ec.createVNode)(o8, {
                        "collapse-setting": $.value,
                        title: (0,
                        ec.unref)(dW).PUBLISH_VIDEO,
                        onOnBack: (0,
                        ec.unref)(en)
                    }, (0,
                    ec.createSlots)({
                        "media-area": (0,
                        ec.withCtx)(function() {
                            var n, d;
                            return [(0,
                            ec.createVNode)(uT, {
                                ref: "videoCover",
                                onCoverUploaded: coverUploaded
                            }, null, 512), (null === (d = Y.value) || void 0 === d ? void 0 : null === (n = d[0]) || void 0 === n ? void 0 : n.key) ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(n6, {
                                key: Y.value[0].key,
                                plugin: Y.value[0]
                            }, null, 8, ["plugin"])) : (0,
                            ec.createCommentVNode)("", !0)]
                        }),
                        form: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(n7)]
                        }),
                        extension: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(uY)]
                        }),
                        "media-addon": (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(i6, {
                                enable: J.value,
                                show: eo.value,
                                onOpen: openMarker
                            }, null, 8, ["enable", "show"]), ((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(q.value, function(n, d) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    key: d
                                }, [(0,
                                ec.createVNode)(n6, {
                                    plugin: n
                                }, null, 8, ["plugin"])])
                            }), 128))]
                        }),
                        settings: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(oZ, {
                                "cooperation-permission": I.value,
                                "hide-collection": !1
                            }, null, 8, ["cooperation-permission"])]
                        }),
                        submit: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", d4, [(0,
                            ec.createVNode)((0,
                            ec.unref)(nl.gj), {
                                size: "large",
                                "data-impression": eu.value,
                                loading: (0,
                                ec.unref)(Z),
                                color: (0,
                                ec.unref)(U),
                                disabled: W.value,
                                onClick: (0,
                                ec.unref)(et)
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(ea)), 1)]
                                }),
                                _: 1
                            }, 8, ["data-impression", "loading", "color", "disabled", "onClick"])])]
                        }),
                        preview: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(iq)]
                        }),
                        _: 2
                    }, [X.value.length ? {
                        name: "commerce",
                        fn: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", d1, [X.value.length > 1 ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(m, {
                                key: 0,
                                lazy: ""
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [((0,
                                    ec.openBlock)(!0),
                                    (0,
                                    ec.createElementBlock)(ec.Fragment, null, (0,
                                    ec.renderList)(X.value, function(n) {
                                        return (0,
                                        ec.openBlock)(),
                                        (0,
                                        ec.createBlock)(v, {
                                            key: n.key
                                        }, {
                                            label: (0,
                                            ec.withCtx)(function() {
                                                return [(0,
                                                ec.createElementVNode)("span", null, [(0,
                                                ec.createTextVNode)((0,
                                                ec.toDisplayString)(n.commerceName) + " ", 1), getChoosed(n.key) ? ((0,
                                                ec.openBlock)(),
                                                (0,
                                                ec.createElementBlock)("svg", d2, d[1] || (d[1] = [(0,
                                                ec.createElementVNode)("path", {
                                                    d: "M3.92161 7.15118L4.02806 7.25496L4.13279 7.14945L10.3218 0.914056C10.6632 0.57005 11.2277 0.560907 11.5808 0.894017C11.9317 1.2251 11.9407 1.76905 11.6013 2.11094L4.67824 9.08594C4.51293 9.25249 4.28515 9.34806 4.04577 9.34997C3.8064 9.35188 3.577 9.25997 3.40887 9.09605L0.408873 6.17105C0.0637089 5.83451 0.063709 5.29049 0.408873 4.95396C0.756161 4.61535 1.32076 4.61535 1.66805 4.95396L3.92161 7.15118Z",
                                                    fill: "currentColor"
                                                }, null, -1)]))) : (0,
                                                ec.createCommentVNode)("", !0)])]
                                            }),
                                            default: (0,
                                            ec.withCtx)(function() {
                                                return [((0,
                                                ec.openBlock)(),
                                                (0,
                                                ec.createBlock)(n6, {
                                                    key: n.key,
                                                    plugin: n
                                                }, null, 8, ["plugin"]))]
                                            }),
                                            _: 2
                                        }, 1024)
                                    }), 128))]
                                }),
                                _: 1
                            })) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(n6, {
                                key: X.value[0].key,
                                plugin: X.value[0]
                            }, null, 8, ["plugin"]))])]
                        }),
                        key: "0"
                    } : void 0]), 1032, ["collapse-setting", "title", "onOnBack"])], 512), [[ec.vShow, !eo.value]]), eo.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", d3, [(0,
                    ec.createVNode)(ch, {
                        show: eo.value,
                        onClose: closeMarker,
                        onMarkerUploaded: markerUploaded
                    }, null, 8, ["show"])])) : (0,
                    ec.createCommentVNode)("", !0)], 8, d$)
                }
            }
        });
        let d8 = (0,
        eN.default)(d5, [["__scopeId", "data-v-1221bf34"]]);
        var d6 = ["data-impression"]
          , d9 = {
            class: "commerce"
        }
          , d7 = {
            key: 0,
            width: "12",
            height: "10",
            viewBox: "0 0 12 10",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
          , ve = {
            class: "submit"
        }
          , vt = (0,
        ec.defineComponent)({
            __name: "Index",
            setup: function(n) {
                var d = (0,
                e$.Z)()
                  , v = (0,
                eH.Z)()
                  , m = (0,
                eG.ZP)()
                  , h = (0,
                ej.Jk)(d).userInfo
                  , y = (0,
                ej.Jk)(m)
                  , N = y.imgList
                  , k = y.updateTemp
                  , I = (0,
                ej.Jk)(v)
                  , C = I.theme
                  , x = I.publishType
                  , M = I.unFoldList;
                I.themeColor;
                var S = (0,
                ej.Jk)(e4()).plugins
                  , _ = (0,
                ej.Jk)((0,
                eq.Z)()).goodsContext
                  , V = (0,
                ej.Jk)((0,
                eY.Z)()).selectedOrder
                  , B = (0,
                ec.computed)(function() {
                    return S.value.filter(function(n) {
                        return n.position === eX.eE.AboveSettings
                    })
                })
                  , O = (0,
                ec.computed)(function() {
                    return S.value.filter(function(n) {
                        return n.position === eX.eE.Commerce
                    }).sort(function(n, d) {
                        var v, m;
                        return (null !== (v = n.priority) && void 0 !== v ? v : 100) - (null !== (m = d.priority) && void 0 !== m ? m : 100)
                    })
                })
                  , R = (0,
                ec.computed)(function() {
                    var n;
                    return M.value.includes("commerce") || (null === (n = O.value) || void 0 === n ? void 0 : n.length) === 1
                })
                  , U = (0,
                ec.computed)(function() {
                    return {
                        commerce: R.value
                    }
                })
                  , z = (0,
                ec.ref)(!1);
                (0,
                ec.ref)(!1);
                var Z = (0,
                ec.computed)(function() {
                    return h.value.id
                })
                  , Q = (0,
                ec.computed)(function() {
                    var n;
                    return null === (n = h.value) || void 0 === n ? void 0 : n.kolCoOrder
                })
                  , J = v.onEditPageShow;
                (0,
                ec.computed)(function() {
                    return !!k.value.scheduled_post_time || !1
                }),
                (0,
                eu.tv)(),
                (0,
                eu.yj)();
                var handleImgListChange = function(n) {
                    e2.eC.modifyImgList({
                        imgList: n
                    })
                }
                  , H = useUpdate({
                    handleUserNotBindPhone: function() {
                        z.value = !0
                    }
                })
                  , G = H.handleUpdate
                  , Y = H.handleCancel
                  , W = H.submitBtnText
                  , q = H.isPublishing;
                H.hasBeenPublished;
                var X = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["50979"]({
                        noteEditSource: 2,
                        noteType: x.value === eX.QO.Image ? 1 : 3
                    }))
                })
                  , K = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["50980"]({
                        noteEditSource: 2
                    }))
                })
                  , getChoosed = function(n) {
                    var d, v, m;
                    return "goods" === n ? !!(null === (v = _.value) || void 0 === v ? void 0 : null === (d = v.goodsDetail) || void 0 === d ? void 0 : d.skuId) : "orders" === n && !!(null === (m = V.value) || void 0 === m ? void 0 : m.orderId)
                };
                return function(n, d) {
                    var v = (0,
                    ec.resolveComponent)("el-tab-pane")
                      , m = (0,
                    ec.resolveComponent)("el-tabs");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        "data-impression": K.value,
                        class: "publish-container"
                    }, [(0,
                    ec.createVNode)(ae, {
                        onOnshow: d[0] || (d[0] = function(n) {
                            return (0,
                            ec.unref)(J) && (0,
                            ec.unref)(J)("image")
                        }
                        )
                    }), (0,
                    ec.createVNode)(o8, {
                        "collapse-setting": U.value,
                        title: (0,
                        ec.unref)(u4).PUBLISH_IMAGE,
                        onOnBack: (0,
                        ec.unref)(Y)
                    }, (0,
                    ec.createSlots)({
                        "media-area": (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(dB, {
                                ref: "imgListRef",
                                "img-list": (0,
                                ec.unref)(N),
                                onOnChange: handleImgListChange
                            }, null, 8, ["img-list"])]
                        }),
                        form: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(n7)]
                        }),
                        extension: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(uY)]
                        }),
                        "media-addon": (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(sG, {
                                ref: "markerBtn",
                                uid: Z.value,
                                images: (0,
                                ec.unref)(N),
                                onOnChange: handleImgListChange
                            }, null, 8, ["uid", "images"]), ((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(B.value, function(n, d) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    key: d
                                }, [(0,
                                ec.createVNode)(n6, {
                                    plugin: n
                                }, null, 8, ["plugin"])])
                            }), 128))]
                        }),
                        settings: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(oZ, {
                                "cooperation-permission": Q.value,
                                "hide-collection": !1
                            }, null, 8, ["cooperation-permission"])]
                        }),
                        preview: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(iq)]
                        }),
                        submit: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", ve, [(0,
                            ec.createVNode)((0,
                            ec.unref)(nl.gj), {
                                size: "large",
                                "data-impression": X.value,
                                color: (0,
                                ec.unref)(C),
                                loading: (0,
                                ec.unref)(q),
                                onClick: (0,
                                ec.unref)(G)
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(W)), 1)]
                                }),
                                _: 1
                            }, 8, ["data-impression", "color", "loading", "onClick"])])]
                        }),
                        _: 2
                    }, [O.value.length ? {
                        name: "commerce",
                        fn: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", d9, [O.value.length > 1 ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(m, {
                                key: 0,
                                lazy: ""
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [((0,
                                    ec.openBlock)(!0),
                                    (0,
                                    ec.createElementBlock)(ec.Fragment, null, (0,
                                    ec.renderList)(O.value, function(n) {
                                        return (0,
                                        ec.openBlock)(),
                                        (0,
                                        ec.createBlock)(v, {
                                            key: n.key
                                        }, {
                                            label: (0,
                                            ec.withCtx)(function() {
                                                return [(0,
                                                ec.createElementVNode)("span", null, [(0,
                                                ec.createTextVNode)((0,
                                                ec.toDisplayString)(n.commerceName) + " ", 1), getChoosed(n.key) ? ((0,
                                                ec.openBlock)(),
                                                (0,
                                                ec.createElementBlock)("svg", d7, d[1] || (d[1] = [(0,
                                                ec.createElementVNode)("path", {
                                                    d: "M3.92161 7.15118L4.02806 7.25496L4.13279 7.14945L10.3218 0.914056C10.6632 0.57005 11.2277 0.560907 11.5808 0.894017C11.9317 1.2251 11.9407 1.76905 11.6013 2.11094L4.67824 9.08594C4.51293 9.25249 4.28515 9.34806 4.04577 9.34997C3.8064 9.35188 3.577 9.25997 3.40887 9.09605L0.408873 6.17105C0.0637089 5.83451 0.063709 5.29049 0.408873 4.95396C0.756161 4.61535 1.32076 4.61535 1.66805 4.95396L3.92161 7.15118Z",
                                                    fill: "currentColor"
                                                }, null, -1)]))) : (0,
                                                ec.createCommentVNode)("", !0)])]
                                            }),
                                            default: (0,
                                            ec.withCtx)(function() {
                                                return [((0,
                                                ec.openBlock)(),
                                                (0,
                                                ec.createBlock)(n6, {
                                                    key: n.key,
                                                    plugin: n
                                                }, null, 8, ["plugin"]))]
                                            }),
                                            _: 2
                                        }, 1024)
                                    }), 128))]
                                }),
                                _: 1
                            })) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(n6, {
                                key: O.value[0].key,
                                plugin: O.value[0]
                            }, null, 8, ["plugin"]))])]
                        }),
                        key: "0"
                    } : void 0]), 1032, ["collapse-setting", "title", "onOnBack"])], 8, d6)
                }
            }
        });
        let vn = (0,
        eN.default)(vt, [["__scopeId", "data-v-45056fbd"]]);
        var va = v(22376)
          , vo = v(8757);
        var vr = ((m = {})["天幕R"] = "https://fe-video-qc.xhscdn.com/fe-platform/7642341e830f97c45f3261b9adee8b5a7336499d.png",
        m["卡式炉R"] = "https://fe-video-qc.xhscdn.com/fe-platform/783dc5c9039dab7920f60b69a0fe57e77302ddcd.png",
        m["折叠椅R"] = "https://fe-video-qc.xhscdn.com/fe-platform/359bd197c452258888f4f3f224d40d140b1247c3.png",
        m["营地车R"] = "https://fe-video-qc.xhscdn.com/fe-platform/8d3e5b8a06eda42229adf550d930bb8e4aaae9b7.png",
        m["露营灯R"] = "https://fe-video-qc.xhscdn.com/fe-platform/093dd4338b46ca52074d060c1c75ce04697af6d4.png",
        m["露营R"] = "https://picasso-static.xiaohongshu.com/fe-platform/bc046729a7265fa579fb9c26289f9e9fcaa83beb.png",
        m["渔夫帽R"] = "https://fe-video-qc.xhscdn.com/fe-platform/8a513afd61b9dd09c9e138e882e92ff9cae14649.png",
        m["登山鞋R"] = "https://fe-video-qc.xhscdn.com/fe-platform/fe65c446020944558c142d288e095e5484cba90f.png",
        m["背包R"] = "https://fe-video-qc.xhscdn.com/fe-platform/d9f0f58518cc9a1d73caf97ff5b0ecb4fd5a741b.png",
        m["马甲R"] = "https://fe-video-qc.xhscdn.com/fe-platform/2fda1b2115dccf04ac5143210b8d83f352f73e2c.png",
        m["骑行服R"] = "https://fe-video-qc.xhscdn.com/fe-platform/ffc5912b221563c0a7f3fd751b87e27f7dd5318a.png",
        m["手套R"] = "https://fe-video-qc.xhscdn.com/fe-platform/9572fe03b56aef9ec8a1e79dac64d4225a2e380a.png",
        m["头盔R"] = "https://fe-video-qc.xhscdn.com/fe-platform/2a5fe9cfad77cfcf632c1cb6123e68250afcbff2.png",
        m["风镜R"] = "https://fe-video-qc.xhscdn.com/fe-platform/0e7fb713c7fca2e381a40f590a46a262780df631.png",
        m["公路车R"] = "https://fe-video-qc.xhscdn.com/fe-platform/61708b29215d3fcb6790d25c061d47775823d379.png",
        m["折叠车R"] = "https://fe-video-qc.xhscdn.com/fe-platform/57f9b02650b95f08122c0462927cce3df847e246.png",
        m["飞盘R"] = "https://fe-video-qc.xhscdn.com/fe-platform/6e92309ecab879d8bb1b0b83536f025bdc1e21e8.png",
        m["冲浪板R"] = "https://fe-video-qc.xhscdn.com/fe-platform/012c014ef465c0bda4a3af39a713629aa3508da3.png",
        m["双翘滑板R"] = "https://fe-video-qc.xhscdn.com/fe-platform/bf2be5bd7fe7b7aac5bc06c44ea2daf456750674.png",
        m["陆冲板R"] = "https://fe-video-qc.xhscdn.com/fe-platform/5a9b44f49a27f75224f6cbd3ef95ec65a579f907.png",
        m["长板R"] = "https://fe-video-qc.xhscdn.com/fe-platform/87d0aeb63f769b04eb119bd2f0fc9128a645747a.png",
        m["种草R"] = "https://picasso-static.xiaohongshu.com/fe-platform/035c8044c53dbf7df2cf28d6ec35eb325567121b.png",
        m["拔草R"] = "https://picasso-static.xiaohongshu.com/fe-platform/c9e8d66eabeaa823b91e4caeb62088a1521dbe63.png",
        m["点赞R"] = "https://picasso-static.xiaohongshu.com/fe-platform/391438d25580a034707791b5f165c27f8899025a.png",
        m["向右R"] = "https://picasso-static.xiaohongshu.com/fe-platform/ae143d3423b5af03ae6b63dc197872ec6a59a6ff.png",
        m["合十R"] = "https://picasso-static.xiaohongshu.com/fe-platform/fbdbb2547a281e18ee9759e3d658d417871996c0.png",
        m.okR = "https://picasso-static.xiaohongshu.com/fe-platform/65bce6a5e07c5adecd8a9660f833266c4cffa0e6.png",
        m["加油R"] = "https://picasso-static.xiaohongshu.com/fe-platform/ab059229949e73619961c5ee1f7ee10d2318c170.png",
        m["握手R"] = "https://picasso-static.xiaohongshu.com/fe-platform/d0d01ced40255c3855c80fc641b432758c041dea.png",
        m["鼓掌R"] = "https://picasso-static.xiaohongshu.com/fe-platform/59bbbe6fc2879f6ef42e63b3264096a9f4d403c7.png",
        m["弱R"] = "https://picasso-static.xiaohongshu.com/fe-platform/ab298d8a629530f3bb98b94718acb6f20b2cbc66.png",
        m["耶R"] = "https://picasso-static.xiaohongshu.com/fe-platform/b7d3bb36a6422f92f2447f2b300d3aff0b7baa21.png",
        m["抱拳R"] = "https://picasso-static.xiaohongshu.com/fe-platform/0ae972c2da43acd565596fb0234c558f84b0a390.png",
        m["勾引R"] = "https://picasso-static.xiaohongshu.com/fe-platform/0b219f805826238b85eb114bb1781bf5d5808cbf.png",
        m["拳头R"] = "https://picasso-static.xiaohongshu.com/fe-platform/20bb351c9538975e1a3b8ec4aa5821ad9d6f2215.png",
        m["拥抱R"] = "https://picasso-static.xiaohongshu.com/fe-platform/efc3b7a9e6df5d2be0233e203adf0d1110623441.png",
        m["举手R"] = "https://picasso-static.xiaohongshu.com/fe-platform/84320b00dda66dcb661b5fb5d75ded2de4754b0a.png",
        m["猪头R"] = "https://picasso-static.xiaohongshu.com/fe-platform/e7eae4ef972a29818a56d6e00f85304152a58430.png",
        m["老虎R"] = "https://picasso-static.xiaohongshu.com/fe-platform/f6d52ce0dd3bfa963a5a624e9da8417d02c9f752.png",
        m["集美R"] = "https://picasso-static.xiaohongshu.com/fe-platform/124387198d229cb5aa2be5dd74db4af820e85dcd/xhs_theme_xy_emotion_redmoji_jimei.png",
        m["仙女R"] = "https://picasso-static.xiaohongshu.com/fe-platform/3a0d4108b32e366f7438d448a8157e9e4247e5b3/xhs_theme_xy_emotion_redmoji_xiannv.png",
        m["红书R"] = "https://picasso-static.xiaohongshu.com/fe-platform/182d040c46942e0ba1c8eeb66bf7047dad751e72.png",
        m["开箱R"] = "https://picasso-static.xiaohongshu.com/fe-platform/200ada9354c5c974164bffa594ad4e33614404aa.png",
        m["探店R"] = "https://picasso-static.xiaohongshu.com/fe-platform/b9dfa6d9e5cb81b2f0bdd77e14b1841608c03224.png",
        m.ootdR = "https://picasso-static.xiaohongshu.com/fe-platform/595650f7fb0ee6a475c6bdbe4d6a707524ed9c90.png",
        m["同款R"] = "https://picasso-static.xiaohongshu.com/fe-platform/1a573c081b4aad6814c23a33d51c86a69670b90f.png",
        m["打卡R"] = "https://picasso-static.xiaohongshu.com/fe-platform/89214fad0c95300ab58a96037fddafa0415d387e.png",
        m["飞机R"] = "https://picasso-static.xiaohongshu.com/fe-platform/9ac94463031f15e8c73db4a457a35ac473822a00.png",
        m["拍立得R"] = "https://picasso-static.xiaohongshu.com/fe-platform/d87604b3ab8b56e98023ae582deea40230595fcc.png",
        m["薯券R"] = "https://picasso-static.xiaohongshu.com/fe-platform/080302ac0fd8f847753853c50cd0cf00709c4419.png",
        m["优惠券R"] = "https://picasso-static.xiaohongshu.com/fe-platform/68ef659532ab68296aa14f89e29829da4d9aed5a.png",
        m["购物车R"] = "https://picasso-static.xiaohongshu.com/fe-platform/3598e9b2a43cd1ca6ec4b4dc7670541c7bdda2fa.png",
        m.kissR = "https://picasso-static.xiaohongshu.com/fe-platform/071e9c9d731ce31f5ece64babda5f3d4d9207496.png",
        m["礼物R"] = "https://picasso-static.xiaohongshu.com/fe-platform/39e0ed44f24bd2d211161a5086705ab1d4439c41.png",
        m["生日蛋糕R"] = "https://picasso-static.xiaohongshu.com/fe-platform/259be907840312a7013dae79ff6f99012dabe24b.png",
        m["私信R"] = "https://picasso-static.xiaohongshu.com/fe-platform/2062069d03c2927cc823ad0f65c4db645e968058.png",
        m["请文明R"] = "https://picasso-static.xiaohongshu.com/fe-platform/d070fee56c6069ac246ffb0cba1eaf3609df9680.png",
        m["请友好R"] = "https://picasso-static.xiaohongshu.com/fe-platform/5c4d2abd9058163b496e054d7448d91c212282d3.png",
        m["氛围感R"] = "https://picasso-static.xiaohongshu.com/fe-platform/acad9319c8ad606833872094506ebbfffd321344.png",
        m["清单R"] = "https://picasso-static.xiaohongshu.com/fe-platform/20eab20210e0958b0da33174b7f4606eca92b92b.png",
        m["电影R"] = "https://picasso-static.xiaohongshu.com/fe-platform/3eec7a10e8cf68f44dbcb930ecb05f2927f8ae1e.png",
        m["学生党R"] = "https://picasso-static.xiaohongshu.com/fe-platform/04984e414827730e5689900e1e45d3fd0c50a6d6.png",
        m["彩虹R"] = "https://picasso-static.xiaohongshu.com/fe-platform/5862336b380dc7bd68f068e19b8ef613b7913c3d.png",
        m["爆炸R"] = "https://picasso-static.xiaohongshu.com/fe-platform/58ed0344253015243334e5b1fd6b642ee3e0346c.png",
        m["炸弹R"] = "https://picasso-static.xiaohongshu.com/fe-platform/403d2c9ede2e95cb8b82dd348da4b2aac0bf9d62.png",
        m["火R"] = "https://picasso-static.xiaohongshu.com/fe-platform/51f1d8e7c5b4182c05510f3aeadecee19e968b42.png",
        m["啤酒R"] = "https://picasso-static.xiaohongshu.com/fe-platform/9e71d86b28f1ba48b58291b53bf6156810fb9377.png",
        m["咖啡R"] = "https://picasso-static.xiaohongshu.com/fe-platform/b3b5dbb3a564a68115a4343fe536a20e34d3c953.png",
        m["钱袋R"] = "https://picasso-static.xiaohongshu.com/fe-platform/026f431acf58d6d2a19963a68dbf70c53359eada.png",
        m["流汗R"] = "https://picasso-static.xiaohongshu.com/fe-platform/4fc14b31e947deec15d0a1b3f96ae57214ab2bb2.png",
        m["发R"] = "https://picasso-static.xiaohongshu.com/fe-platform/8a61d522a0a19e51280b780af24d2cf972195d24.png",
        m["红包R"] = "https://picasso-static.xiaohongshu.com/fe-platform/d708e5bb8b0d5e1a0628a3e2324bfde507736f1c.png",
        m["福R"] = "https://picasso-static.xiaohongshu.com/fe-platform/7d0da07b800a4b999e06ce66759336be05f3f3a0.png",
        m["鞭炮R"] = "https://picasso-static.xiaohongshu.com/fe-platform/3415b947b0b66b01c4fabdec2b729c34a5f8a0b2.png",
        m["庆祝R"] = "https://picasso-static.xiaohongshu.com/fe-platform/51eab29d66493ab028e9a446c6c10fa606e1e412.png",
        m["烟花R"] = "https://picasso-static.xiaohongshu.com/fe-platform/64071df3b7c40545149a1d26fcfdf0e704c96c2c.png",
        m["气球R"] = "https://picasso-static.xiaohongshu.com/fe-platform/a57b1e6f8e48ac2a4171afe620df545dd760fd08.png",
        m["看R"] = "https://picasso-static.xiaohongshu.com/fe-platform/f3c0659718c26f36ca3d57466c9cc0a9120e52f8.png",
        m["新月R"] = "https://picasso-static.xiaohongshu.com/fe-platform/a1493a29d6a4b63caa73a2a2af4706186dbccd6b.png",
        m["满月R"] = "https://picasso-static.xiaohongshu.com/fe-platform/bf117e6b7458e3bec281b34d9ed767aed94cdc40.png",
        m["大便R"] = "https://picasso-static.xiaohongshu.com/fe-platform/82e3b1495613b1c173c8a5d4efcd9cc32ecfb6b9.png",
        m["太阳R"] = "https://picasso-static.xiaohongshu.com/fe-platform/fe0276430f14dad6b791528ba3acd0c541998a28.png",
        m["晚安R"] = "https://picasso-static.xiaohongshu.com/fe-platform/937f70403d7a0b65d0b42fcd67e0efd8618c3d05.png",
        m["星R"] = "https://picasso-static.xiaohongshu.com/fe-platform/b98fbe9d7371faf3ff43342f166297cf6446531d.png",
        m["玫瑰R"] = "https://picasso-static.xiaohongshu.com/fe-platform/abc0a1cd8434c5348e89e887cf8a4f93f352558c.png",
        m["凋谢R"] = "https://picasso-static.xiaohongshu.com/fe-platform/5f58213013b6d97a190fc42b1e2aed344e746ba3.png",
        m["郁金香R"] = "https://picasso-static.xiaohongshu.com/fe-platform/ee78f61c5c20e159e97bee4612bc2089c358f33b.png",
        m["樱花R"] = "https://picasso-static.xiaohongshu.com/fe-platform/ef50e51cb37c948b56dc856fed12e5643597c1dc.png",
        m["海豚R"] = "https://picasso-static.xiaohongshu.com/fe-platform/b1a4ebde71f735db6c2f45dfce4e23126fc28c32.png",
        m["放大镜R"] = "https://picasso-static.xiaohongshu.com/fe-platform/257c99be653d2ccc3f25b7426aa1e5a269e85421.png",
        m["刀R"] = "https://picasso-static.xiaohongshu.com/fe-platform/a4d581be51146d70d81679d603d579da040e7183.png",
        m["辣椒R"] = "https://picasso-static.xiaohongshu.com/fe-platform/9ad29f04bb78c2551f3e5d57425618a78455b20e.png",
        m["黄瓜R"] = "https://picasso-static.xiaohongshu.com/fe-platform/c15e57a392c37774bfa119af17cfc4f1c5b9ec70.png",
        m["葡萄R"] = "https://picasso-static.xiaohongshu.com/fe-platform/5978958778577a9baa16b93cc0979d9d70291919.png",
        m["草莓R"] = "https://picasso-static.xiaohongshu.com/fe-platform/d29f5474efafbe34835214c37c42f6159fbba789.png",
        m["桃子R"] = "https://picasso-static.xiaohongshu.com/fe-platform/4d64f9e067d75a9722f46d8f858d7afbb43908ed.png",
        m["红薯R"] = "https://picasso-static.xiaohongshu.com/fe-platform/bfb8a6309b8b42af2cf7c8ce20d1d4fb9a64b512.png",
        m["栗子R"] = "https://picasso-static.xiaohongshu.com/fe-platform/3160dda81f09abd55fc26312a53f5945cd975834.png",
        m["红色心形R"] = "https://picasso-static.xiaohongshu.com/fe-platform/d6125900d5de3969a1bb075e23d361c4bd78b0eb.png",
        m["黄色心形R"] = "https://picasso-static.xiaohongshu.com/fe-platform/5421d25d7566afe3fbd5a91c9e704ea2afa4a639.png",
        m["绿色心形R"] = "https://picasso-static.xiaohongshu.com/fe-platform/d384e2e381f4c96257b29ccc054d70d82af786f7.png",
        m["蓝色心形R"] = "https://picasso-static.xiaohongshu.com/fe-platform/284e12f435d3c09056dd264384adbdbb82833c15.png",
        m["紫色心形R"] = "https://picasso-static.xiaohongshu.com/fe-platform/ca6e9a1c66a32bd7f2c5c49f1b51507c8f16c902.png",
        m["爱心R"] = "https://picasso-static.xiaohongshu.com/fe-platform/fc7cec55e0e1a0ffd8668d89ea2921c23c63539e.png",
        m["两颗心R"] = "https://picasso-static.xiaohongshu.com/fe-platform/58b58fa86c33cf358b83aef0e5c9a89298cbc1e4.png",
        m["浅肤色R"] = "https://picasso-static.xiaohongshu.com/fe-platform/691d1d3544521be6fa0ffbf58d6a9743d5303a16.png",
        m["中浅肤色R"] = "https://picasso-static.xiaohongshu.com/fe-platform/573a26c25f11bacad6a6e266833fdf21fe893e17.png",
        m["中等肤色R"] = "https://picasso-static.xiaohongshu.com/fe-platform/e24ca827231348b427b5b3e0b0c6675f9eced27b.png",
        m["中深肤色R"] = "https://picasso-static.xiaohongshu.com/fe-platform/414cc459c8d22b93b79e97b76b0f4a906557c564.png",
        m["有R"] = "https://picasso-static.xiaohongshu.com/fe-platform/6c4ed27842a186f3a89a65f74cc9b3984e12e5e6.png",
        m["可R"] = "https://picasso-static.xiaohongshu.com/fe-platform/1901af71ad54c620e4c2d895fb6a2af28cd83ca5.png",
        m["蹲R"] = "https://picasso-static.xiaohongshu.com/fe-platform/682af0d49dcf04c340abff12b81558621850b900.png",
        m["零R"] = "https://picasso-static.xiaohongshu.com/fe-platform/51f0fc07ddd7d44751b41d53f102114fd7255881.png",
        m["一R"] = "https://picasso-static.xiaohongshu.com/fe-platform/1f6bad36efca7e77f20e5c0339c44564cf0a6fa0.png",
        m["二R"] = "https://picasso-static.xiaohongshu.com/fe-platform/bdb8a0f60e918177ee4de71aebced4a68658f545.png",
        m["三R"] = "https://picasso-static.xiaohongshu.com/fe-platform/f41145ef41eaf9f8d42e208cace1f2a0f9ed602b.png",
        m["四R"] = "https://picasso-static.xiaohongshu.com/fe-platform/9e3c5dc71bee8d45b9be5ffe63554abf86512fe1.png",
        m["五R"] = "https://picasso-static.xiaohongshu.com/fe-platform/d8c24a51ffbe618a13fc19748e0d4e7cf80dba78.png",
        m["六R"] = "https://picasso-static.xiaohongshu.com/fe-platform/55962ff13b3cb8cc3388d5acd8627d8aa40b8fb8.png",
        m["七R"] = "https://picasso-static.xiaohongshu.com/fe-platform/4d19093baf638f86987d9ccb9f530060b573d5a0.png",
        m["八R"] = "https://picasso-static.xiaohongshu.com/fe-platform/d245ba7b1bdc7f73928e282194acc654b10a3bbb.png",
        m["九R"] = "https://picasso-static.xiaohongshu.com/fe-platform/bdd4d21ae715040c7afb737317797266ef14f727.png",
        m["加一R"] = "https://picasso-static.xiaohongshu.com/fe-platform/d5f1bbb77a939d7521ebe80439b39a77f05310ff.png",
        m["满R"] = "https://picasso-static.xiaohongshu.com/fe-platform/6775ba4a34325edc384a932c5aa9ff4b7be059d4.png",
        m["禁R"] = "https://picasso-static.xiaohongshu.com/fe-platform/f168e3aa080bff213e57b5b8367b4fb161e99ce8.png",
        m)
          , vi = [{
            textinput: "[微笑R]",
            title: "微笑",
            image: nc
        }, {
            textinput: "[害羞R]",
            title: "害羞",
            image: nu
        }, {
            textinput: "[失望R]",
            title: "失望",
            image: ns
        }, {
            textinput: "[汗颜R]",
            title: "汗颜",
            image: nd
        }, {
            textinput: "[哇R]",
            title: "哇",
            image: nv
        }, {
            textinput: "[喝奶茶R]",
            title: "喝奶茶",
            image: nm
        }, {
            textinput: "[自拍R]",
            title: "自拍",
            image: nf
        }, {
            textinput: "[偷笑R]",
            title: "偷笑",
            image: np
        }, {
            textinput: "[飞吻R]",
            title: "飞吻",
            image: ng
        }, {
            textinput: "[石化R]",
            title: "石化",
            image: nh
        }, {
            textinput: "[笑哭R]",
            title: "笑哭",
            image: ny
        }, {
            textinput: "[赞R]",
            title: "赞",
            image: nN
        }, {
            textinput: "[暗中观察R]",
            title: "暗中观察",
            image: nk
        }, {
            textinput: "[买爆R]",
            title: "买爆",
            image: nI
        }, {
            textinput: "[大笑R]",
            title: "大笑",
            image: nC
        }, {
            textinput: "[色色R]",
            title: "色色",
            image: nb
        }, {
            textinput: "[生气R]",
            title: "生气",
            image: nE
        }, {
            textinput: "[哭惹R]",
            title: "哭惹",
            image: nA
        }, {
            textinput: "[萌萌哒R]",
            title: "萌萌哒",
            image: nw
        }, {
            textinput: "[斜眼R]",
            title: "斜眼",
            image: nx
        }, {
            textinput: "[可怜R]",
            title: "可怜",
            image: nT
        }, {
            textinput: "[鄙视R]",
            title: "鄙视",
            image: nM
        }, {
            textinput: "[皱眉R]",
            title: "皱眉",
            image: nS
        }, {
            textinput: "[抓狂R]",
            title: "抓狂",
            image: n_
        }, {
            textinput: "[捂脸R]",
            title: "捂脸",
            image: nV
        }, {
            textinput: "[派对R]",
            title: "派对",
            image: nD
        }, {
            textinput: "[吧唧R]",
            title: "吧唧",
            image: nB
        }, {
            textinput: "[惊恐R]",
            title: "惊恐",
            image: nL
        }, {
            textinput: "[抠鼻R]",
            title: "抠鼻",
            image: nP
        }, {
            textinput: "[再见R]",
            title: "再见",
            image: nO
        }, {
            textinput: "[叹气R]",
            title: "叹气",
            image: nR
        }, {
            textinput: "[睡觉R]",
            title: "睡觉",
            image: nU
        }, {
            textinput: "[得意R]",
            title: "得意",
            image: nj
        }, {
            textinput: "[吃瓜R]",
            title: "吃瓜",
            image: nF
        }, {
            textinput: "[扶墙R]",
            title: "扶墙",
            image: nz
        }, {
            textinput: "[黑薯问号R]",
            title: "黑薯问号",
            image: nZ
        }, {
            textinput: "[黄金薯R]",
            title: "黄金薯",
            image: nQ
        }, {
            textinput: "[吐舌头H]",
            title: "吐舌头",
            image: nJ
        }, {
            textinput: "[扯脸H]",
            title: "扯脸",
            image: nH
        }, {
            textinput: "[doge]",
            title: "doge",
            image: nG
        }]
          , vl = Object.keys(vr).map(function(n) {
            return {
                textinput: "[".concat(n, "]"),
                title: n.replace("R", ""),
                image: vr[n]
            }
        })
          , vc = (0,
        ee._)(vi).concat((0,
        ee._)(vl))
          , vu = (0,
        ej.Q_)("transform", function() {
            var n, d, v = (0,
            ej.Jk)((0,
            eH.Z)()), m = v.publishType, h = v.status, y = v.noteId, N = (0,
            ej.Jk)((0,
            eq.Z)()).bizRelationContext, k = (0,
            ej.Jk)((0,
            eG.ZP)()), I = k.updateTemp, C = k.title, x = (k.videoInfo,
            k.videoUrl), M = k.desc, S = k.video, _ = k.descLength, B = k.ats, O = k.chapters, U = k.cover, z = k.hashTag, Z = k.coverUrl, Q = k.backupCovers, J = k.descInnerHTML, H = k.imgList, Y = (0,
            ej.Jk)((0,
            eY.Z)()), W = Y.postLoc, q = Y.privacyInfo, X = Y.coOrderId, K = Y.collectionId, $ = Y.postTime, ee = Y.postTiming, et = (Y.selectedOrder,
            Y.postLocs), en = Y.userDeclaration, ea = Y.groupBind, eo = Y.noteTrialBindId, er = Y.interactionPermissionBind, ei = Y.noteSketch, el = (0,
            ej.Jk)((0,
            eH.Z)()).firstFrameReady;
            var ec = (n = (0,
            V._)(function(n) {
                var d, v, m, h;
                return (0,
                R.Jh)(this, function(y) {
                    switch (y.label) {
                    case 0:
                        return m = [],
                        [4, Promise.all(null === (d = (null == n ? void 0 : n.backup_covers) || []) || void 0 === d ? void 0 : d.map(function(n) {
                            return (0,
                            nq.Jn)(n.field_id)
                        }))];
                    case 1:
                        return h = y.sent(),
                        null == n || null === (v = n.backup_covers) || void 0 === v || v.forEach(function(n, d) {
                            m.push({
                                fileid: n.field_id,
                                height: n.height,
                                width: n.width,
                                previewUrl: h[d] || "",
                                uploading: !1
                            })
                        }),
                        [2, m]
                    }
                })
            }),
            function getBackupCovers(d) {
                return n.apply(this, arguments)
            }
            );
            return {
                apiToDraftData: (d = (0,
                V._)(function(n) {
                    var d, v, k, V, Y, eu, es, ed, ev, em, ef, ep, eg, eh, ey, eN, ek, eI, eC, eb, eE, eA, ew, ex, eT, eM, eS, e_, eV, eD, eB, eL;
                    return (0,
                    R.Jh)(this, function(R) {
                        switch (R.label) {
                        case 0:
                            return I.value = n,
                            v = n.title,
                            k = n.type,
                            V = n.desc,
                            Y = n.ats,
                            eu = n.hash_tag,
                            es = n.cover,
                            ed = n.video_info,
                            n.video,
                            em = n.metadata,
                            ef = n.post_loc,
                            ep = n.scheduled_post_time,
                            eg = n.post_timing,
                            eh = n.order_cooperate,
                            ey = n.privacy,
                            eN = n.images_list,
                            ek = n.biz_relations,
                            eI = n.post_locs,
                            eC = Array.isArray(ek),
                            N.value = {
                                bizRelation: eC ? ek.map(function(n) {
                                    return {
                                        bizId: n.biz_id,
                                        bizType: n.biz_type,
                                        extraInfo: n.extra_info
                                    }
                                }) : []
                            },
                            C.value = v,
                            M.value = V,
                            _.value = V.length,
                            eb = V,
                            null == Y || Y.forEach(function(n) {
                                eb = eb.replaceAll("@".concat(n.nickname), (0,
                                nW.My)({
                                    name: n.nickname,
                                    userId: n.userid
                                }).trim())
                            }),
                            null == eu || eu.forEach(function(n) {
                                "topic" === n.type && (eb = eb.replaceAll("#".concat(n.name, "[话题]#"), (0,
                                nW.nq)({
                                    name: n.name,
                                    id: n.id,
                                    link: n.link
                                }).trim()))
                            }),
                            eb = eb.replace(/#(.*?)\[时刻\]#(.*)(\n?)/g, function(n, d, v, m) {
                                var h;
                                return h = !!m || !1,
                                eu.find(function(n) {
                                    return n.name === d
                                }) ? (0,
                                nW.he)({
                                    name: d,
                                    text: v,
                                    whiteSpace: h
                                }).trim() : n
                            }),
                            null == vc || vc.forEach(function(n) {
                                eb = eb.replaceAll(n.textinput, (0,
                                nW.ZG)(n))
                            }),
                            eb = eb.replaceAll("\n", "<br />"),
                            J.value = eb,
                            B.value = Y,
                            z.value = eu,
                            eE = function(n) {
                                return {
                                    poiId: null == n ? void 0 : n.poi_id,
                                    poiType: null == n ? void 0 : n.poi_type,
                                    subname: "",
                                    name: null == n ? void 0 : n.name
                                }
                            }
                            ,
                            W.value = eE(ef),
                            et.value = (null == eI ? void 0 : eI.map(eE)) || [],
                            q.value = {
                                opType: 1,
                                type: null == ey ? void 0 : ey.type,
                                userIds: (null == ey ? void 0 : ey.user_ids) || []
                            },
                            ee.value = eg,
                            $.value = ep,
                            eA = null == eh ? void 0 : eh.order_id,
                            X.value = eA,
                            [4, (0,
                            va.uH)({
                                note_id: y.value
                            })];
                        case 1:
                            if (ew = R.sent(),
                            I.value.bind = ew,
                            I.value.interactionPermissionBind = null == ew ? void 0 : ew.interactionPermissionBind,
                            (null == ew ? void 0 : ew.interactionPermissionBind) ? er.value = ew.interactionPermissionBind : er.value = {
                                commentPermission: eX.rt.All
                            },
                            (null == ew ? void 0 : ew.noteCollectionBind) && (K.value = (null === (ex = ew.noteCollectionBind) || void 0 === ex ? void 0 : ex.id) || "",
                            I.value.note_collection_bind = ew.noteCollectionBind),
                            (null == ew ? void 0 : ew.noteSketchCollectionBind) && (ei.value = {
                                id: ew.noteSketchCollectionBind.id,
                                name: ew.noteSketchCollectionBind.name
                            },
                            I.value.note_sketch_collection_bind = ew.noteSketchCollectionBind),
                            (null == ew ? void 0 : ew.noteOrderBind) && (I.value.note_order_bind = ew.noteOrderBind),
                            (null == ew ? void 0 : ew.noteCooperationBind) && (I.value.note_cooperation_bind = ew.noteCooperationBind),
                            (null == ew ? void 0 : ew.noteLotteryBind) && (I.value.note_lottery_bind = ew.noteLotteryBind),
                            (null == ew ? void 0 : ew.noteSellerBind) && (I.value.note_seller_bind = ew.noteSellerBind),
                            (null == ew ? void 0 : ew.noteShopBind) && (I.value.note_shop_bind = ew.noteShopBind),
                            (null == ew ? void 0 : ew.liveNoticeBind) && (null == ew ? void 0 : null === (d = ew.liveNoticeBind) || void 0 === d ? void 0 : d.id) && (I.value.live_notice_bind = ew.liveNoticeBind,
                            e2.eC.modifyLiveContext({
                                title: null == ew ? void 0 : null === (eT = ew.liveNoticeBind) || void 0 === eT ? void 0 : eT.title,
                                time: null == ew ? void 0 : null === (eM = ew.liveNoticeBind) || void 0 === eM ? void 0 : eM.startTime
                            }),
                            e2.eC.modifyLiveNotice({
                                id: null == ew ? void 0 : null === (eS = ew.liveNoticeBind) || void 0 === eS ? void 0 : eS.id,
                                title: null == ew ? void 0 : null === (e_ = ew.liveNoticeBind) || void 0 === e_ ? void 0 : e_.title
                            })),
                            (null == ew ? void 0 : ew.liveReservationBind) && (I.value.live_reservation_bind = ew.liveReservationBind,
                            e2.eC.modifyLiveReservation({
                                reserve: null == ew ? void 0 : ew.liveReservationBind.reserve
                            })),
                            (null == ew ? void 0 : ew.noteTrialBind) && (I.value.note_trial_bind = ew.noteTrialBind,
                            eo.value = ew.noteTrialBind.activityId),
                            (null == ew ? void 0 : ew.noteOriginal) && (I.value.note_original = ew.noteOriginal),
                            ew.userDeclarationBind && (I.value.userDeclarationBind = ew.userDeclarationBind,
                            en.value = ew.userDeclarationBind),
                            (null == ew ? void 0 : ew.groupBind) && (I.value.group_bind = (0,
                            G.cloneDeep)(ew.groupBind),
                            ea.value = ew.groupBind),
                            "video" !== k)
                                return [3, 3];
                            return m.value = eX.QO.Video,
                            Z.value = es.url,
                            U.value = {
                                width: es.width,
                                height: es.height,
                                fileid: es.fileid,
                                frame: {
                                    ts: 0,
                                    isUserSelect: !1,
                                    isUpload: !1
                                }
                            },
                            el.value = !0,
                            [4, ec(em)];
                        case 2:
                            return Q.value = R.sent(),
                            O.value = (null == ed ? void 0 : null === (eV = ed.chapters) || void 0 === eV ? void 0 : eV.map(function(n) {
                                var d = n.time / 1e3;
                                return {
                                    time: d,
                                    text: n.text,
                                    width: d / ed.duration * 677 + 54,
                                    showTime: (0,
                                    ap.pf)(d),
                                    percentage: d / ed.duration,
                                    length: n.text.length
                                }
                            })) || [],
                            (eL = null == ed ? void 0 : null === (eD = ed.url_info_list) || void 0 === eD ? void 0 : eD.find(function(n) {
                                return "h264-RedH264" === n.desc
                            })) ? x.value = eL.url : x.value = ed.url,
                            S.value = {
                                width: ed.width,
                                height: ed.height,
                                fileid: "",
                                fsize: 0,
                                duration: ed.duration,
                                videoId: ed.id,
                                videoMarks: null === (eB = ed.video_mark_list || []) || void 0 === eB ? void 0 : eB.map(function(n) {
                                    var d, v, m, h, y, N, k, I;
                                    return {
                                        active: !1,
                                        config: {
                                            anchor_center: null == n ? void 0 : null === (d = n.mark) || void 0 === d ? void 0 : d.anchor_center,
                                            container_size: null == n ? void 0 : null === (v = n.mark) || void 0 === v ? void 0 : v.container_size,
                                            event: {
                                                value: {
                                                    id: null == n ? void 0 : null === (m = n.mark) || void 0 === m ? void 0 : m.event.id,
                                                    name: null == n ? void 0 : null === (h = n.mark) || void 0 === h ? void 0 : h.event.name
                                                }
                                            },
                                            markY: 0,
                                            style: null == n ? void 0 : null === (y = n.mark) || void 0 === y ? void 0 : y.style,
                                            price: null == n ? void 0 : null === (N = n.mark) || void 0 === N ? void 0 : N.price,
                                            type: null == n ? void 0 : null === (k = n.mark) || void 0 === k ? void 0 : k.type,
                                            unit_center: null == n ? void 0 : null === (I = n.mark) || void 0 === I ? void 0 : I.unit_center
                                        },
                                        key: n.id,
                                        endTime: n.end_time / 1e3,
                                        markId: n.id,
                                        startTime: n.start_time / 1e3,
                                        type: n.type,
                                        visibility: !1
                                    }
                                }),
                                timelines: [],
                                frame: {
                                    ts: ed.frame_ts,
                                    userSelect: ed.is_user_select
                                },
                                transcodeVideoFileId: "",
                                coverInfo: {}
                            },
                            [3, 4];
                        case 3:
                            m.value = eX.QO.Image,
                            H.value = null == eN ? void 0 : eN.map(function(n) {
                                var d;
                                return {
                                    file: {
                                        name: "".concat(n.fileid, ".jpeg"),
                                        ratio: n.width / n.height,
                                        width: n.width,
                                        height: n.height
                                    },
                                    status: eX.wW.uploadSuccess,
                                    url: n.url,
                                    fileId: n.fileid,
                                    markers: null == n ? void 0 : null === (d = n.mark_list) || void 0 === d ? void 0 : d.map(function(n) {
                                        var d, v, m, h, y;
                                        return {
                                            active: !1,
                                            endTime: 0,
                                            key: null == n ? void 0 : null === (d = n.event) || void 0 === d ? void 0 : d.id,
                                            markId: null == n ? void 0 : n.markId,
                                            startTime: 0,
                                            type: null == n ? void 0 : null === (v = n.type) || void 0 === v ? void 0 : v.toUpperCase(),
                                            visibility: !0,
                                            config: {
                                                anchor_center: null == n ? void 0 : n.anchor_center,
                                                container_size: null == n ? void 0 : n.container_size,
                                                event: {
                                                    value: {
                                                        id: null == n ? void 0 : null === (m = n.event) || void 0 === m ? void 0 : m.id,
                                                        name: null == n ? void 0 : null === (h = n.event) || void 0 === h ? void 0 : h.name
                                                    }
                                                },
                                                markY: 0,
                                                style: null == n ? void 0 : n.style,
                                                type: null == n ? void 0 : null === (y = n.type) || void 0 === y ? void 0 : y.toUpperCase(),
                                                unit_center: ""
                                            }
                                        }
                                    }),
                                    markersExtends: [],
                                    previewUrl: n.url,
                                    origin: {
                                        file: null,
                                        fileId: n.fileid,
                                        url: n.original,
                                        status: eX.wW.uploadSuccess
                                    },
                                    videoFileId: n.live_photo_file_id
                                }
                            }),
                            R.label = 4;
                        case 4:
                            return h.value = eX.qb.Preview,
                            [2]
                        }
                    })
                }),
                function apiToDraftData(n) {
                    return d.apply(this, arguments)
                }
                )
            }
        })
          , vs = {
            class: "outarea h100"
        }
          , vd = {
            class: "creator-container"
        }
          , vv = {
            key: 0,
            class: "error-page"
        }
          , vm = (0,
        ec.defineComponent)({
            __name: "Index",
            setup: function(n) {
                var d = (0,
                eH.Z)()
                  , v = (0,
                ej.Jk)(d)
                  , m = v.step
                  , h = v.publishType
                  , y = v.noteId;
                v.source;
                var N = vu()
                  , k = (0,
                e$.Z)()
                  , I = (0,
                ej.Jk)(k).userInfo;
                (0,
                ej.Jk)((0,
                eG.ZP)()).video;
                var C = (0,
                ec.ref)(!0)
                  , x = (0,
                ec.ref)(!1)
                  , M = (0,
                ec.computed)(function() {
                    return m.value === eX.cl.Publish && I.value
                })
                  , S = (0,
                ec.computed)(function() {
                    return h.value === eX.QO.Video && I.value
                })
                  , _ = (0,
                ec.computed)(function() {
                    return h.value === eX.QO.Image && I.value
                })
                  , B = (0,
                ec.computed)(function() {
                    return !I.value || C.value
                });
                return (0,
                ec.onMounted)(function() {
                    var n;
                    (0,
                    va.WQ)({
                        note_id: y.value,
                        source: (0,
                        vo.b5)() || "web"
                    }).then((n = (0,
                    V._)(function(n) {
                        var d, v;
                        return (0,
                        R.Jh)(this, function(m) {
                            switch (m.label) {
                            case 0:
                                return [4, N.apiToDraftData(n)];
                            case 1:
                                return m.sent(),
                                C.value = !1,
                                null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["62530"]({
                                    noteEditSource: 2,
                                    noteType: "video" === n.type ? 3 : 1
                                })),
                                [2]
                            }
                        })
                    }),
                    function(d) {
                        return n.apply(this, arguments)
                    }
                    )).catch(function() {
                        x.value = !0
                    })
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", vs, [(0,
                    ec.createElementVNode)("div", vd, [x.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", vv, d[0] || (d[0] = [(0,
                    ec.createElementVNode)("img", {
                        src: dH
                    }, null, -1), (0,
                    ec.createElementVNode)("div", null, "网络错误，请稍后重试", -1)]))) : (0,
                    ec.createCommentVNode)("", !0), B.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(dY, {
                        key: 1
                    })) : (0,
                    ec.createCommentVNode)("", !0), !B.value && M.value && S.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(d8, {
                        key: 2
                    })) : (0,
                    ec.createCommentVNode)("", !0), !B.value && M.value && _.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(vn, {
                        key: 3
                    })) : (0,
                    ec.createCommentVNode)("", !0)])])
                }
            }
        });
        let vf = (0,
        eN.default)(vm, [["__scopeId", "data-v-292c21a8"]]);
        var vp = v(19811)
          , useNpsPlugin = function(n) {
            var d, v = (0,
            ec.ref)(!1), m = (0,
            ec.ref)(-1);
            var h = (d = (0,
            V._)(function() {
                var n;
                return (0,
                R.Jh)(this, function(d) {
                    switch (d.label) {
                    case 0:
                        if (sessionStorage.getItem("fansCount"))
                            return m.value = Number(sessionStorage.getItem("fansCount")),
                            [2];
                        return [4, (0,
                        vp.HG)()];
                    case 1:
                        return n = d.sent(),
                        m.value = (null == n ? void 0 : n.fansCount) || -1,
                        sessionStorage.setItem("fansCount", m.value.toString()),
                        [2]
                    }
                })
            }),
            function getFansCount() {
                return d.apply(this, arguments)
            }
            );
            return (0,
            ec.onMounted)(function() {
                !localStorage.getItem("npsSubmit") && (v.value = !0,
                h()),
                new URLSearchParams(window.location.search.substring(1)).get("published") && setTimeout(function() {
                    var d;
                    null === (d = n.value) || void 0 === d || d.show()
                }, 2e3)
            }),
            {
                onModalSubmit: function() {
                    localStorage.setItem("npsSubmit", "true"),
                    setTimeout(function() {
                        var d;
                        null === (d = n.value) || void 0 === d || d.hide(),
                        v.value = !1
                    }, 3e3)
                },
                showNpsPlugin: v,
                fansCount: m
            }
        }
          , vg = {
            key: 0,
            class: "skeleton"
        }
          , vh = {
            key: 3
        }
          , vy = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                onPublishStart: {
                    type: Function
                },
                onPublishSuccess: {
                    type: Function
                },
                onPublishFail: {
                    type: Function
                },
                onTokenInvalid: {
                    type: Function
                },
                onEditPageShow: {
                    type: Function
                },
                onUpdateCancel: {
                    type: Function
                }
            },
            setup: function(n) {
                var d = (0,
                ec.ref)(null)
                  , v = useNpsPlugin(d)
                  , m = v.onModalSubmit
                  , h = v.showNpsPlugin
                  , y = v.fansCount
                  , N = (0,
                eH.Z)()
                  , k = (0,
                e$.Z)()
                  , I = (0,
                ej.Jk)(N)
                  , C = (I.publishType,
                I.publishStartHandler)
                  , x = I.publishSuccessHandler
                  , M = I.publishFailHandler
                  , S = I.tokenInvalidHandler
                  , _ = I.onEditPageShow
                  , V = I.onUpdateCancelHandler
                  , B = I.noteId
                  , O = I.hasBootstrap
                  , R = I.theme
                  , U = (0,
                ej.Jk)(k).userInfo;
                (0,
                eG.ZP)();
                var z = (0,
                e9.Z)()
                  , Z = z.publishUnmount
                  , Q = (z.onPublishUnmount,
                z.onWorkflowCanceled)
                  , J = (0,
                ec.ref)(!1)
                  , H = (0,
                ec.ref)(!1);
                (0,
                ec.watch)(O, function() {
                    B.value ? H.value = !0 : J.value = !0
                });
                var onUserChange = function(n) {
                    "USER_INFO_FOR_BIZ" === n.key && (alert("该账户已退出登录"),
                    window.location.reload())
                };
                return (0,
                ec.onMounted)(function() {
                    C.value = n.onPublishStart,
                    x.value = n.onPublishSuccess,
                    M.value = n.onPublishFail,
                    S.value = n.onTokenInvalid,
                    _.value = n.onEditPageShow,
                    V.value = n.onUpdateCancel,
                    window.addEventListener("storage", onUserChange)
                }),
                (0,
                ec.onBeforeUnmount)(function() {
                    Z(),
                    (0,
                    e7.K)(),
                    window.removeEventListener("storage", onUserChange)
                }),
                Q(function() {
                    (0,
                    e7.K)()
                }),
                function(n, v) {
                    var N, k, I;
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        class: (0,
                        ec.normalizeClass)("publish-container ".concat((0,
                        ec.unref)(R) === (0,
                        ec.unref)(eX.h6).red ? "red" : "blue"))
                    }, [J.value || H.value ? (0,
                    ec.createCommentVNode)("", !0) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", vg, [(0,
                    ec.createVNode)(dY)])), J.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(dJ, {
                        key: 1
                    })) : (0,
                    ec.createCommentVNode)("", !0), H.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(vf, {
                        key: 2
                    })) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.unref)(h) && (null === (N = (0,
                    ec.unref)(U)) || void 0 === N ? void 0 : N.id) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", vh, [(0,
                    ec.createVNode)((0,
                    ec.unref)(e6.Z), {
                        ref_key: "npsPluginRef",
                        ref: d,
                        style: {
                            position: "fixed",
                            right: "40px",
                            bottom: "40px",
                            "z-index": "999"
                        },
                        "application-id": 487,
                        "user-id": (0,
                        ec.unref)(U).id,
                        "user-name": null === (k = (0,
                        ec.unref)(U)) || void 0 === k ? void 0 : k.nickName,
                        "welcome-title": "Hi！".concat(null === (I = (0,
                        ec.unref)(U)) || void 0 === I ? void 0 : I.nickName, "，"),
                        "account-type": "".concat((0,
                        ec.unref)(y)),
                        onModalSubmit: (0,
                        ec.unref)(m)
                    }, null, 8, ["user-id", "user-name", "welcome-title", "account-type", "onModalSubmit"])])) : (0,
                    ec.createCommentVNode)("", !0)], 2)
                }
            }
        })
          , vN = (0,
        ec.defineComponent)({
            __name: "AppContainer",
            setup: function(n) {
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(eF.jP), null, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(vy, (0,
                            ec.normalizeProps)((0,
                            ec.guardReactiveProps)(n.$attrs)), null, 16)]
                        }),
                        _: 1
                    })
                }
            }
        });
        v(12602);
        var vk = v(25054)
          , vI = v(23855)
          , vC = ["data-impression"]
          , vb = {
            key: 0,
            class: "flex"
        }
          , vE = {
            class: "text"
        }
          , vA = {
            key: 1,
            class: "box-container"
        }
          , vw = ["src"]
          , vx = {
            class: "edit-info"
        }
          , vT = {
            class: "title"
        }
          , vM = {
            class: "desc"
        }
          , vS = {
            key: 0
        }
          , v_ = {
            class: "card-item"
        }
          , vV = ["src"]
          , vD = {
            key: 0,
            class: "polygon",
            src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAsCAYAAAAjFjtnAAABpElEQVR4XtWWwVHDQAxFUwIlUAJHEnNwKZmxzXBMCdsBdBA6oQRKoASXIFYGMvhLcSxn16u8mXfJ7Eo/zBJpswGeWqqrZ3rdNfS1a6mPkmPDKXh9oLsY+qgc8uo4fNXRp3LIpx3tT+GZqo1PBg/5tOcnPgr/+EL3ykF/dvF/sqOHUXgmfngUh70Zw9fxD43ZB+Lz8f32p8Iz4oIj+YdlMjyDl7wYX8YH/zpiXgFe9OC2oXfMeRa87MCAGSdRCpQ0YL6LKEWKuG3pgNlmgYWKiKuBBVFsXeVqYEUpuo7nVgMrovAaXpquFkTx3KYMz4gGGR1WgznT1QI2yeXs1cAKNsqhaTWwgs0yGLBnUpSGKQ3YLzlK0yQuXg2sYOMkXrMaWBHNr7NPMl0tKCGWmWo1sCKCLDH1dLUgwlgtGZ4RgQxmWQ2sYKi58nQtHp7BYHPMuhpYwXAzDFijKErAKQPeL44SUnW11cAKBlXk6brHe25QAmP49aerBSX0j6VWAysi+G/4otPVwk2HZ/6Hd7EaWPkL72Y1sDJ8gYbe8PObYedxuhr4BsSn5eWdtOSsAAAAAElFTkSuQmCC"
        }
          , vB = {
            key: 1,
            class: "vector",
            src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAYAAAA/xX6fAAAAxUlEQVR4Xu2T4Q2CMBCFGYEROgIjMIIjMIIbwAaOgBs5AiM4wvMuvcbyfmiV1h/mvqSB9F37BXrtOsdxfgGAQcZFRs9ZdUx2R+TEeVVEEDLZrekXmmwzmT4D11Tjr2U94lkpenaBa4pA7LTA8wzJBs6LkIWjbbLhRZdJtlqdMnJejErwprURL3Vi4vxjsL+8O6m8z8kkLNmyY+D5a5XV5uZsbqElx5FNp0yQGkRZuLYasvk5E7WVJVRisitnzUDBvXQc5yseC9A+0xA5r3gAAAAASUVORK5CYII="
        }
          , vL = {
            class: "info"
        }
          , vP = {
            class: "title"
        }
          , vO = {
            class: "desc"
        }
          , vR = {
            class: "operator"
        }
          , vU = ["onClick"]
          , vj = {
            key: 0,
            class: "note-unrelated-container"
        }
          , vF = {
            key: 1,
            class: "note-unrelated-container"
        }
          , vz = {
            class: "note-unrelated"
        }
          , vZ = {
            key: 0,
            style: {
                display: "flex",
                "flex-direction": "column",
                gap: "4px",
                color: "#d2d2d2"
            }
        }
          , vQ = {
            key: 1,
            class: "loading"
        }
          , vJ = {
            key: 0
        }
          , vH = {
            class: "footer"
        }
          , vG = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                state: {}
            },
            setup: function(n) {
                var d, v, m = (d = {},
                (0,
                eU._)(d, 1, "图文"),
                (0,
                eU._)(d, 2, "视频"),
                d), h = (v = {},
                (0,
                eU._)(v, eX.QO.Image, "图文"),
                (0,
                eU._)(v, eX.QO.Video, "视频"),
                v), y = (0,
                ec.computed)(function() {
                    var d;
                    return null !== (d = n.state.themeColor.value) && void 0 !== d ? d : "#ff2442"
                }), N = (0,
                ec.computed)(function() {
                    return n.state.isCanUseOrder.value
                }), k = (0,
                ec.computed)(function() {
                    return n.state.orderExclusiveText.value
                }), I = (0,
                ec.computed)(function() {
                    return n.state.orderContext.value
                }), C = (0,
                ec.computed)(function() {
                    return n.state.noteId.value
                }), x = (0,
                ec.computed)(function() {
                    return n.state.publishType.value
                }), M = (0,
                ec.ref)(!1), S = (0,
                ec.ref)(0), _ = (0,
                ec.ref)([]), V = (0,
                ec.ref)(!1), B = (0,
                ec.ref)(!1), O = (0,
                ec.computed)(function() {
                    return _.value.slice(5 * S.value, (S.value + 1) * 5)
                }), R = (0,
                ec.computed)(function() {
                    return (0,
                    ec.unref)(C) && !(0,
                    ec.unref)(V)
                }), U = (0,
                ec.computed)(function() {
                    var n = _.value.length;
                    return (0,
                    ec.unref)(C) ? (0,
                    ec.unref)(V) && !!n : !!n
                }), z = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["63114"]({
                        channelTabName: "内容合作",
                        noteEditSource: n.state.noteId.value ? 2 : 1,
                        noteType: x.value === eX.QO.Video ? 3 : 1
                    }))
                }), handleClearOrder = function() {
                    _.value = _.value.map(function(d) {
                        return d.orderId === n.state.coOrderId.value && (d.status = "NOTE_UNRELATED"),
                        d
                    }),
                    n.state.coOrderId.value = "",
                    n.state.selectedOrder.value = void 0
                }, isRelated = function(d, v) {
                    return "NOTE_UNRELATED" !== d || v === n.state.coOrderId.value
                }, isRelatedMyself = function(d) {
                    return d === n.state.coOrderId.value
                }, isCheckContentType = function(n) {
                    var d = null != n ? n : {}
                      , v = d.contentType;
                    return !(1 === d.checkContentType && [1, 2].includes(v)) || ((0,
                    ec.unref)(x) === eX.QO.Image ? 1 === v : (0,
                    ec.unref)(x) === eX.QO.Video && 2 === v)
                }, checkContentTypeText = function(n) {
                    var d, v, y = (null != n ? n : {}).contentType;
                    return "你正在发布的笔记类型（".concat(h[null !== (d = (0,
                    ec.unref)(x)) && void 0 !== d ? d : "-"], "）和该订单要求的笔记类型（").concat(null !== (v = m[y]) && void 0 !== v ? v : "-", "）不一致")
                }, handleOpenDialog = function() {
                    var n;
                    if (!!N.value)
                        null === (n = window) || void 0 === n || n.eaglet.push(el.tracker["63115"]({
                            channelTabName: "内容合作",
                            noteEditSource: C.value ? 2 : 1,
                            noteType: x.value === eX.QO.Video ? 3 : 1
                        })),
                        M.value = !0
                }, handleCloseDialog = function() {
                    M.value = !1
                }, searchCoopOrder = function() {
                    var d;
                    (0,
                    oC.ub)({
                        noteId: null !== (d = n.state.noteId.value) && void 0 !== d ? d : ""
                    }).then(function(d) {
                        if (V.value = null !== (v = null == d ? void 0 : d.business) && void 0 !== v && v,
                        B.value = null !== (m = null == d ? void 0 : d.hasPublished) && void 0 !== m && m,
                        _.value = null !== (h = null == d ? void 0 : d.orders) && void 0 !== h ? h : [],
                        n.state.noteId.value && (null == d ? void 0 : d.business) && (null == d ? void 0 : d.hasPublished) && (_.value = null !== (N = null === (y = (0,
                        ec.unref)(_)) || void 0 === y ? void 0 : y.filter(function(n) {
                            return isRelatedMyself(n.orderId)
                        })) && void 0 !== N ? N : []),
                        n.state.coOrderId.value) {
                            var v, m, h, y, N, k = _.value.find(function(d) {
                                return d.orderId === n.state.coOrderId.value
                            });
                            k && (n.state.selectedOrder.value = k,
                            n.state.orderContext.value.image = k.brandAccountLogo,
                            n.state.orderContext.value.name = k.brandAccountName,
                            n.state.orderContext.value.task = k.taskName)
                        }
                    })
                };
                searchCoopOrder();
                var handleChange = function(n) {
                    S.value = n - 1
                }
                  , handleBindOrder = function(d) {
                    if ("NOTE_UNRELATED" === d.status)
                        isCheckContentType(d) && (_.value = _.value.map(function(d) {
                            return d.orderId === n.state.coOrderId.value && (d.status = "NOTE_UNRELATED"),
                            d
                        }),
                        n.state.coOrderId.value = d.orderId,
                        n.state.selectedOrder.value = d,
                        n.state.orderContext.value.image = d.brandAccountLogo,
                        n.state.orderContext.value.name = d.brandAccountName,
                        n.state.orderContext.value.task = d.taskName,
                        M.value = !1)
                };
                return function(d, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        "data-impression": z.value
                    }, [n.state.coOrderId.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", vA, [(0,
                    ec.createElementVNode)("img", {
                        class: "box-logo",
                        src: I.value.image
                    }, null, 8, vw), (0,
                    ec.createElementVNode)("div", vx, [(0,
                    ec.createElementVNode)("div", vT, (0,
                    ec.toDisplayString)(I.value.task), 1), (0,
                    ec.createElementVNode)("div", vM, "报备品牌：" + (0,
                    ec.toDisplayString)(I.value.name), 1)]), (0,
                    ec.createElementVNode)("div", {
                        class: "edit-operator"
                    }, [(0,
                    ec.createElementVNode)("div", {
                        class: "icon-button",
                        onClick: handleOpenDialog
                    }, v[4] || (v[4] = [(0,
                    ec.createElementVNode)("img", {
                        src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE4IDE4Ij48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik00LjggMTAuMDMxIDExLjk1IDIuODhhMi4wNjIgMi4wNjIgMCAxIDEgMi45MTcgMi45MTdsLTcuMTQgNy4xNDFhMS4zIDEuMyAwIDAgMS0uODMuMzhsLTEuNjUzLjEyNWEuOTM4LjkzOCAwIDAgMS0xLjAwMi0xLjA0bC4xOC0xLjU5Yy4wMzMtLjI5NS4xNjYtLjU3LjM3Ni0uNzhtMi4wMTMgMi4xNjVhLjIuMiAwIDAgMCAuMTE5LS4wNTRMMTQuMDcyIDVhLjkzOC45MzggMCAwIDAtMS4zMjUtMS4zMjZsLTcuMTUyIDcuMTUyYS4yLjIgMCAwIDAtLjA1NC4xMTFsLS4xNTQgMS4zNjV6TTMuNTYyIDE0LjYyNWEuNTYzLjU2MyAwIDAgMCAwIDEuMTI1aDEwLjg3NWEuNTYyLjU2MiAwIDEgMCAwLTEuMTI1eiIvPjwvc3ZnPg=="
                    }, null, -1), (0,
                    ec.createElementVNode)("span", null, "编辑", -1)])), (0,
                    ec.createElementVNode)("div", {
                        class: "icon-button",
                        onClick: handleClearOrder
                    }, v[5] || (v[5] = [(0,
                    ec.createElementVNode)("img", {
                        src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE4IDE4Ij48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik03LjMxMyAyLjI1aDMuMzc1YS41NjIuNTYyIDAgMSAxIDAgMS4xMjVINy4zMTJhLjU2My41NjMgMCAwIDEgMC0xLjEyNU03LjMxMyA2Ljc1YS41NjMuNTYzIDAgMCAwLS41NjMuNTYzdjUuNjI1YS41NjIuNTYyIDAgMSAwIDEuMTI1IDBWNy4zMTJhLjU2My41NjMgMCAwIDAtLjU2Mi0uNTYyTTEwLjEyNSA3LjMxM2EuNTYyLjU2MiAwIDEgMSAxLjEyNSAwdjUuNjI1YS41NjIuNTYyIDAgMSAxLTEuMTI1IDB6Ii8+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTUuMTg4IDQuNWEuNTYyLjU2MiAwIDEgMSAwIDEuMTI1aC0uOTM4djcuMTI1YTMgMyAwIDAgMS0zIDNoLTQuNWEzIDMgMCAwIDEtMy0zVjUuNjI1aC0uOTM3YS41NjMuNTYzIDAgMCAxIDAtMS4xMjV6TTQuODc0IDUuNjI1djcuMTI1YzAgMS4wMzYuODQgMS44NzUgMS44NzUgMS44NzVoNC41YzEuMDM2IDAgMS44NzUtLjg0IDEuODc1LTEuODc1VjUuNjI1eiIvPjwvc3ZnPg=="
                    }, null, -1), (0,
                    ec.createElementVNode)("span", null, "删除", -1)]))])])) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", vb, [v[3] || (v[3] = (0,
                    ec.createElementVNode)("img", {
                        class: "order-icon",
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACLUlEQVR4Xu2ZYVHEMBCF1wAGEIABDNQAAjCAgTMQAWcAAxhAAAYQRd/1FjavSbpp09If+WZ27i7Z3bxN0iYMIp1Op9Pp1PMw2vNol9HC/fNltEfjUwKxbzLF4nOQKechDKN9jfadMQjKAeGfMo+Bob0U2wQMwAOnLNz9LVtim8ACsAq6dV5lPrPhFjVRikVfKbYJLCBIes+m/LjtQ/yxTahNzP4e8QrHhqh3BZwQAjxwnEe8wrH4vQpO5BUAtsQCjq8ughPUCNgSawmysggcRmsFtBKvBInz4RxZJMg6AXglesSjzXtig6v85XynvhlIbkXUDATBJfHIBQHq4z15kcee/EVNWCIrwstS4U+Sv36kimVs4UPcFWMLWFwugy0AQi0p8fz7+uudBv3qi62axT7ALGQJKwpbA8IxIbYd20ZXhx94XC1y2O25+CDbAXHH8QJfK4jNile4iJS4QWKfpe0WJUUxmEkvQebCc+KVILGfBTH2ohei3gyo0AbVFoE9iucHOfRNU5o1fsvoKrD40iTM4ODaImrB/tex8L3J+E2SOBkknulm4x5VhH37WWsy3hFFYN/vIl7Zuwi+R7XOf2OvIvbKm6T1YJwPtiWfCx50bRGcB1a857SEB68tguMPFa+wCG8RHPcv4hUWgyLQloP9/1W8wqLwPVUE+51CvJISF2Q6oAaZLnRYnVOKV1JF5Ox04pWlItCHVTk9EHmR6e8CWJCD/4nR6XQ6x/ADeQdLidB6Oo0AAAAASUVORK5CYII="
                    }, null, -1)), (0,
                    ec.createElementVNode)("div", vE, [v[2] || (v[2] = (0,
                    ec.createTextVNode)(" 请选择内容合作订单 ")), (0,
                    ec.createVNode)((0,
                    ec.unref)(vk.$t), {
                        "show-arrow": "",
                        trigger: "hover",
                        placement: "right",
                        width: 410,
                        "popper-class": "order-plugin-popper",
                        content: "仅可选未关联笔记、或已关联笔记但发布未超过24小时的订单"
                    }, {
                        reference: (0,
                        ec.withCtx)(function() {
                            return v[1] || (v[1] = [(0,
                            ec.createElementVNode)("img", {
                                src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDEyIDEyIj48cGF0aCBmaWxsPSIjODg4IiBkPSJNNS41MTYgMy43NWEuNDg1LjQ4NSAwIDEgMSAuOTY4IDBsLS4wOTcgMy4xMjVhLjM4Ny4zODcgMCAwIDEtLjc3NCAwek02LjUgOC4yNWEuNS41IDAgMSAxLTEgMCAuNS41IDAgMCAxIDEgMCIvPjxwYXRoIGZpbGw9IiM4ODgiIGQ9Ik02IDExQTUgNSAwIDEgMCA2IDFhNSA1IDAgMCAwIDAgMTBtMC0uNzVhNC4yNSA0LjI1IDAgMSAxIDAtOC41IDQuMjUgNC4yNSAwIDAgMSAwIDguNSIvPjwvc3ZnPg=="
                            }, null, -1)])
                        }),
                        _: 1
                    })]), (0,
                    ec.createVNode)((0,
                    ec.unref)(vk.$t), {
                        disabled: N.value,
                        "show-arrow": "",
                        trigger: "hover",
                        placement: "top",
                        width: 330,
                        "popper-class": "order-plugin-btn-popper",
                        content: k.value
                    }, {
                        reference: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("button", {
                                class: (0,
                                ec.normalizeClass)("add-order-btn ".concat(N.value ? "" : "disabled")),
                                onClick: handleOpenDialog
                            }, " 关联订单 ", 2)]
                        }),
                        _: 1
                    }, 8, ["disabled", "content"])])), (0,
                    ec.createVNode)((0,
                    ec.unref)(ai.d0), {
                        modelValue: M.value,
                        "onUpdate:modelValue": v[0] || (v[0] = function(n) {
                            return M.value = n
                        }
                        ),
                        width: "570",
                        class: "dialog",
                        "align-center": "",
                        "append-to-body": "",
                        onClose: handleCloseDialog
                    }, (0,
                    ec.createSlots)({
                        header: (0,
                        ec.withCtx)(function() {
                            return [v[6] || (v[6] = (0,
                            ec.createElementVNode)("span", {
                                class: "header"
                            }, "内容合作", -1))]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            return [U.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", vS, [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(O.value, function(n, d) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    key: n.orderId,
                                    class: (0,
                                    ec.normalizeClass)(["card", "".concat(d !== O.value.length - 1 ? "border-bottom" : "")])
                                }, [(0,
                                ec.createElementVNode)("div", v_, [(0,
                                ec.createElementVNode)("img", {
                                    class: "logo",
                                    src: n.brandAccountLogo
                                }, null, 8, vV), isRelatedMyself(n.orderId) ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("img", vD)) : (0,
                                ec.createCommentVNode)("", !0), isRelatedMyself(n.orderId) ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("img", vB)) : (0,
                                ec.createCommentVNode)("", !0), (0,
                                ec.createElementVNode)("div", vL, [(0,
                                ec.createElementVNode)("div", vP, (0,
                                ec.toDisplayString)(n.taskName), 1), (0,
                                ec.createElementVNode)("div", vO, "报备品牌：" + (0,
                                ec.toDisplayString)(n.brandAccountName), 1)]), (0,
                                ec.createElementVNode)("div", vR, [(0,
                                ec.createElementVNode)("button", {
                                    class: (0,
                                    ec.normalizeClass)({
                                        "operator-button": !0,
                                        disabled: [isRelated(n.status, n.orderId), !isCheckContentType(n)].includes(!0)
                                    }),
                                    onClick: function(d) {
                                        return handleBindOrder(n)
                                    }
                                }, (0,
                                ec.toDisplayString)(isRelated(n.status, n.orderId) ? "已关联" : "关联"), 11, vU)])]), isRelated(n.status, n.orderId) ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", vj, [(0,
                                ec.createElementVNode)("span", {
                                    class: (0,
                                    ec.normalizeClass)("note-unrelated ".concat(isRelatedMyself(n.orderId) ? "myself" : ""))
                                }, (0,
                                ec.toDisplayString)(isRelatedMyself(n.orderId) ? "该订单已关联本篇笔记" : "该订单已关联笔记"), 3)])) : isCheckContentType(n) ? (0,
                                ec.createCommentVNode)("", !0) : ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", vF, [(0,
                                ec.createElementVNode)("span", vz, (0,
                                ec.toDisplayString)(checkContentTypeText(n)), 1)]))], 2)
                            }), 128)), C.value && V.value && B.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", vZ, v[7] || (v[7] = [(0,
                            ec.createElementVNode)("span", null, "仅可选未关联笔记、或者已关联笔记但正式发布还未超过24小时的订单", -1), (0,
                            ec.createElementVNode)("span", null, "笔记已发布，无法更改关联的合作订单", -1)]))) : (0,
                            ec.createCommentVNode)("", !0)])) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", vQ, [v[10] || (v[10] = (0,
                            ec.createElementVNode)("img", {
                                src: dH
                            }, null, -1)), R.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", vJ, "该笔记不能用于内容合作")) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)(ec.Fragment, {
                                key: 1
                            }, [v[9] || (v[9] = (0,
                            ec.createElementVNode)("div", null, "暂无数据，请稍后重试", -1)), (0,
                            ec.createVNode)((0,
                            ec.unref)(a4.mi), {
                                color: y.value,
                                onClick: searchCoopOrder
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return v[8] || (v[8] = [(0,
                                    ec.createTextVNode)(" 重试 ")])
                                }),
                                _: 1
                            }, 8, ["color"])], 64))]))]
                        }),
                        _: 2
                    }, [U.value ? {
                        name: "footer",
                        fn: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", vH, [(0,
                            ec.createVNode)((0,
                            ec.unref)(vI.R), {
                                size: "small",
                                background: "",
                                "page-size": 5,
                                layout: "prev, pager, next",
                                total: _.value.length,
                                class: "mt-4",
                                onChange: handleChange
                            }, null, 8, ["total"])])]
                        }),
                        key: "0"
                    } : void 0]), 1032, ["modelValue"])], 8, vC)
                }
            }
        });
        let vY = (0,
        eN.default)(vG, [["__scopeId", "data-v-67a928e5"]]);
        var vW = v(57271)
          , vq = v(63504)
          , vX = v(6487)
          , vK = {
            class: "item"
        }
          , v$ = {
            key: 0,
            style: {
                padding: "12px 0"
            }
        }
          , v0 = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                state: {}
            },
            setup: function(n) {
                var d = (0,
                ec.computed)(function() {
                    var d;
                    return (null === (d = n.state.userInfo.value) || void 0 === d ? void 0 : d.collections) || []
                })
                  , v = (0,
                ec.computed)(function() {
                    return n.state.isCanBindCollection.value
                })
                  , m = (0,
                ec.computed)(function() {
                    return n.state.collectionExclusiveText.value
                })
                  , h = (0,
                ec.computed)(function() {
                    return d.value ? d.value.map(function(n) {
                        return (0,
                        O._)((0,
                        B._)({}, n), {
                            value: n.id,
                            label: n.name
                        })
                    }) : []
                })
                  , handleSelect = function(d) {
                    n.state.collectionId.value = d
                };
                return function(d, y) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(vW.Z), {
                        class: "_title collection",
                        "hide-optional-text": !0,
                        layout: "inline"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(vq.Z), {
                                class: "collection-container",
                                label: "添加合集"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)((0,
                                    ec.unref)(oN.Z), {
                                        class: "release-live-notice-tooltip",
                                        disabled: v.value,
                                        content: m.value,
                                        theme: "light",
                                        placement: "bottom"
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return [(0,
                                            ec.createVNode)((0,
                                            ec.unref)(a1.Z), {
                                                modelValue: n.state.collectionId.value,
                                                "onUpdate:modelValue": y[0] || (y[0] = function(d) {
                                                    return n.state.collectionId.value = d
                                                }
                                                ),
                                                options: h.value,
                                                disabled: !v.value,
                                                placeholder: "添加合集",
                                                class: (0,
                                                ec.normalizeClass)(["select", v.value ? "" : "select-disabled"]),
                                                "suffix-icon": "ArrowDown",
                                                clearable: "",
                                                onChange: handleSelect
                                            }, {
                                                option: (0,
                                                ec.withCtx)(function(n) {
                                                    var d = n.option;
                                                    return [(0,
                                                    ec.createElementVNode)("div", vK, (0,
                                                    ec.toDisplayString)(d.label), 1)]
                                                }),
                                                empty: (0,
                                                ec.withCtx)(function() {
                                                    return [0 === h.value.length ? ((0,
                                                    ec.openBlock)(),
                                                    (0,
                                                    ec.createElementBlock)("div", v$, [(0,
                                                    ec.createVNode)((0,
                                                    ec.unref)(vX.Z), {
                                                        status: "resultless",
                                                        title: "暂无合集",
                                                        "sub-title": "请在app端-侧边栏创作者中心-全部服务-创建合集后使用"
                                                    })])) : (0,
                                                    ec.createCommentVNode)("", !0)]
                                                }),
                                                _: 1
                                            }, 8, ["modelValue", "options", "disabled", "class"])]
                                        }),
                                        _: 1
                                    }, 8, ["disabled", "content"])]
                                }),
                                _: 1
                            })]
                        }),
                        _: 1
                    })
                }
            }
        });
        let v1 = (0,
        eN.default)(v0, [["__scopeId", "data-v-74dfbc4f"]]);
        var v2 = v(78493)
          , v4 = {
            class: "item"
        }
          , v3 = {
            class: "name"
        }
          , v5 = {
            class: "subname"
        }
          , v8 = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                state: {},
                behavior: {}
            },
            setup: function(n) {
                var d, v, m, h, y, N = (0,
                ec.ref)(0), k = (0,
                ec.ref)(0), I = (0,
                ec.ref)((null === (d = n.state.postLoc.value) || void 0 === d ? void 0 : d.poiId) || ""), C = (0,
                ec.ref)(!1), x = (0,
                ec.ref)(n.state.postLoc.value ? [{
                    value: n.state.postLoc.value.poiId,
                    label: n.state.postLoc.value.name,
                    extra: {
                        name: n.state.postLoc.value.name,
                        subName: n.state.postLoc.value.subname,
                        poiType: n.state.postLoc.value.poiType
                    }
                }] : []), M = (0,
                ec.computed)(function() {
                    return !!n.state.noteId.value
                }), S = (0,
                ec.computed)(function() {
                    var d;
                    return (null === (d = n.state.postLocs.value) || void 0 === d ? void 0 : d.length) > 1 && M.value
                }), _ = (0,
                ec.ref)(!1), B = (0,
                ec.ref)(!1);
                var O = (v = (0,
                V._)(function() {
                    return (0,
                    R.Jh)(this, function(n) {
                        return [2, new Promise(function(n) {
                            try {
                                window.navigator.geolocation.getCurrentPosition(function(d) {
                                    var v = d.coords
                                      , m = v.latitude
                                      , h = v.longitude;
                                    N.value = m,
                                    k.value = h,
                                    C.value = !0,
                                    n()
                                }, function(d) {
                                    e8._.error(d),
                                    n()
                                }, {
                                    timeout: 3e3
                                })
                            } catch (d) {
                                n()
                            }
                        }
                        )]
                    })
                }),
                function getPosition() {
                    return v.apply(this, arguments)
                }
                );
                O();
                var handleSelect = function(d) {
                    B.value = !0,
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || v.push(el.tracker["31288"]());
                    var v, m, h = x.value.find(function(n) {
                        return n.value === d
                    });
                    n.behavior.modifyAddress({
                        poiId: d,
                        poiType: null == h ? void 0 : h.extra.poiType,
                        subname: null == h ? void 0 : h.extra.subName,
                        name: null == h ? void 0 : h.extra.name
                    })
                }
                  , handleClear = function() {
                    var d, v;
                    null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["31288"]()),
                    n.behavior.modifyAddress(void 0),
                    I.value = "",
                    x.value = []
                };
                var U = (m = (0,
                V._)(function(n) {
                    var d, v;
                    return (0,
                    R.Jh)(this, function(m) {
                        switch (m.label) {
                        case 0:
                            if (!(!N.value && !k.value && !n))
                                return [3, 2];
                            return [4, O()];
                        case 1:
                            m.sent(),
                            m.label = 2;
                        case 2:
                            return [4, (0,
                            nq.vn)({
                                latitude: Number(N.value),
                                longitude: Number(k.value),
                                keyword: n,
                                page: 1,
                                size: 50,
                                source: "WEB",
                                type: n ? nq.MW.Foreign : nq.MW.Nearby
                            })];
                        case 3:
                            return d = m.sent(),
                            v = (0,
                            v2.Z)(d.poiList || [], "poiId"),
                            x.value = v.map(function(n) {
                                return {
                                    value: n.poiId,
                                    label: n.name,
                                    extra: {
                                        name: n.name,
                                        subName: n.fullAddress,
                                        poiType: n.poiType
                                    }
                                }
                            }),
                            [2]
                        }
                    })
                }),
                function getPositionList(n) {
                    return m.apply(this, arguments)
                }
                );
                var z = n1()((h = (0,
                V._)(function(n) {
                    return (0,
                    R.Jh)(this, function(d) {
                        switch (d.label) {
                        case 0:
                            return _.value = !0,
                            [4, U(n)];
                        case 1:
                            return d.sent(),
                            _.value = !1,
                            [2]
                        }
                    })
                }),
                function(n) {
                    return h.apply(this, arguments)
                }
                ), 300, {
                    leading: !1,
                    trailing: !0
                });
                var Z = (y = (0,
                V._)(function() {
                    var n, d, v;
                    return (0,
                    R.Jh)(this, function(m) {
                        switch (m.label) {
                        case 0:
                            return _.value = !0,
                            [4, U((null === (n = x.value.find(function(n) {
                                return n.value === I.value
                            })) || void 0 === n ? void 0 : n.label) || "")];
                        case 1:
                            return m.sent(),
                            _.value = !1,
                            null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["31289"]()),
                            [2]
                        }
                    })
                }),
                function focusHandle() {
                    return y.apply(this, arguments)
                }
                )
                  , blurHandle = function() {
                    var d, v;
                    !B.value && !(null === (v = n.state) || void 0 === v ? void 0 : null === (d = v.postLoc.value) || void 0 === d ? void 0 : d.poiId) && (I.value = "",
                    x.value = [])
                }
                  , Q = (0,
                ec.computed)(function() {
                    var d, v, m;
                    return "".concat(null === (v = n.state.postLocs.value) || void 0 === v ? void 0 : null === (d = v[0]) || void 0 === d ? void 0 : d.name, "等").concat(null === (m = n.state.postLocs.value) || void 0 === m ? void 0 : m.length, "个地点")
                })
                  , onDisabledClick = function() {
                    nY.A.error("暂不支持多POI修改，前往小红书APP操作")
                };
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(vW.Z), {
                        class: (0,
                        ec.normalizeClass)(["_title", {
                            disabled: S.value
                        }]),
                        "hide-optional-text": !0,
                        layout: "inline"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(vq.Z), {
                                class: "address-box",
                                label: "添加地点"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [S.value ? ((0,
                                    ec.openBlock)(),
                                    (0,
                                    ec.createBlock)((0,
                                    ec.unref)(a1.Z), {
                                        key: 1,
                                        disabled: "",
                                        class: "address-input",
                                        placeholder: Q.value,
                                        "hide-indicator": "",
                                        onClick: onDisabledClick
                                    }, null, 8, ["placeholder"])) : ((0,
                                    ec.openBlock)(),
                                    (0,
                                    ec.createBlock)((0,
                                    ec.unref)(a1.Z), {
                                        key: 0,
                                        modelValue: I.value,
                                        "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                                            return I.value = n
                                        }
                                        ),
                                        options: x.value,
                                        loading: _.value,
                                        "max-dropdown-height": 236,
                                        class: "address-input",
                                        placeholder: "添加地点",
                                        filterable: "",
                                        clearable: "",
                                        remote: "",
                                        filter: (0,
                                        ec.unref)(z),
                                        onChange: handleSelect,
                                        onFocus: Z,
                                        onBlur: blurHandle,
                                        onClear: handleClear
                                    }, {
                                        option: (0,
                                        ec.withCtx)(function(n) {
                                            var d = n.option;
                                            return [(0,
                                            ec.createElementVNode)("div", v4, [(0,
                                            ec.createElementVNode)("div", v3, (0,
                                            ec.toDisplayString)(d.extra.name), 1), (0,
                                            ec.createElementVNode)("div", v5, (0,
                                            ec.toDisplayString)(d.extra.subName), 1)])]
                                        }),
                                        _: 1
                                    }, 8, ["modelValue", "options", "loading", "filter"]))]
                                }),
                                _: 1
                            })]
                        }),
                        _: 1
                    }, 8, ["class"])
                }
            }
        });
        let v6 = (0,
        eN.default)(v8, [["__scopeId", "data-v-09078844"]]);
        var v9 = v(39024)
          , v7 = {
            class: "icon"
        }
          , me = {
            key: 0,
            class: "icon",
            src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADySURBVHgB7ZatCgJBFIWvWjQYtghWi2A1WgSNPoWgT2cwGDUaDRaDL7HVYPBcHGG4rO6dnZ/iHDjsL3zfDsvdJcrJ+fd0KG1m6Brto3c+0aZ0WaArtGtEKKUAw5fW8emz06L4qYIfUwlI+AE92zfEFJDwHXqRN8USUMFjCajhMQSc4Bx7EI3QKVqiD0oAlwIbdGJ6c5RoBOfYg6g028LIFKRLYzjHXgF+6jG953SPdCvhBZcCT/TqIOENlwIuEkHgVQIaiWDwbwK/JPjFnIeCc+oGEX+7t+iw4po3nFP3RyRXIihcI2BLDIzEPhQ8JyeH8wJjtT/1IIIy2gAAAABJRU5ErkJggg=="
        }
          , mt = ["src"]
          , mn = {
            class: "group-info"
        }
          , ma = {
            class: "name"
        }
          , mo = {
            class: "subname"
        }
          , mr = {
            key: 0,
            style: {
                padding: "12px 0"
            }
        }
          , mi = {
            class: "loading",
            style: {
                padding: "var(--size-space-large) 0"
            }
        }
          , ml = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                state: {}
            },
            setup: function(n) {
                var d, v, m, h = (0,
                ec.ref)(!1), y = (0,
                ec.ref)(!1), N = (0,
                ec.ref)(!1), k = (0,
                ec.ref)(n.state.groupBind.value ? [{
                    value: n.state.groupBind.value.groupId,
                    label: n.state.groupBind.value.groupName,
                    disabled: !1,
                    extra: {
                        name: n.state.groupBind.value.groupName,
                        subName: n.state.groupBind.value.desc || "",
                        avatar: n.state.groupBind.value.avatar || ""
                    }
                }] : []), I = (0,
                ec.ref)((null === (m = n.state) || void 0 === m ? void 0 : null === (v = m.groupBind.value) || void 0 === v ? void 0 : v.groupId) || ""), C = (0,
                ec.computed)(function() {
                    var d, v;
                    return (null === (v = n.state) || void 0 === v ? void 0 : null === (d = v.groupBind.value) || void 0 === d ? void 0 : d.groupName) || "选择群聊"
                }), x = (0,
                ec.ref)(n.state.noteId.value), handleSelect = function(d) {
                    var v, m, h;
                    y.value = !0,
                    n.state.groupBind.value = {
                        groupId: d,
                        groupName: (null === (v = k.value.find(function(n) {
                            return n.value === d
                        })) || void 0 === v ? void 0 : v.label) || "",
                        desc: (null === (m = k.value.find(function(n) {
                            return n.value === d
                        })) || void 0 === m ? void 0 : m.extra.subName) || "",
                        avatar: (null === (h = k.value.find(function(n) {
                            return n.value === d
                        })) || void 0 === h ? void 0 : h.extra.avatar) || ""
                    }
                }, handleClear = function() {
                    I.value = "",
                    n.state.groupBind.value.groupId = "",
                    n.state.groupBind.value.groupName = "",
                    n.state.groupBind.value.desc = "",
                    n.state.groupBind.value.avatar = ""
                }, M = (0,
                ec.computed)(function() {
                    return n.state.publishType.value
                });
                var S = (d = (0,
                V._)(function() {
                    var n, d, v;
                    return (0,
                    R.Jh)(this, function(m) {
                        switch (m.label) {
                        case 0:
                            if (null === (n = window) || void 0 === n || n.eaglet.push(el.tracker["63115"]({
                                channelTabName: "群聊",
                                noteEditSource: x.value ? 2 : 1,
                                noteType: M.value === eX.QO.Video ? 3 : 1
                            })),
                            N.value)
                                return [2];
                            return h.value = !0,
                            [4, (0,
                            nq.hI)(x.value || "")];
                        case 1:
                            return v = m.sent(),
                            k.value = (null == v ? void 0 : null === (d = v.groupList) || void 0 === d ? void 0 : d.map(function(n) {
                                return {
                                    value: n.groupId,
                                    label: n.groupName,
                                    disabled: !n.linkable,
                                    extra: {
                                        name: n.groupName,
                                        subName: n.linkable ? n.desc : "存在生态问题，暂不支持绑定",
                                        avatar: n.avatar
                                    }
                                }
                            })) || [],
                            h.value = !1,
                            N.value = !0,
                            [2]
                        }
                    })
                }),
                function focusHandle() {
                    return d.apply(this, arguments)
                }
                )
                  , blurHandle = function() {
                    var d, v;
                    !y.value && !(null === (v = n.state) || void 0 === v ? void 0 : null === (d = v.groupBind.value) || void 0 === d ? void 0 : d.groupId) && (I.value = "")
                };
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(vW.Z), {
                        "hide-optional-text": !0,
                        layout: "inline"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(vq.Z), {
                                class: "_title",
                                label: "关联群聊"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)((0,
                                    ec.unref)(a1.Z), {
                                        modelValue: I.value,
                                        "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                                            return I.value = n
                                        }
                                        ),
                                        class: "address-input",
                                        placeholder: C.value,
                                        loading: h.value,
                                        options: k.value,
                                        filterable: "",
                                        clearable: "",
                                        "max-dropdown-height": 236,
                                        onChange: handleSelect,
                                        onFocus: S,
                                        onBlur: blurHandle,
                                        onClear: handleClear
                                    }, {
                                        option: (0,
                                        ec.withCtx)(function(n) {
                                            var d = n.option
                                              , v = n.active
                                              , m = n.subActive
                                              , h = n.disabled
                                              , y = n.hover
                                              , N = n.pressing;
                                            return [(0,
                                            ec.createElementVNode)("div", {
                                                class: (0,
                                                ec.normalizeClass)(["item", ["custom-option", "--color-bg-fill-light", v || m ? "--color-primary" : "--color-text-title", h && "disabled", y && "hover", N && "pressing"]])
                                            }, [(0,
                                            ec.createElementVNode)("div", v7, [v ? ((0,
                                            ec.openBlock)(),
                                            (0,
                                            ec.createElementBlock)("img", me)) : (0,
                                            ec.createCommentVNode)("", !0)]), (0,
                                            ec.createElementVNode)("img", {
                                                class: "avatar",
                                                src: d.extra.avatar
                                            }, null, 8, mt), (0,
                                            ec.createElementVNode)("div", mn, [(0,
                                            ec.createElementVNode)("div", ma, (0,
                                            ec.toDisplayString)(d.extra.name), 1), (0,
                                            ec.createElementVNode)("div", mo, (0,
                                            ec.toDisplayString)(d.extra.subName), 1)])], 2)]
                                        }),
                                        empty: (0,
                                        ec.withCtx)(function() {
                                            return [0 !== k.value.length || I.value ? (0,
                                            ec.createCommentVNode)("", !0) : ((0,
                                            ec.openBlock)(),
                                            (0,
                                            ec.createElementBlock)("div", mr, [(0,
                                            ec.createVNode)((0,
                                            ec.unref)(vX.Z), {
                                                status: "resultless",
                                                title: "暂无群聊",
                                                "sub-title": "请在app端消息-发现群聊-创建群聊后使用"
                                            })]))]
                                        }),
                                        loading: (0,
                                        ec.withCtx)(function() {
                                            return [(0,
                                            ec.createElementVNode)("div", mi, [(0,
                                            ec.createVNode)((0,
                                            ec.unref)(v9.Z), {
                                                class: "spinner"
                                            }), d[1] || (d[1] = (0,
                                            ec.createTextVNode)(" 正在加载数据 "))])]
                                        }),
                                        _: 1
                                    }, 8, ["modelValue", "placeholder", "loading", "options"])]
                                }),
                                _: 1
                            })]
                        }),
                        _: 1
                    })
                }
            }
        });
        let mc = (0,
        eN.default)(ml, [["__scopeId", "data-v-f5d13b06"]]);
        v(7136),
        v(25069),
        v(92519);
        var mu = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAgCAYAAAAFQMh/AAABWElEQVR4Xu2W0Y2DMBBEU8KVwA8G8ZUSUkJKSAdJCdfBXQeUkOuEEiiBEu52ovVpMyB7PvIXnrSKxIzH4MUmh8POTmAYhmNKaWnb9sJaRPXJWNC3Bf7WAlWfjIVNCMQTsRZRfRJN03wgzGpmLaL6ZCzojMCu635Yi6i+TWzQ1QaPVI/l81/Wij7r9RdWgudZYebFB7+s+r4/8TwrzNRYXXLZwE8PmON1roLvxHNIJO+b1chaRPXJIAiBtX2p+mSSvzBoAWsR1SeBkNw31iKqT8ZfmmrfVJ9M7pvVmbWI6pOxw2RW+qb6JELfJtYiqq8INnve+DjquG84+sLBwL6JNWkFMKkHcP33zZb0tqGXaolzbIKn8Y/46PUYHO/alzXrT76N6yNuNExRx24Af18QVuyb6pNBfxCIFWAtovpkLOzuT1Lcl6pPJu/L2gdc9cl4YPX4U30778cf6hgADWVp6fsAAAAASUVORK5CYII="
          , ms = v(15416);
        v(65419),
        v(62576),
        tt.dJ.get;
        var md = tt.dJ.post;
        function getTopicList(n) {
            return md(uL.y.TOPIC_LIST, n, {
                transform: !0,
                withCredentials: !0
            })
        }
        function getUserList(n) {
            return md(uL.y.USER_LIST, n, {
                transform: !0,
                withCredentials: !0
            })
        }
        function createTopic(n) {
            return md(uL.y.CREATE_TOPIC, n, {
                transform: !0,
                withCredentials: !0
            })
        }
        v(99808);
        var mv = {
            handleFixedNumber: function(n, d) {
                if (0 === n)
                    return "0";
                var v = n
                  , m = Math.pow(10, d);
                if (v < 0) {
                    v = Math.abs(v);
                    var h = parseInt("".concat(v * m + .5), 10) / m;
                    return "".concat(-h)
                }
                var y = parseInt("".concat(v * m + .5), 10) / m
                  , N = y
                  , k = "".concat(y);
                if (-1 !== k.indexOf(".")) {
                    var I = k.split(".")[0]
                      , C = k.split(".")[1];
                    C.length > d && (C = C.substring(0, 2)),
                    N = "".concat(I, ".").concat(C)
                }
                return N
            },
            toFixedNumber: function() {
                var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                  , d = arguments.length > 1 ? arguments[1] : void 0;
                return parseFloat(mv.handleFixedNumber(n, d))
            },
            toFixedString: function(n, d) {
                return mv.handleFixedNumber(n, d)
            }
        }
          , mm = {
            calcNumberWithUnit: function(n, d, v, m) {
                return n ? n > d ? mv.toFixedNumber(n / 1e4, m || 0) + v : mm.calcNumberWithComma(n) : "0"
            },
            calcNumberWithComma: function(n) {
                return parseFloat("".concat(n)).toLocaleString()
            }
        }
          , mf = mv
          , calculateNumber = function(n) {
            var d = mf;
            return n >= 1e4 && n < 1e8 ? "".concat(d.toFixedNumber(n / 1e4, 1), "万") : n >= 1e8 ? "".concat(d.toFixedNumber(n / 1e8, 1), "亿") : n
        };
        function getInnerTextLengthFromHTML(n) {
            var d = n
              , v = d.match(/<img src/g) || [];
            return (d = d.replace(/<(\w+)(\s)class="content-hide([^>]*)>(.*?)<\/\1>/gi, "").replace(/<(\w+)([^>]*)class="data-clipboard-text-hide"([^>]*)>(.*?)<\/\1>/gi, "").replace(/(<([^>]+)>)/gi, "").replace(/[\r\n]/g, "").replace(/&nbsp;/g, " ").replace(/\uFEFF/gim, "")).length + v.length
        }
        var getHtmlData = function(n) {
            var d = document.createElement("div");
            return d.appendChild(n.cloneContents()),
            d.innerHTML
        };
        function getInnerTextFromHTML(n) {
            var d = n;
            d = d.replace(/<img([^>]+)data-set="x-x-/g, "").replace(/-x-x([^>]*)>/g, "").replace(/<br>/g, "<硬换行>").replace(/<(\w+)(\s)class="content-hide([^>]*)>(.*?)<\/\1>/gi, "[话题]#").replace(/<(\w+)([^>]*)class="data-clipboard-text-hide"([^>]*)>#<\/\1>/gi, "#").replace(/<(\w+)([^>]*)class="data-clipboard-text-hide"([^>]*)>\[时刻\]#<\/\1>/gi, "[时刻]#");
            var v = document.createElement("div");
            v.innerHTML = d,
            document.body.append(v);
            var m = v.innerText.replace(/<硬换行>/g, "	\n");
            return document.body.removeChild(v),
            m
        }
        function getInnerText(n) {
            return n ? getInnerTextFromHTML(null == n ? void 0 : n.innerHTML) : ""
        }
        function filterInvalidChar(n) {
            return n.replace(/[\u200B-\u200D\u200A\u2006\uFEFF\u202A-\u202E\u2060\u2061-\u2064\u2066-\u206F\u00AD\u00A0\u205F]/g, "")
        }
        var mp = (h = (0,
        V._)(function(n, d, v, m) {
            return (0,
            R.Jh)(this, function(h) {
                return [2, new Promise(function(h) {
                    getTopicList({
                        keyword: n,
                        suggestTopicRequest: {
                            title: d,
                            desc: v
                        },
                        page: {
                            pageSize: 20,
                            page: m
                        }
                    }).then(function(n) {
                        h(n.topicInfoDtos)
                    }).catch(function(n) {
                        h([])
                    })
                }
                )]
            })
        }),
        function getTopic(n, d, v, m) {
            return h.apply(this, arguments)
        }
        );
        var mg = (y = (0,
        V._)(function(n, d) {
            return (0,
            R.Jh)(this, function(v) {
                return [2, new Promise(function(v) {
                    getUserList({
                        keyword: n,
                        searchId: (0,
                        uU.JZ)(),
                        page: {
                            pageSize: 20,
                            page: d
                        }
                    }).then(function(n) {
                        v(n.userInfoDtos)
                    })
                }
                )]
            })
        }),
        function getUser(n, d) {
            return y.apply(this, arguments)
        }
        );
        var mh = (N = (0,
        V._)(function(n) {
            return (0,
            R.Jh)(this, function(d) {
                return [2, new Promise(function(d, v) {
                    createTopic({
                        topicNames: n
                    }).then(function(n) {
                        d(n.topicInfos)
                    }).catch(function(n) {
                        v(n)
                    })
                }
                )]
            })
        }),
        function createNewTopic(n) {
            return N.apply(this, arguments)
        }
        )
          , renderTopicItem = function(n) {
            var d = document.createElement("div");
            return d.className = "mention-item",
            n.newTopic ? d.innerHTML = '<span class="item-name">#'.concat(n.name, '</span><span class="item-view-num add">回车添加话题</span>') : d.innerHTML = '<span class="item-name">#'.concat(n.name, '</span><span class="item-view-num">').concat(calculateNumber(n.viewNum), "次浏览</span>"),
            d
        }
          , renderUserItem = function(n) {
            var d = document.createElement("div");
            d.className = "mention-user-item";
            var v = "";
            return 1 === n.redOfficialVerifyType ? v = '<img class="user-icon" src="'.concat("https://picasso-static.xiaohongshu.com/fe-platform/b90a864ace6f567ca62fa599efdf703069ea0dc6.png", '">') : 2 === n.redOfficialVerifyType && (v = '<img class="user-icon" src="'.concat("https://picasso-static.xiaohongshu.com/fe-platform/ac23b0a93299b157ad129139fdc8b3de5bfaa83f.png", '">')),
            d.innerHTML = '\n    <div class="user-item">\n      <img class="user-avatar" src="'.concat(n.image, '">\n      <div class="user-name">\n        <span class="name">').concat(n.userNickname, "</span>\n        ").concat(v, "\n      </div>\n    </div>\n  "),
            d
        }
          , renderLoadingDom = function() {
            var n = document.createElement("div");
            return n.className = "mention-loading",
            n.innerHTML = '\n    <div class="loading">\n      <img class="loading-icon" src="'.concat("https://picasso-static.xiaohongshu.com/fe-platform/25685d629e9298dc893b7c287a38d252e1a13ba9.png", '" />\n      加载中\n    </div>\n  '),
            n
        }
          , renderEmptyState = function() {
            var n = document.createElement("div");
            return n.className = "mention-empty-state",
            n.innerHTML = '\n    <div class="empty">\n      <img class="empty-icon" src="'.concat("https://picasso-static.xiaohongshu.com/fe-platform/6945d905fc239c066d0d286e3f6c5c58d6b5c6ab.png", '" />\n      没有找到相关用户\n    </div>\n  '),
            n
        }
          , my = v(1551)
          , mN = {
            class: "content"
        }
          , mk = {
            class: "top-bar"
        }
          , mI = {
            class: "emoticons-content"
        }
          , mC = {
            class: "title emoticons-menu"
        }
          , mb = {
            class: "common-emoticons emoticons-layout"
        }
          , mE = ["onClick"]
          , mA = ["src"]
          , mw = {
            class: "emoticons-title emoticons-title-show"
        }
          , mx = {
            class: "global-emoticons emoticons-layout"
        }
          , mT = ["onClick"]
          , mM = ["src"]
          , mS = {
            class: "emoticons-title emoticons-title-show"
        }
          , m_ = {
            class: "global-emoticons emoticons-layout"
        }
          , mV = ["onClick"]
          , mD = ["src"]
          , mB = {
            class: "emoticons-title emoticons-title-show"
        }
          , mL = (0,
        ec.defineComponent)({
            __name: "index",
            props: {
                show: {
                    type: Boolean
                },
                userInfo: {}
            },
            emits: ["close", "select"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                ec.ref)([])
                  , h = (0,
                ec.computed)(function() {
                    return n.show
                })
                  , y = (0,
                ec.computed)(function() {
                    var d;
                    return "emoticons-".concat((null == n ? void 0 : null === (d = n.userInfo) || void 0 === d ? void 0 : d.id) || "")
                });
                (0,
                ec.watch)(h, function() {
                    var n = JSON.parse(localStorage.getItem(y.value) || "[]") || [];
                    m.value = n.map(function(n) {
                        var d = vc.find(function(d) {
                            return d.textinput === n.textinput
                        });
                        return d ? (0,
                        O._)((0,
                        B._)({}, d), {
                            date: n.date,
                            count: n.count
                        }) : n
                    }).filter(function(n) {
                        return n
                    }).sort(function(n, d) {
                        return d.date - n.date
                    }).slice(0, 15)
                });
                var close = function() {
                    v("close")
                }
                  , selectItem = function(n) {
                    var d = JSON.parse(localStorage.getItem(y.value) || "[]");
                    d && d.length ? d.filter(function(d) {
                        return d.textinput === n.textinput
                    }).length ? d = d.map(function(d) {
                        return d.textinput === n.textinput && (d.count += 1,
                        d.date = Date.now()),
                        d
                    }) : d.push({
                        textinput: n.textinput,
                        count: 0,
                        date: Date.now()
                    }) : d = [{
                        textinput: n.textinput,
                        count: 1,
                        date: Date.now()
                    }],
                    localStorage.setItem(y.value, JSON.stringify(d)),
                    v("select", n)
                };
                return (0,
                ec.onMounted)(function() {
                    window.addEventListener("click", close);
                    var n = document.querySelector(".emoticons-content");
                    n && my.Z.init(n)
                }),
                (0,
                ec.onUnmounted)(function() {
                    window.removeEventListener("click", close)
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        class: "emoticons-container",
                        onMousedown: d[0] || (d[0] = (0,
                        ec.withModifiers)(function() {}, ["prevent"])),
                        onClick: d[1] || (d[1] = (0,
                        ec.withModifiers)(function() {}, ["stop"]))
                    }, [(0,
                    ec.createElementVNode)("div", mN, [(0,
                    ec.createElementVNode)("div", mk, [(0,
                    ec.createElementVNode)("div", {
                        class: "close-button",
                        onClick: (0,
                        ec.withModifiers)(close, ["stop"])
                    }, d[2] || (d[2] = [(0,
                    ec.createElementVNode)("img", {
                        src: te
                    }, null, -1)]))]), (0,
                    ec.createElementVNode)("div", mI, [(0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("span", mC, "常用表情", 512), [[ec.vShow, m.value.length]]), (0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", mb, [((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(m.value, function(n) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("div", {
                            key: n.textinput,
                            class: "emoticons-item",
                            onClick: (0,
                            ec.withModifiers)(function(d) {
                                return selectItem(n)
                            }, ["stop"])
                        }, [(0,
                        ec.createElementVNode)("img", {
                            src: n.image
                        }, null, 8, mA), (0,
                        ec.createElementVNode)("span", mw, (0,
                        ec.toDisplayString)(n.title), 1)], 8, mE)
                    }), 128))], 512), [[ec.vShow, m.value.length]]), d[3] || (d[3] = (0,
                    ec.createElementVNode)("span", {
                        class: "title emoticons-menu"
                    }, " 小红薯表情 ", -1)), (0,
                    ec.createElementVNode)("div", mx, [((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)((0,
                    ec.unref)(vi), function(n) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("div", {
                            key: n.textinput,
                            class: "emoticons-item",
                            onClick: (0,
                            ec.withModifiers)(function(d) {
                                return selectItem(n)
                            }, ["stop"])
                        }, [(0,
                        ec.createElementVNode)("img", {
                            src: n.image
                        }, null, 8, mM), (0,
                        ec.createElementVNode)("span", mS, (0,
                        ec.toDisplayString)(n.title), 1)], 8, mT)
                    }), 128))]), d[4] || (d[4] = (0,
                    ec.createElementVNode)("span", {
                        class: "title emoticons-menu"
                    }, " emoji表情 ", -1)), (0,
                    ec.createElementVNode)("div", m_, [((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)((0,
                    ec.unref)(vl), function(n) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("div", {
                            key: n.textinput,
                            class: "emoticons-item",
                            onClick: (0,
                            ec.withModifiers)(function(d) {
                                return selectItem(n)
                            }, ["stop"])
                        }, [(0,
                        ec.createElementVNode)("img", {
                            src: n.image
                        }, null, 8, mD), (0,
                        ec.createElementVNode)("span", mB, (0,
                        ec.toDisplayString)(n.title), 1)], 8, mV)
                    }), 128))])])])], 32)
                }
            }
        });
        let mP = (0,
        eN.default)(mL, [["__scopeId", "data-v-707bfd66"]]);
        var mO = v(12911)
          , mR = v(9877)
          , mU = v(99601)
          , mj = v(27292);
        function isMentionBlotData(n) {
            return (void 0 === n ? "undefined" : (0,
            dF._)(n)) === "object" && null !== n && "value"in n && "string" == typeof n.value && "denotationChar"in n && "string" == typeof n.denotationChar
        }
        var mF = function(n) {
            function CustomMentionBlot(n, d) {
                var v;
                return (0,
                eO._)(this, CustomMentionBlot),
                (v = (0,
                mO._)(this, CustomMentionBlot, [n, d])).mounted = !1,
                v
            }
            return (0,
            mj._)(CustomMentionBlot, n),
            (0,
            eR._)(CustomMentionBlot, null, [{
                key: "create",
                value: function create(n) {
                    var d = (0,
                    mR._)((0,
                    mU._)(CustomMentionBlot), "create", this).call(this);
                    if (d.contentEditable = "false",
                    d.style.height = "1px",
                    d.style.display = "inline-block",
                    d.style.width = "fit-content",
                    !isMentionBlotData(n) || d instanceof HTMLElement == !1)
                        return d;
                    var v = document.createElement("span");
                    return v.className = "ql-mention-denotation-char",
                    v.innerText = n.denotationChar,
                    d.appendChild(v),
                    "function" == typeof this.render ? d.appendChild(this.render(n)) : d.innerText += n.value,
                    CustomMentionBlot.setDataValues(d, n)
                }
            }, {
                key: "setDataValues",
                value: function setDataValues(n, d) {
                    if ("@" === d.denotationChar && (n.dataset.user = JSON.stringify(d)),
                    "#" === d.denotationChar) {
                        n.dataset.topic = JSON.stringify(d);
                        var v = document.createElement("span");
                        v.className = "content-hide",
                        v.innerText = "[话题]#",
                        n.appendChild(v)
                    }
                    if ("" === d.denotationChar) {
                        n.dataset.moment = JSON.stringify(d);
                        var m = document.createElement("span");
                        m.className = "data-clipboard-text-hide",
                        m.innerText = "#";
                        var h = document.createElement("span");
                        h.className = "data-clipboard-text-hide",
                        h.innerText = "[时刻]#";
                        var y = document.createElement("span");
                        y.className = "show-text moment-text",
                        y.innerText = " ".concat(d.text) || "",
                        n.prepend(m),
                        n.appendChild(h),
                        n.appendChild(y)
                    }
                    return n
                }
            }, {
                key: "value",
                value: function value(n) {
                    var d = n.dataset.topic || n.dataset.user || n.dataset.moment || "";
                    try {
                        return d ? JSON.parse(d) : {}
                    } catch (n) {
                        return {}
                    }
                }
            }]),
            CustomMentionBlot
        }(ms.ZP.import("blots/embed"));
        (0,
        eU._)(mF, "blotName", "mention"),
        (0,
        eU._)(mF, "tagName", "a"),
        (0,
        eU._)(mF, "className", "mention"),
        ms.ZP.register(mF);
        function setInnerContent(n, d) {
            null !== d && ((void 0 === d ? "undefined" : (0,
            dF._)(d)) === "object" ? n.appendChild(d) : n.innerText = d)
        }
        function attachDataValues(n, d, v) {
            return Object.keys(d).forEach(function(m) {
                v.indexOf(m) > -1 ? n.dataset[m] = d[m] : delete n.dataset[m]
            }),
            n
        }
        var mz = function(n) {
            function CustomMention(n, d) {
                return (0,
                eO._)(this, CustomMention),
                (0,
                mO._)(this, CustomMention, [n, d])
            }
            return (0,
            mj._)(CustomMention, n),
            (0,
            eR._)(CustomMention, [{
                key: "renderMore",
                value: function renderMore(n, d, v) {
                    var m = -1
                      , h = this.values.length;
                    this.values = (0,
                    ee._)(this.values).concat((0,
                    ee._)(d));
                    for (var y = 0; y < d.length; y++) {
                        var N = document.createElement("li");
                        N.id = "quill-mention-item-".concat(y),
                        N.className = this.options.listItemClass ? this.options.listItemClass : "",
                        d[y].disabled ? (N.className += " disabled",
                        N.setAttribute("aria-hidden", "true")) : -1 === m && (m = y),
                        N.dataset.index = (h + y).toString(),
                        setInnerContent(N, this.options.renderItem(d[y], n)),
                        d[y].disabled ? N.onmouseenter = this.onDisabledItemMouseEnter.bind(this) : (N.onmouseenter = this.onItemMouseEnter.bind(this),
                        N.onmouseup = this.onItemClick.bind(this),
                        N.onmousedown = this.onItemMouseDown.bind(this)),
                        N.dataset.denotationChar = v,
                        console.log("=============>this.mentionList", this.mentionList, this.mentionList.onclick),
                        this.mentionList.appendChild(attachDataValues(N, d[y], this.options.dataAttributes)),
                        this.itemIndex = m
                    }
                }
            }]),
            CustomMention
        }(v(69303).pf)
          , mZ = function(n) {
            function CustomImageBlot() {
                return (0,
                eO._)(this, CustomImageBlot),
                (0,
                mO._)(this, CustomImageBlot, arguments)
            }
            return (0,
            mj._)(CustomImageBlot, n),
            (0,
            eR._)(CustomImageBlot, null, [{
                key: "create",
                value: function create(n) {
                    var d = (0,
                    mR._)((0,
                    mU._)(CustomImageBlot), "create", this).call(this);
                    return Object.keys(n).forEach(function(v) {
                        d.setAttribute(v, n[v])
                    }),
                    d
                }
            }, {
                key: "value",
                value: function value(n) {
                    for (var d = n.attributes, v = {}, m = 0; m < d.length; m++) {
                        var h = d[m];
                        v[h.name] = h.value
                    }
                    return v
                }
            }]),
            CustomImageBlot
        }(ms.ZP.import("blots/embed"));
        (0,
        eU._)(mZ, "blotName", "customImage"),
        (0,
        eU._)(mZ, "tagName", "img");
        var mQ = {
            class: "edit-container"
        }
          , mJ = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                state: {},
                behavior: {}
            },
            setup: function(n) {
                var d = (0,
                ec.computed)(function() {
                    var d, v;
                    return (null === (v = n.state) || void 0 === v ? void 0 : null === (d = v.userInfo) || void 0 === d ? void 0 : d.value) || {}
                });
                ms.ZP.register(mZ),
                ms.ZP.register({
                    "blots/mention": mF,
                    "modules/mention": mz
                });
                var v = {}
                  , m = ""
                  , h = ""
                  , y = ""
                  , N = 1
                  , k = 1
                  , I = (0,
                ec.ref)(!1)
                  , C = (0,
                ec.ref)(0)
                  , openTopicList = function() {
                    var d, m, h;
                    !v.getSelection() && v.setSelection(v.getLength()),
                    v.getModule("mention").openMenu("#"),
                    null === (h = n.behavior) || void 0 === h || null === (m = h.events) || void 0 === m || null === (d = m.emit) || void 0 === d || d.call(m, "editor-topic-click")
                }
                  , openUserList = function() {
                    var d, m, h;
                    !v.getSelection() && v.setSelection(v.getLength()),
                    v.getModule("mention").openMenu("@"),
                    null === (h = n.behavior) || void 0 === h || null === (m = h.events) || void 0 === m || null === (d = m.emit) || void 0 === d || d.call(m, "editor-open-user-click")
                }
                  , x = (0,
                ec.ref)(!1)
                  , checkClass = function() {
                    var n = document.getElementById("quillEditor");
                    if (C.value > 1e3 || x.value) {
                        null == n || n.classList.add("editor-error");
                        return
                    }
                    null == n || n.classList.remove("editor-error")
                }
                  , handleCopy = function(n) {
                    var d, v, m, h = window.getSelection();
                    if (h) {
                        var y = h.getRangeAt(0)
                          , N = ""
                          , k = n.clipboardData
                          , I = y.cloneContents()
                          , C = (0,
                        ee._)(I.querySelectorAll("*")).filter(function(n) {
                            return "content-hide" !== n.className
                        });
                        N = 1 === C.length && "SPAN" === C[0].tagName && (null === (v = C[0].attributes) || void 0 === v ? void 0 : null === (d = v.contenteditable) || void 0 === d ? void 0 : d.value) === "false" ? null === (m = y.commonAncestorContainer) || void 0 === m ? void 0 : m.outerHTML : getHtmlData(y),
                        k && N && (k.setData("text/plain", y.toString()),
                        k.setData("text/html", "".concat(tr.v0).concat(N)),
                        n.preventDefault())
                    }
                }
                  , handleShowIcon = function() {
                    var d, m, h;
                    v.getModule("mention").isOpen && v.getModule("mention").hideMentionList(),
                    I.value = !0,
                    null === (h = n.behavior) || void 0 === h || null === (m = h.events) || void 0 === m || null === (d = m.emit) || void 0 === d || d.call(m, "editor-show-icon-click")
                }
                  , closeEmoticons = function() {
                    I.value = !1
                }
                  , checkTopicLength = function(n) {
                    return new DOMParser().parseFromString(n, "text/html").querySelectorAll(".mention[data-topic]").length
                }
                  , handleInput = function() {
                    var d = document.getElementsByClassName("ql-editor")[0];
                    "\n" === d.innerText && (d.innerText = ""),
                    m = getInnerText(d) || "";
                    var v = getInnerTextLengthFromHTML(d.innerHTML || "");
                    C.value = v,
                    n.behavior.modifyContent({
                        innerHTML: d.innerHTML,
                        innerText: m,
                        length: v
                    }),
                    checkTopicLength(d.innerHTML) > 10 ? (nY.A.error("最多添加10个话题"),
                    x.value = !0) : x.value = !1,
                    checkClass()
                }
                  , selectEmoticons = function(n) {
                    var d = v.getSelection()
                      , m = 0;
                    m = d ? d.index : v.getLength() - 1 > 0 ? v.getLength() - 1 : 0,
                    v.insertEmbed(m, "customImage", {
                        src: n.image,
                        alt: n.title,
                        "data-set": "x-x-".concat(n.textinput, "-x-x")
                    }),
                    setTimeout(function() {
                        return v.setSelection(m + 1)
                    })
                }
                  , removeSelectedClass = function() {
                    if (v.getModule("mention").isEmptyState) {
                        var n = document.querySelector(".ql-mention-list");
                        if (n) {
                            var d = n.querySelector(".selected");
                            d && d.classList.remove("selected")
                        }
                    }
                }
                  , M = {
                    allowedChars: /^[\s\S]*$/,
                    mentionDenotationChars: ["@", "#"],
                    positioningStrategy: "fixed",
                    maxChars: 30,
                    renderItem: function(n) {
                        return "topic" === n._type ? renderTopicItem(n) : "user" === n._type ? renderUserItem(n) : "empty" === n._type ? renderEmptyState() : void 0
                    },
                    renderLoading: function() {
                        return renderLoadingDom()
                    },
                    source: function(d, I, C) {
                        var x = filterInvalidChar(d);
                        if (h = C,
                        N = 1,
                        k = 1,
                        y = x,
                        x.includes(" ") || x.includes("\n")) {
                            v.getModule("mention").hideMentionList();
                            return
                        }
                        if ("@" === C)
                            mg(x, N).then(function(n) {
                                var d = n.map(function(n) {
                                    var d, v;
                                    return (0,
                                    O._)((0,
                                    B._)({}, n.userBaseDto), {
                                        fansTotal: n.fansTotal,
                                        discoveryTotal: n.discoveryTotal,
                                        value: null === (d = n.userBaseDto) || void 0 === d ? void 0 : d.userNickname,
                                        name: null === (v = n.userBaseDto) || void 0 === v ? void 0 : v.userNickname,
                                        _type: "user"
                                    })
                                });
                                0 === d.length ? (v.getModule("mention").isEmptyState = !0,
                                I([{
                                    _type: "empty"
                                }]),
                                setTimeout(removeSelectedClass, 0)) : I(d)
                            });
                        else if ("#" === C) {
                            var M = v.getSelection();
                            if (!M)
                                return;
                            var S = (0,
                            rG._)(v.getLine(M.index), 1)[0].domNode.innerHTML
                              , _ = S.lastIndexOf("#");
                            if (-1 !== _ && S.substring(_ + 1).includes("<img")) {
                                nY.A.error("话题内不允许包含特殊符号"),
                                I([]);
                                return
                            }
                            if (/[`~!@#$%^&*()+=|{}':;\[\]<>/?~！@#￥%……&*——+|{}【】'；：""'。，、？（）.,-]/.test(x)) {
                                nY.A.error("话题内不允许包含特殊符号"),
                                I([]);
                                return
                            }
                            if (checkTopicLength(n.state.descInnerHTML.value) > 9) {
                                nY.A.error("最多添加10个话题"),
                                I([]);
                                return
                            }
                            if ((0,
                            tx.getByteLength)(x) > 30) {
                                nY.A.error("话题最多只可输入30个字符"),
                                I([]);
                                return
                            }
                            mp(x, n.state.title.value, m, k).then(function(n) {
                                var d = n.map(function(n) {
                                    return (0,
                                    O._)((0,
                                    B._)({}, n), {
                                        value: n.name,
                                        _type: "topic"
                                    })
                                });
                                !d.some(function(n) {
                                    return n.name === x
                                }) && x && d.unshift({
                                    name: x,
                                    value: x,
                                    newTopic: !0,
                                    _type: "topic"
                                }),
                                I(d)
                            })
                        }
                    },
                    onSelect: function(n, d) {
                        console.log("[seven] item info:", n),
                        "topic" === n._type && n.newTopic ? mh(n.name).then(function(v) {
                            n.id = v[0].id,
                            d(n)
                        }).catch(function(n) {
                            -9300 === n.code && nY.A.error(n.data.msg)
                        }) : d(n)
                    },
                    dataAttributes: ["name", "userId", "userNickname", "value", "image", "_type", "id", "link", "recommendInfo", "trackId", "trackType", "viewNum", "newTopic"],
                    onOpen: function() {
                        I.value && (I.value = !1);
                        var d = document.querySelector(".ql-mention-list-container")
                          , C = !1;
                        d && d.addEventListener("scroll", (0,
                        V._)(function() {
                            return (0,
                            R.Jh)(this, function(I) {
                                return d.scrollTop + d.clientHeight >= d.scrollHeight && !C && ("@" === h && (N += 1,
                                mg(y, N).then(function(n) {
                                    var d = n.map(function(n) {
                                        var d;
                                        return (0,
                                        O._)((0,
                                        B._)({}, n.userBaseDto), {
                                            fansTotal: n.fansTotal,
                                            discoveryTotal: n.discoveryTotal,
                                            value: null === (d = n.userBaseDto) || void 0 === d ? void 0 : d.userNickname,
                                            _type: "user"
                                        })
                                    });
                                    null == v || v.getModule("mention").renderMore(y, d, h),
                                    C = !1
                                })),
                                "#" === h && (k += 1,
                                mp(y, n.state.title.value, m, k).then(function(n) {
                                    var d = n.map(function(n) {
                                        return (0,
                                        O._)((0,
                                        B._)({}, n), {
                                            value: n.name,
                                            _type: "topic"
                                        })
                                    });
                                    null == v || v.getModule("mention").renderMore(y, d, h),
                                    C = !1
                                }))),
                                [2]
                            })
                        }))
                    }
                }
                  , initialNoteContent = function() {
                    var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    n && (console.log("=============>init", n),
                    null == v || v.clipboard.dangerouslyPasteHTML(n))
                };
                return (0,
                ec.onMounted)(function() {
                    v = new ms.ZP("#quillEditor",{
                        theme: "snow",
                        placeholder: "输入正文描述，真诚有价值的分享予人温暖",
                        modules: {
                            toolbar: !1,
                            mention: M,
                            clipboard: !0,
                            keyboard: !0,
                            history: {
                                delay: 0
                            }
                        }
                    }),
                    n.behavior.initQuillEditor({
                        quill: v
                    }),
                    v.on("text-change", function() {
                        handleInput()
                    }),
                    v.root.addEventListener("input", function() {
                        "\n" !== v.root.innerText && v.root.classList.contains("ql-blank") && v.root.classList.toggle("ql-blank", !1)
                    }),
                    v.clipboard.addMatcher("IMG", function(n, d) {
                        var v = n.getAttribute("data-set")
                          , m = n.getAttribute("src")
                          , h = n.getAttribute("alt");
                        return v && m ? d.ops = [{
                            insert: {
                                customImage: {
                                    src: m,
                                    alt: h,
                                    "data-set": v
                                }
                            }
                        }] : d.ops = [{
                            insert: "[图片]"
                        }],
                        d
                    }),
                    v.clipboard.addMatcher("A", function(n, d) {
                        var v = n.getAttribute("data-user")
                          , m = n.getAttribute("data-topic")
                          , h = n.getAttribute("data-moment");
                        if (v) {
                            var y = JSON.parse(v || "{}");
                            d.ops = [{
                                insert: {
                                    mention: (0,
                                    O._)((0,
                                    B._)({}, y), {
                                        denotationChar: "@",
                                        value: y.name
                                    })
                                }
                            }]
                        } else if (m) {
                            var N = JSON.parse(m || "{}");
                            d.ops = [{
                                insert: {
                                    mention: (0,
                                    O._)((0,
                                    B._)({}, N), {
                                        denotationChar: "#",
                                        value: N.name
                                    })
                                }
                            }]
                        } else if (h) {
                            var k = JSON.parse(h || "{}");
                            d.ops = [{
                                insert: {
                                    mention: (0,
                                    O._)((0,
                                    B._)({}, k), {
                                        denotationChar: "",
                                        value: k.name
                                    })
                                }
                            }]
                        } else
                            d.ops = [{
                                insert: n.innerText
                            }];
                        return d
                    }),
                    v.clipboard.addMatcher(Node.ELEMENT_NODE, function(n, d) {
                        return d.ops.forEach(function(n) {
                            n.attributes && delete n.attributes
                        }),
                        d
                    }),
                    initialNoteContent(n.state.descInnerHTML.value)
                }),
                function(n, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", mQ, [(0,
                    ec.createElementVNode)("div", {
                        id: "quillEditor",
                        class: "editor-container",
                        onCopy: handleCopy
                    }, null, 32), (0,
                    ec.createElementVNode)("div", {
                        class: (0,
                        ec.normalizeClass)(["length-wrapper", C.value > 1e3 ? "length-error" : ""])
                    }, [(0,
                    ec.createTextVNode)((0,
                    ec.toDisplayString)(C.value) + " ", 1), (0,
                    ec.createElementVNode)("span", {
                        class: "max-length"
                    }, "/ " + (0,
                    ec.toDisplayString)(1e3))], 2), (0,
                    ec.createElementVNode)("div", {
                        class: "btns",
                        onMousedown: v[0] || (v[0] = (0,
                        ec.withModifiers)(function() {}, ["prevent"]))
                    }, [(0,
                    ec.createElementVNode)("button", {
                        id: "topicBtn",
                        class: "contentBtn",
                        onClick: (0,
                        ec.withModifiers)(openTopicList, ["stop"])
                    }, v[1] || (v[1] = [(0,
                    ec.createElementVNode)("img", {
                        src: mu
                    }, null, -1), (0,
                    ec.createTextVNode)(" \xa0话题 ")])), (0,
                    ec.createElementVNode)("button", {
                        id: "userBtn",
                        class: "contentBtn",
                        onClick: (0,
                        ec.withModifiers)(openUserList, ["stop"])
                    }, v[2] || (v[2] = [(0,
                    ec.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB9klEQVR4Xu2WfVEEMQzFYwADCMAABmoAARjAAAYqAAMYQAAIwACi2N9tw75m2+7eF3/dm8ncTdOmLy9p7sxuOA33kz1O9jRZKt/vdMM18DDZ62Rfk/10DF+2meDFQGbZ1pdtGWfOJoK037YE5Xu2WXqCu6FOKj4lgSKsnwQu0WDIv6fOEGKvniXWUUhWZ4ESxwJVtF92xyADP8jnOXXUWJRvj4JVHcmiB3+GWMwu2UIcn8fLZa0LDmnNW3i2ujG1VD4XPGOH9sQoqSr7lvTZ1hdHU8kdSO+ke4kd4IdzWAcvtlzyYfX047s2HPZZfI7cWf8Dwfxwql1Vad6DT4GvR0CfdUvdqllinTYPFyjRSEB9sWkPSNa/JJd1pN8Ce7YINAfTKMtc1kfyO7wMIwKpds3QEkQC/oy0s3tovQJAWT1+swQjiZQcc6CH+PuhiaivOxFHz9ClJbNIEEAyDqgk/reyNuwjlTqyREK9AELMBkyfH3t8n/fMXgWrOrUmVvyFi4aPPXFoqT/21wrZlgOtZkEZSkB2BMRcDVeNT70YQ5U4X5rgsEu4i/EAEM02yx5LOoTWzGX9d8QnRU/sUYNMKUcO6ych2brpcllHFQi5udz6Ulo9dDQInq0mscc4c1E4kaiIGj5KdfWeoc7Im2z5T7inP25Y4RdATtwiJNKQHAAAAABJRU5ErkJggg=="
                    }, null, -1), (0,
                    ec.createTextVNode)(" \xa0用户 ")])), (0,
                    ec.createElementVNode)("button", {
                        id: "emoticonsBtn",
                        class: "contentBtn emoticons",
                        onClick: (0,
                        ec.withModifiers)(handleShowIcon, ["stop"])
                    }, v[3] || (v[3] = [(0,
                    ec.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAD/ElEQVR4Xu2ZW3kbMRhEQ6AECiAEQiAECqAEQiAEBMAEQiAAWgAlUFB98JyXqWXtRdqLM+f7zovd1W3WvxT16SmEEEIIIYQQ9udF/pQX+Vv+kX9NPv+UPPcmaTc0SAAb8U2yQLWF7S1BFvldfjkSwMaw4O/SF2Zvi3zYQBLATrCZLi0xvrmWihf5IZf2R4n6IU9PAtiJuaWGBet9bKSdIllg778m8zgdCWBj2GQpAT4R1xec57eCEjM1EErg1uOcTALYGQboA3f5SR9lIhw7i/TxurxghyMB7AQL6gN1OY4eHcbp43cPszkngJ1gE/OBufy7szF1fru9WFMHmAA6w6bVOr5tPrBBtEoSx+nNDhUJYOcAivSBIN8/Gq3DxmabcpE+gAQwOABKj3eMlKSH+w8NQYlpXXMPK0UJYOcAivQO8azHzblweejzR77vTpHeYQLYKIDasZPPvwqtUsTn3UkAVzYP4EV6R1jkUpjQsxwN/azdLFuliHVbTQK4zWYBjOroXXp7lLRex9nW1QnjmEvrxex2FZMAbrNZABfpHSzdbDiuenvuh1wL7Xj77tJjdG0zvsjV0JB3kACuDA/gU3oHSxeoSG+v5lq8vZpFzqW2Pr/kamodJIArtfXpFkDvnxibk7fnsmmupbZA7tISVKS3t7RE/0cCuE+R3l63ALxhLHIu/AFUWxgG/irXwnGx9iIxjqV/mBXp7eJqvEEsci4JYCbeIBa5lldJCVi6EC34g+xVEsxaivT1SQDGaQOo/XSL/OpcpK9Pt004AdxneAAcB70DNq/RPMupUMLmPreU2lVHt/VJAPcZHsBFegfdfmIVmAD98SLUrqlr185Lr0ymUivRrNtqEsB9hgfQujrodZwDFtL7QRaYCRZZWwisBbcU5u394JtcTQK4zWYBbNaR4aVkqbTTmyK9P+z2YiaA2xTp/WG3AKD2E+fz3lcItU11qjzXu/RAbVyjAk8ARm1cwwKg1HiHOKoUAZd1HCsJHvmccfR+IYBx+PyxyO4kgCu7BcCEvEMcVYqOwtSSOKrkJQC5WwDwLr1j5PtHo0ifL/L9cBLAbfl+OJSY2rEUucI4O62rGErS8NIDCWDnAKA1MOTYdjZax83d55cADjK/1qaMZylJU1+swxw2EsBB+JA+ULfIzTetChwqpr5In/JwJICdYSIM0AfucnzbehNjnFzatY7TyAvG84cjARyMqT9pJJAiX+RaaGfugiPzOB0J4CBQYlhgn2BLFowScJGlIiVw7kJ7f2c5NjdJAAeBY2eRPvG9pdScZpOdSwI4GB7I0hI1V0oMm/KXWXAnARwUPzZeZGtz5XOC5Dk2U9oNDRJACCGEEEII4aH5BwesN3PaG1oyAAAAAElFTkSuQmCC"
                    }, null, -1), (0,
                    ec.createTextVNode)(" \xa0表情 ")]))], 32), (0,
                    ec.withDirectives)((0,
                    ec.createVNode)(mP, {
                        show: I.value,
                        "user-info": d.value,
                        onSelect: selectEmoticons,
                        onClose: closeEmoticons
                    }, null, 8, ["show", "user-info"]), [[ec.vShow, I.value]])])
                }
            }
        });
        let mH = (0,
        eN.default)(mJ, [["__scopeId", "data-v-43bc5fca"]]);
        var mG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAiElEQVR4XmNgGAUjGtTX1wtUVlYGoIvTDFRUVOwH4v9APB9djiYA6LsCqIX0sxRoUcOAWgr09XlQ3KKroToYtZSmYMAtBeIJ6PJUB0BL6ulmIZpl94FYAV0N1cCAWUbzxDJ8LQNa0I8UZwvoahm6PNVBBaICXoAuRxMAtEihqqrKAF18FAxvAADqELJ8J/zf/wAAAABJRU5ErkJggg=="
          , mY = v(38253);
        var mW = ((k = {}).All = "1",
        k.Collection = "2",
        k);
        var mq = ((I = {}).Default = "1",
        I.Last = "2",
        I);
        var mX = ((C = {})[C.None = 0] = "None",
        C[C.OnlyTopic = 1] = "OnlyTopic",
        C);
        var mK = ((x = {})[x.NotFocus = 0] = "NotFocus",
        x[x.Focus = 1] = "Focus",
        x);
        var m$ = ((M = {}).Focus = "1",
        M.UnFocus = "2",
        M)
          , toggleEventFocus = function(n) {
            return tt.dJ.post("COLLECT_MODIFY", n, {
                transform: !0
            })
        }
          , m0 = v(47658)
          , m1 = v(94759)
          , m2 = {
            class: "detail"
        }
          , m4 = {
            class: "h5"
        }
          , m3 = ["src"]
          , m5 = {
            class: "info"
        }
          , m8 = {
            class: "title"
        }
          , m6 = {
            class: "value"
        }
          , m9 = {
            class: "value"
        }
          , m7 = {
            class: "value topic"
        }
          , fe = {
            class: "operator"
        }
          , ft = (0,
        ec.defineComponent)({
            __name: "Drawer",
            props: {
                visible: {
                    type: Boolean
                },
                allVisible: {
                    type: Boolean
                },
                item: {}
            },
            emits: ["handleCloseDetail", "insertTopic"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                ec.ref)("")
                  , h = (0,
                ec.computed)(function() {
                    return n.item
                })
                  , y = (0,
                ec.computed)(function() {
                    return n.allVisible
                });
                (0,
                ec.onMounted)(function() {
                    h.value && m0.toCanvas(h.value.activityLink, function(n, d) {
                        if (n) {
                            console.error(n);
                            return
                        }
                        m.value = d.toDataURL("image/png")
                    })
                });
                var N = n1()(function(n) {
                    var d, v;
                    n.focusStatus = mK.Focus,
                    null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["69219"]({
                        activityId: h.value.pageId,
                        channelType: "publisher_list",
                        status: "collect"
                    })),
                    toggleEventFocus({
                        type: m$.Focus,
                        targetId: n.pageId
                    }).then(function(n) {
                        mY.Z.success({
                            content: "已收藏该活动",
                            closeable: !0
                        })
                    }).catch(function(d) {
                        n.focusStatus = mK.NotFocus,
                        mY.Z.danger({
                            content: "活动收藏失败",
                            closeable: !0
                        })
                    })
                }, 300)
                  , k = n1()(function(n) {
                    var d, v;
                    n.focusStatus = mK.NotFocus,
                    null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["69219"]({
                        activityId: h.value.pageId,
                        channelType: "publisher_list",
                        status: "uncollect"
                    })),
                    toggleEventFocus({
                        type: m$.UnFocus,
                        targetId: n.pageId
                    }).then(function(n) {
                        mY.Z.success({
                            content: "已取消收藏该活动",
                            closeable: !0
                        })
                    }).catch(function(d) {
                        n.focusStatus = mK.Focus,
                        mY.Z.danger({
                            content: "取消收藏失败",
                            closeable: !0
                        })
                    })
                }, 300)
                  , handleGoPublish = function(n) {
                    v("insertTopic", h.value)
                }
                  , close = function() {
                    v("handleCloseDetail")
                };
                return function(d, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(m1.Z), {
                        size: 700,
                        "z-index": 600,
                        onClose: close,
                        visible: n.visible,
                        "mask-style": {
                            "background-color": y.value ? "rgba(0, 0, 0, 0.01)" : "rgba(0, 0, 0, 0.4)"
                        },
                        maskCloseable: "",
                        title: "活动详情",
                        closeable: "",
                        mask: ""
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            var n, d, m, y, I, C, x, M, S, _, V, B;
                            return [(0,
                            ec.createElementVNode)("div", m2, [(0,
                            ec.createElementVNode)("div", m4, [(0,
                            ec.createElementVNode)("iframe", {
                                class: "iframe",
                                src: null === (n = h.value) || void 0 === n ? void 0 : n.activityLink
                            }, null, 8, m3)]), (0,
                            ec.createElementVNode)("div", m5, [(0,
                            ec.createElementVNode)("div", m8, [(0,
                            ec.createElementVNode)("span", null, (0,
                            ec.toDisplayString)(null === (d = h.value) || void 0 === d ? void 0 : d.activityName), 1), (0,
                            ec.withDirectives)((0,
                            ec.createElementVNode)("img", {
                                class: "drawer-collect-icon",
                                onClick: v[0] || (v[0] = function(n) {
                                    return (0,
                                    ec.unref)(k)(h.value)
                                }
                                ),
                                src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACE0lEQVR4Xu2ZzXGDMBCFXUJKSAkpwSVwQnJOKcEdJB0kHZAOkgICKsElUILuNoJoCc6QhyDIQkgHvpl38Wi1D9DPSt7tNjY2NpBG8Pu6YEIVTLYSLKPfsF2UkFFtutRqQGUjkjtsHx1K8MxgvlUj2Cu2j4ru7Q+M93URfI9x0UDDBA2jaG5gXBRUOX9Cs2OithgflImJOyYZ1YSmyWkwOa2cv2A/QZgzcccUfG+gYdBtWANzc0Sxqz5EIx4fVH44qpxlym7MT6ou0hPt1jS5KQfmvQl6u5XQK4se372yYJDck2SbU+duRJpYfyUd9GzoNKjIE/o0EqP5X+XsiH4HqAXHtgeV6HeAISgqod8ButEJg2KRntgn9DugXXkMwTGIvKFfIxe9zWNwaJEn9DnJJWdv2EkokRf0N4uq4O/Y2dqqBftAX7Ppap1gk5pKDOeymzpQYfaG0rqEGOOGA4urljN/pXuINQo6ubj5K2qdr/B/uXArhmRehHkXweXoaCsvQ0h3usdEvrTYqaxP9ZUmmMiXGnFIML8z7VnYkMyHvFx80T0OJvIm28JtDqvWRYJlmN8Zl/sfW1UF+8T8zlg+gKQSmK7Sz3pFsf16dcGXv8FW884Hkg4epgqS1vbzz0JQGuL+yscQmiro6I1VIp299NHRcKJMX76Qu0Id94aDJOMu/7hQbNdf+2cg9efN/MbGRpx8A7jFecFrbCP2AAAAAElFTkSuQmCC"
                            }, null, 512), [[ec.vShow, (null === (m = h.value) || void 0 === m ? void 0 : m.focusStatus) === (0,
                            ec.unref)(mK).Focus]]), (0,
                            ec.withDirectives)((0,
                            ec.createElementVNode)("img", {
                                class: "drawer-collect-icon",
                                onClick: v[1] || (v[1] = function(n) {
                                    return (0,
                                    ec.unref)(N)(h.value)
                                }
                                ),
                                src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACZUlEQVR4Xu2ZDVHEMBCFYwADCMAABmoAARjAAAYqoAYwgAAQgAFE0Y/e3r3upW3aJkeY6ZvZmZs0tz8v+5PehXDgwIEDEdz38tbL10na09q/AI5+9vLthLU72VctXsO18yYvsq9KwL46/NxL49aqTqUuXBylBgx8jq1XhacwzfSDe/Yoz6qBFm47fvQLrY3qCpriVOdieY7DtFTbV01B+8IllaZAUds+gokFelPAahfG7C9BC5rv3hQwBsPks01aZT+FUQpYv4OgC51NGAo+C2AXYxw7THlnvazJaa2ZmGCLoNiHD6sLHqeXHDYhbdi/Fpzke7jWNyXJBM2xY8zYca9mJgI7aezG0lIliSjt5zCEs7CVkt+5QB00YbCtp/QheyahEedgeC98m16Etjmi/2voCST504RxxK0+vDHaMPZlbkiO4As5uQNkxG4fdivYgWy22zBWlNTGdkLvSwidaBe0qJHkPNyAJoxtZXn5oZVqJ2DQ0Kdzg3apQyzrO4P/pSELMw6qn8/ZB6dnKKcBHVZF3xOUpZxGNICk68JW6Alky88w6NITKILSRkqRcwadxwwk3UlWolR6nsGd3QyU6EI6b7CVHQwwM9C5ZznQhov+IsNS7ydL4x0G7e0KIeAlVtFp+jfffeagBmJ3IgqPdX/1UCHPp9jVO9ASQZsAi2agkXUch7G5d1kvBIKTWqyaoq2sZ4My24QhJTpZUyEYgsJBpD2t+X3mLB2udJOY/ePCOx7r4wQCy9oup6RICvkLnQqMLRWpgkCmagUbReYAQLEZhm2YWuO4h6YXgu5izh84cKBC/ADXHyOPFODAXgAAAABJRU5ErkJggg=="
                            }, null, 512), [[ec.vShow, (null === (y = h.value) || void 0 === y ? void 0 : y.focusStatus) === (0,
                            ec.unref)(mK).NotFocus]])]), v[5] || (v[5] = (0,
                            ec.createElementVNode)("div", {
                                class: "label"
                            }, " 活动时间 ", -1)), (0,
                            ec.createElementVNode)("div", m6, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(tx.transforrmMDfromTimestamp)(null === (I = h.value) || void 0 === I ? void 0 : I.startTime)) + " 至 " + (0,
                            ec.toDisplayString)((0,
                            ec.unref)(tx.transforrmMDfromTimestamp)(null === (C = h.value) || void 0 === C ? void 0 : C.endTime)), 1), v[6] || (v[6] = (0,
                            ec.createElementVNode)("div", {
                                class: "label"
                            }, " 活动亮点 ", -1)), (0,
                            ec.createElementVNode)("div", m9, (0,
                            ec.toDisplayString)(null === (x = h.value) || void 0 === x ? void 0 : x.activityReward), 1), (null === (S = h.value) || void 0 === S ? void 0 : null === (M = S.topicInfos) || void 0 === M ? void 0 : M.length) ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)(ec.Fragment, {
                                key: 0
                            }, [v[3] || (v[3] = (0,
                            ec.createElementVNode)("div", {
                                class: "label"
                            }, " 活动话题 ", -1)), (0,
                            ec.createElementVNode)("div", m7, [(0,
                            ec.createElementVNode)("span", null, "#" + (0,
                            ec.toDisplayString)(null === (B = h.value) || void 0 === B ? void 0 : null === (V = B.topicInfos) || void 0 === V ? void 0 : null === (_ = V[0]) || void 0 === _ ? void 0 : _.name), 1)])], 64)) : (0,
                            ec.createCommentVNode)("", !0), (0,
                            ec.createElementVNode)("div", fe, [(0,
                            ec.createVNode)((0,
                            ec.unref)(nl.zx), {
                                onClick: v[2] || (v[2] = function(n) {
                                    return handleGoPublish(h.value)
                                }
                                ),
                                color: "bg-red"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return v[4] || (v[4] = [(0,
                                    ec.createTextVNode)(" 添加话题 ")])
                                }),
                                _: 1
                            })])])])]
                        }),
                        _: 1
                    }, 8, ["visible", "mask-style"])
                }
            }
        });
        let fn = (0,
        eN.default)(ft, [["__scopeId", "data-v-eba649f8"]]);
        var fa = ["data-impression"]
          , fo = ["src"]
          , fr = {
            class: "card-content"
        }
          , fi = {
            class: "title"
        }
          , fl = {
            class: "desc"
        }
          , fc = {
            class: "time"
        }
          , fu = {
            class: "operator"
        }
          , fs = (0,
        ec.defineComponent)({
            __name: "Card",
            props: {
                item: {}
            },
            emits: ["handleLookDetail", "insertTopic"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                ec.computed)(function() {
                    return n.item
                })
                  , handleLookDetail = function(n, d) {
                    v("handleLookDetail", n, d)
                }
                  , insertTopic = function(n) {
                    v("insertTopic", n)
                }
                  , h = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["69213"]({
                        activityId: m.value.pageId,
                        channelType: "publisher_list"
                    }))
                });
                return function(n, d) {
                    var v, y, N, k, I, C, x;
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        "data-impression": h.value,
                        class: "card-box"
                    }, [(0,
                    ec.createElementVNode)("img", {
                        src: null === (v = m.value) || void 0 === v ? void 0 : v.pictureLink
                    }, null, 8, fo), (0,
                    ec.createElementVNode)("div", fr, [(0,
                    ec.createElementVNode)("div", fi, [d[3] || (d[3] = (0,
                    ec.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABXklEQVR4Xu2XYW0DMQxGTWAEBqAERmAEBmAERqAEAuAIjEAJDEAJDNTuq2rFjXJz3inT/tyTLFXn17h1fBed2cHB//GyxvsaT21iA/lvNu4jntf4vse5yfWgPkad8QLlMdWF+phPqwW0DRnUx/jiCm1HBvURGk5f/NLkelA/Rfv/ESK2XwVirhdb/q6t05diu2eH/iwitvsvYleXNIT6YQq12hdT+/36VvzmTxnuYrWAimUUYz7my2oB/csM6iNOVhe/Nrke1MfEO25pcj2oj9GiXmDk7qA+Rm33AtqODOojNJC+uAY1g/qY+Dwpj6ku1E9pz694+75W7bYV0ev5S7i+a5ay8ys+YWPh0Zh6fl2CJ+JJPhq7uhTPr8XqYuco3XGv5+tzzE05v9QVL6BFM6iPiG8LigzqY+KAa14yqI8pVguM3B3FmI/REHuBkYGkPkavvdqG0eGk/sHBdH4An9rFds2Ur4sAAAAASUVORK5CYII="
                    }, null, -1)), (0,
                    ec.createElementVNode)("span", null, (0,
                    ec.toDisplayString)(null === (k = m.value) || void 0 === k ? void 0 : null === (N = k.topicInfos) || void 0 === N ? void 0 : null === (y = N[0]) || void 0 === y ? void 0 : y.name), 1)]), (0,
                    ec.createElementVNode)("div", fl, (0,
                    ec.toDisplayString)(null === (I = m.value) || void 0 === I ? void 0 : I.activityReward), 1), (0,
                    ec.createElementVNode)("div", fc, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tx.transforrmMDfromTimestamp)(null === (C = m.value) || void 0 === C ? void 0 : C.startTime)) + " 至 " + (0,
                    ec.toDisplayString)((0,
                    ec.unref)(tx.transforrmMDfromTimestamp)(null === (x = m.value) || void 0 === x ? void 0 : x.endTime)), 1)]), (0,
                    ec.createElementVNode)("div", fu, [(0,
                    ec.createElementVNode)("div", {
                        class: "look",
                        onClick: d[0] || (d[0] = function(n) {
                            return handleLookDetail(n, m.value)
                        }
                        )
                    }, d[4] || (d[4] = [(0,
                    ec.createTextVNode)(" 查看详情 "), (0,
                    ec.createElementVNode)("img", {
                        src: mG
                    }, null, -1)])), (0,
                    ec.createVNode)((0,
                    ec.unref)(nl.zx), {
                        onMousedown: d[1] || (d[1] = (0,
                        ec.withModifiers)(function() {}, ["prevent"])),
                        onClick: d[2] || (d[2] = function(n) {
                            return insertTopic(m.value)
                        }
                        ),
                        color: "red",
                        class: "insert"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return d[5] || (d[5] = [(0,
                            ec.createTextVNode)(" 添加话题 ")])
                        }),
                        _: 1
                    })])], 8, fa)
                }
            }
        });
        let fd = (0,
        eN.default)(fs, [["__scopeId", "data-v-f5ad18fe"]]);
        var fv = {
            class: "list"
        }
          , fm = (0,
        ec.defineComponent)({
            __name: "AllEvents",
            props: {
                visible: {
                    type: Boolean
                },
                list: {}
            },
            emits: ["handleLookDetail", "insertTopic", "handleCloseAll"],
            setup: function(n, d) {
                var v = d.emit;
                (0,
                ec.ref)("");
                var m = (0,
                ec.computed)(function() {
                    return n.list
                });
                (0,
                ec.computed)(function() {
                    return n.dVisible
                });
                var handleLookDetail = function(n, d) {
                    v("handleLookDetail", n, d)
                }
                  , insertTopic = function(n) {
                    v("insertTopic", n)
                }
                  , handleCloseAll = function() {
                    v("handleCloseAll")
                };
                return function(d, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(m1.Z), {
                        size: 700,
                        "z-index": 510,
                        onClose: handleCloseAll,
                        visible: n.visible,
                        maskCloseable: "",
                        "mask-style": {
                            "background-color": "rgba(0,0,0,.4)"
                        },
                        mask: "",
                        title: "更多活动",
                        closeable: ""
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(m.value, function(n) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", fv, [(0,
                                ec.createVNode)(fd, {
                                    item: n,
                                    onInsertTopic: insertTopic,
                                    onHandleLookDetail: handleLookDetail
                                }, null, 8, ["item"])])
                            }), 256))]
                        }),
                        _: 1
                    }, 8, ["visible"])
                }
            }
        });
        let ff = (0,
        eN.default)(fm, [["__scopeId", "data-v-6ae46a85"]]);
        var fp = {
            class: "events"
        }
          , fg = ["onClick"]
          , fh = {
            class: "title"
        }
          , fy = {
            class: "operator"
        }
          , fN = ["onClick"]
          , fk = (0,
        ec.defineComponent)({
            __name: "Index",
            setup: function(n) {
                var d, v = (0,
                ec.ref)(!1), m = (0,
                ec.ref)(!1), h = (0,
                ec.ref)(), y = "活动详情", N = "添加话题", insertTopic = function(n) {
                    var d = null === (m = document.getElementsByClassName("ql-editor")) || void 0 === m ? void 0 : m[0];
                    if (d && (0,
                    uU.EZ)(d.innerHTML) >= 10) {
                        mY.Z.danger("最多添加10个话题");
                        return
                    }
                    null === (C = window) || void 0 === C || null === (I = C.eaglet) || void 0 === I || I.push(el.tracker["69217"]({
                        activityId: null === (y = h.value) || void 0 === y ? void 0 : y.pageId,
                        tagId: null === (k = n.topicInfos) || void 0 === k ? void 0 : null === (N = k[0]) || void 0 === N ? void 0 : N.id
                    }));
                    var v = e2.eC.queryQuillEditor();
                    if (v) {
                        var m, y, N, k, I, C, x, M, S, _, V, B, O, R, U, z, Z = v.getSelection(), Q = 0;
                        Q = Z ? Z.index : v.getLength() - 1 > 0 ? v.getLength() - 1 : 0,
                        v.insertEmbed(Q, "mention", {
                            index: "0",
                            denotationChar: "#",
                            link: null === (M = n.topicInfos) || void 0 === M ? void 0 : null === (x = M[0]) || void 0 === x ? void 0 : x.link,
                            id: null === (_ = n.topicInfos) || void 0 === _ ? void 0 : null === (S = _[0]) || void 0 === S ? void 0 : S.id,
                            name: null === (B = n.topicInfos) || void 0 === B ? void 0 : null === (V = B[0]) || void 0 === V ? void 0 : V.name,
                            value: null === (R = n.topicInfos) || void 0 === R ? void 0 : null === (O = R[0]) || void 0 === O ? void 0 : O.name,
                            _type: "user"
                        }),
                        v.insertText(Q + 1, " "),
                        mY.Z.success("已添加活动话题“".concat(null === (z = n.topicInfos) || void 0 === z ? void 0 : null === (U = z[0]) || void 0 === U ? void 0 : U.name, "”")),
                        setTimeout(function() {
                            return v.setSelection(Q + 2)
                        })
                    }
                }, k = (0,
                ec.ref)([]), handleLookAll = function() {
                    var n, d;
                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["69218"]()),
                    m.value = !0
                }, handleLookDetail = function(n, d) {
                    var m, y, N;
                    null === (N = window) || void 0 === N || null === (y = N.eaglet) || void 0 === y || y.push(el.tracker["69216"]({
                        activityId: null === (m = h.value) || void 0 === m ? void 0 : m.pageId,
                        channelType: "publisher_list"
                    })),
                    n.stopPropagation(),
                    n.stopImmediatePropagation(),
                    console.log("[seven] event info:", d),
                    h.value = d,
                    v.value = !0
                }, handleCloseDetail = function() {
                    v.value = !1
                }, handleCloseAll = function() {
                    m.value = !1
                };
                return (d = {
                    sort: mq.Default,
                    type: mW.All,
                    source: 3,
                    topicActivity: mX.OnlyTopic
                },
                tt.dJ.get("EVENTS_LIST", {
                    params: d,
                    transform: !0
                })).then(function(n) {
                    k.value = n.activityList
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, [(0,
                    ec.createElementVNode)("div", fp, [d[5] || (d[5] = (0,
                    ec.createElementVNode)("div", {
                        class: "label"
                    }, "活动话题", -1)), (0,
                    ec.createElementVNode)("div", {
                        class: "event",
                        onMousedown: d[0] || (d[0] = (0,
                        ec.withModifiers)(function() {}, ["prevent"]))
                    }, [((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(k.value.slice(0, 3), function(n) {
                        var v, m;
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("div", {
                            onClick: function(d) {
                                return handleLookDetail(d, n)
                            },
                            class: "item"
                        }, [(0,
                        ec.createElementVNode)("div", fh, [d[1] || (d[1] = (0,
                        ec.createElementVNode)("img", {
                            src: mu
                        }, null, -1)), (0,
                        ec.createElementVNode)("div", null, (0,
                        ec.toDisplayString)(null == n ? void 0 : null === (m = n.topicInfos) || void 0 === m ? void 0 : null === (v = m[0]) || void 0 === v ? void 0 : v.name), 1)]), (0,
                        ec.createElementVNode)("div", fy, [(0,
                        ec.createElementVNode)("span", {
                            onClick: (0,
                            ec.withModifiers)(function(d) {
                                return insertTopic(n)
                            }, ["stop"])
                        }, [d[2] || (d[2] = (0,
                        ec.createElementVNode)("img", {
                            src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAABgklEQVR4Xu2WwXGDMBBFKSElqISUQCmUkKPgQjqIO7A7cAkpJaUkerCylw8WCgdfkjezY6y/2s9Kwrhp/jFijCFF1/f9R/o8E3bdoWn+YVKxNsVniu+dIKfT+dWM4/iSOrj6gun72zAMr3RE2DUd+hui+6D1iljBL3fnreYoNicbMzdoziZi9q76HszJpqyS6ivivCSHzDLZlC1RbUGc92NaRtU8nE5Cxz3UsFqtajdcUlDNw3IROu7BqHjzmBQTHDWGUGwg3pezU02pNeQxelgzDZ4QebZUU2oN7TnF8KQaRS5b7dvP12TggjxiMa4HiVqWd/bjWdw0jHPnVYbkytyi4dOXdDo0bLRqSq1hrsmnar795zwW4BJa1Tw1hlUNYLSb1Nz2e70vDnfznWoL3DtwVK0W5lqN9elUeKXE+9H/takzo0ZQfRMSnSlLEzRHicu/IvVmGTO9WIFs3OlfDPu9zEbTO7DqxfsITHzBQpDT6vzD0JGZc0LPFlwzFjT/7/IDeHvnR7Pif3cAAAAASUVORK5CYII="
                        }, null, -1)), (0,
                        ec.createTextVNode)(" " + (0,
                        ec.toDisplayString)(N), 1)], 8, fN), (0,
                        ec.createElementVNode)("span", null, [(0,
                        ec.createTextVNode)((0,
                        ec.toDisplayString)(y) + " ", 1), d[3] || (d[3] = (0,
                        ec.createElementVNode)("img", {
                            src: mG
                        }, null, -1))])])], 8, fg)
                    }), 256)), (0,
                    ec.createElementVNode)("div", {
                        onClick: handleLookAll,
                        class: "more"
                    }, d[4] || (d[4] = [(0,
                    ec.createTextVNode)(" 更多 "), (0,
                    ec.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAQCAYAAAAvf+5AAAAAY0lEQVR4XmNgAIKKior7UKwA4uMEQAX7gfg/QcUgSagiworr6+sFKisrzw8lxSAAVLAAphhdDgUATV2PVyHIaqDkfJAioOL3VVVVBuhqiHMf9RSBBKGSuBWBAFGKQACqAK8iAN95jm3itE5sAAAAAElFTkSuQmCC"
                    }, null, -1)]))], 32)]), (0,
                    ec.createVNode)(fn, {
                        item: h.value,
                        visible: v.value,
                        allVisible: m.value,
                        onInsertTopic: insertTopic,
                        onHandleCloseDetail: handleCloseDetail
                    }, null, 8, ["item", "visible", "allVisible"]), (0,
                    ec.createVNode)(ff, {
                        list: k.value,
                        visible: m.value,
                        onInsertTopic: insertTopic,
                        onHandleLookDetail: handleLookDetail,
                        onHandleCloseAll: handleCloseAll
                    }, null, 8, ["list", "visible"])], 64)
                }
            }
        });
        let fI = (0,
        eN.default)(fk, [["__scopeId", "data-v-38124292"]]);
        var fC = v(4898)
          , fb = v(24961);
        let fE = {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none"
        };
        function ClockIconvue_type_template_id_6c82da8a_render(n, d) {
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("svg", fE, d[0] || (d[0] = [(0,
            ec.createElementVNode)("path", {
                "fill-rule": "evenodd",
                "clip-rule": "evenodd",
                d: "M4.25 12C4.25 7.71979 7.71979 4.25 12 4.25C16.2802 4.25 19.75 7.71979 19.75 12C19.75 16.2802 16.2802 19.75 12 19.75C7.71979 19.75 4.25 16.2802 4.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75ZM12.2401 8.10498C12.2401 7.69077 11.9043 7.35498 11.4901 7.35498C11.0758 7.35498 10.7401 7.69077 10.7401 8.10498V11.7054C10.7401 12.7128 11.4096 13.5974 12.3792 13.8709L14.9061 14.5838C15.3047 14.6962 15.7191 14.4642 15.8315 14.0656C15.944 13.6669 15.712 13.2526 15.3133 13.1401L12.7864 12.4273C12.4632 12.3361 12.2401 12.0412 12.2401 11.7054V8.10498Z",
                fill: "black",
                "fill-opacity": "0.8"
            }, null, -1)]))
        }
        let fA = (0,
        eN.default)({}, [["render", ClockIconvue_type_template_id_6c82da8a_render]])
          , fw = {
            xmlns: "http://www.w3.org/2000/svg",
            width: "16",
            height: "16",
            viewBox: "0 0 16 16",
            fill: "none"
        };
        function QuestionIconvue_type_template_id_2f1a1380_render(n, d) {
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("svg", fw, d[0] || (d[0] = [(0,
            ec.createStaticVNode)('<g clip-path="url(#clip0_12508_162529)"><path d="M5.33332 6.20817C5.33332 4.73541 6.52723 3.5415 7.99999 3.5415C9.47275 3.5415 10.6667 4.73541 10.6667 6.20817C10.6667 7.45073 9.81681 8.4948 8.66666 8.79082V9.5415C8.66666 9.90969 8.36818 10.2082 7.99999 10.2082C7.6318 10.2082 7.33332 9.90969 7.33332 9.5415V8.20817C7.33332 7.83998 7.6318 7.5415 7.99999 7.5415C8.73637 7.5415 9.33332 6.94455 9.33332 6.20817C9.33332 5.47179 8.73637 4.87484 7.99999 4.87484C7.26361 4.87484 6.66666 5.47179 6.66666 6.20817C6.66666 6.57636 6.36818 6.87484 5.99999 6.87484C5.6318 6.87484 5.33332 6.57636 5.33332 6.20817Z" fill="black" fill-opacity="0.53"></path><path d="M8.83332 11.7082C8.83332 12.1684 8.46022 12.5415 7.99999 12.5415C7.53976 12.5415 7.16666 12.1684 7.16666 11.7082C7.16666 11.2479 7.53976 10.8748 7.99999 10.8748C8.46022 10.8748 8.83332 11.2479 8.83332 11.7082Z" fill="black" fill-opacity="0.53"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M2.81454 2.81438C4.1409 1.48805 5.97514 0.666504 7.99999 0.666504C10.0248 0.666504 11.8591 1.48805 13.1854 2.81438C14.5118 4.14074 15.3333 5.97499 15.3333 7.99984C15.3333 10.0247 14.5118 11.8589 13.1854 13.1853C11.8591 14.5116 10.0248 15.3332 7.99999 15.3332C5.97514 15.3332 4.1409 14.5116 2.81454 13.1853C1.4882 11.8589 0.666656 10.0247 0.666656 7.99984C0.666656 5.97499 1.48821 4.14074 2.81454 2.81438ZM7.99999 1.99984C6.34297 1.99984 4.84388 2.67068 3.75734 3.7572C2.67082 4.84374 1.99999 6.34282 1.99999 7.99984C1.99999 9.65686 2.67083 11.1559 3.75735 12.2425C4.84388 13.329 6.34297 13.9998 7.99999 13.9998C9.65701 13.9998 11.1561 13.329 12.2426 12.2425C13.3291 11.1559 14 9.65686 14 7.99984C14 6.34282 13.3291 4.84373 12.2426 3.7572C11.1561 2.67068 9.65701 1.99984 7.99999 1.99984Z" fill="black" fill-opacity="0.53"></path></g><defs><clipPath id="clip0_12508_162529"><rect width="16" height="16" fill="white"></rect></clipPath></defs>', 2)]))
        }
        let fx = (0,
        eN.default)({}, [["render", QuestionIconvue_type_template_id_2f1a1380_render]]);
        function getTrailerComplexPlanList(n) {
            return tt.dJ.get(uL.y.GET_LIVE_TRAILER_COMPLEX_PLAN_INFO, {
                params: n,
                transform: !0
            })
        }
        function getNoteBindAuth(n) {
            return tt.dJ.get(uL.y.GET_LIVE_TRAILER_NOTE_BIND_AUTH, {
                params: {
                    orderId: n
                },
                transform: !0
            })
        }
        function postCreateTrailer(n) {
            return tt.dJ.post(uL.y.GET_LIVE_MALL_CREATE_TRAILER, (0,
            B._)({}, n), {
                transform: !0
            })
        }
        function getGoodsAuth(n) {
            return tt.dJ.get(uL.y.GET_LIVE_MALL_GOODS_AUTH, {
                params: n
            }, {
                transform: !0
            })
        }
        var fT = {
            class: "live-remind"
        }
          , fM = {
            class: "content-item"
        }
          , fS = {
            class: "content-item"
        }
          , f_ = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                state: {},
                behavior: {}
            },
            setup: function(n) {
                var d, v = (0,
                ec.ref)(!1), m = (0,
                ec.computed)(function() {
                    var d;
                    return !!(null === (d = n.state.liveReservationBind.value) || void 0 === d ? void 0 : d.reserve)
                }), h = (0,
                ec.computed)(function() {
                    var d;
                    return !!(null === (d = n.state.isCanBindLiveReservation) || void 0 === d ? void 0 : d.value)
                }), y = (0,
                ec.computed)(function() {
                    var d;
                    return (null === (d = n.state.liveReservationExclusiveText) || void 0 === d ? void 0 : d.value) || ""
                }), N = (0,
                ec.computed)(function() {
                    return n.state.publishType.value
                }), k = (0,
                ec.computed)(function() {
                    return n.state.coOrderId.value || ""
                }), I = (0,
                ec.computed)(function() {
                    return {
                        channelTabName: "下场直播引流",
                        noteEditSource: n.state.noteId.value ? 2 : 1,
                        noteType: N.value === eX.QO.Video ? 3 : 1
                    }
                });
                var C = (d = (0,
                V._)(function(d) {
                    return (0,
                    R.Jh)(this, function(h) {
                        switch (h.label) {
                        case 0:
                            if (v.value)
                                return [2];
                            if (d === m.value)
                                return [3, 4];
                            if (n.behavior.modifyLiveReservation({
                                reserve: d
                            }),
                            !k.value)
                                return [3, 4];
                            v.value = !0,
                            h.label = 1;
                        case 1:
                            return h.trys.push([1, , 3, 4]),
                            [4, getNoteBindAuth(k.value)];
                        case 2:
                            return !h.sent().bindTrailerAuth && (mY.Z.danger("当前内容合作订单不支持同时设置下场直播引流"),
                            n.behavior.modifyLiveReservation({
                                reserve: !1
                            })),
                            [3, 4];
                        case 3:
                            return v.value = !1,
                            [7];
                        case 4:
                            return n.behavior.tracker("63115", (0,
                            O._)((0,
                            B._)({}, I.value), {
                                status: d ? "turn_on" : "turn_off"
                            })),
                            [2]
                        }
                    })
                }),
                function handleUpdateChecked(n) {
                    return d.apply(this, arguments)
                }
                );
                return n.behavior.tracker("63114", (0,
                O._)((0,
                B._)({}, I.value), {
                    status: m.value ? "turn_on" : "turn_off"
                })),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", fT, [(0,
                    ec.createElementVNode)("div", fM, [(0,
                    ec.createVNode)(fA), d[0] || (d[0] = (0,
                    ec.createElementVNode)("span", {
                        class: "title"
                    }, " 为下场直播引流 ", -1)), (0,
                    ec.createVNode)((0,
                    ec.unref)(oN.Z), {
                        class: "release-live-notice-tooltip",
                        content: "开启后，用户可以在当前笔记中看到“预约下一场”按钮",
                        theme: "light",
                        placement: "bottom-start"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(fx)]
                        }),
                        _: 1
                    })]), (0,
                    ec.createElementVNode)("div", fS, [(0,
                    ec.createVNode)((0,
                    ec.unref)(oN.Z), {
                        class: "release-live-notice-tooltip",
                        disabled: h.value,
                        content: y.value,
                        theme: "light",
                        placement: "bottom"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.withDirectives)((0,
                            ec.createVNode)((0,
                            ec.unref)(fC.Z), {
                                disabled: !h.value,
                                class: "live-switch",
                                checked: m.value,
                                "onUpdate:checked": C
                            }, null, 8, ["disabled", "checked"]), [[(0,
                            ec.unref)(fb.Z), v.value]])]
                        }),
                        _: 1
                    }, 8, ["disabled", "content"])])])
                }
            }
        });
        let fV = (0,
        eN.default)(f_, [["__scopeId", "data-v-5e1c5ad8"]])
          , fD = {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none"
        };
        function PreviewIconvue_type_template_id_49dafe2e_render(n, d) {
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("svg", fD, d[0] || (d[0] = [(0,
            ec.createElementVNode)("path", {
                d: "M6.75 2C4.12665 2 2 4.12665 2 6.75V15.25C2 17.8734 4.12665 20 6.75 20H9.25C9.66421 20 10 19.6642 10 19.25C10 18.8358 9.66421 18.5 9.25 18.5H6.75C4.95507 18.5 3.5 17.0449 3.5 15.25V8.25H19.5V9.55C19.5 9.96421 19.8358 10.3 20.25 10.3C20.6642 10.3 21 9.96421 21 9.55V6.75C21 4.12665 18.8734 2 16.25 2H6.75ZM19.5 6.75L3.5 6.75C3.5 4.95507 4.95507 3.5 6.75 3.5H16.25C18.0449 3.5 19.5 4.95507 19.5 6.75Z",
                fill: "black"
            }, null, -1), (0,
            ec.createElementVNode)("path", {
                d: "M16.5 14.75C16.5 14.3358 16.1642 14 15.75 14C15.3358 14 15 14.3358 15 14.75V16.25C15 17.2165 15.7835 18 16.75 18H18.25C18.6642 18 19 17.6642 19 17.25C19 16.8358 18.6642 16.5 18.25 16.5H16.75C16.6119 16.5 16.5 16.3881 16.5 16.25V14.75Z",
                fill: "black"
            }, null, -1), (0,
            ec.createElementVNode)("path", {
                d: "M16.25 10.5C13.0744 10.5 10.5 13.0744 10.5 16.25C10.5 19.4256 13.0744 22 16.25 22C19.4256 22 22 19.4256 22 16.25C22 13.0744 19.4256 10.5 16.25 10.5ZM12 16.25C12 13.9028 13.9028 12 16.25 12C18.5972 12 20.5 13.9028 20.5 16.25C20.5 18.5972 18.5972 20.5 16.25 20.5C13.9028 20.5 12 18.5972 12 16.25Z",
                fill: "black"
            }, null, -1)]))
        }
        let fB = (0,
        eN.default)({}, [["render", PreviewIconvue_type_template_id_49dafe2e_render]]);
        v(58051);
        var fL = v(72637)
          , fP = v(72566);
        let fO = {
            xmlns: "http://www.w3.org/2000/svg",
            width: "20",
            height: "20",
            viewBox: "0 0 20 20",
            fill: "none"
        };
        function InfoIconvue_type_template_id_2e68cd9a_render(n, d) {
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("svg", fO, d[0] || (d[0] = [(0,
            ec.createElementVNode)("path", {
                d: "M10.0049 1.66992C14.6082 1.66992 18.3399 5.40163 18.3399 10.0049C18.3399 14.6082 14.6082 18.3399 10.0049 18.3399C5.40163 18.3399 1.66992 14.6082 1.66992 10.0049C1.66992 5.40163 5.40163 1.66992 10.0049 1.66992Z",
                fill: "#386BFF"
            }, null, -1), (0,
            ec.createElementVNode)("path", {
                "fill-rule": "evenodd",
                "clip-rule": "evenodd",
                d: "M9.01904 6.2112C9.01904 5.65742 9.46797 5.2085 10.0217 5.2085C10.5755 5.2085 11.0245 5.65742 11.0245 6.2112C11.0245 6.76498 10.5755 7.21391 10.0217 7.21391C9.46797 7.21391 9.01904 6.76498 9.01904 6.2112ZM10.8573 13.8986C10.8573 14.36 10.4832 14.7341 10.0217 14.7341C9.56022 14.7341 9.18611 14.36 9.18611 13.8986V8.88503C9.18611 8.42354 9.56022 8.04944 10.0217 8.04944C10.4832 8.04944 10.8573 8.42354 10.8573 8.88503V13.8986Z",
                fill: "white"
            }, null, -1)]))
        }
        let fR = (0,
        eN.default)({}, [["render", InfoIconvue_type_template_id_2e68cd9a_render]]);
        function formatPeriodTime(n, d) {
            return Math.floor((d - n) / 1e3 / 60 / 60 / 24)
        }
        function addZero(n) {
            return n < 10 ? "0".concat(n) : n
        }
        function formatDateNumber(n) {
            var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
            if (!n)
                return "-";
            var v = new Date(n)
              , m = v.getFullYear()
              , h = addZero(v.getMonth() + 1)
              , y = addZero(v.getDate())
              , N = addZero(v.getHours())
              , k = addZero(v.getMinutes());
            return "".concat(m).concat(d).concat(h).concat(d).concat(y, " ").concat(N, ":").concat(k)
        }
        var fU = {
            class: "modal-content"
        }
          , fj = {
            key: 0,
            class: "empty-area"
        }
          , fF = {
            key: 0,
            class: "empty-info"
        }
          , fz = {
            key: 1,
            class: "empty-info"
        }
          , fZ = {
            class: "remind-area"
        }
          , fQ = {
            class: "add-area"
        }
          , fJ = {
            class: "list-area"
        }
          , fH = {
            class: "item-left"
        }
          , fG = {
            class: "header"
        }
          , fY = {
            class: "item-title"
        }
          , fW = {
            class: "sub-info"
        }
          , fq = {
            class: "sub-info-item"
        }
          , fX = {
            class: "sub-info-item"
        }
          , fK = {
            class: "item-right"
        }
          , f$ = ["onClick"]
          , f0 = {
            class: "item-left"
        }
          , f1 = {
            class: "header"
        }
          , f2 = {
            class: "item-title"
        }
          , f4 = {
            class: "sub-info"
        }
          , f3 = {
            class: "sub-info-item"
        }
          , f5 = {
            class: "item-right"
        }
          , f8 = ["onClick"]
          , f6 = {
            key: 0,
            class: "pagination-area"
        }
          , f9 = {
            key: 1,
            class: "bottom-placeholder"
        }
          , f7 = (0,
        ec.defineComponent)({
            __name: "index",
            props: {
                visible: {
                    type: Boolean
                },
                userId: {},
                noteId: {},
                trailerId: {},
                behavior: {}
            },
            emits: ["update:visible", "createPreview", "bindPreview", "close"],
            setup: function(n, d) {
                var v, m = d.emit, h = (0,
                ec.ref)(1), y = (0,
                ec.ref)([]), N = (0,
                ec.ref)(!1), k = (0,
                ec.ref)(!1), I = (0,
                ec.computed)(function() {
                    var n = (h.value - 1) * 4;
                    return y.value.slice(n, n + 4)
                }), C = (0,
                ec.computed)(function() {
                    var n;
                    return (null === (n = y.value) || void 0 === n ? void 0 : n.length) || 0
                }), x = (0,
                ec.computed)(function() {
                    return 0 === C.value && !N.value
                }), M = (0,
                ec.computed)({
                    get: function() {
                        return n.visible
                    },
                    set: function(n) {
                        m("update:visible", n)
                    }
                }), handleClose = function() {
                    M.value = !1,
                    m("close")
                }, handleJumpLivePlan = function(d) {
                    n.behavior.tracker("65855");
                    var v = d.trailerInfo
                      , m = d.planInfo
                      , h = {
                        planId: "",
                        poolId: "",
                        trailerId: ""
                    };
                    if (v) {
                        var y = v.idStr;
                        Object.assign(h, {
                            planId: v.planIdStr,
                            poolId: v.poolIdStr,
                            trailerId: y
                        })
                    } else
                        m && Object.assign(h, {
                            planId: m.id,
                            poolId: m.poolIdStr || ""
                        });
                    var N = ""
                      , k = window.location.origin;
                    k.includes("beta") ? N = "beta" : k.includes("sit") && (N = "sit");
                    var I = "?roomId=0&planId=".concat(h.planId || 0, "&poolId=").concat(h.poolId || 0, "&trailerId=").concat(h.trailerId || 0, "&selectType=true")
                      , C = N ? "http://redlive".concat(N ? ".".concat(N) : "", ".xiaohongshu.com/live_plan_detail").concat(I) : "https://redlive.xiaohongshu.com/live_plan_detail".concat(I);
                    window.open(C, "_blank")
                }, handleCreatePreview = function() {
                    var d = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    d ? n.behavior.tracker("65857") : n.behavior.tracker("65854"),
                    handleClose(),
                    m("createPreview", d)
                }, handleBindPreview = function(d) {
                    if (d) {
                        var v = d.idStr
                          , h = d.title
                          , y = d.startTime
                          , N = d.noteBindStatus;
                        n.behavior.tracker("65856", {
                            status: 1 === N ? "associated" : "unassociated"
                        }),
                        m("bindPreview", {
                            title: h,
                            id: v,
                            time: y
                        }),
                        mY.Z.success(n.trailerId ? "替换关联成功" : "关联成功")
                    } else
                        m("bindPreview")
                }, fetchTrailerComplexPlanList = function() {
                    N.value = !0,
                    k.value = !1,
                    h.value = 1,
                    y.value = [],
                    getTrailerComplexPlanList({
                        userId: n.userId
                    }).then(function(n) {
                        y.value = n.canBindTrailerComplexPlanInfoList
                    }).catch(function() {
                        k.value = !0,
                        mY.Z.danger({
                            content: "网络不稳定，请稍后尝试",
                            duration: 1e3
                        })
                    }).finally(function() {
                        N.value = !1
                    })
                };
                return (0,
                ec.watch)(function() {
                    return n.visible
                }, (v = (0,
                V._)(function(d) {
                    return (0,
                    R.Jh)(this, function(v) {
                        return d && (n.behavior.tracker("65858"),
                        fetchTrailerComplexPlanList()),
                        [2]
                    })
                }),
                function(n) {
                    return v.apply(this, arguments)
                }
                )),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(fL.Z), {
                        visible: M.value,
                        "onUpdate:visible": d[5] || (d[5] = function(n) {
                            return M.value = n
                        }
                        ),
                        title: "直播预告",
                        "with-footer": !1,
                        "mask-style": {
                            background: "rgba(0, 0, 0, 0.4)"
                        },
                        size: 586,
                        "z-index": 999,
                        centered: "",
                        onCancel: handleClose
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", fU, [x.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", fj, [(0,
                            ec.createVNode)((0,
                            ec.unref)(vX.Z), {
                                status: "resultless"
                            }, {
                                subTitle: (0,
                                ec.withCtx)(function() {
                                    return [k.value ? ((0,
                                    ec.openBlock)(),
                                    (0,
                                    ec.createElementBlock)("div", fz, [d[7] || (d[7] = (0,
                                    ec.createElementVNode)("span", null, "直播预告获取失败", -1)), (0,
                                    ec.createElementVNode)("span", {
                                        onClick: d[1] || (d[1] = function(n) {
                                            return fetchTrailerComplexPlanList()
                                        }
                                        )
                                    }, "刷新")])) : ((0,
                                    ec.openBlock)(),
                                    (0,
                                    ec.createElementBlock)("div", fF, [d[6] || (d[6] = (0,
                                    ec.createElementVNode)("span", null, "暂无直播预告", -1)), (0,
                                    ec.createElementVNode)("span", {
                                        onClick: d[0] || (d[0] = function(n) {
                                            return handleCreatePreview()
                                        }
                                        )
                                    }, "去新建")]))]
                                }),
                                _: 1
                            })])) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)(ec.Fragment, {
                                key: 1
                            }, [(0,
                            ec.createElementVNode)("div", fZ, [(0,
                            ec.createVNode)(fR), d[8] || (d[8] = (0,
                            ec.createElementVNode)("div", {
                                class: "remind-text"
                            }, [(0,
                            ec.createElementVNode)("span", null, " 1.列表仅展示未来生效的直播预告，已过期直播不支持关联； "), (0,
                            ec.createElementVNode)("span", null, " 2.一篇笔记仅能关联一个预告，替换后已关联预告将取消关联。 ")], -1))]), (0,
                            ec.createElementVNode)("div", fQ, [(0,
                            ec.createVNode)((0,
                            ec.unref)(ni.Z), {
                                type: "primary",
                                onClick: d[2] || (d[2] = function(n) {
                                    return handleCreatePreview()
                                }
                                )
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[9] || (d[9] = [(0,
                                    ec.createTextVNode)(" 新建预告 ")])
                                }),
                                _: 1
                            })]), (0,
                            ec.withDirectives)(((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", fJ, [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(I.value, function(v, m) {
                                var h, y;
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    key: m,
                                    class: "list-item"
                                }, [1 === v.type ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)(ec.Fragment, {
                                    key: 0
                                }, [(0,
                                ec.createElementVNode)("div", fH, [(0,
                                ec.createElementVNode)("div", fG, [(0,
                                ec.createElementVNode)("span", null, (0,
                                ec.toDisplayString)((0,
                                ec.unref)(formatDateNumber)(v.trailerInfo.startTime, "-")), 1), d[10] || (d[10] = (0,
                                ec.createElementVNode)("span", {
                                    class: "release-tag"
                                }, " 已发布预告 ", -1))]), (0,
                                ec.createElementVNode)("div", fY, (0,
                                ec.toDisplayString)(v.trailerInfo.title), 1), (0,
                                ec.createElementVNode)("div", fW, [(0,
                                ec.createElementVNode)("span", fq, (0,
                                ec.toDisplayString)("".concat(v.trailerInfo.subscribeNum, "人已预约")), 1), d[11] || (d[11] = (0,
                                ec.createElementVNode)("span", {
                                    class: "cut-off-line"
                                }, null, -1)), (0,
                                ec.createElementVNode)("span", fX, (0,
                                ec.toDisplayString)(v.trailerInfo.noteCount > 0 ? "".concat(v.trailerInfo.noteCount, "篇笔记已关联") : "暂无关联笔记"), 1)])]), (0,
                                ec.createElementVNode)("div", fK, [(null === (h = v.trailerInfo) || void 0 === h ? void 0 : h.planIdStr) || (null === (y = v.planInfo) || void 0 === y ? void 0 : y.id) ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)("div", {
                                    key: 0,
                                    class: "jump-btn",
                                    onClick: function(n) {
                                        return handleJumpLivePlan(v)
                                    }
                                }, " 查看直播计划 ", 8, f$)) : (0,
                                ec.createCommentVNode)("", !0), v.trailerInfo.idStr === n.trailerId ? ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createBlock)((0,
                                ec.unref)(nl.zx), {
                                    key: 1,
                                    class: "publish-button",
                                    color: "red",
                                    type: "stroke",
                                    onClick: d[3] || (d[3] = function(n) {
                                        return handleBindPreview()
                                    }
                                    )
                                }, {
                                    default: (0,
                                    ec.withCtx)(function() {
                                        return d[12] || (d[12] = [(0,
                                        ec.createTextVNode)(" 取消关联 ")])
                                    }),
                                    _: 1
                                })) : ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createBlock)((0,
                                ec.unref)(ni.Z), {
                                    key: 2,
                                    type: "stroke",
                                    onClick: function(n) {
                                        return handleBindPreview(v.trailerInfo)
                                    }
                                }, {
                                    default: (0,
                                    ec.withCtx)(function() {
                                        return d[13] || (d[13] = [(0,
                                        ec.createTextVNode)(" 关联预告 ")])
                                    }),
                                    _: 2
                                }, 1032, ["onClick"]))])], 64)) : ((0,
                                ec.openBlock)(),
                                (0,
                                ec.createElementBlock)(ec.Fragment, {
                                    key: 1
                                }, [(0,
                                ec.createElementVNode)("div", f0, [(0,
                                ec.createElementVNode)("div", f1, [(0,
                                ec.createElementVNode)("span", null, (0,
                                ec.toDisplayString)((0,
                                ec.unref)(formatDateNumber)(v.planInfo.startTime, "-")), 1)]), (0,
                                ec.createElementVNode)("div", f2, (0,
                                ec.toDisplayString)(v.planInfo.title), 1), (0,
                                ec.createElementVNode)("div", f4, [(0,
                                ec.createElementVNode)("span", f3, (0,
                                ec.toDisplayString)("".concat(v.planInfo.goodsCount, "件备货商品")), 1)])]), (0,
                                ec.createElementVNode)("div", f5, [(0,
                                ec.createElementVNode)("div", {
                                    class: "jump-btn",
                                    onClick: function(n) {
                                        return handleJumpLivePlan(v)
                                    }
                                }, " 查看直播计划 ", 8, f8), (0,
                                ec.createVNode)((0,
                                ec.unref)(oN.Z), {
                                    class: "release-live-notice-tooltip",
                                    content: "已有计划但未发布预告的直播，“发布预告”后可关联笔记",
                                    theme: "light",
                                    placement: "bottom-end"
                                }, {
                                    default: (0,
                                    ec.withCtx)(function() {
                                        return [(0,
                                        ec.createVNode)((0,
                                        ec.unref)(ni.Z), {
                                            type: "stroke",
                                            onClick: function(n) {
                                                return handleCreatePreview(v.planInfo.id)
                                            }
                                        }, {
                                            default: (0,
                                            ec.withCtx)(function() {
                                                return d[14] || (d[14] = [(0,
                                                ec.createTextVNode)(" 发布预告 ")])
                                            }),
                                            _: 2
                                        }, 1032, ["onClick"])]
                                    }),
                                    _: 2
                                }, 1024)])], 64))])
                            }), 128))])), [[(0,
                            ec.unref)(fb.Z), {
                                text: "加载中",
                                visible: N.value
                            }]]), C.value > 4 ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", f6, [(0,
                            ec.createVNode)((0,
                            ec.unref)(fP.Z), {
                                modelValue: h.value,
                                "onUpdate:modelValue": d[4] || (d[4] = function(n) {
                                    return h.value = n
                                }
                                ),
                                "page-size": 4,
                                total: C.value,
                                type: "small",
                                align: "end"
                            }, null, 8, ["modelValue", "total"])])) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", f9))], 64))])]
                        }),
                        _: 1
                    }, 8, ["visible"])
                }
            }
        });
        let pe = (0,
        eN.default)(f7, [["__scopeId", "data-v-08bcabb8"]]);
        var pt = v(9608)
          , pn = v(89519)
          , pa = v(26171)
          , po = v(70183)
          , pr = v(22526);
        v(97553);
        var pi = v(28522);
        function getLiveMallShopGoodsList(n) {
            return tt.dJ.get(uL.y.GET_LIVE_MALL_SHOP_GOODS_LIST, {
                params: n
            }, {
                transform: !0
            })
        }
        function getLiveMallCpsGoodsList(n) {
            return tt.dJ.get(uL.y.GET_LIVE_MALL_CPS_GOODS_LIST, {
                params: n
            }, {
                transform: !0
            })
        }
        function liveMallShopGoodsSearch(n) {
            return tt.dJ.get(uL.y.GET_LIVE_MALL_SHOP_GOODS_SEARCH, {
                params: n
            }, {
                transform: !0
            })
        }
        function liveMallCpsGoodsSearch(n) {
            return tt.dJ.get(uL.y.GET_LIVE_MALL_CPS_GOODS_SEARCH, {
                params: n
            }, {
                transform: !0
            })
        }
        var pl = v(23391)
          , pc = v.n(pl)
          , pu = v(54287)
          , ps = v.n(pu);
        function getWebpUrl(n, d, v) {
            if (!n)
                return "";
            try {
                var m = new URL(n).search;
                if (m.includes("imageView2")) {
                    var h = ""
                      , y = /format\/jpg|format\/jpeg|format\/png/;
                    y.test(m) ? h = m.replace(y, "format/webp") : (h = m.replace(".jpeg", "").replace(".jpg", "").replace(".png", ""),
                    h = "".concat(h, "/format/webp.jpeg"));
                    var N = /\/w\/\d+/;
                    N.test(h) && (h = h.replace(N, void 0 !== d ? "/w/".concat(d) : ""));
                    var k = /\/h\/\d+/;
                    return k.test(h) && (h = h.replace(k, void 0 !== v ? "/h/".concat(v) : "")),
                    n.replace(m, h)
                }
            } catch (n) {}
            return n
        }
        var pd = ["src"]
          , pv = {
            class: "goods-num-icon"
        }
          , pm = ["src", "onClick"]
          , pf = (0,
        ec.defineComponent)({
            __name: "GoodsDraggable",
            props: {
                goodsList: {
                    default: function _default() {
                        return []
                    }
                }
            },
            emits: ["deleteGoods", "swapGoods"],
            setup: function setup(n, d) {
                var v = d.emit
                  , m = new (pc())
                  , h = (0,
                ec.ref)()
                  , y = (0,
                ec.ref)()
                  , N = (0,
                ec.ref)()
                  , swapGoodsLists = function swapGoodsLists(n, d) {
                    v("swapGoods", {
                        from: n,
                        to: d
                    })
                }
                  , handleDelGoods = function handleDelGoods(n) {
                    v("deleteGoods", n)
                }
                  , getDragRootEle = function getDragRootEle(n) {
                    var d, v, m, h, y = n;
                    if (!y)
                        return null;
                    for (; null !== (d = y) && void 0 !== d && d.parentNode; ) {
                        if (null !== (v = y) && void 0 !== v && null !== (m = (h = v).getAttribute) && void 0 !== m && m.call(h, "draggable"))
                            return y;
                        y = y.parentNode
                    }
                    return null
                }
                  , handleDragStart = function handleDragStart(n) {
                    var d;
                    h.value = getDragRootEle(n.target),
                    y.value = null === (d = m.get(h.value)) || void 0 === d ? void 0 : d.uniqueId,
                    h.value.classList.add("dragging")
                }
                  , handleDragEnter = function handleDragEnter(d) {
                    var v, h, N, k = getDragRootEle(d.target), I = null === (v = m.get(k)) || void 0 === v ? void 0 : v.uniqueId;
                    if (y.value !== I) {
                        var C = ps()(h = n.goodsList).call(h, function(n) {
                            return n.uniqueId === I
                        });
                        swapGoodsLists(ps()(N = n.goodsList).call(N, function(n) {
                            return n.uniqueId === y.value
                        }), C)
                    }
                }
                  , handleDragOver = function handleDragOver(n) {
                    null == n || n.preventDefault()
                }
                  , handleDragEnd = function handleDragEnd() {
                    h.value.classList.remove("dragging"),
                    h.value = null,
                    y.value = null
                };
                return (0,
                ec.onMounted)(function() {
                    for (var d = 0; d < (null === (v = N.value) || void 0 === v || null === (v = v.children) || void 0 === v ? void 0 : v.length); d++) {
                        var v, h, y = null === (h = N.value) || void 0 === h || null === (h = h.children) || void 0 === h || null === (h = h[d]) || void 0 === h ? void 0 : h.firstChild;
                        m.set(y, n.goodsList[d])
                    }
                }),
                (0,
                ec.onUpdated)(function() {
                    for (var d = 0; d < (null === (v = N.value) || void 0 === v || null === (v = v.children) || void 0 === v ? void 0 : v.length); d++) {
                        var v, h, y = null === (h = N.value) || void 0 === h || null === (h = h.children) || void 0 === h || null === (h = h[d]) || void 0 === h ? void 0 : h.firstChild;
                        m.set(y, n.goodsList[d])
                    }
                }),
                (0,
                ec.onUnmounted)(function() {
                    null == m || m.clear(),
                    h.value = null,
                    y.value = null
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        ref_key: "dragList",
                        ref: N,
                        class: "goods-preview"
                    }, [((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(n.goodsList, function(n, d) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("div", {
                            key: n.newSkuId,
                            drag_root: "true",
                            class: "goods-preview-item"
                        }, [(0,
                        ec.createElementVNode)("div", {
                            class: "goods-preview-img-container",
                            draggable: "true",
                            onDragstart: handleDragStart,
                            onDragenter: handleDragEnter,
                            onDragover: handleDragOver,
                            onDragend: handleDragEnd
                        }, [(0,
                        ec.createElementVNode)("img", {
                            src: (0,
                            ec.unref)(getWebpUrl)(n.image, 64, 64)
                        }, null, 8, pd), (0,
                        ec.createElementVNode)("div", pv, (0,
                        ec.toDisplayString)(d + 1), 1)], 32), (0,
                        ec.createElementVNode)("img", {
                            src: (0,
                            ec.unref)(getWebpUrl)("https://picasso-static.xiaohongshu.com/fe-platform/29126f133fa66f874d11376b392949906e0339a8.png", 20, 20),
                            class: "goods-preview-item-close",
                            onClick: function onClick(d) {
                                return handleDelGoods(n)
                            }
                        }, null, 8, pm)])
                    }), 128))], 512)
                }
            }
        })
          , pp = v(52026)
          , pg = {
            class: "time-count"
        }
          , ph = {
            key: 0,
            class: "time"
        }
          , py = {
            key: 1,
            class: "days"
        }
          , pN = {
            class: "time"
        }
          , pk = {
            class: "time"
        }
          , pI = {
            class: "time"
        }
          , pC = (0,
        ec.defineComponent)({
            __name: "Seckill",
            props: {
                started: {
                    type: Boolean,
                    default: !0
                },
                msec: {}
            },
            setup: function(n) {
                var d = (0,
                ec.reactive)({
                    hours: 0,
                    minutes: 0,
                    seconds: 0,
                    img: "https://picasso-static.xiaohongshu.com/fe-platform/cc303f2749789174480b0490d8fec4cfb456c652.jpg"
                })
                  , num = function(n) {
                    return 10 > Number(n) ? "0".concat(n) : "".concat(n)
                }
                  , countDown = function() {
                    var n = window.setInterval(function() {
                        0 !== Number(d.hours) && 0 === Number(d.minutes) && 0 === Number(d.seconds) ? (d.hours = num(Number(d.hours) - 1),
                        d.minutes = 59,
                        d.seconds = 59) : 0 === Number(d.hours) && 0 !== Number(d.minutes) && 0 === Number(d.seconds) ? (d.minutes = num(Number(d.minutes) - 1),
                        d.seconds = 59) : 0 === Number(d.hours) && 0 === Number(d.minutes) && 0 === Number(d.seconds) ? (d.seconds = num(0),
                        window.clearInterval(n)) : 0 !== Number(d.hours) && 0 !== Number(d.minutes) && 0 === Number(d.seconds) ? (d.minutes = num(Number(d.minutes) - 1),
                        d.seconds = 59) : d.seconds = num(Number(d.seconds) - 1)
                    }, 1e3)
                }
                  , initial = function() {
                    var v = n.msec ? Number("".concat(n.msec, "000")) : 0
                      , m = num(parseInt(String(v / 1e3 / 60 / 60 / 24), 10))
                      , h = num(parseInt(String(v / 1e3 / 60 / 60 % 24), 10));
                    d.minutes = num(parseInt(String(v / 1e3 / 60 % 60), 10)),
                    d.seconds = num(parseInt(String(v / 1e3 % 60), 10)),
                    d.hours = num(24 * parseInt(m, 10) + parseInt(h, 10)),
                    countDown()
                }
                  , v = (0,
                ec.computed)(function() {
                    return Math.floor(Number(d.hours) / 24)
                });
                return (0,
                ec.onMounted)(function() {
                    initial()
                }),
                function(m, h) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        class: (0,
                        ec.normalizeClass)(["seckill-wrap", {
                            started: n.started
                        }])
                    }, [(0,
                    ec.createElementVNode)("div", pg, [v.value > 0 ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("span", ph, (0,
                    ec.toDisplayString)(v.value), 1)) : (0,
                    ec.createCommentVNode)("", !0), v.value > 0 ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("span", py, "天")) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createElementVNode)("span", pN, (0,
                    ec.toDisplayString)(num(d.hours % 24)) + ":", 1), (0,
                    ec.createElementVNode)("span", pk, (0,
                    ec.toDisplayString)(d.minutes ? d.minutes : "00") + ":", 1), (0,
                    ec.createElementVNode)("span", pI, (0,
                    ec.toDisplayString)(d.seconds ? d.minutes : "00"), 1), (0,
                    ec.createElementVNode)("span", null, "\xa0" + (0,
                    ec.toDisplayString)(n.started ? "秒杀" : "后秒杀"), 1)])], 2)
                }
            }
        });
        let pb = (0,
        eN.default)(pC, [["__scopeId", "data-v-592641ee"]]);
        var pE = v(92674);
        function safeAmount(n, d) {
            var v = d || {}
              , m = v.prefix
              , h = void 0 === m ? "" : m
              , y = v.catchText
              , N = v.digit
              , k = v.strategy
              , I = v.thousands
              , C = v.unit
              , x = v.unitDigit
              , M = void 0 === x ? 1 : x
              , S = v.unitStrategy
              , _ = void 0 === S ? "floor" : S
              , V = v.unitThousands
              , B = v.unitJoin
              , O = void 0 === B ? "" : B
              , R = v.valueType
              , U = void 0 === R ? "元" : R
              , z = Number(n);
            if ("角" === U ? z = pE.t.div(z, 10).toNumber() : "分" === U && (z = pE.t.div(z, 100).toNumber()),
            "" === n || null == n || Number.isNaN(z))
                return h + (void 0 === y ? "-" : y);
            var Z = ""
              , Q = void 0 === N ? 2 : N
              , J = z
              , H = void 0 === k ? "floor" : k;
            if ((void 0 === C || C) && (z >= 1e4 && z < 1e8 ? (Q = M,
            H = _,
            J = pE.t.div(z, 1e4).toNumber(),
            Z = "".concat(O, "万")) : z >= 1e8 && (Q = M,
            H = _,
            J = pE.t.div(z, 1e8).toNumber(),
            Z = "".concat(O, "亿"))),
            "fixed" === H)
                J = Number(J.toFixed(Q));
            else {
                var G = Math.pow(10, Q)
                  , Y = pE.t.mul(J, G).toNumber();
                J = pE.t.div(Math[H](Y), G).toNumber()
            }
            return Z && void 0 !== V && V || void 0 === I || I ? h + J.toLocaleString("zh", {
                minimumFractionDigits: Q
            }) + Z : h + J.toFixed(Q) + Z
        }
        function safeRate(n, d) {
            var v = d || {}
              , m = v.digit
              , h = void 0 === m ? 1 : m
              , y = v.catchText
              , N = v.suffix
              , k = void 0 === N ? "%" : N
              , I = v.prefix
              , C = void 0 === I ? "" : I
              , x = v.strategy
              , M = void 0 === x ? "floor" : x
              , S = v.zoom;
            if ("" === n || null == n || Number.isNaN(Number(n)))
                return C + (void 0 === y ? "-" : y) + k;
            var _ = void 0 === S || S ? pE.t.mul(n, 100) : Number(n);
            if ("fixed" === M)
                return C + _.toFixed(h) + k;
            var V = Math.pow(10, h)
              , B = pE.t.mul(_, V).toNumber();
            return C + pE.t.div(Math[M](B), V).toNumber().toFixed(h) + k
        }
        var pA = {
            key: 0,
            class: "goods-base goods-base-sample"
        }
          , pw = {
            class: "goods-img"
        }
          , px = ["src"]
          , pT = {
            key: 0,
            class: "disable-layer"
        }
          , pM = {
            class: "goods-title"
        }
          , pS = {
            class: "tags"
        }
          , p_ = {
            key: 1,
            class: "channel"
        }
          , pV = {
            key: 2,
            class: "directional-tag"
        }
          , pD = {
            key: 3,
            class: "flash-shot-img"
        }
          , pB = {
            key: 1
        }
          , pL = {
            class: "final-price"
        }
          , pP = {
            key: 2
        }
          , pO = {
            key: 3
        }
          , pR = {
            key: 0
        }
          , pU = {
            key: 0
        }
          , pj = {
            key: 1
        }
          , pF = {
            key: 4
        }
          , pz = (0,
        ec.defineComponent)({
            __name: "TableTemplate",
            props: {
                rowData: {},
                slotName: {},
                currentTime: {},
                batchOperate: {
                    type: Boolean,
                    default: !1
                }
            },
            setup: function(n) {
                var d = "goodsTitleSample"
                  , v = "goodsPrice"
                  , m = "totalRate"
                  , h = "endTime"
                  , y = "status"
                  , N = (0,
                ec.computed)(function() {
                    var d, v, m, h, y, N, k, I = n.rowData;
                    if ((null === (d = I.activity) || void 0 === d ? void 0 : d.spuPromotionMap) && (null === (v = I.activity) || void 0 === v ? void 0 : v.seckill)) {
                        if ((null === (h = I.activity) || void 0 === h ? void 0 : h.spuPromotionMap) && (null === (y = I.activity) || void 0 === y ? void 0 : y.spuPromotionMap[1]))
                            return (0,
                            O._)((0,
                            B._)({}, I.activity.spuPromotionMap[1]), {
                                started: !0
                            })
                    } else if ((null == I ? void 0 : null === (m = I.activity) || void 0 === m ? void 0 : m.seckill) && (null === (k = I.activity) || void 0 === k ? void 0 : null === (N = k.seckill) || void 0 === N ? void 0 : N.startTime))
                        return {
                            started: !1,
                            remainingTime: parseInt(String((I.activity.seckill.startTime - new Date().getTime()) / 1e3), 10)
                        };
                    return {
                        remainingTime: 0
                    }
                })
                  , k = (0,
                ec.computed)(function() {
                    var d, v, m, h, y, k = n.rowData;
                    return (null === (d = N.value) || void 0 === d ? void 0 : d.remainingTime) || 2 === k.channelType && !(null === (v = k.state) || void 0 === v ? void 0 : v.flashBuy) || 1 === k.type && (null === (m = k.goodsPlan) || void 0 === m ? void 0 : m.planType) === 3 && !(null === (h = N.value) || void 0 === h ? void 0 : h.remainingTime) || (null === (y = k.state) || void 0 === y ? void 0 : y.flashBuy)
                })
                  , I = (0,
                ec.computed)(function() {
                    var d = n.rowData;
                    if (d.state.validateFailReasonList)
                        for (var v = 0; v < d.state.validateFailReasonList.length; v++) {
                            var m = d.state.validateFailReasonList[v];
                            if (104 === m.failStatus)
                                return "不可售";
                            if (201 === m.failStatus)
                                return "商品违规";
                            if (101 === m.failStatus)
                                return "无库存"
                        }
                    return null
                })
                  , C = (0,
                ec.computed)(function() {
                    var d = n.rowData;
                    if (d.state.validateFailReasonList)
                        for (var v = 0; v < d.state.validateFailReasonList.length; v++) {
                            var m = d.state.validateFailReasonList[v];
                            if (103 === m.failStatus)
                                return "合约已失效";
                            if (102 === m.failStatus)
                                return "播前失效"
                        }
                    return null
                })
                  , clkPreviewGoods = function(n) {
                    n && (0,
                    pp.V)([n], {
                        actionsLayout: ["scale", "rotate", "download"],
                        closeOnMask: !0,
                        zIndex: 1e3
                    })
                };
                return function(n, x) {
                    var M, S, _, V, B, O, R, U, z, Z;
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, [n.slotName === d ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", pA, [(0,
                    ec.createElementVNode)("div", pw, [(0,
                    ec.createElementVNode)("img", {
                        src: (0,
                        ec.unref)(getWebpUrl)(null === (M = n.rowData.goodsViewInfo) || void 0 === M ? void 0 : M.image, 64, 64)
                    }, null, 8, px), I.value || "合约已失效" === C.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", pT, [(0,
                    ec.createVNode)((0,
                    ec.unref)(po.Z), {
                        color: "current",
                        size: "small",
                        bold: ""
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createTextVNode)((0,
                            ec.toDisplayString)(I.value || ("合约已失效" === C.value ? "合约失效" : "")), 1)]
                        }),
                        _: 1
                    })])) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createElementVNode)("div", {
                        class: "hoverGoodsImgLayer",
                        onClick: x[0] || (x[0] = function(d) {
                            var v;
                            return clkPreviewGoods(null === (v = n.rowData.goodsViewInfo) || void 0 === v ? void 0 : v.image)
                        }
                        )
                    }, x[1] || (x[1] = [(0,
                    ec.createElementVNode)("img", {
                        class: "hoverGoodsImgIcon",
                        src: "https://picasso-static.xiaohongshu.com/fe-platform/914e998bd9066dd20dd75cfa47d37aeb59052c75.png"
                    }, null, -1)]))]), (0,
                    ec.createElementVNode)("div", pM, [(0,
                    ec.createElementVNode)("div", null, [1 === n.rowData.type || (null === (S = n.rowData.state) || void 0 === S ? void 0 : S.flashBuy) || n.batchOperate ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(po.Z), {
                        key: 1,
                        color: "text-title",
                        class: "title-text",
                        ellipsis: "",
                        tooltip: "",
                        "max-lines": k.value ? 1 : 2
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            var d;
                            return [(0,
                            ec.createTextVNode)((0,
                            ec.toDisplayString)((null === (d = n.rowData.goodsViewInfo) || void 0 === d ? void 0 : d.title) || "-"), 1)]
                        }),
                        _: 1
                    }, 8, ["max-lines"])) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(po.Z), {
                        key: 0,
                        color: "text-title",
                        class: "title-text",
                        ellipsis: "",
                        tooltip: "",
                        "max-lines": k.value ? 1 : 2
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            var d;
                            return [(0,
                            ec.createTextVNode)((0,
                            ec.toDisplayString)((null === (d = n.rowData.goodsViewInfo) || void 0 === d ? void 0 : d.title) || "-"), 1)]
                        }),
                        _: 1
                    }, 8, ["max-lines"]))]), (0,
                    ec.createElementVNode)("div", pS, [(null === (_ = N.value) || void 0 === _ ? void 0 : _.remainingTime) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(pb, {
                        key: 0,
                        started: null === (V = N.value) || void 0 === V ? void 0 : V.started,
                        msec: null === (B = N.value) || void 0 === B ? void 0 : B.remainingTime
                    }, null, 8, ["started", "msec"])) : (0,
                    ec.createCommentVNode)("", !0), 2 !== n.rowData.channelType || (null === (O = n.rowData.state) || void 0 === O ? void 0 : O.flashBuy) ? (0,
                    ec.createCommentVNode)("", !0) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", p_, "直播渠道")), 1 !== n.rowData.type || (null === (R = n.rowData.goodsPlan) || void 0 === R ? void 0 : R.planType) !== 3 || (null === (U = N.value) || void 0 === U ? void 0 : U.remainingTime) ? (0,
                    ec.createCommentVNode)("", !0) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", pV, "定向计划")), (null === (z = n.rowData.state) || void 0 === z ? void 0 : z.flashBuy) ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", pD, "闪拍")) : (0,
                    ec.createCommentVNode)("", !0)])])])) : (0,
                    ec.createCommentVNode)("", !0), n.slotName === v ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", pB, [(0,
                    ec.createElementVNode)("div", pL, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(safeAmount)(null === (Z = n.rowData.price) || void 0 === Z ? void 0 : Z.salePrice, {
                        prefix: "\xa5 "
                    })), 1)])) : (0,
                    ec.createCommentVNode)("", !0), n.slotName === m ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", pP, [(0,
                    ec.createVNode)((0,
                    ec.unref)(po.Z), {
                        color: "text-title"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            var d;
                            return [(0,
                            ec.createTextVNode)((0,
                            ec.toDisplayString)((0,
                            ec.unref)(safeRate)(null === (d = n.rowData.goodsPlan) || void 0 === d ? void 0 : d.totalRate, {
                                zoom: !1,
                                digit: 2,
                                suffix: " %"
                            })), 1)]
                        }),
                        _: 1
                    })])) : (0,
                    ec.createCommentVNode)("", !0), n.slotName === h ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", pO, [1 === n.rowData.type ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", pR, [(0,
                    ec.createVNode)((0,
                    ec.unref)(po.Z), {
                        color: "text-title"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            var d;
                            return [(0,
                            ec.createElementVNode)("span", null, (0,
                            ec.toDisplayString)("".concat(Math.max(0, (0,
                            ec.unref)(formatPeriodTime)(n.currentTime, (null === (d = n.rowData.goodsPlan) || void 0 === d ? void 0 : d.endTime) || 0)), "天")), 1), C.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("span", pU, (0,
                            ec.toDisplayString)(" \xb7 ".concat(C.value)), 1)) : (0,
                            ec.createCommentVNode)("", !0)]
                        }),
                        _: 1
                    }), (0,
                    ec.createVNode)((0,
                    ec.unref)(po.Z), {
                        size: "small",
                        color: "text-description"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            var d;
                            return [(0,
                            ec.createTextVNode)((0,
                            ec.toDisplayString)((0,
                            ec.unref)(formatDateNumber)(null === (d = n.rowData.goodsPlan) || void 0 === d ? void 0 : d.endTime, "-")), 1)]
                        }),
                        _: 1
                    })])) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", pj, "-"))])) : (0,
                    ec.createCommentVNode)("", !0), n.slotName === y ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", pF, [(0,
                    ec.createVNode)((0,
                    ec.unref)(pn.Z), {
                        size: 6
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", {
                                class: (0,
                                ec.normalizeClass)(["goods-status", {
                                    "goods-status-exception": !!I.value
                                }])
                            }, null, 2), (0,
                            ec.createVNode)((0,
                            ec.unref)(po.Z), {
                                color: "text-title"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)(I.value ? I.value : "正常可售"), 1)]
                                }),
                                _: 1
                            }), "商品违规" === I.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(oN.Z), {
                                key: 0,
                                content: "商品违规，请到千帆查看并处理"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)((0,
                                    ec.unref)(oy.Z), {
                                        color: "text-description",
                                        icon: (0,
                                        ec.unref)(ok.WWB)
                                    }, null, 8, ["icon"])]
                                }),
                                _: 1
                            })) : (0,
                            ec.createCommentVNode)("", !0)]
                        }),
                        _: 1
                    })])) : (0,
                    ec.createCommentVNode)("", !0)], 64)
                }
            }
        });
        let pZ = (0,
        eN.default)(pz, [["__scopeId", "data-v-21d5a019"]]);
        var pQ = {
            class: "add-goods-modal live-preview-bind-modal-content"
        }
          , pJ = {
            class: "add-table"
        }
          , pH = {
            class: "add-table-left"
        }
          , pG = {
            key: 0,
            class: "tab-headers"
        }
          , pY = {
            class: "search-input"
        }
          , pW = {
            class: "add-goods-table"
        }
          , pq = {
            class: "goods-preview-container"
        }
          , pX = {
            class: "goods-preview-title",
            style: {
                display: "flex",
                "justify-content": "space-between"
            }
        }
          , pK = {
            class: "goods-preview-title-text"
        }
          , p$ = {
            class: "goods-preview-title-select"
        }
          , p0 = {
            class: "goods-preview-container-scroll"
        }
          , p1 = {
            class: "goods-preview-buttons"
        }
          , p2 = (0,
        ec.defineComponent)({
            __name: "index",
            props: {
                show: {
                    type: Boolean,
                    default: !0
                },
                chooseFlagArr: {
                    default: void 0
                },
                chooseItemArr: {
                    default: void 0
                },
                distributionAuth: {
                    type: Boolean,
                    default: !1
                },
                sellerAuth: {
                    type: Boolean,
                    default: !1
                },
                userId: {
                    default: ""
                }
            },
            emits: ["close", "update"],
            setup: function(n, d) {
                var v, m, h, y, N, k, I = d.emit, C = ["goodsTitleSample", "status", "goodsPrice", "tdStock", "totalRate", "endTime"], x = [{
                    title: "基础信息",
                    dataIndex: "goodsTitleSample"
                }, {
                    title: "售价",
                    dataIndex: "goodsPrice",
                    width: 213
                }], M = [{
                    title: "基础信息",
                    dataIndex: "goodsTitleSample"
                }, {
                    title: "售价",
                    dataIndex: "goodsPrice",
                    width: 120
                }, {
                    title: "佣金率",
                    dataIndex: "totalRate",
                    width: 120
                }, {
                    title: "合约状态",
                    dataIndex: "endTime",
                    width: 135
                }], S = (0,
                ec.reactive)({
                    goodsList: [],
                    searchVal: "",
                    activeTabValue: 2,
                    pagination: {
                        pageNo: 1,
                        pageSize: 50,
                        total: 0
                    },
                    isLoading: !1,
                    alreadyChooseCount: 0,
                    currentTime: 0
                }), _ = (0,
                ec.reactive)({
                    chooseFlagArr: [],
                    chooseItemArr: []
                }), U = (0,
                ec.computed)(function() {
                    return 1 == +S.activeTabValue ? M : x
                }), formatChooseItem = function(n) {
                    var d, v;
                    return {
                        key: n.key,
                        itemId: n.goodsId.newItemId,
                        skuId: n.goodsId.newSkuId,
                        contractId: (null === (d = n.goodsId) || void 0 === d ? void 0 : d.contractId) || "",
                        goodsType: n.type,
                        image: null === (v = n.goodsViewInfo) || void 0 === v ? void 0 : v.image,
                        uniqueId: n.goodsId.uniqueId
                    }
                }, checkboxOnChange = function(n) {
                    var d = _.chooseFlagArr.indexOf(n.key);
                    d >= 0 ? _.chooseItemArr.splice(d, 1) : _.chooseItemArr.push(formatChooseItem(n))
                }, z = {
                    getCheckboxProps: function(n) {
                        return {
                            checked: _.chooseFlagArr.includes(n.key),
                            selectable: !0,
                            onClick: function() {
                                return checkboxOnChange(n)
                            }
                        }
                    },
                    onSelect: function() {
                        return null
                    }
                }, handleSelectedChange = function(n) {
                    _.chooseFlagArr = n,
                    (0,
                    ec.nextTick)(function() {
                        var n;
                        (null === (n = _.chooseFlagArr) || void 0 === n ? void 0 : n.length) > 20 && (_.chooseItemArr = _.chooseItemArr.slice(0, 20),
                        _.chooseFlagArr = _.chooseFlagArr.slice(0, 20),
                        mY.Z.danger({
                            content: "最多支持添加20件商品",
                            duration: 1e3
                        }))
                    })
                }, handleSelectedAll = function(n) {
                    S.goodsList.forEach(function(d) {
                        var v = _.chooseItemArr.findIndex(function(n) {
                            return n.key === d.key
                        });
                        n ? !(v >= 0) && _.chooseItemArr.push(formatChooseItem(d)) : v >= 0 && _.chooseItemArr.splice(v, 1)
                    }),
                    (0,
                    ec.nextTick)(function() {
                        var n;
                        (null === (n = _.chooseFlagArr) || void 0 === n ? void 0 : n.length) > 20 && (_.chooseItemArr = _.chooseItemArr.slice(0, 20),
                        _.chooseFlagArr = _.chooseFlagArr.slice(0, 20),
                        mY.Z.danger({
                            content: "最多支持添加20件商品",
                            duration: 1e3
                        }))
                    })
                }, handleDelGoods = function(n) {
                    var d = _.chooseItemArr.findIndex(function(d) {
                        return d.key === n.key
                    });
                    d >= 0 && (_.chooseItemArr.splice(d, 1),
                    _.chooseFlagArr.splice(d, 1))
                }, handleSwapGoods = function(n) {
                    var d, v, m = n.from, h = n.to;
                    if (!(m < 0) && !(m >= (null === (d = _.chooseItemArr) || void 0 === d ? void 0 : d.length)) && !(h < 0) && !(h >= (null === (v = _.chooseItemArr) || void 0 === v ? void 0 : v.length))) {
                        var y = _.chooseItemArr[m]
                          , N = _.chooseFlagArr[m];
                        _.chooseItemArr.splice(m, 1),
                        _.chooseItemArr.splice(h, 0, y),
                        _.chooseFlagArr.splice(m, 1),
                        _.chooseFlagArr.splice(h, 0, N)
                    }
                };
                var Z = (v = (0,
                V._)(function() {
                    var d;
                    return (0,
                    R.Jh)(this, function(v) {
                        return (d = {
                            hostId: n.userId,
                            page: S.pagination.pageNo,
                            pageSize: S.pagination.pageSize
                        },
                        2 === S.activeTabValue) ? [2, getLiveMallShopGoodsList((0,
                        B._)({}, d))] : [2, getLiveMallCpsGoodsList((0,
                        B._)({}, d))]
                    })
                }),
                function fetchGoodsPool() {
                    return v.apply(this, arguments)
                }
                );
                var Q = (m = (0,
                V._)(function() {
                    var n, d, v, m;
                    return (0,
                    R.Jh)(this, function(m) {
                        switch (m.label) {
                        case 0:
                            return m.trys.push([0, 2, , 3]),
                            S.isLoading = !0,
                            [4, Z()];
                        case 1:
                            return v = null === (n = (null == (d = m.sent()) ? void 0 : d.items) || []) || void 0 === n ? void 0 : n.map(function(n) {
                                return (0,
                                O._)((0,
                                B._)({}, n), {
                                    key: n.goodsId.uniqueId
                                })
                            }),
                            S.isLoading = !1,
                            S.currentTime = (null == d ? void 0 : d.currentLiveTime) || +new Date,
                            S.alreadyChooseCount = (null == d ? void 0 : d.selectCount) || 0,
                            S.pagination.total = (null == d ? void 0 : d.total) || 0,
                            S.goodsList = v,
                            [3, 3];
                        case 2:
                            return m.sent(),
                            S.isLoading = !1,
                            S.alreadyChooseCount = 0,
                            S.pagination.total = 0,
                            S.goodsList = [],
                            mY.Z.danger({
                                content: "获取商品失败，请刷新重试",
                                duration: 1e3
                            }),
                            [3, 3];
                        case 3:
                            return [2]
                        }
                    })
                }),
                function handleFetchAddGoods() {
                    return m.apply(this, arguments)
                }
                );
                var J = (h = (0,
                V._)(function(n) {
                    return (0,
                    R.Jh)(this, function(d) {
                        switch (d.label) {
                        case 0:
                            if (n === S.activeTabValue)
                                return [2];
                            return S.activeTabValue = n,
                            S.pagination.pageNo = 1,
                            S.searchVal = "",
                            S.goodsList = [],
                            [4, Q()];
                        case 1:
                            return d.sent(),
                            [2]
                        }
                    })
                }),
                function handleTabChange(n) {
                    return h.apply(this, arguments)
                }
                )
                  , handleModalClose = function() {
                    I("close")
                };
                var H = (y = (0,
                V._)(function() {
                    return (0,
                    R.Jh)(this, function(n) {
                        return I("update", {
                            chooseItemArr: _.chooseItemArr,
                            chooseFlagArr: _.chooseFlagArr
                        }),
                        handleModalClose(),
                        [2]
                    })
                }),
                function handleAddGoodsConfirm() {
                    return y.apply(this, arguments)
                }
                );
                var G = (N = (0,
                V._)(function() {
                    var d, v, m, h, y;
                    return (0,
                    R.Jh)(this, function(y) {
                        switch (y.label) {
                        case 0:
                            if (y.trys.push([0, 5, , 6]),
                            v = {
                                hostId: n.userId,
                                query: S.searchVal,
                                page: S.pagination.pageNo,
                                pageSize: S.pagination.pageSize
                            },
                            S.isLoading = !0,
                            1 !== S.activeTabValue)
                                return [3, 2];
                            return [4, liveMallCpsGoodsSearch((0,
                            B._)({}, v))];
                        case 1:
                            return m = y.sent(),
                            [3, 4];
                        case 2:
                            return [4, liveMallShopGoodsSearch((0,
                            B._)({}, v))];
                        case 3:
                            m = y.sent(),
                            y.label = 4;
                        case 4:
                            return h = null === (d = (null == m ? void 0 : m.items) || []) || void 0 === d ? void 0 : d.map(function(n) {
                                return (0,
                                O._)((0,
                                B._)({}, n), {
                                    key: n.goodsId.uniqueId
                                })
                            }),
                            S.goodsList = h,
                            S.pagination.total = (null == m ? void 0 : m.total) || 0,
                            S.isLoading = !1,
                            [3, 6];
                        case 5:
                            return y.sent(),
                            mY.Z.danger({
                                content: "搜索商品失败，请稍后重试",
                                duration: 1e3
                            }),
                            S.goodsList = [],
                            S.pagination.total = 0,
                            S.isLoading = !1,
                            [3, 6];
                        case 6:
                            return [2]
                        }
                    })
                }),
                function fetchSearchGoods() {
                    return N.apply(this, arguments)
                }
                );
                var Y = (k = (0,
                V._)(function() {
                    return (0,
                    R.Jh)(this, function(n) {
                        return S.pagination.pageNo = 1,
                        S.searchVal.length ? G() : Q(),
                        [2]
                    })
                }),
                function handleSearchGoods() {
                    return k.apply(this, arguments)
                }
                )
                  , handleChangePage = function(n, d) {
                    S.pagination.pageNo = n,
                    S.pagination.pageSize = d,
                    S.searchVal.length ? G() : Q()
                }
                  , reset = function() {
                    _.chooseItemArr = [],
                    S.goodsList = [],
                    S.pagination.pageNo = 1,
                    S.pagination.pageSize = 50,
                    S.pagination.total = 0,
                    S.searchVal = "",
                    S.activeTabValue = 2,
                    S.isLoading = !1,
                    _.chooseFlagArr = [],
                    _.chooseItemArr = []
                };
                return (0,
                ec.watch)(function() {
                    return n.show
                }, (0,
                V._)(function() {
                    return (0,
                    R.Jh)(this, function(d) {
                        switch (d.label) {
                        case 0:
                            if (!n.show)
                                return [3, 2];
                            return S.isLoading = !0,
                            !n.sellerAuth && (S.activeTabValue = 1),
                            [4, Q()];
                        case 1:
                            return d.sent(),
                            _.chooseFlagArr = n.chooseFlagArr ? (0,
                            ee._)(n.chooseFlagArr) : [],
                            _.chooseItemArr = n.chooseItemArr ? (0,
                            ee._)(n.chooseItemArr) : [],
                            [3, 3];
                        case 2:
                            reset(),
                            d.label = 3;
                        case 3:
                            return [2]
                        }
                    })
                })),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(fL.Z), {
                        visible: n.show,
                        centered: "",
                        size: 1185,
                        "mask-style": {
                            background: "rgba(0, 0, 0, 0.4)"
                        },
                        title: "添加商品",
                        "z-index": 998,
                        "with-footer": !1,
                        onCancel: handleModalClose
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.withDirectives)(((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", pQ, [(0,
                            ec.createElementVNode)("div", pJ, [(0,
                            ec.createElementVNode)("div", pH, [n.distributionAuth && n.sellerAuth ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", pG, [(0,
                            ec.createVNode)((0,
                            ec.unref)(ni.Z), {
                                class: (0,
                                ec.normalizeClass)(["title-btn", {
                                    "active-style": 2 === S.activeTabValue
                                }]),
                                onClick: d[0] || (d[0] = function(n) {
                                    return J(2)
                                }
                                )
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[5] || (d[5] = [(0,
                                    ec.createTextVNode)(" 店铺商品 ")])
                                }),
                                _: 1
                            }, 8, ["class"]), (0,
                            ec.createVNode)((0,
                            ec.unref)(ni.Z), {
                                class: (0,
                                ec.normalizeClass)(["title-btn", {
                                    "active-style": 1 === S.activeTabValue
                                }]),
                                onClick: d[1] || (d[1] = function(n) {
                                    return J(1)
                                }
                                )
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[6] || (d[6] = [(0,
                                    ec.createTextVNode)(" 我的选品 ")])
                                }),
                                _: 1
                            }, 8, ["class"])])) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(po.Z), {
                                key: 1,
                                class: "tab-headers",
                                type: "h6",
                                bold: "",
                                color: "text-title"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)(n.sellerAuth ? "我的店铺" : "我的选品"), 1)]
                                }),
                                _: 1
                            })), (0,
                            ec.createElementVNode)("div", pY, [(0,
                            ec.createVNode)((0,
                            ec.unref)(n$.Z), {
                                modelValue: S.searchVal,
                                "onUpdate:modelValue": d[2] || (d[2] = function(n) {
                                    return S.searchVal = n
                                }
                                ),
                                modelModifiers: {
                                    trim: !0
                                },
                                class: "search-input-item",
                                clearable: "",
                                placeholder: "请输入关键词或商品ID进行搜索",
                                onClear: Y,
                                onEnter: Y
                            }, {
                                prefix: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)((0,
                                    ec.unref)(oy.Z), {
                                        icon: (0,
                                        ec.unref)(ok.olm)
                                    }, null, 8, ["icon"])]
                                }),
                                _: 1
                            }, 8, ["modelValue"])]), (0,
                            ec.createElementVNode)("div", pW, [(0,
                            ec.createVNode)((0,
                            ec.unref)(pi.Z), {
                                selected: _.chooseFlagArr,
                                "onUpdate:selected": d[3] || (d[3] = function(n) {
                                    return _.chooseFlagArr = n
                                }
                                ),
                                style: {
                                    height: "100%"
                                },
                                "data-source": S.goodsList,
                                columns: U.value,
                                "row-selection": z,
                                onSelectedChange: handleSelectedChange,
                                onSelectedAll: handleSelectedAll
                            }, (0,
                            ec.createSlots)({
                                empty: (0,
                                ec.withCtx)(function() {
                                    return [!S.isLoading && S.pagination.total <= 0 ? ((0,
                                    ec.openBlock)(),
                                    (0,
                                    ec.createBlock)((0,
                                    ec.unref)(vX.Z), {
                                        key: 0,
                                        status: "empty",
                                        title: S.searchVal.trim() ? "无匹配结果，请尝试新搜索词" : "暂无商品"
                                    }, null, 8, ["title"])) : (0,
                                    ec.createCommentVNode)("", !0)]
                                }),
                                _: 2
                            }, [(0,
                            ec.renderList)(C, function(n) {
                                return {
                                    name: n,
                                    fn: (0,
                                    ec.withCtx)(function(d) {
                                        var v = d.rowData;
                                        return [(0,
                                        ec.createVNode)(pZ, {
                                            "row-data": v,
                                            "slot-name": n,
                                            "current-time": S.currentTime
                                        }, null, 8, ["row-data", "slot-name", "current-time"])]
                                    })
                                }
                            })]), 1032, ["selected", "data-source", "columns"])]), (0,
                            ec.createVNode)((0,
                            ec.unref)(fP.Z), {
                                modelValue: S.pagination.pageNo,
                                "onUpdate:modelValue": d[4] || (d[4] = function(n) {
                                    return S.pagination.pageNo = n
                                }
                                ),
                                class: "add-goods-page",
                                "page-size-options": [10, 30, 50],
                                "page-size": S.pagination.pageSize,
                                total: S.pagination.total,
                                simplify: "",
                                align: "space-between",
                                onChange: handleChangePage
                            }, null, 8, ["modelValue", "page-size", "total"])]), d[11] || (d[11] = (0,
                            ec.createElementVNode)("div", {
                                class: "split-line"
                            }, null, -1)), (0,
                            ec.createElementVNode)("div", pq, [(0,
                            ec.createElementVNode)("div", pX, [(0,
                            ec.createElementVNode)("div", pK, [d[7] || (d[7] = (0,
                            ec.createTextVNode)(" 已选择 ")), (0,
                            ec.createElementVNode)("span", p$, (0,
                            ec.toDisplayString)(_.chooseItemArr.length), 1), d[8] || (d[8] = (0,
                            ec.createTextVNode)(" / 20个商品 "))]), d[9] || (d[9] = (0,
                            ec.createElementVNode)("div", {
                                style: {
                                    color: "#00000073",
                                    "font-size": "12px"
                                }
                            }, " 拖拽商品调整顺序 ", -1))]), (0,
                            ec.createElementVNode)("div", p0, [(0,
                            ec.createVNode)(pf, {
                                "goods-list": _.chooseItemArr,
                                onDeleteGoods: handleDelGoods,
                                onSwapGoods: handleSwapGoods
                            }, null, 8, ["goods-list"])]), (0,
                            ec.createElementVNode)("div", p1, [(0,
                            ec.createVNode)((0,
                            ec.unref)(ni.Z), {
                                type: "primary",
                                block: "",
                                disabled: S.isLoading || !_.chooseItemArr.length,
                                onClick: H
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[10] || (d[10] = [(0,
                                    ec.createTextVNode)(" 确定添加 ")])
                                }),
                                _: 1
                            }, 8, ["disabled"])])])])])), [[(0,
                            ec.unref)(fb.Z), {
                                text: "加载中",
                                visible: S.isLoading
                            }]])]
                        }),
                        _: 1
                    }, 8, ["visible"])
                }
            }
        });
        let p4 = (0,
        eN.default)(p2, [["__scopeId", "data-v-770291ff"]]);
        var p3 = {
            class: "live-preview-bind-modal"
        }
          , p5 = {
            class: "remind-area"
        }
          , p8 = {
            class: "form"
        }
          , p6 = {
            class: "form-item"
        }
          , p9 = {
            class: "content"
        }
          , p7 = {
            class: "form-item"
        }
          , ge = {
            class: "content"
        }
          , gt = {
            key: 0,
            class: "form-item"
        }
          , gn = {
            class: "add-goods-btn-text"
        }
          , ga = {
            key: 0,
            class: "description"
        }
          , go = (0,
        ec.defineComponent)({
            __name: "index",
            props: {
                visible: {
                    type: Boolean,
                    default: !1
                },
                userId: {
                    default: ""
                },
                planId: {
                    default: ""
                },
                noteId: {
                    default: ""
                },
                behavior: {
                    default: pr.c
                }
            },
            emits: ["close", "bindPreview"],
            setup: function(n, d) {
                var v, m, h, y = d.emit, N = (0,
                ec.ref)(!1), k = (0,
                ec.ref)(!1), I = (0,
                ec.reactive)({
                    chooseFlagArr: [],
                    chooseItemArr: []
                }), C = (0,
                ec.reactive)({
                    startTime: "",
                    title: "",
                    createTrailerLoading: !1
                }), x = (0,
                ec.reactive)({
                    fetchLoading: !1,
                    fetchComplete: !1,
                    distributionAuth: !1,
                    sellerAuth: !1
                });
                var M = (v = (0,
                V._)(function() {
                    var d;
                    return (0,
                    R.Jh)(this, function(v) {
                        switch (v.label) {
                        case 0:
                            x.fetchLoading = !0,
                            v.label = 1;
                        case 1:
                            return v.trys.push([1, , 3, 4]),
                            [4, getGoodsAuth({
                                hostId: n.userId,
                                needToolAuth: !1
                            })];
                        case 2:
                            return d = v.sent(),
                            x.distributionAuth = d.goodsAuth.distributionAuth,
                            x.sellerAuth = d.goodsAuth.sellerAuth,
                            x.fetchComplete = !0,
                            [3, 4];
                        case 3:
                            return x.fetchLoading = !1,
                            [7];
                        case 4:
                            return [2]
                        }
                    })
                }),
                function handleFetchGoodsAuth() {
                    return v.apply(this, arguments)
                }
                )
                  , getTimeDiff = function() {
                    var n = new Date().getTimezoneOffset();
                    return -480 !== n && (k.value = !0),
                    (n + 480) * 6e4
                };
                var S = (m = (0,
                V._)(function() {
                    var d, v, m, h, N;
                    return (0,
                    R.Jh)(this, function(k) {
                        switch (k.label) {
                        case 0:
                            if (!C.startTime || !C.title)
                                return pt.Am.warning("请填写开播时间和直播名称"),
                                [2];
                            n.behavior.tracker("65859"),
                            k.label = 1;
                        case 1:
                            return k.trys.push([1, 3, 4, 5]),
                            C.createTrailerLoading = !0,
                            [4, postCreateTrailer({
                                title: C.title,
                                startTime: a6()(C.startTime).valueOf() + getTimeDiff(),
                                sourceType: 17,
                                bindTrailerGoodsList: I.chooseItemArr,
                                hostId: n.userId,
                                planId: (null == n ? void 0 : n.planId) || null,
                                noteIdList: n.noteId ? [n.noteId] : null
                            })];
                        case 2:
                            return d = k.sent(),
                            pt.Am.success("发布并关联预告成功！"),
                            m = (v = null == d ? void 0 : d.trailerInfo).idStr,
                            h = v.title,
                            y("bindPreview", {
                                title: h,
                                id: m,
                                time: v.startTime
                            }),
                            [3, 5];
                        case 3:
                            return N = k.sent(),
                            pt.Am.danger((null == N ? void 0 : N.message) || "发布失败，请重试"),
                            [3, 5];
                        case 4:
                            return C.createTrailerLoading = !1,
                            [7];
                        case 5:
                            return [2]
                        }
                    })
                }),
                function handleCreateTrailer() {
                    return m.apply(this, arguments)
                }
                )
                  , handleAddGoods = function() {
                    N.value = !0
                }
                  , handelChangeChooseItemArr = function(n) {
                    I.chooseItemArr = n.chooseItemArr,
                    I.chooseFlagArr = n.chooseFlagArr
                }
                  , handleClose = function() {
                    y("close")
                }
                  , reset = function() {
                    C.startTime = "",
                    C.title = "",
                    I.chooseFlagArr = [],
                    I.chooseItemArr = []
                };
                return (0,
                ec.watch)(function() {
                    return n.visible
                }, (h = (0,
                V._)(function(d) {
                    return (0,
                    R.Jh)(this, function(v) {
                        return reset(),
                        d && (n.behavior.tracker("65860"),
                        getTimeDiff(),
                        !x.fetchComplete && M()),
                        [2]
                    })
                }),
                function(n) {
                    return h.apply(this, arguments)
                }
                )),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", null, [(0,
                    ec.createVNode)((0,
                    ec.unref)(fL.Z), {
                        visible: n.visible,
                        title: "直播预告",
                        "mask-style": {
                            background: "rgba(0, 0, 0, 0.4)"
                        },
                        size: 586,
                        "z-index": 997,
                        centered: "",
                        onCancel: handleClose
                    }, {
                        footer: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(pn.Z), {
                                block: "",
                                justify: "end",
                                class: "live-preview-bind-modal"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)((0,
                                    ec.unref)(ni.Z), {
                                        type: "stroke",
                                        onClick: handleClose
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return d[9] || (d[9] = [(0,
                                            ec.createTextVNode)("取消")])
                                        }),
                                        _: 1
                                    }), (0,
                                    ec.createVNode)((0,
                                    ec.unref)(ni.Z), {
                                        type: "primary",
                                        disabled: !C.startTime || !C.title,
                                        loading: C.createTrailerLoading,
                                        onClick: S
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return d[10] || (d[10] = [(0,
                                            ec.createTextVNode)("发布预告并关联")])
                                        }),
                                        _: 1
                                    }, 8, ["disabled", "loading"])]
                                }),
                                _: 1
                            })]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            var n, v;
                            return [(0,
                            ec.withDirectives)(((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", p3, [(0,
                            ec.createElementVNode)("div", p5, [(0,
                            ec.createVNode)(fR), d[3] || (d[3] = (0,
                            ec.createElementVNode)("div", {
                                class: "remind-text"
                            }, [(0,
                            ec.createElementVNode)("span", null, " 1.发布预告后，在预约时间前后30分钟内开播，预约观众将会收到开播提醒； "), (0,
                            ec.createElementVNode)("span", null, " 2.仅支持预告1小时后直播； "), (0,
                            ec.createElementVNode)("span", null, " 3.多次未按时开播会导致功能禁用，请记得准时开播 ")], -1))]), (0,
                            ec.createElementVNode)("div", p8, [(0,
                            ec.createElementVNode)("div", p6, [d[5] || (d[5] = (0,
                            ec.createElementVNode)("div", {
                                class: "label"
                            }, "开播时间", -1)), (0,
                            ec.createElementVNode)("div", p9, [(0,
                            ec.createVNode)((0,
                            ec.unref)(pa.Z), {
                                modelValue: C.startTime,
                                "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                                    return C.startTime = n
                                }
                                ),
                                block: "",
                                unit: "minute",
                                placeholder: "请选择日期和时间"
                            }, null, 8, ["modelValue"]), k.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(po.Z), {
                                key: 0,
                                class: "content-desc",
                                color: "warning",
                                size: "small"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[4] || (d[4] = [(0,
                                    ec.createTextVNode)(" GTM+8:00 北京时间 ")])
                                }),
                                _: 1
                            })) : (0,
                            ec.createCommentVNode)("", !0)])]), (0,
                            ec.createElementVNode)("div", p7, [d[6] || (d[6] = (0,
                            ec.createElementVNode)("div", {
                                class: "label"
                            }, "直播名称", -1)), (0,
                            ec.createElementVNode)("div", ge, [(0,
                            ec.createVNode)((0,
                            ec.unref)(n$.Z), {
                                modelValue: C.title,
                                "onUpdate:modelValue": d[1] || (d[1] = function(n) {
                                    return C.title = n
                                }
                                ),
                                block: "",
                                placeholder: "最多可输入20字",
                                "max-length": 20
                            }, null, 8, ["modelValue"])])]), x.distributionAuth || x.sellerAuth ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", gt, [d[8] || (d[8] = (0,
                            ec.createElementVNode)("div", {
                                class: "label"
                            }, "添加商品", -1)), (0,
                            ec.createElementVNode)("div", {
                                class: "add-goods-btn",
                                onClick: handleAddGoods
                            }, [d[7] || (d[7] = (0,
                            ec.createElementVNode)("img", {
                                src: "https://picasso-static.xiaohongshu.com/fe-platform/a03009bba9056e5e4d156f163f1ed5c57e982c18.png",
                                class: "add-goods-btn-icon"
                            }, null, -1)), (0,
                            ec.createElementVNode)("span", gn, (0,
                            ec.toDisplayString)(I.chooseItemArr.length ? "继续添加" : "添加商品"), 1)]), (null === (n = I.chooseItemArr) || void 0 === n ? void 0 : n.length) ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", ga, " 已添加" + (0,
                            ec.toDisplayString)(null === (v = I.chooseItemArr) || void 0 === v ? void 0 : v.length) + "件商品 ", 1)) : (0,
                            ec.createCommentVNode)("", !0)])) : (0,
                            ec.createCommentVNode)("", !0)])])), [[(0,
                            ec.unref)(fb.Z), x.fetchLoading]])]
                        }),
                        _: 1
                    }, 8, ["visible"]), (0,
                    ec.createVNode)(p4, {
                        show: N.value,
                        "choose-flag-arr": I.chooseFlagArr,
                        "choose-item-arr": I.chooseItemArr,
                        "distribution-auth": x.distributionAuth,
                        "seller-auth": x.sellerAuth,
                        "user-id": n.userId,
                        onUpdate: handelChangeChooseItemArr,
                        onClose: d[2] || (d[2] = function(n) {
                            return N.value = !1
                        }
                        )
                    }, null, 8, ["show", "choose-flag-arr", "choose-item-arr", "distribution-auth", "seller-auth", "user-id"])])
                }
            }
        });
        let gr = (0,
        eN.default)(go, [["__scopeId", "data-v-6222eac1"]]);
        var gi = {
            class: "live-preview"
        }
          , gl = {
            class: "content-item"
        }
          , gc = {
            key: 0,
            class: "bind-info"
        }
          , gu = {
            class: "title"
        }
          , gs = {
            class: "sub-info"
        }
          , gd = {
            key: 1,
            class: "title"
        }
          , gv = {
            class: "content-item control-area"
        }
          , gm = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                state: {},
                behavior: {}
            },
            setup: function(n) {
                var d, v = (0,
                ec.ref)(""), m = (0,
                ec.ref)(!1), h = (0,
                ec.computed)(function() {
                    var d;
                    return !!(null === (d = n.state.isCanBindLiveNotice) || void 0 === d ? void 0 : d.value)
                }), y = (0,
                ec.computed)(function() {
                    var d;
                    return (null === (d = n.state.liveNoticeExclusiveText) || void 0 === d ? void 0 : d.value) || ""
                }), N = (0,
                ec.computed)(function() {
                    return n.state.userInfo.value || {}
                }), k = (0,
                ec.computed)(function() {
                    return n.state.coOrderId.value || ""
                }), I = (0,
                ec.computed)(function() {
                    return n.state.noteId.value || ""
                }), C = (0,
                ec.computed)(function() {
                    return n.state.liveNoticeBind.value || {}
                }), x = (0,
                ec.computed)(function() {
                    return n.state.liveContext.value || {}
                }), M = (0,
                ec.computed)(function() {
                    var n;
                    return (null === (n = C.value) || void 0 === n ? void 0 : n.liveNoticeType) === eX.tK.Bind
                }), S = (0,
                ec.computed)(function() {
                    return n.state.publishType.value
                }), _ = (0,
                ec.computed)(function() {
                    var n;
                    return M.value && (null === (n = C.value) || void 0 === n ? void 0 : n.id) || ""
                }), B = (0,
                ec.computed)(function() {
                    return {
                        channelTabName: "下场直播引流",
                        noteEditSource: n.state.noteId.value ? 2 : 1,
                        noteType: S.value === eX.QO.Video ? 3 : 1
                    }
                }), O = (0,
                ec.ref)(!1), U = (0,
                ec.ref)(!1), z = (0,
                ec.computed)(function() {
                    return n.state.theme.value
                }), handleCloseCreateModal = function() {
                    U.value = !1,
                    O.value = !0
                };
                var Z = (d = (0,
                V._)(function() {
                    return (0,
                    R.Jh)(this, function(d) {
                        switch (d.label) {
                        case 0:
                            if (!k.value)
                                return [3, 5];
                            m.value = !0,
                            d.label = 1;
                        case 1:
                            return d.trys.push([1, , 3, 4]),
                            [4, getNoteBindAuth(k.value)];
                        case 2:
                            return d.sent().bindTrailerAuth ? O.value = !0 : mY.Z.danger("当前内容合作订单不支持同时设置直播预告"),
                            [3, 4];
                        case 3:
                            return m.value = !1,
                            [7];
                        case 4:
                            return [3, 6];
                        case 5:
                            O.value = !0,
                            d.label = 6;
                        case 6:
                            return n.behavior.tracker("63115", B.value),
                            [2]
                        }
                    })
                }),
                function handleOpenPreviewModal() {
                    return d.apply(this, arguments)
                }
                )
                  , handleBindPreview = function(d) {
                    if (d) {
                        var v = d.id
                          , m = d.title
                          , h = d.time;
                        n.behavior.modifyLiveNotice({
                            id: v,
                            title: m
                        }),
                        n.behavior.modifyLiveContext({
                            title: m,
                            time: h
                        })
                    } else
                        n.behavior.modifyLiveContext({
                            title: "",
                            time: 0
                        }),
                        n.behavior.clearLiveNotice();
                    U.value = !1
                }
                  , handleCreatePreview = function(n) {
                    v.value = n,
                    U.value = !0
                };
                return n.behavior.tracker("63114", B.value),
                function(n, d) {
                    var k = (0,
                    ec.resolveComponent)("QuestionIcon");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, [(0,
                    ec.createElementVNode)("div", gi, [(0,
                    ec.createElementVNode)("div", gl, [(0,
                    ec.createVNode)(fB), M.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", gc, [(0,
                    ec.createElementVNode)("span", gu, (0,
                    ec.toDisplayString)(x.value.title), 1), (0,
                    ec.createElementVNode)("span", gs, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(formatDateNumber)(x.value.time, "-")), 1)])) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("span", gd, " 在笔记上关联直播预告 ")), (0,
                    ec.createVNode)(k)]), (0,
                    ec.createElementVNode)("div", gv, [M.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, {
                        key: 0
                    }, [(0,
                    ec.createElementVNode)("div", {
                        class: "cancel-btn",
                        onClick: d[0] || (d[0] = function(n) {
                            return handleBindPreview()
                        }
                        )
                    }, " 取消关联 "), (0,
                    ec.createVNode)((0,
                    ec.unref)(nl.zx), {
                        disabled: !h.value,
                        color: z.value,
                        size: "small",
                        onClick: Z
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return d[2] || (d[2] = [(0,
                            ec.createTextVNode)(" 替换预告 ")])
                        }),
                        _: 1
                    }, 8, ["disabled", "color"])], 64)) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(oN.Z), {
                        key: 1,
                        class: "release-live-notice-tooltip",
                        disabled: h.value,
                        content: y.value,
                        theme: "light",
                        placement: "bottom"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.withDirectives)(((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(nl.zx), {
                                size: "small",
                                disabled: !h.value || m.value,
                                color: z.value,
                                onClick: Z
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[3] || (d[3] = [(0,
                                    ec.createTextVNode)(" 关联直播 ")])
                                }),
                                _: 1
                            }, 8, ["disabled", "color"])), [[(0,
                            ec.unref)(fb.Z), m.value]])]
                        }),
                        _: 1
                    }, 8, ["disabled", "content"]))])]), (0,
                    ec.createVNode)(pe, {
                        visible: O.value,
                        "onUpdate:visible": d[1] || (d[1] = function(n) {
                            return O.value = n
                        }
                        ),
                        "user-id": N.value.id || "",
                        "note-id": I.value,
                        "trailer-id": _.value,
                        behavior: n.behavior,
                        onCreatePreview: handleCreatePreview,
                        onBindPreview: handleBindPreview
                    }, null, 8, ["visible", "user-id", "note-id", "trailer-id", "behavior"]), (0,
                    ec.createVNode)(gr, {
                        visible: U.value,
                        "user-id": N.value.id || "",
                        "plan-id": v.value,
                        "note-id": I.value,
                        behavior: n.behavior,
                        onClose: handleCloseCreateModal,
                        onBindPreview: handleBindPreview
                    }, null, 8, ["visible", "user-id", "plan-id", "note-id", "behavior"])], 64)
                }
            }
        });
        let gf = (0,
        eN.default)(gm, [["__scopeId", "data-v-607fe73a"]]);
        var gp = {
            class: "item"
        }
          , gg = {
            class: "icon"
        }
          , gh = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                state: {},
                behavior: {}
            },
            setup: function(n) {
                var d = (0,
                ec.computed)(function() {
                    return n.state.interactionPermissionBind.value.commentPermission
                })
                  , v = [{
                    value: eX.rt.All,
                    label: "所有人可评论"
                }, {
                    value: eX.rt.Intercorrelation,
                    label: "仅互关好友可评论"
                }, {
                    value: eX.rt.Fans,
                    label: "仅粉丝可评论"
                }, {
                    value: eX.rt.None,
                    label: "仅自己可评论"
                }]
                  , handleSelect = function(d) {
                    n.behavior.setCommentPermission({
                        commentPermission: d
                    })
                };
                return function(n, m) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(vW.Z), {
                        class: "_title collection",
                        "hide-optional-text": !0,
                        layout: "inline"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(vq.Z), {
                                class: "collection-container",
                                label: "评论权限"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)((0,
                                    ec.unref)(a1.Z), {
                                        modelValue: d.value,
                                        "onUpdate:modelValue": m[0] || (m[0] = function(n) {
                                            return d.value = n
                                        }
                                        ),
                                        options: v,
                                        placeholder: "评论权限",
                                        class: "select",
                                        "suffix-icon": "ArrowDown",
                                        onChange: handleSelect
                                    }, {
                                        option: (0,
                                        ec.withCtx)(function(n) {
                                            var v = n.option;
                                            return [(0,
                                            ec.createElementVNode)("div", gp, [(0,
                                            ec.withDirectives)((0,
                                            ec.createVNode)((0,
                                            ec.unref)(oy.Z), {
                                                icon: (0,
                                                ec.unref)(ok.JrY),
                                                class: "icon",
                                                color: "text-description"
                                            }, null, 8, ["icon"]), [[ec.vShow, v.value === d.value]]), (0,
                                            ec.withDirectives)((0,
                                            ec.createElementVNode)("div", gg, "\xa0", 512), [[ec.vShow, v.value !== d.value]]), (0,
                                            ec.createTextVNode)(" " + (0,
                                            ec.toDisplayString)(v.label), 1)])]
                                        }),
                                        _: 1
                                    }, 8, ["modelValue"])]
                                }),
                                _: 1
                            })]
                        }),
                        _: 1
                    })
                }
            }
        });
        let gy = (0,
        eN.default)(gh, [["__scopeId", "data-v-00529970"]]);
        var gN = {
            key: 0
        }
          , gk = {
            class: "item select-item-disabled"
        }
          , gI = {
            key: 1
        }
          , gC = {
            class: "item"
        }
          , gb = {
            key: 0,
            style: {
                padding: "12px 0"
            }
        }
          , gE = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                state: {},
                behavior: {}
            },
            setup: function(n) {
                var d = (0,
                ec.computed)(function() {
                    return n.state.publishType.value === eX.QO.Video
                })
                  , v = (0,
                ec.computed)(function() {
                    return n.state.isCanBindNoteSketch.value
                })
                  , m = (0,
                ec.computed)(function() {
                    return n.state.noteSketchExclusiveText.value
                })
                  , h = (0,
                ec.ref)([{
                    value: n.state.noteSketch.value.id,
                    label: n.state.noteSketch.value.name
                }]);
                (0,
                ec.watch)(function() {
                    return v.value
                }, function(d) {
                    !d && (n.state.noteSketch.value = {
                        id: "",
                        name: ""
                    })
                });
                var y = ""
                  , N = !0
                  , k = !1
                  , I = null
                  , handleSelect = function(d) {
                    var v = h.value.find(function(n) {
                        return n.value === d
                    });
                    n.state.noteSketch.value = {
                        id: v.value || "",
                        name: v.label || ""
                    }
                }
                  , removeDuplicatesByKey = function(n, d) {
                    var v = new Set;
                    return d.filter(function(d) {
                        var m = v.has(d[n]);
                        return v.add(d[n]),
                        !m
                    })
                }
                  , fetchSketchList = function() {
                    return new Promise(function(n, d) {
                        k = !0,
                        (0,
                        oC.Os)(y).then(function(d) {
                            if (null == d ? void 0 : d.length) {
                                var v = (0,
                                ee._)(h.value).concat((0,
                                ee._)(d.map(function(n) {
                                    return {
                                        value: n.id,
                                        label: n.name,
                                        disabled: n.noteNum >= n.totalEpisodes
                                    }
                                })));
                                h.value = removeDuplicatesByKey("value", v),
                                y = d[d.length - 1].cursor
                            } else
                                N = !1;
                            k = !1,
                            n()
                        }).catch(function() {
                            k = !1,
                            d()
                        })
                    }
                    )
                }
                  , registerLoadMore = function() {
                    var n, d = null === (n = document.querySelector(".sketch-drop-down")) || void 0 === n ? void 0 : n.getElementsByClassName("d-dropdown-content")[0];
                    d && (I = function() {
                        d.scrollTop + d.clientHeight >= d.scrollHeight && N && !k && fetchSketchList()
                    }
                    ,
                    d.addEventListener("scroll", I))
                };
                return (0,
                ec.onMounted)(function() {
                    d.value && fetchSketchList().then(function() {
                        registerLoadMore()
                    })
                }),
                (0,
                ec.onBeforeUnmount)(function() {
                    var n, d = null === (n = document.querySelector(".sketch-drop-down")) || void 0 === n ? void 0 : n.getElementsByClassName("d-dropdown-content")[0];
                    I && d && d.removeEventListener("scroll", I)
                }),
                function(y, N) {
                    return d.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(vW.Z), {
                        key: 0,
                        "hide-optional-text": !0,
                        layout: "inline"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(vq.Z), {
                                class: "_title",
                                label: "加入短剧"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)((0,
                                    ec.unref)(oN.Z), {
                                        disabled: v.value,
                                        content: m.value,
                                        theme: "light",
                                        placement: "bottom"
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return [(0,
                                            ec.createVNode)((0,
                                            ec.unref)(a1.Z), {
                                                modelValue: n.state.noteSketch.value.id,
                                                "onUpdate:modelValue": N[0] || (N[0] = function(d) {
                                                    return n.state.noteSketch.value.id = d
                                                }
                                                ),
                                                "dropdown-class": "sketch-drop-down",
                                                disabled: !v.value,
                                                options: h.value,
                                                placeholder: "添加短剧",
                                                class: (0,
                                                ec.normalizeClass)(["select", v.value ? "" : "select-disabled"]),
                                                "suffix-icon": "ArrowDown",
                                                clearable: "",
                                                onChange: handleSelect
                                            }, {
                                                option: (0,
                                                ec.withCtx)(function(n) {
                                                    var d = n.option;
                                                    return [d.disabled ? ((0,
                                                    ec.openBlock)(),
                                                    (0,
                                                    ec.createElementBlock)("div", gN, [(0,
                                                    ec.createVNode)((0,
                                                    ec.unref)(oN.Z), {
                                                        disabled: !1,
                                                        content: "已达到最大集数",
                                                        theme: "light",
                                                        placement: "bottom"
                                                    }, {
                                                        default: (0,
                                                        ec.withCtx)(function() {
                                                            return [(0,
                                                            ec.createElementVNode)("div", gk, (0,
                                                            ec.toDisplayString)(d.label), 1)]
                                                        }),
                                                        _: 2
                                                    }, 1024)])) : ((0,
                                                    ec.openBlock)(),
                                                    (0,
                                                    ec.createElementBlock)("div", gI, [(0,
                                                    ec.createElementVNode)("div", gC, (0,
                                                    ec.toDisplayString)(d.label), 1)]))]
                                                }),
                                                empty: (0,
                                                ec.withCtx)(function() {
                                                    return [0 === h.value.length ? ((0,
                                                    ec.openBlock)(),
                                                    (0,
                                                    ec.createElementBlock)("div", gb, [(0,
                                                    ec.createVNode)((0,
                                                    ec.unref)(vX.Z), {
                                                        status: "resultless",
                                                        title: "暂无短剧",
                                                        "sub-title": "请在左侧短剧管理中创建短剧"
                                                    })])) : (0,
                                                    ec.createCommentVNode)("", !0)]
                                                }),
                                                _: 1
                                            }, 8, ["modelValue", "disabled", "options", "class"])]
                                        }),
                                        _: 1
                                    }, 8, ["disabled", "content"])]
                                }),
                                _: 1
                            })]
                        }),
                        _: 1
                    })) : (0,
                    ec.createCommentVNode)("", !0)
                }
            }
        });
        let gA = (0,
        eN.default)(gE, [["__scopeId", "data-v-4bb047c8"]]);
        v(21608);
        var gw = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAB6klEQVR4Xu2ZjW3CMBCFOwIjZARGyCZlg3aDjgAb0A3aDRiBETxCR3i96+HWebFJYuLgonzSSUg+2+/FvwlPTysrK48PgFZiL+FQnrPEUaJhHZORRjYw4fdC+96wrlFoRdjTuDeqYboJxJ+8gw1vqfhAfJruWd9VpELDLQivnFcK7Ys7F1rOSwJ7GiGLifdon6ThwDlJ0J37jsuXQvvO0hFUUj65fCmk7/dQCJcnCSsJRy6/FWnzBX9PV0d7xzkKajQg7e2ofU9vnaFSA6mzpTfHUamBJJHcKg04at9zjuRWaYD3d88uklufAQW2kP1acIgsYAW1GhgLVgPGoAHkXHdHgNIGYCfq1yXPSWw55xZQ0gBMPKNmGs7NBaUMIP6+4Dlxfi4oYQAm3lEO8xbWyQWFDKTuMkwb1ssBcxtA/D05hcPA7iTlW4nTJZpI+XwGEF+0QyTXA0y838EUBzKBuQzAOsuld01Aeh11PqFgJgMnxDubwu/5gLR4TzhlZzEwBw72oUxDfw/xs4uhIgOKfrQau4Mpz6jMwFR0gXcMs84kYaWaYJ1JMG6eLk3vlTOJJB+4dgV0bgRXgf2hURsN67wK6hqF8R92Pfjvf3AoWhH3HQntO098COz410NliRFxMOEt61hZWXlAvgFvC7c9qQI8iwAAAABJRU5ErkJggg=="
          , gx = v(53946)
          , gT = v(36370)
          , gM = v(87628)
          , gS = {
            EDIT: "编辑",
            CHANGE: "修改",
            REMOVE: "删除",
            CANCEL: "取消",
            CONFIRM: "确定",
            DEFAULT_COVER: "默认封面",
            NOT_SUPPORT_PLEASE_UPDATE: "不支持视频展示，请升级浏览器",
            BACKUP_COVER: "备选封面",
            COPPER_RATIO: "裁剪比例",
            VIDEO_EXACTING: "视频正在抽帧中，请稍后...",
            SET_COVER: "设置封面",
            REUPLOAD: "重新上传",
            UPLOAD_IMAGE: "上传图片",
            DRAG_IMAGE_UPLOAD: "拖拽图片到此或点击上传",
            VIDEO_TRANSCODING: "视频正在转码中，请稍后",
            VIDEO_UPLOADING: "视频正在上传中，请稍后",
            ADD_COVER: "添加封面",
            PLEASE_UPLOAD_FIRST: "请先去上传视频",
            SUPPORT_FROM_VIDEO: "支持从视频中截取或上传",
            DEFAULT_FIRST_FRAME: "默认使用视频第一帧作为封面，清晰美观的封面有利于作品被推荐"
        }
          , g_ = {
            Select: "selectTab",
            Upload: "uploadTab"
        };
        g_.Select,
        g_.Upload;
        var gV = {
            chooseCategory: 76180,
            materialImpression: 76181,
            materialClick: 76182,
            chooseTab: 76183,
            addText: 76185
        };
        function utils_checkImageUpload(n) {
            return -1 === n.type.indexOf("image/") ? "上传失败，支持jpg、png等常见图片格式" : ""
        }
        v(18638),
        v(96336),
        v(87168),
        v(14190),
        v(4137),
        v(70805),
        v(5317),
        v(81167),
        v(22583),
        v(89655),
        v(88598),
        v(11530),
        v(16765),
        v(3398),
        v(90621),
        v(35904),
        v(73982),
        v(87683),
        v(59735),
        v(69167),
        v(27151),
        v(95341),
        v(53395),
        v(10074),
        v(31899),
        v(98398),
        v(94837),
        v(53077),
        v(14340),
        v(31578),
        v(46521),
        v(49932),
        v(78246),
        v(62444),
        v(34076),
        v(12334),
        v(68802),
        v(76267),
        v(83257),
        v(90834),
        v(907),
        v(18552);
        var gD = (S = (0,
        V._)(function(n) {
            var d, v, m, h, y, N, k;
            return (0,
            R.Jh)(this, function(y) {
                switch (y.label) {
                case 0:
                    return y.trys.push([0, 3, , 4]),
                    [4, fetch(n)];
                case 1:
                    if (d = y.sent(),
                    v = "image" + Date.now(),
                    !d.ok)
                        throw Error("HTTP error! status: ".concat(d.status));
                    return [4, d.arrayBuffer()];
                case 2:
                    h = new Uint8Array(m = y.sent());
                    return N = "image/jpeg",
                    255 === h[0] && 216 === h[1] && (N = "image/jpeg"),
                    137 === h[0] && 80 === h[1] && 78 === h[2] && 71 === h[3] && (N = "image/png"),
                    [2, new Blob([m],{
                        type: N
                    })];
                case 3:
                    throw console.error("下载图片失败:", k = y.sent()),
                    k;
                case 4:
                    return [2]
                }
            })
        }),
        function downloadImageAsFile(n) {
            return S.apply(this, arguments)
        }
        )
          , gB = {
            class: "crop-ratio-list-container"
        }
          , gL = {
            class: "crop-title"
        }
          , gP = {
            class: "crop-ratio-list"
        }
          , gO = ["onClick"]
          , gR = (0,
        ec.defineComponent)({
            __name: "CopperList",
            props: {
                size: {},
                disabled: {
                    type: Boolean
                }
            },
            emits: ["handleCrop"],
            setup: function(n, d) {
                var v = d.emit
                  , m = [{
                    key: "origin",
                    text: "原始",
                    size: null,
                    style: {
                        width: "40px",
                        height: "52px"
                    }
                }, {
                    key: "1:1",
                    text: "1:1",
                    size: 1,
                    style: {
                        width: "52px",
                        height: "52px"
                    }
                }, {
                    key: "3:4",
                    text: "3:4",
                    size: 3 / 4,
                    style: {
                        width: "40px",
                        height: "52px"
                    }
                }, {
                    key: "4:3",
                    text: "4:3",
                    size: 4 / 3,
                    style: {
                        width: "52px",
                        height: "40px"
                    }
                }]
                  , handleCrop = function(d) {
                    if (!n.disabled)
                        v("handleCrop", d)
                };
                return function(d, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", gB, [(0,
                    ec.createElementVNode)("div", gL, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(gS).COPPER_RATIO), 1), (0,
                    ec.createElementVNode)("div", gP, [((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(m, function(v) {
                        return (0,
                        ec.createElementVNode)("div", {
                            key: v.text,
                            class: (0,
                            ec.normalizeClass)(["crop-ratio-item", n.size === v.key ? "crop-ratio-item-active" : "", d.disabled ? "crop-ratio-item-disabled" : ""]),
                            style: (0,
                            ec.normalizeStyle)(v.style),
                            onClick: function(n) {
                                return handleCrop(v)
                            }
                        }, (0,
                        ec.toDisplayString)(v.text), 15, gO)
                    }), 64))])])
                }
            }
        });
        let gU = (0,
        eN.default)(gR, [["__scopeId", "data-v-7b5290e9"]]);
        var gj = {
            class: "cover-choose-container"
        }
          , gF = ["src"]
          , gz = {
            id: "cover-container",
            class: "cover"
        }
          , gZ = ["src"]
          , gQ = {
            ref: "list",
            class: "list"
        }
          , gJ = ["src", "data-index"]
          , gH = {
            class: "time"
        }
          , gG = {
            key: 1,
            class: "loading-wrapper"
        }
          , gY = {
            class: "tips"
        }
          , gW = (0,
        ec.defineComponent)({
            __name: "CoverChoose",
            props: {
                videoUrl: {},
                videoRotation: {},
                coverImgList: {},
                video: {},
                needTranscode: {
                    type: Boolean
                },
                transcodeVideoUrl: {},
                exacting: {
                    type: Boolean
                },
                visible: {
                    type: Boolean
                }
            },
            emits: ["update-size"],
            setup: function(n, d) {
                var v = this
                  , m = d.expose
                  , h = d.emit
                  , y = (0,
                ec.computed)(function() {
                    return n.needTranscode
                })
                  , N = (0,
                ec.computed)(function() {
                    return n.transcodeVideoUrl
                })
                  , k = (0,
                ec.computed)(function() {
                    return n.videoUrl
                })
                  , I = (0,
                ec.computed)(function() {
                    return n.exacting
                })
                  , C = (0,
                ec.computed)(function() {
                    return n.video
                })
                  , x = (0,
                ec.computed)(function() {
                    return n.coverImgList
                })
                  , M = (0,
                ec.computed)(function() {
                    return n.videoRotation
                })
                  , S = (0,
                ec.computed)(function() {
                    return y.value ? N.value : k.value
                })
                  , _ = (0,
                ec.ref)()
                  , V = (0,
                ec.ref)()
                  , B = (0,
                ec.ref)()
                  , O = (0,
                ec.ref)(0)
                  , R = (0,
                ec.ref)(0)
                  , U = (0,
                ec.ref)(0)
                  , z = (0,
                ec.ref)(0)
                  , Z = (0,
                ec.ref)(-1)
                  , Q = (0,
                ec.ref)(!1)
                  , J = (0,
                ec.ref)(!1)
                  , H = (0,
                ec.ref)(!1)
                  , G = (0,
                ec.ref)(!0)
                  , Y = (0,
                ec.ref)({
                    currentTime: 0,
                    point: -1,
                    image: ""
                })
                  , W = (0,
                ec.ref)({
                    currentTime: 0,
                    point: -1
                })
                  , q = (0,
                ec.ref)("")
                  , X = (0,
                ec.ref)("origin")
                  , K = null
                  , $ = !1
                  , et = 0
                  , en = 0
                  , ea = (0,
                ec.computed)(function() {
                    return n.visible
                })
                  , eo = (0,
                ec.computed)(function() {
                    return (0,
                    ap.CX)(W.value.currentTime)
                })
                  , getVideoCropperRatio = function() {
                    var n = C.value
                      , d = n.width
                      , v = n.height;
                    return d / v >= 4 / 3 ? 4 / 3 : d / v <= 3 / 4 ? 3 / 4 : d / v
                }
                  , getCroppedImgUrl = function() {
                    return K.getCroppedCanvas({
                        imageSmoothingQuality: "high"
                    }).toDataURL("image/jpeg")
                }
                  , er = getVideoCropperRatio()
                  , handleBootstrapCropper = function() {
                    setTimeout(function() {
                        !K && B.value && (K = new (cw())(B.value,{
                            viewMode: 1,
                            dragMode: "move",
                            initialAspectRatio: er,
                            aspectRatio: er,
                            autoCropArea: 1,
                            responsive: !1,
                            guides: !1,
                            rotatable: !1,
                            minCropBoxWidth: 160,
                            minCropBoxHeight: 160,
                            ready: function() {
                                !H.value && (Y.value.image = getCroppedImgUrl(),
                                H.value = !0)
                            },
                            crop: function(n) {
                                h("update-size", {
                                    width: n.detail.width,
                                    height: n.detail.height
                                })
                            }
                        }))
                    }, 100)
                }
                  , getDuration = function() {
                    if (!!_.value)
                        !U.value && (U.value = _.value.duration,
                        O.value = _.value.videoWidth,
                        R.value = _.value.videoHeight,
                        V.value.width = O.value,
                        V.value.height = R.value)
                }
                  , resetVideo = function() {
                    q.value = "",
                    U.value = 0,
                    z.value = 0,
                    O.value = 0,
                    R.value = 0,
                    Z.value = 0,
                    Q.value = !1,
                    J.value = !1,
                    H.value = !1,
                    G.value = !0,
                    Y.value = {
                        currentTime: 0,
                        point: -1,
                        image: null
                    },
                    W.value = {
                        currentTime: 0,
                        point: -1
                    },
                    null == K || K.destroy(),
                    K = null
                }
                  , changeCover = function() {
                    new Promise(function(n, d) {
                        var v = _.value
                          , m = V.value;
                        if (m) {
                            var h = m.getContext("2d")
                              , seekedFn = function() {
                                m.width = O.value,
                                m.height = R.value,
                                h.drawImage(v, 0, 0, m.width, m.height);
                                var d = .5;
                                return d = 1,
                                n(m.toDataURL("image/jpeg", d))
                            }
                              , y = setTimeout(function() {
                                return d("seek timeout, list.length: ".concat(x.value.length))
                            }, 2e3);
                            v.addEventListener("seeked", function() {
                                clearTimeout(y),
                                (0,
                                tx.isSafari)() && 0 === x.value.length ? setTimeout(function() {
                                    seekedFn()
                                }, 100) : seekedFn()
                            }, {
                                once: !0,
                                capture: !1
                            })
                        }
                    }
                    ).then(function(n) {
                        q.value = n,
                        K && K.replace(n),
                        W.value = {
                            currentTime: _.value.currentTime,
                            point: Z.value
                        }
                    }).catch(function(n) {
                        console.log("[seven] error info:", n)
                    })
                }
                  , timeupdate = function() {
                    !k.value && resetVideo(),
                    x.value.length >= 20 && changeCover()
                }
                  , setTime = function(n) {
                    _.value.currentTime = n,
                    setTimeout(function() {
                        var d;
                        (null === (d = _.value) || void 0 === d ? void 0 : d.seeking) && _.value.currentTime === n && setTime(n + .001)
                    }, 1e3)
                }
                  , handleMousedown = function(n) {
                    if (!Q.value) {
                        $ = !0;
                        var d = n.currentTarget.getBoundingClientRect().left
                          , v = n.clientX - d + -1;
                        en = n.clientX,
                        v >= -8 && v <= 540 && (Z.value = v,
                        541 === v ? setTime(U.value * v / 541 - .1) : setTime(U.value * v / 541),
                        et = v)
                    }
                }
                  , ei = ar()(function(n) {
                    if ($) {
                        var d = n.clientX - en
                          , v = et + d;
                        v >= -1 && v <= 540 && (Z.value = v,
                        541 === v ? _.value.currentTime = U.value * v / 541 - .1 : _.value.currentTime = U.value * v / 541)
                    }
                }, 16)
                  , handleImageDrag = function() {
                    return !1
                }
                  , handleMouseup = function() {
                    $ = !1
                }
                  , handleCrop = function(n) {
                    n.size ? null == K || K.setAspectRatio(n.size) : null == K || K.setAspectRatio(getVideoCropperRatio()),
                    X.value = n.key
                };
                (0,
                ec.onMounted)(function() {
                    document.documentElement.addEventListener("mouseup", handleMouseup)
                }),
                (0,
                ec.onBeforeUnmount)(function() {
                    document.documentElement.removeEventListener("mouseup", handleMouseup)
                });
                var screenshot = function() {
                    _.value.currentTime = z.value
                };
                (0,
                ec.watch)(z, function() {
                    U.value && screenshot()
                }),
                (0,
                ec.watch)(k, function(n) {
                    !n && resetVideo()
                });
                var reset = function() {
                    _.value && (_.value.currentTime = Y.value.currentTime),
                    Z.value = Y.value.point
                };
                return (0,
                ec.watch)(ea, function(n) {
                    n && (0,
                    ec.nextTick)(function() {
                        reset()
                    })
                }),
                m({
                    confirm: function() {
                        return Y.value.currentTime = W.value.currentTime,
                        Y.value.point = W.value.point,
                        Y.value.image = getCroppedImgUrl(),
                        {
                            file: Y.value.image,
                            frametime: 1e3 * Y.value.currentTime
                        }
                    }
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", gj, [(0,
                    ec.createElementVNode)("canvas", {
                        id: "canvas",
                        ref_key: "canvasRef",
                        ref: V,
                        style: {
                            display: "none"
                        }
                    }, null, 512), S.value && "unknown" !== M.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("video", {
                        key: 0,
                        ref_key: "videoRef",
                        ref: _,
                        class: "cover-video video",
                        crossorigin: "anonymous",
                        src: S.value,
                        controls: !1,
                        onCanplay: getDuration,
                        onTimeupdate: timeupdate
                    }, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(gS).NOT_SUPPORT_PLEASE_UPDATE), 41, gF)) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createElementVNode)("div", gz, [(0,
                    ec.createElementVNode)("img", {
                        ref_key: "cropperRef",
                        ref: B,
                        src: q.value || x.value[0],
                        alt: "",
                        class: "cropper",
                        onLoad: handleBootstrapCropper
                    }, null, 40, gZ)]), (0,
                    ec.createElementVNode)("div", gQ, [x.value.length ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("ul", {
                        key: 0,
                        onMousedown: handleMousedown,
                        onMousemove: d[0] || (d[0] = function() {
                            for (var n = arguments.length, d = Array(n), m = 0; m < n; m++)
                                d[m] = arguments[m];
                            return (0,
                            ec.unref)(ei) && (0,
                            ec.unref)(ei).apply(v, (0,
                            ee._)(d))
                        }
                        ),
                        onMouseup: handleMouseup
                    }, [((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(x.value, function(n, d) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("li", {
                            key: d,
                            class: "item"
                        }, [n ? ((0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("img", {
                            key: 0,
                            src: n,
                            "data-index": d,
                            draggable: "false",
                            alt: "",
                            onDragstart: (0,
                            ec.withModifiers)(handleImageDrag, ["prevent"])
                        }, null, 40, gJ)) : (0,
                        ec.createCommentVNode)("", !0)])
                    }), 128)), (0,
                    ec.createElementVNode)("li", {
                        ref_key: "point",
                        ref: Z,
                        style: (0,
                        ec.normalizeStyle)({
                            left: Z.value + "px"
                        }),
                        class: "point"
                    }, [d[1] || (d[1] = (0,
                    ec.createElementVNode)("span", {
                        class: "span1"
                    }, null, -1)), d[2] || (d[2] = (0,
                    ec.createElementVNode)("span", {
                        class: "span2"
                    }, null, -1)), (0,
                    ec.createElementVNode)("div", gH, (0,
                    ec.toDisplayString)(eo.value), 1)], 4)], 32)) : (0,
                    ec.createCommentVNode)("", !0)], 512), d[4] || (d[4] = (0,
                    ec.createElementVNode)("div", {
                        class: "divider"
                    }, null, -1)), (0,
                    ec.createVNode)(gU, {
                        size: X.value,
                        onHandleCrop: handleCrop
                    }, null, 8, ["size"]), I.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", gG, [d[3] || (d[3] = (0,
                    ec.createElementVNode)("div", {
                        class: "loading"
                    }, null, -1)), (0,
                    ec.createElementVNode)("div", gY, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(gS).VIDEO_EXACTING), 1)])) : (0,
                    ec.createCommentVNode)("", !0)])
                }
            }
        });
        let gq = (0,
        eN.default)(gW, [["__scopeId", "data-v-7861acea"]]);
        var gX = {
            class: "center-box"
        }
          , gK = {
            id: "upload-cover-containner",
            class: "cover"
        }
          , g$ = ["src"]
          , g0 = {
            class: "upload-wrapper"
        }
          , g1 = {
            class: "wrapper"
        }
          , g2 = {
            class: "crop-container"
        }
          , g4 = {
            class: "fre"
        }
          , g3 = (0,
        ec.defineComponent)({
            __name: "Editer",
            props: {
                showModal: {
                    type: Boolean
                },
                status: {},
                videoUrl: {},
                video: {},
                videoRotation: {},
                coverImgList: {},
                needTranscode: {
                    type: Boolean
                },
                transcodeVideoUrl: {},
                exacting: {
                    type: Boolean
                }
            },
            emits: ["set-modal-visible", "confirm"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                ec.computed)(function() {
                    return n.showModal
                })
                  , h = (0,
                ec.ref)("")
                  , y = (0,
                ec.ref)("")
                  , N = (0,
                ec.ref)()
                  , k = (0,
                ec.ref)()
                  , I = (0,
                ec.ref)()
                  , C = (0,
                ec.ref)("origin")
                  , x = (0,
                ec.ref)(0)
                  , M = (0,
                ec.ref)(0)
                  , S = (0,
                ec.computed)(function() {
                    return n.status
                })
                  , _ = (0,
                ec.computed)(function() {
                    return n.video
                })
                  , V = (0,
                ec.computed)(function() {
                    return n.videoUrl
                })
                  , B = (0,
                ec.computed)(function() {
                    return n.videoRotation
                })
                  , O = (0,
                ec.computed)(function() {
                    return n.coverImgList
                })
                  , R = (0,
                ec.computed)(function() {
                    return n.needTranscode
                })
                  , U = (0,
                ec.computed)(function() {
                    return n.transcodeVideoUrl
                })
                  , z = (0,
                ec.computed)(function() {
                    return n.exacting
                })
                  , Z = (0,
                ec.ref)(g_.Select)
                  , Q = (0,
                ec.computed)(function() {
                    return Z.value === g_.Select ? S.value === eX.qb.Uploading : !y.value
                })
                  , getVideoCropperRatio = function() {
                    var n = _.value
                      , d = n.width
                      , v = n.height;
                    return d / v >= 4 / 3 ? 4 / 3 : d / v <= 3 / 4 ? 3 / 4 : d / v
                }
                  , J = getVideoCropperRatio()
                  , H = (0,
                ec.ref)()
                  , handleBootstrapCropper = function() {
                    !H.value && k.value && (H.value = new (cw())(k.value,{
                        viewMode: 1,
                        dragMode: "move",
                        initialAspectRatio: J,
                        aspectRatio: J,
                        autoCropArea: 1,
                        responsive: !1,
                        guides: !1,
                        rotatable: !1,
                        minCropBoxWidth: 60,
                        minCropBoxHeight: 60,
                        crop: function(n) {
                            x.value = n.detail.width.toFixed(0),
                            M.value = n.detail.height.toFixed(0)
                        }
                    }))
                }
                  , removeCropper = function() {
                    var n;
                    y.value = "",
                    N.value && (N.value.value = ""),
                    null === (n = H.value) || void 0 === n || n.destroy(),
                    H.value = void 0
                }
                  , cancel = function(n) {
                    if (h.value = "",
                    removeCropper(),
                    v("set-modal-visible", !1),
                    "click" === n) {
                        var d, m;
                        null === (m = window) || void 0 === m || null === (d = m.eaglet) || void 0 === d || d.push(el.tracker["70520"]({
                            componentName: C.value,
                            contentType: Z.value === g_.Select ? "capture_frame" : "upload_cover",
                            operationType: "cancel"
                        }))
                    }
                }
                  , updateSize = function(n) {
                    x.value = n.width,
                    M.value = n.height
                }
                  , handleCrop = function(n) {
                    var d, v, m, h;
                    null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["70522"]({
                        componentName: n.key || ""
                    })),
                    n.size ? null === (m = H.value) || void 0 === m || m.setAspectRatio(n.size) : null === (h = H.value) || void 0 === h || h.setAspectRatio(getVideoCropperRatio()),
                    C.value = n.key
                }
                  , clickInput = function() {
                    N.value.click()
                }
                  , uploadChange = function() {
                    var n = null === (d = N.value.files) || void 0 === d ? void 0 : d[0];
                    if (n) {
                        var d, v, m, h, k, I = utils_checkImageUpload(n);
                        if (I) {
                            N.value.value = "",
                            mY.Z.danger(I),
                            null === (k = window) || void 0 === k || null === (h = k.eaglet) || void 0 === h || h.push(el.tracker["70519"]({
                                status: "fail"
                            }));
                            return
                        }
                        removeCropper(),
                        y.value = (0,
                        cx.D)(n),
                        null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || v.push(el.tracker["70519"]({
                            status: "success"
                        }))
                    }
                }
                  , confirm = function() {
                    var n, d;
                    if (!Q.value) {
                        if (null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["70520"]({
                            componentName: C.value,
                            contentType: Z.value === g_.Select ? "capture_frame" : "upload_cover",
                            operationType: "confirm"
                        })),
                        Z.value === g_.Select) {
                            var m, h = I.value.confirm();
                            v("confirm", {
                                base64File: h.file,
                                frametime: h.frametime,
                                isUpload: !1,
                                isUserSelect: !0,
                                width: x.value,
                                height: M.value
                            })
                        } else {
                            ;v("confirm", {
                                base64File: (null === (m = H.value) || void 0 === m ? void 0 : m.getCroppedCanvas({
                                    imageSmoothingQuality: "high"
                                })).toDataURL("image/jpeg"),
                                frametime: 0,
                                isUpload: !0,
                                isUserSelect: !1,
                                width: x.value,
                                height: M.value
                            })
                        }
                        cancel()
                    }
                };
                return function(n, d) {
                    var v = (0,
                    ec.resolveComponent)("el-icon");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(fL.Z), {
                        id: "cover-modal",
                        visible: m.value,
                        "onUpdate:visible": d[2] || (d[2] = function(n) {
                            return m.value = n
                        }
                        ),
                        closeable: !1,
                        size: "600px",
                        "z-index": 200,
                        title: (0,
                        ec.unref)(gS).SET_COVER,
                        onClose: cancel
                    }, {
                        title: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("span", null, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(gS).SET_COVER), 1)]
                        }),
                        footer: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", g4, [(0,
                            ec.createElementVNode)("button", {
                                class: "cancelBtn",
                                onClick: d[1] || (d[1] = function(n) {
                                    return cancel("click")
                                }
                                )
                            }, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(gS).CANCEL), 1), (0,
                            ec.createVNode)((0,
                            ec.unref)(nl.zx), {
                                class: "btn-confirm",
                                color: "bg-red",
                                disabled: Q.value,
                                onClick: confirm
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(gS).CONFIRM), 1)]
                                }),
                                _: 1
                            }, 8, ["disabled"])])]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(gT.Z), {
                                modelValue: Z.value,
                                "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                                    return Z.value = n
                                }
                                )
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)((0,
                                    ec.unref)(gM.Z), {
                                        id: (0,
                                        ec.unref)(g_).Select,
                                        label: "截取封面",
                                        name: (0,
                                        ec.unref)(g_).Select
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return [(0,
                                            ec.createVNode)(gq, {
                                                exacting: z.value,
                                                transcodeVideoUrl: U.value,
                                                needTranscode: R.value,
                                                coverImgList: O.value,
                                                videoRotation: B.value,
                                                "video-url": V.value,
                                                video: _.value,
                                                ref_key: "coverChooseRef",
                                                ref: I,
                                                visible: !!V.value,
                                                onUpdateSize: updateSize
                                            }, null, 8, ["exacting", "transcodeVideoUrl", "needTranscode", "coverImgList", "videoRotation", "video-url", "video", "visible"])]
                                        }),
                                        _: 1
                                    }, 8, ["id", "name"]), (0,
                                    ec.createVNode)((0,
                                    ec.unref)(gM.Z), {
                                        id: (0,
                                        ec.unref)(g_).Upload,
                                        label: "上传封面",
                                        name: (0,
                                        ec.unref)(g_).Upload
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return [(0,
                                            ec.withDirectives)((0,
                                            ec.createElementVNode)("div", gX, [(0,
                                            ec.createElementVNode)("div", gK, [(0,
                                            ec.createElementVNode)("img", {
                                                ref_key: "cropperRef",
                                                ref: k,
                                                src: y.value,
                                                alt: "",
                                                class: "cropper",
                                                onLoad: handleBootstrapCropper
                                            }, null, 40, g$)]), (0,
                                            ec.createElementVNode)("div", {
                                                class: "reUpload",
                                                onClick: clickInput
                                            }, [(0,
                                            ec.createVNode)(v, null, {
                                                default: (0,
                                                ec.withCtx)(function() {
                                                    return [(0,
                                                    ec.createVNode)((0,
                                                    ec.unref)(aa.hYj))]
                                                }),
                                                _: 1
                                            }), (0,
                                            ec.createTextVNode)(" " + (0,
                                            ec.toDisplayString)((0,
                                            ec.unref)(gS).REUPLOAD), 1)]), d[3] || (d[3] = (0,
                                            ec.createElementVNode)("div", {
                                                class: "divider"
                                            }, null, -1))], 512), [[ec.vShow, y.value]]), (0,
                                            ec.withDirectives)((0,
                                            ec.createElementVNode)("div", g0, [(0,
                                            ec.createElementVNode)("input", {
                                                ref_key: "uploadRef",
                                                ref: N,
                                                class: "upload-input",
                                                type: "file",
                                                accept: "image/png, image/jpeg, image/*",
                                                onChange: uploadChange
                                            }, null, 544), (0,
                                            ec.createElementVNode)("div", g1, [d[4] || (d[4] = (0,
                                            ec.createElementVNode)("div", {
                                                class: "upload-img"
                                            }, [(0,
                                            ec.createElementVNode)("img", {
                                                src: ti
                                            })], -1)), (0,
                                            ec.createElementVNode)("p", null, (0,
                                            ec.toDisplayString)((0,
                                            ec.unref)(gS).DRAG_IMAGE_UPLOAD), 1), (0,
                                            ec.createVNode)((0,
                                            ec.unref)(nl.zx), {
                                                class: "btn-upload",
                                                color: "bg-red",
                                                onClick: confirm
                                            }, {
                                                default: (0,
                                                ec.withCtx)(function() {
                                                    return [(0,
                                                    ec.createTextVNode)((0,
                                                    ec.toDisplayString)((0,
                                                    ec.unref)(gS).UPLOAD_IMAGE), 1)]
                                                }),
                                                _: 1
                                            })])], 512), [[ec.vShow, !y.value]]), (0,
                                            ec.createElementVNode)("div", g2, [(0,
                                            ec.createVNode)(gU, {
                                                size: C.value,
                                                onHandleCrop: handleCrop
                                            }, null, 8, ["size"])])]
                                        }),
                                        _: 1
                                    }, 8, ["id", "name"])]
                                }),
                                _: 1
                            }, 8, ["modelValue"])]
                        }),
                        _: 1
                    }, 8, ["visible", "title"])
                }
            }
        });
        let g5 = (0,
        eN.default)(g3, [["__scopeId", "data-v-05eb833b"]]);
        var g8 = {
            class: "container"
        }
          , g6 = {
            class: "example good"
        }
          , g9 = {
            class: "content"
        }
          , g7 = ["src"]
          , he = {
            class: "desc"
        }
          , ht = {
            class: "example bad"
        }
          , hn = {
            class: "content"
        }
          , ha = ["src"]
          , ho = {
            class: "desc"
        }
          , hr = (0,
        ec.defineComponent)({
            __name: "CoverExample",
            setup: function(n) {
                var d = [{
                    cover: "https://picasso-static.xiaohongshu.com/fe-platform/5430743133e003519556201977011c51bf64d485.png",
                    desc: "画质清晰，比例在3:4至4:3之间"
                }, {
                    cover: "https://picasso-static.xiaohongshu.com/fe-platform/407999633abe765bac9ad94eeadf6f1a08a4c092.png",
                    desc: "包含视频主旨信息，文字不遮挡重要内容"
                }, {
                    cover: "https://picasso-static.xiaohongshu.com/fe-platform/42a275f71d36bd52b0db15939ffa59af372ca047.png",
                    desc: "构图和谐，色彩舒适"
                }]
                  , v = [{
                    cover: "https://picasso-static.xiaohongshu.com/fe-platform/4df602efc149795d9850b45721794a090919a313.png",
                    desc: "画面模糊，比例不合适出现黑边"
                }, {
                    cover: "https://picasso-static.xiaohongshu.com/fe-platform/324409333020615f53940b141b4fda6fb44fbbea.png",
                    desc: "封面与视频信息相关性弱，信息密度低"
                }, {
                    cover: "https://picasso-static.xiaohongshu.com/fe-platform/0e863420ebd51563b034d7fecc319d9d679049c6.png",
                    desc: "构图无美感，展示不全"
                }];
                return function(n, m) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", g8, [(0,
                    ec.createElementVNode)("div", g6, [(0,
                    ec.createElementVNode)("div", {
                        class: "title"
                    }, [(0,
                    ec.createElementVNode)("img", {
                        class: "icon",
                        src: "https://picasso-static.xiaohongshu.com/fe-platform/573db185c93cd6bd8d302bfc47c478a2b84aa0b5.png",
                        alt: "good"
                    }), m[0] || (m[0] = (0,
                    ec.createTextVNode)(" 优质封面 "))]), (0,
                    ec.createElementVNode)("div", g9, [((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(d, function(n, d) {
                        return (0,
                        ec.createElementVNode)("div", {
                            key: d,
                            class: "content-item"
                        }, [(0,
                        ec.createElementVNode)("img", {
                            class: "example-image",
                            src: n.cover,
                            alt: "good"
                        }, null, 8, g7), (0,
                        ec.createElementVNode)("div", he, (0,
                        ec.toDisplayString)(n.desc), 1)])
                    }), 64))])]), (0,
                    ec.createElementVNode)("div", ht, [(0,
                    ec.createElementVNode)("div", {
                        class: "title"
                    }, [(0,
                    ec.createElementVNode)("img", {
                        class: "icon",
                        src: "https://picasso-static.xiaohongshu.com/fe-platform/f2c5b73c4a13eae3a0786a44d964f29696711939.png",
                        alt: "good"
                    }), m[1] || (m[1] = (0,
                    ec.createTextVNode)(" 建议改进 "))]), (0,
                    ec.createElementVNode)("div", hn, [((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(v, function(n, d) {
                        return (0,
                        ec.createElementVNode)("div", {
                            key: d,
                            class: "content-item"
                        }, [(0,
                        ec.createElementVNode)("img", {
                            class: "example-image",
                            src: n.cover,
                            alt: "good"
                        }, null, 8, ha), (0,
                        ec.createElementVNode)("div", ho, (0,
                        ec.toDisplayString)(n.desc), 1)])
                    }), 64))])])])
                }
            }
        });
        let hi = (0,
        eN.default)(hr, [["__scopeId", "data-v-c5ec3588"]]);
        var hl = {
            class: "cover-preview"
        }
          , hc = {
            class: "header"
        }
          , hu = {
            class: "description"
        }
          , hs = {
            class: "cover"
        }
          , hd = {
            class: "loading"
        }
          , hv = {
            key: 2,
            class: "recommend"
        }
          , hm = {
            class: "title"
        }
          , hf = {
            class: "defaults"
        }
          , hp = {
            class: "cover-image-popover-container"
        }
          , hg = ["onClick"]
          , hh = {
            key: 1,
            class: "loading cover-image row bgwhite"
        }
          , hy = (0,
        ec.defineComponent)({
            __name: "Index",
            props: {
                state: {},
                behavior: {}
            },
            setup: function(n) {
                var d = (0,
                ec.computed)(function() {
                    return n.state.video.value
                })
                  , v = (0,
                ec.computed)(function() {
                    return n.state.useCoverTemplate.value
                })
                  , m = (0,
                ec.computed)(function() {
                    return n.state.videoRotation.value
                })
                  , h = (0,
                ec.computed)(function() {
                    return n.state.coverImgList.value
                })
                  , y = (0,
                ec.computed)(function() {
                    return n.state.transcodeVideoUrl.value
                })
                  , N = (0,
                ec.computed)(function() {
                    return n.state.status.value
                })
                  , k = (0,
                ec.computed)(function() {
                    return n.state.exacting.value
                })
                  , I = (0,
                ec.computed)(function() {
                    return n.state.needTranscode.value
                })
                  , C = (0,
                ec.computed)(function() {
                    return n.state.videoUrl.value
                })
                  , x = (0,
                ec.computed)(function() {
                    return n.state.noteId.value
                })
                  , M = (0,
                ec.computed)(function() {
                    return n.state.recommendCovers.value
                })
                  , S = (0,
                ec.computed)(function() {
                    return n.state.coverUrl.value
                })
                  , _ = (0,
                ec.ref)("");
                (0,
                ec.watch)(S, (0,
                V._)(function() {
                    var n;
                    return (0,
                    R.Jh)(this, function(d) {
                        switch (d.label) {
                        case 0:
                            if (!S.value)
                                return [2, ""];
                            return [4, gD(S.value)];
                        case 1:
                            return n = d.sent(),
                            _.value && URL.revokeObjectURL(_.value),
                            _.value = URL.createObjectURL(n),
                            [2]
                        }
                    })
                }));
                var U = (0,
                ec.computed)(function() {
                    return n.state.recommendCoversStatus.value
                })
                  , z = (0,
                ec.computed)(function() {
                    return n.state.cover.value
                })
                  , Z = (0,
                ec.computed)(function() {
                    return n.state.coverContext.value.coverUrl
                })
                  , Q = (0,
                ec.computed)(function() {
                    return n.state.coverContext.value.rate
                })
                  , J = (0,
                ec.computed)(function() {
                    return n.state.coverContext.value
                })
                  , H = (0,
                ec.computed)(function() {
                    return n.state.coverContext.value.templateBlob
                })
                  , G = (0,
                ec.computed)(function() {
                    return n.state.coverContext.value.recommendCoverIdx || -1
                })
                  , Y = (0,
                ec.computed)(function() {
                    return x.value || Z.value || (z.value.frame.isUpload || z.value.frame.isUserSelect) && !!S.value
                })
                  , W = (0,
                ec.ref)(!1)
                  , q = (0,
                ec.computed)(function() {
                    if (M.value.length >= 3)
                        return M.value.slice(0, 3);
                    var d = n.state.firstFrameCover.value || {}
                      , v = (0,
                    O._)((0,
                    B._)({}, d), {
                        fileId: d.fileid,
                        url: n.state.firstFrameCoverUrl.value,
                        aestheticScore: 0,
                        coverScore: 0,
                        firstFrame: !0,
                        qualityScore: 0
                    });
                    return [].concat((0,
                    ee._)(M.value), Array(3 - M.value.length).fill(v))
                })
                  , X = (0,
                ec.computed)(function() {
                    var d, v, m, h, y, N, k, I, C, x, M, S, _ = null !== (k = null === (d = n.state.video.value) || void 0 === d ? void 0 : d.width) && void 0 !== k ? k : .75, V = null !== (I = null === (v = n.state.video.value) || void 0 === v ? void 0 : v.height) && void 0 !== I ? I : 1, B = J.value.cover;
                    if (Z.value) {
                        ;return {
                            cover: (null !== (C = null == B ? void 0 : B.width) && void 0 !== C ? C : .75) / (null !== (x = null == B ? void 0 : B.height) && void 0 !== x ? x : 1),
                            video: _ / V
                        }
                    }
                    return {
                        cover: (null !== (M = null === (h = n.state) || void 0 === h ? void 0 : null === (m = h.cover.value) || void 0 === m ? void 0 : m.width) && void 0 !== M ? M : .75) / (null !== (S = null === (N = n.state) || void 0 === N ? void 0 : null === (y = N.cover.value) || void 0 === y ? void 0 : y.height) && void 0 !== S ? S : 1),
                        video: _ / V
                    }
                })
                  , K = (0,
                ec.ref)(!1)
                  , $ = (0,
                ec.ref)(!1)
                  , et = (0,
                ec.computed)(function() {
                    return K.value && !!v.value
                })
                  , en = (0,
                ec.computed)(function() {
                    return 2 === v.value
                });
                (0,
                ec.watch)(function() {
                    return S
                }, function(n) {
                    var d, v;
                    !n.value && (null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["70515"]({
                        componentStyle: "new",
                        operationType: x.value ? "modify_cover" : "upload_cover",
                        noteEditSource: x.value ? 2 : 1
                    })))
                }, {
                    immediate: !0
                });
                var edit = function(n) {
                    var d, v, m, h, y, N, k, I;
                    null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["31248"]()),
                    K.value = !0,
                    null === (h = window) || void 0 === h || null === (m = h.eaglet) || void 0 === m || m.push(el.tracker["63122"]({
                        noteEditSource: x.value ? 2 : 1,
                        noteId: x.value
                    })),
                    null === (N = window) || void 0 === N || null === (y = N.eaglet) || void 0 === y || y.push(el.tracker["70521"]()),
                    null === (I = window) || void 0 === I || null === (k = I.eaglet) || void 0 === k || k.push(el.tracker["70516"]({
                        componentStyle: "new",
                        operationType: "upload" === n ? "upload_cover" : "modify_cover",
                        noteEditSource: x.value ? 2 : 1
                    }))
                }
                  , setModalVisible = function(n) {
                    if (n) {
                        var d, v;
                        null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["70521"]())
                    }
                    K.value = n
                }
                  , confirm = function(d) {
                    $.value = !0,
                    n.behavior.uploadCover(d, {
                        success: function() {
                            $.value = !1
                        },
                        error: function() {
                            $.value = !1,
                            mY.Z.danger("封面上传失败，请检查网络重试")
                        }
                    })
                }
                  , formatRatio = function(n) {
                    return n >= 4 / 3 ? 4 / 3 : n <= 3 / 4 ? 3 / 4 : n
                }
                  , selectRecommend = function(d) {
                    var v, m;
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || v.push(el.tracker["71132"]({
                        count: -1,
                        noteEditSource: x.value ? 2 : 1
                    })),
                    n.behavior.setCoverFromRecommend({
                        fileId: d.fileId,
                        url: d.url,
                        aestheticScore: d.aestheticScore,
                        coverScore: d.coverScore,
                        firstFrame: d.firstFrame,
                        qualityScore: d.qualityScore
                    }),
                    n.behavior.clearCoverContext(),
                    mY.Z.success("已应用推荐封面")
                }
                  , ubaTracker = function(n) {
                    var d, v, m = n.event, h = n.params, y = {
                        "on-layer-index-change": 76176,
                        "on-upload-cover": 70519,
                        "recommend-tag-click": 76178,
                        "select-font-family": 76186,
                        "on-handle-cover": 76179
                    }[m];
                    console.log("=========>uba tracker", m, y, h),
                    null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker[y]((0,
                    B._)({}, h)))
                }
                  , sdkTracker = function(n) {
                    var d, v, m, h = n.type, y = n.errorMsg, N = n.errorType;
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || null === (d = v.push) || void 0 === d || d.call(v, {
                        measurement_name: "sns_web_zeus_error",
                        measurement_data: {
                            type: h,
                            errorMsg: y,
                            errorType: N
                        }
                    }, "ApmXrayTracker")
                }
                  , handleUseCover = function(d) {
                    W.value = !0,
                    n.behavior.uploadTemplateCoverWithBlob(d, {
                        success: function() {
                            K.value = !1,
                            W.value = !1
                        },
                        error: function() {
                            mY.Z.danger("封面上传失败，请检查网络重试"),
                            W.value = !1
                        }
                    });
                    var v = d || {}
                      , m = v.trackerData
                      , h = v.type
                      , y = v.rate
                      , N = m.includes("stick_id") || m.includes("filter_id") || m.includes("text_id");
                    n.behavior.tracker(70520, {
                        componentName: 0 === y ? "four_to_three" : 1 === y ? "three_to_four" : "one_to_one",
                        contentType: 0 === h ? "capture_frame" : 1 === y ? "upload_cover" : "recommend",
                        extraInfo: m,
                        operationType: "confirm",
                        coverEditInfo: String(N)
                    })
                }
                  , close = function(d) {
                    var v = d.trackerData
                      , m = d.rate
                      , h = d.type;
                    K.value = !1;
                    var y = (null == v ? void 0 : v.includes("stick_id")) || (null == v ? void 0 : v.includes("filter_id")) || (null == v ? void 0 : v.includes("text_id"));
                    n.behavior.tracker(70520, {
                        componentName: 0 === m ? "four_to_three" : 1 === m ? "three_to_four" : "one_to_one",
                        contentType: 0 === h ? "capture_frame" : 1 === m ? "upload_cover" : "recommend",
                        extraInfo: v,
                        operationType: "cancel",
                        coverEditInfo: String(y)
                    })
                }
                  , ea = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["76184"]())
                })
                  , reportMaterialPoints = function(n, d) {
                    var v, m;
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || v.push(el.tracker[gV[n]](d))
                };
                return function(n, x) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, [(0,
                    ec.createElementVNode)("div", hl, [(0,
                    ec.createElementVNode)("div", hc, [x[5] || (x[5] = (0,
                    ec.createElementVNode)("div", {
                        class: "title"
                    }, "封面设置", -1)), (0,
                    ec.createElementVNode)("div", hu, [x[4] || (x[4] = (0,
                    ec.createTextVNode)(" 默认截取第一帧作为封面，优秀的封面会吸引更多人浏览笔记 ")), (0,
                    ec.createVNode)((0,
                    ec.unref)(gx.Z), {
                        placement: "bottom-end",
                        arrow: ""
                    }, {
                        content: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(hi)]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            return x[3] || (x[3] = [(0,
                            ec.createElementVNode)("span", null, "查看示例", -1)])
                        }),
                        _: 1
                    })])]), (0,
                    ec.createElementVNode)("div", hs, [Y.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        key: 0,
                        style: (0,
                        ec.normalizeStyle)({
                            backgroundImage: "url(".concat(Z.value || S.value, ")"),
                            aspectRatio: "".concat(formatRatio(X.value.cover))
                        }),
                        class: (0,
                        ec.normalizeClass)(["default", X.value.cover >= 4 / 3 ? "row" : X.value.cover <= 3 / 4 ? "column" : "origin"])
                    }, [(0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("div", hd, x[6] || (x[6] = [(0,
                    ec.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAA0CAYAAADMk7uRAAAGu0lEQVR4Xu2aS2tVVxTHt49oNMm9SaoIacBUnDQDrfgB6rzWmZN+hLbjYtuBA4W0xXlagkMbEBHEivO06DitIDhrRRRRSaJE8XW6fvuu/3Wf3XPy0Nx7HfQPi3PuOWfvvdZez72SEDqEoig22WUTVxG/9Sz7/L1AiUnRyZMnN4vSb7Jrb5As3mb2+PHjW3S1Z1u4HjlyZKvdb9W93iWCReGgRFudQ7rTYkDMObN9RtsmJycj7d+/f7v9jsRvf993+PBhrm2BmCcTYMMFyW1aO70VZmB0YmKif3x8fIc92wnt2bNnwK4DXEW8h/iWMRJK2mPezG82DJowMg7TvnhkGuZ27do1ZL8b0MjISHPYYPcjzWYzkt0Pj46ONqDdu3cPMmZsbAxh+422SYvMnwnwzoLEyZg8Z1xMw+zNmzeP3r9//7unT59eefny5T+vX79eKBzcP3/+/K9nz5799ujRox/5NrhAdh1EELTC3Imv5FpfH2QqcsyEecxkkMXPnDmzF4ZSZteKV69e/b28vHzu8uXLB5lLJuZ+g4/IrNbPPJBNsiMwzg65XTdOnz699/Hjx9M5U2+LJ0+e/Hrp0qUDaJQ1WMvW6WPtJGKtDYWrjEFi3p1zEFN58ODBt2+z46sBjdy9e/dL/MfWitpwjbejVJnTCvARpAgj5nE6mF9cXNywXa8DmpVJGQ/90kJYoym1I02y80PYujngH/liKWwHF/nm3r1731+7du3TU6dOfWRjPzAa5f7GjRvHeIeT52NzvHjx4s+ZmZlxXz869lrMqJ1RcViZjdEwE+aLCJgTjuwMj2AC7KBHqEgKn3aPeYzguA8fPvwJs8nnEyxq/W7f7sSp08jU5jZF4TYf3Gk9EgzAzNLS0s/55ALvnPEYEtOE5Y4IxeTFlXeYY/BcgSDmwLP5vML169c/Zh5poKjzA38RbV+mA0N37tz5Kp9UIOZ7goqME8uVXSG0qOSkHKLSwgVS8htmrnx+cPbs2THmSjL1fwUoEuZDK/72s0tXr149UKfi27dvfw3zMJAybmMjszLF4HlExDu+kTDK4vasYXN+ofUwS9PuN67FKABzFVUa4KEm9x3aiXqJzWW2W0h2fih1Mu1S8SZzthfTbwnCty5MqRyx+wHMZnp6+kOep0ktmbcMf7jZK8T27qdMCxbiZu2bUaO480r9teqtQZFoXRleJQrkjKdlRfXuO9q2D1PYvoW6cznzqPfChQuHeC/mbWzbuVZaIEfyfdy84KYnX0kZ1+bUzu8fRHWiRsynyvYJlZgO3/gOMUY7Uz35KmAspAioq+4z5mvXiObjDjNEpVhmvYXZ2dlDnubbKb6o25U1QuP9Wqo+02flUWW0o4/K44WFhR/esN2CZdgr7D7+obgcWju14uQdB9LJ/u3nDna4KtUTeez9sB9AtjOGsdl03QUMQKkDIwAHj4z/Yn5+/pgNaaIlzG3FtN5NJA4cSwcqzqpS2b7b51lz3dVhJyEHiQIQXbDznHnQaDRGEQD793yxamXYFSgDh3UKUPTa/h1RA6kAdSZ04sSJfV4ORx8I70MEcsDElrR8pqOQC8ABhXdyYmXffLKuAybcIQmjMQrVhVHv88TKMwmjvRUCJlRQ6QzAoT0XgKOiEpkNiyek9yUSKZTGUgIG7ez6eS4AfkEoRUCV0NIClM/ZNbC4cgGmoUhU5cgUc5hRWk4kWuidEMG7EHbt81KhAbO5AAhFNOJ9cF8IG1CRvjNYXPlAZjQ1NTWRCwCs0PuFnBCyA00otwG7b1YsmNdEda3D9EiZCqEjZVrDQ/lanYD8IEajVAtVvgA41Nv38VCf9jKD/9FCeSKl8pKdQam0JuLUtTuAl9iYUxOB1Z0IFYd85vZrZ6BFgp9P08xcZ0qAQ/758+c/ITpJGzYuNrXYCJXeXckZhQvBYupQBG8trtQXpfQgal28ePEggnjNFAVRW6QrmVsLyB+M4t8E7DpIc3el/qhAGUImv3Xr1mch6xuFVVojGwqFVcxAQrC7K5lTDjobc3NzkzY2mlNobUpntSAUSW4IfuD3OqjJHyGq2i5VMK3NhdZfLbuvBRaq0ERsfPHnoOXl5crWY468g1d0SwBHKUfglF5uDBKhaEEiSJ1G7Pl8lrHX3cXbCMTwSiSRNtw5oyBoBGHMcY8uLS1N8adUHB7zUX8/6WT07Cxd+teC4P9SkGiEsDmIn3j3Iia28KZR2xPzyREjCEzAjA5C6i47o/3sOMTvvFHbawEiZMMq3GDOGSx1l7MqtfOZeL2QIL6rpQ5zet8Lp30r5AI5/Y86/At4NZ9SVgsOqQAAAABJRU5ErkJggg=="
                    }, null, -1), (0,
                    ec.createElementVNode)("span", null, "封面上传中", -1)]), 512), [[ec.vShow, $.value]]), (0,
                    ec.createElementVNode)("div", {
                        class: "operator default column center noCover pointer",
                        onClick: x[0] || (x[0] = function(n) {
                            return edit("change")
                        }
                        )
                    }, x[7] || (x[7] = [(0,
                    ec.createElementVNode)("img", {
                        src: gw
                    }, null, -1), (0,
                    ec.createElementVNode)("div", {
                        class: "text"
                    }, " 修改封面 ", -1)]))], 6)) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        key: 1,
                        class: (0,
                        ec.normalizeClass)(["default column center pointer", X.value.video >= 4 / 3 ? "row" : X.value.video <= 3 / 4 ? "column" : "origin"]),
                        style: (0,
                        ec.normalizeStyle)({
                            backgroundImage: "url(".concat(Z.value || S.value, ")"),
                            aspectRatio: "".concat(formatRatio(X.value.video))
                        }),
                        onClick: x[1] || (x[1] = function(n) {
                            return edit("upload")
                        }
                        )
                    }, x[8] || (x[8] = [(0,
                    ec.createElementVNode)("div", {
                        class: "column center noCover pointer uploadCover",
                        style: {
                            width: "100%",
                            height: "100%"
                        }
                    }, [(0,
                    ec.createElementVNode)("img", {
                        src: gw
                    }), (0,
                    ec.createElementVNode)("div", {
                        class: "text"
                    }, " 设置封面 ")], -1)]), 6)), U.value !== (0,
                    ec.unref)(eX.th).Hide ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", hv, [(0,
                    ec.createElementVNode)("div", hm, (0,
                    ec.toDisplayString)(U.value === (0,
                    ec.unref)(eX.th).Loading ? "智能推荐封面生成中，请稍等" : "智能推荐封面"), 1), (0,
                    ec.createElementVNode)("div", hf, [((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(q.value, function(n) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("div", {
                            key: n.fileId,
                            style: {
                                flex: 1
                            },
                            class: "default"
                        }, [n && U.value !== (0,
                        ec.unref)(eX.th).Loading ? ((0,
                        ec.openBlock)(),
                        (0,
                        ec.createBlock)((0,
                        ec.unref)(gx.Z), {
                            key: 0,
                            placement: "bottom",
                            arrow: ""
                        }, {
                            content: (0,
                            ec.withCtx)(function() {
                                return [(0,
                                ec.createElementVNode)("div", hp, [(0,
                                ec.createElementVNode)("div", {
                                    style: (0,
                                    ec.normalizeStyle)({
                                        aspectRatio: "".concat(formatRatio(X.value.video)),
                                        height: "200px",
                                        backgroundImage: "url(".concat(n.url, ")")
                                    }),
                                    class: (0,
                                    ec.normalizeClass)(["cover-image-popover", X.value.video >= 4 / 3 ? "row" : X.value.video <= 3 / 4 ? "column" : "origin"])
                                }, null, 6)])]
                            }),
                            default: (0,
                            ec.withCtx)(function() {
                                return [(0,
                                ec.createElementVNode)("div", {
                                    style: (0,
                                    ec.normalizeStyle)({
                                        backgroundImage: "url(".concat(n.url, ")")
                                    }),
                                    class: (0,
                                    ec.normalizeClass)(["cover-image", X.value.video >= 4 / 3 ? "row" : X.value.video <= 3 / 4 ? "column" : "origin"]),
                                    onClick: function(d) {
                                        return selectRecommend(n)
                                    }
                                }, null, 14, hg)]
                            }),
                            _: 2
                        }, 1024)) : ((0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("div", hh, x[9] || (x[9] = [(0,
                        ec.createElementVNode)("img", {
                            src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABP0lEQVR4XsWX3WoDIRBGB1pSKPTK3KS04G0DgUDe/93ioVvQ2R3XWJ0c+CAYnRln/FuRdl6TQlJM+km6Jt0W8Zs2/qMPfYfxlvQtpcMWxWVsN8ziS9aGH9VJOiDyi6yN9Qpbzdl4F9s5ZfhM+pDS4MvSRqmssbRju4o1c9pw0EoQ2w7BmmwNYlbVQQaMYay2Z9pisejOpPu/YGPXHqnXzol+FMy6ugijlM53azUSHOnZh6LHZHCmZ+9KlHm1b4JLJA/gkf0+BH3JuC2+P3LnyJ2nB6BLUD0wZvD0RRilDMA8r2cRpAyAkrjCttPrwL0M+t52vYzgIGUAyP1I1llAXS/aXkj5yCdZF5RiKwjaQtZvKrVnOe1khF0y9PNLY2VCa3pW8hftllwOLbIRZe0cuT7f2AmkPCad5df5Me/Qwx2UXizmOABpFAAAAABJRU5ErkJggg=="
                        }, null, -1)])))])
                    }), 128))])])) : (0,
                    ec.createCommentVNode)("", !0)])]), (0,
                    ec.createVNode)((0,
                    ec.unref)(fL.Z), {
                        "z-index": 200,
                        size: 1e3,
                        "with-footer": !1,
                        class: "cover-modal",
                        visible: et.value,
                        "onUpdate:visible": x[2] || (x[2] = function(n) {
                            return et.value = n
                        }
                        ),
                        title: "设置封面",
                        container: "#app",
                        maskStyle: {
                            overflow: "auto",
                            left: 0,
                            top: 0,
                            touchAction: "none",
                            bottom: 0,
                            right: 0
                        },
                        style: {
                            position: "relative",
                            transform: "none",
                            margin: "80px auto",
                            left: "auto",
                            top: "auto",
                            height: "600px",
                            minHeight: "600px"
                        },
                        closeable: !1
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(nl.VZ), {
                                "backup-cover-urls": h.value,
                                width: z.value.width,
                                height: z.value.height,
                                "cover-url": _.value,
                                "default-template": H.value,
                                "video-url": C.value,
                                needTranscode: I.value,
                                transcodeVideoUrl: y.value,
                                recommendCover: M.value,
                                "default-rate": Q.value,
                                activeRecommendCoverIdx: G.value,
                                "hide-template": en.value,
                                "cover-context-url": Z.value,
                                "video-ratio": X.value.video,
                                onConfirm: handleUseCover,
                                onClose: close,
                                onSdkTracker: sdkTracker,
                                onTrackerEvent: ubaTracker,
                                onReportMaterialPoints: reportMaterialPoints,
                                impression: ea.value,
                                "confirm-loading": W.value
                            }, null, 8, ["backup-cover-urls", "width", "height", "cover-url", "default-template", "video-url", "needTranscode", "transcodeVideoUrl", "recommendCover", "default-rate", "activeRecommendCoverIdx", "hide-template", "cover-context-url", "video-ratio", "impression", "confirm-loading"])]
                        }),
                        _: 1
                    }, 8, ["visible"]), (0,
                    ec.withDirectives)((0,
                    ec.createVNode)(g5, {
                        "show-modal": K.value && !v.value,
                        onSetModalVisible: setModalVisible,
                        onConfirm: confirm,
                        status: N.value,
                        video: d.value,
                        "video-url": C.value,
                        exacting: k.value,
                        transcodeVideoUrl: y.value,
                        needTranscode: I.value,
                        coverImgList: h.value,
                        videoRotation: m.value
                    }, null, 8, ["show-modal", "status", "video", "video-url", "exacting", "transcodeVideoUrl", "needTranscode", "coverImgList", "videoRotation"]), [[ec.vShow, K.value]])], 64)
                }
            }
        });
        let hN = (0,
        eN.default)(hy, [["__scopeId", "data-v-03290cfa"]]);
        var hk = {
            key: "orders",
            stateSelector: ["privacyInfo", "coOrderId", "themeColor", "theme", "isCanUseOrder", "orderExclusiveText", "orderContext", "selectedOrder", "noteId", "publishType", "updateTemp"],
            position: eX.eE.Commerce,
            component: vY,
            commerceName: "内容合作",
            priority: 10
        }
          , hI = {
            key: "collections",
            stateSelector: ["userInfo", "collectionId", "collectionExclusiveText", "isCanBindCollection"],
            position: eX.eE.Extension,
            component: v1
        }
          , hC = {
            key: "address",
            stateSelector: ["postLoc", "postLocs", "noteId"],
            position: eX.eE.Extension,
            component: v6,
            priority: 10
        }
          , hb = {
            key: "group",
            stateSelector: ["groupBind", "noteId", "publishType"],
            position: eX.eE.Extension,
            component: mc,
            priority: 5
        }
          , hE = {
            key: "editor",
            stateSelector: ["title", "descInnerHTML", "userInfo"],
            position: eX.eE.ContentEditor,
            component: mH
        }
          , plugin_BasePlugin = function BasePlugin(n) {
            var d;
            (0,
            eO._)(this, BasePlugin),
            (0,
            eU._)(this, "component", void 0),
            (0,
            eU._)(this, "commerceName", ""),
            this.component = n.component,
            this.commerceName = null !== (d = n.commerceName) && void 0 !== d ? d : ""
        }
          , hA = new (function(n) {
            function EventsPlugin(n) {
                var d;
                return (0,
                eO._)(this, EventsPlugin),
                d = (0,
                mO._)(this, EventsPlugin, [{
                    component: n
                }]),
                (0,
                eU._)(d, "key", "events"),
                (0,
                eU._)(d, "stateSelector", []),
                (0,
                eU._)(d, "position", eX.eE.Extension),
                (0,
                eU._)(d, "commerceName", "events"),
                (0,
                eU._)(d, "priority", 100),
                d
            }
            return (0,
            mj._)(EventsPlugin, n),
            EventsPlugin
        }(plugin_BasePlugin))(fI)
          , hw = new (function(n) {
            function EventsPlugin(n) {
                var d;
                return (0,
                eO._)(this, EventsPlugin),
                d = (0,
                mO._)(this, EventsPlugin, [{
                    component: n
                }]),
                (0,
                eU._)(d, "key", "cover"),
                (0,
                eU._)(d, "stateSelector", [eX.QD.CoverUrl, eX.QD.NoteId, eX.QD.Cover, eX.QD.Video, eX.QD.VideoUrl, eX.QD.Status, eX.QD.NeedTranscode, eX.QD.VideoBlobUrl, eX.QD.VideoRotation, eX.QD.RecommendCovers, eX.QD.NoteId, eX.QD.VideoRotation, eX.QD.TranscodeVideoUrl, eX.QD.Exacting, eX.QD.CoverImgList, eX.QD.CoverContext, eX.QD.RecommendCoversStatus, eX.QD.FirstFrameCover, eX.QD.FirstFrameCoverUrl, eX.QD.UseCoverTemplate]),
                (0,
                eU._)(d, "position", eX.eE.VideoCover),
                (0,
                eU._)(d, "priority", 100),
                d
            }
            return (0,
            mj._)(EventsPlugin, n),
            EventsPlugin
        }(plugin_BasePlugin))(hN)
          , hx = new (function(n) {
            function CommentPermissionPlugin(n) {
                var d;
                return (0,
                eO._)(this, CommentPermissionPlugin),
                d = (0,
                mO._)(this, CommentPermissionPlugin, [{
                    component: n
                }]),
                (0,
                eU._)(d, "key", "commentPermission"),
                (0,
                eU._)(d, "stateSelector", [eX.QD.InteractionPermissionBind]),
                (0,
                eU._)(d, "position", eX.eE.UnderSettings),
                (0,
                eU._)(d, "priority", 20),
                d
            }
            return (0,
            mj._)(CommentPermissionPlugin, n),
            CommentPermissionPlugin
        }(plugin_BasePlugin))(gy)
          , hT = new (function(n) {
            function EventsPlugin(n) {
                var d;
                return (0,
                eO._)(this, EventsPlugin),
                d = (0,
                mO._)(this, EventsPlugin, [{
                    component: n
                }]),
                (0,
                eU._)(d, "key", "liveRemind"),
                (0,
                eU._)(d, "stateSelector", [eX.QD.LiveReservationBind, eX.QD.Theme, eX.QD.IsCanBindLiveReservation, eX.QD.LiveReservationExclusiveText, eX.QD.PublishType, eX.QD.NoteId, eX.QD.CoOrderId]),
                (0,
                eU._)(d, "position", eX.eE.AboveSettings),
                (0,
                eU._)(d, "commerceName", "直播引流"),
                (0,
                eU._)(d, "priority", 10),
                d
            }
            return (0,
            mj._)(EventsPlugin, n),
            EventsPlugin
        }(plugin_BasePlugin))(fV)
          , hM = new (function(n) {
            function LivePreviewPlugin(n) {
                var d;
                return (0,
                eO._)(this, LivePreviewPlugin),
                d = (0,
                mO._)(this, LivePreviewPlugin, [{
                    component: n
                }]),
                (0,
                eU._)(d, "key", "livePreview"),
                (0,
                eU._)(d, "stateSelector", [eX.QD.LiveNoticeBind, eX.QD.Theme, eX.QD.IsCanBindLiveNotice, eX.QD.LiveNoticeExclusiveText, eX.QD.UserInfo, eX.QD.CoOrderId, eX.QD.LiveContext, eX.QD.NoteId, eX.QD.PublishType]),
                (0,
                eU._)(d, "position", eX.eE.AboveSettings),
                (0,
                eU._)(d, "commerceName", "直播预告"),
                (0,
                eU._)(d, "priority", 20),
                d
            }
            return (0,
            mj._)(LivePreviewPlugin, n),
            LivePreviewPlugin
        }(plugin_BasePlugin))(gf)
          , hS = new (function(n) {
            function EventsPlugin(n) {
                var d;
                return (0,
                eO._)(this, EventsPlugin),
                d = (0,
                mO._)(this, EventsPlugin, [{
                    component: n
                }]),
                (0,
                eU._)(d, "key", "noteSketch"),
                (0,
                eU._)(d, "stateSelector", [eX.QD.PublishType, eX.QD.NoteSketch, eX.QD.IsCanBindNoteSketch, eX.QD.NoteSketchExclusiveText]),
                (0,
                eU._)(d, "position", eX.eE.Extension),
                (0,
                eU._)(d, "commerceName", "添加短剧"),
                (0,
                eU._)(d, "priority", 10),
                d
            }
            return (0,
            mj._)(EventsPlugin, n),
            EventsPlugin
        }(plugin_BasePlugin))(gA)
          , h_ = function() {
            function Publisher(n) {
                (0,
                eO._)(this, Publisher);
                var d = this;
                (0,
                eU._)(this, "localPlugins", []),
                (0,
                eU._)(this, "el", void 0),
                (0,
                eU._)(this, "app", void 0),
                (0,
                eU._)(this, "pluginInstance", {}),
                this.el = n.el,
                this.localPlugins = [hw, hC, hI],
                this.mountPublisher(n).then((0,
                V._)(function() {
                    return (0,
                    R.Jh)(this, function(v) {
                        return d.initUserInfo().then(function(v) {
                            var m, h, y, N, k, I, C, x, M, S, _, V, B, O, R, U, z, Z, Q = (0,
                            ej.Jk)((0,
                            e$.Z)()).userInfo;
                            (null === (h = Q.value) || void 0 === h ? void 0 : null === (m = h.permission) || void 0 === m ? void 0 : m.includes("COMMENT_PERMISSION")) && d.localPlugins.push(hx),
                            (null === (N = Q.value) || void 0 === N ? void 0 : null === (y = N.permission) || void 0 === y ? void 0 : y.includes("USER_GROUP")) && d.localPlugins.push(hb),
                            (null === (I = Q.value) || void 0 === I ? void 0 : null === (k = I.permission) || void 0 === k ? void 0 : k.includes("LIVE_PREVIEW")) && (null === (C = n.disablePluginMap) || void 0 === C ? void 0 : C.liveReview) !== !1 && d.localPlugins.push(hM),
                            (null === (M = Q.value) || void 0 === M ? void 0 : null === (x = M.permission) || void 0 === x ? void 0 : x.includes("LIVE_RESERVATION")) && (null === (S = n.disablePluginMap) || void 0 === S ? void 0 : S.liveNotice) !== !1 && d.localPlugins.push(hT),
                            (null === (V = Q.value) || void 0 === V ? void 0 : null === (_ = V.permission) || void 0 === _ ? void 0 : _.includes("SKETCH_COLLECTION")) && d.localPlugins.push(hS),
                            d.localPlugins.push(hE),
                            null !== (U = null === (O = Q.value) || void 0 === O ? void 0 : null === (B = O.permission) || void 0 === B ? void 0 : B.includes("creatorActivityCenter")) && void 0 !== U && U && d.localPlugins.push(hA),
                            null !== (z = null === (R = Q.value) || void 0 === R ? void 0 : R.kolCoOrder) && void 0 !== z && z && d.localPlugins.push(hk),
                            d.installPlugins(null !== (Z = n.plugins) && void 0 !== Z ? Z : []),
                            d.updatePropsToStore(n),
                            (0,
                            e2.Ux)()
                        }),
                        [2]
                    })
                }))
            }
            return (0,
            eR._)(Publisher, [{
                key: "createComponent",
                value: function createComponent(n, d) {
                    return (0,
                    ec.createApp)(n, d)
                }
            }, {
                key: "getDraftState",
                value: function getDraftState() {
                    var n = (0,
                    eG.ZP)();
                    return (0,
                    ec.toRaw)(n.$state)
                }
            }, {
                key: "getPublishState",
                value: function getPublishState() {
                    var n = (0,
                    eH.Z)();
                    return (0,
                    ec.toRaw)(n.$state)
                }
            }, {
                key: "getContextState",
                value: function getContextState() {
                    var n = (0,
                    eq.Z)();
                    return (0,
                    ec.toRaw)(n.$state)
                }
            }, {
                key: "getSettingStore",
                value: function getSettingStore() {
                    var n = (0,
                    eY.Z)();
                    return (0,
                    ec.toRaw)(n.$state)
                }
            }, {
                key: "getExclusiveState",
                value: function getExclusiveState() {
                    var n = eK();
                    return (0,
                    ec.toRaw)(n.$state)
                }
            }, {
                key: "getUserState",
                value: function getUserState() {
                    var n = (0,
                    e$.Z)();
                    return (0,
                    ec.toRaw)(n.$state)
                }
            }, {
                key: "mountPublisher",
                value: function mountPublisher(n) {
                    var d = this;
                    return (0,
                    V._)(function() {
                        var v, m, h;
                        return (0,
                        R.Jh)(this, function(y) {
                            return v = d.createComponent(vN, n),
                            (m = (0,
                            ej.WB)()).use(storeResetPlugin),
                            v.use(m),
                            v.use(ez.Z, {
                                locale: eZ.Z
                            }),
                            v.use(eF.dW, {
                                retry: !0,
                                disableCache: !0,
                                artifactName: "creator-publish",
                                artifactVersion: "",
                                env: "prod",
                                reportUserMapping: !0,
                                requests: [{
                                    name: "webExp",
                                    domain: "web_ab",
                                    type: "WEB_ID",
                                    defaultFlags: {}
                                }, {
                                    name: "userExp",
                                    domain: "web_user",
                                    type: "USER_ID",
                                    id: (0,
                                    V._)(function() {
                                        return (0,
                                        R.Jh)(this, function(n) {
                                            switch (n.label) {
                                            case 0:
                                                return [4, (0,
                                                e$.Z)().getUid()];
                                            case 1:
                                                return [2, n.sent() || ""]
                                            }
                                        })
                                    }),
                                    defaultFlags: {}
                                }]
                            }),
                            (h = document.createElement("div")).style.width = "100%",
                            h.style.height = "100%",
                            v.mount(h),
                            v.config.errorHandler = function(n) {
                                throw n
                            }
                            ,
                            d.app = v,
                            d.el.appendChild(h),
                            [2]
                        })
                    })()
                }
            }, {
                key: "unmount",
                value: function unmount() {
                    this.app && this.app.unmount()
                }
            }, {
                key: "installPlugins",
                value: function installPlugins(n) {
                    var d = e4()
                      , v = (0,
                    ej.Jk)(d).plugins;
                    if (d.installPlugin(this),
                    !n.length) {
                        v.value = this.localPlugins;
                        return
                    }
                    v.value = this.localPlugins.concat(n),
                    e8._.warn("插件实例化", v.value)
                }
            }, {
                key: "initUserInfo",
                value: function initUserInfo() {
                    return (0,
                    V._)(function() {
                        return (0,
                        R.Jh)(this, function(n) {
                            switch (n.label) {
                            case 0:
                                return [4, (0,
                                e$.Z)().bootstrap()];
                            case 1:
                                return n.sent(),
                                [2]
                            }
                        })
                    })()
                }
            }, {
                key: "updatePropsToStore",
                value: function updatePropsToStore(n) {
                    var d, v, m, h, y, N, k, I, C, x = (0,
                    eG.ZP)(), M = (0,
                    ej.Jk)(x), S = M.defaultTopics;
                    M.descInnerHTML,
                    M.desc,
                    M.descLength;
                    var _ = (0,
                    eH.Z)()
                      , V = (0,
                    ej.Jk)(_)
                      , B = V.theme
                      , O = V.step
                      , R = V.status
                      , U = V.noteId
                      , z = V.hasBootstrap
                      , Z = V.unFoldList
                      , Q = V.publishType
                      , J = V.openFilePickerOnInit
                      , H = V.openDraftOnInit
                      , G = n.id
                      , Y = n.sourceExtraInfo
                      , W = n.noteId;
                    _.batchSourceFromParams(G, Y),
                    W && (O.value = eX.cl.Publish,
                    R.value = eX.qb.Preview,
                    U.value = W),
                    n.theme && (B.value = n.theme),
                    (null === (d = n.topics) || void 0 === d ? void 0 : d.length) && (S.value = n.topics),
                    (null === (v = n.config) || void 0 === v ? void 0 : v.draft) && x.initDraftConfig(n.config.draft),
                    (null === (m = n.config) || void 0 === m ? void 0 : m.publish) && _.initPublishConfig(n.config.publish),
                    (null === (h = n.config) || void 0 === h ? void 0 : h.layout) && (Z.value = null !== (C = null === (I = n.config.layout) || void 0 === I ? void 0 : I.unfold) && void 0 !== C ? C : []),
                    (null === (y = n.config) || void 0 === y ? void 0 : y.defaultPublishType) && (Q.value = n.config.defaultPublishType),
                    (null === (N = n.config) || void 0 === N ? void 0 : N.openFilePickerOnInit) ? J.value = !0 : (null === (k = n.config) || void 0 === k ? void 0 : k.openDraftOnInit) && (H.value = !0),
                    z.value = !0
                }
            }]),
            Publisher
        }()
          , hV = (0,
        ec.defineComponent)({
            props: {
                noteId: {
                    type: String
                },
                systemId: {
                    type: String
                },
                theme: {
                    type: String
                },
                sourceExtraInfo: {
                    type: Object
                },
                plugins: {
                    type: Array
                },
                topics: {
                    type: Array
                },
                config: {
                    type: Object
                },
                disablePluginMap: {
                    type: Object
                }
            },
            setup: function(n, d) {
                var v, m = d.emit;
                (0,
                ec.onMounted)(function() {
                    var d = document.getElementById("creator-publish-dom")
                      , h = n.systemId
                      , y = n.plugins
                      , N = n.theme
                      , k = n.sourceExtraInfo
                      , I = n.disablePluginMap;
                    !v && (v = new h_((0,
                    O._)((0,
                    B._)({}, n), {
                        id: h,
                        plugins: y,
                        el: d,
                        theme: void 0 === N ? "red" : N,
                        sourceExtraInfo: void 0 === k ? {} : k,
                        disablePluginMap: I,
                        onPublishStart: function(n) {
                            m("onPublishStart", n)
                        },
                        onPublishSuccess: function(n, d) {
                            m("onPublishSuccess", n, d)
                        },
                        onPublishFail: function(n) {
                            m("onPublishFail", n)
                        },
                        onUpdateCancel: function() {
                            m("onUpdateCancel")
                        },
                        onTokenInvalid: function() {
                            m("onTokenInvalid")
                        },
                        onEditPageShow: function(n) {
                            m("onEditPageShow", n)
                        }
                    })),
                    window.publish = v,
                    m("onLoaded", v))
                }),
                (0,
                ec.onBeforeUnmount)(function() {
                    v && v.unmount()
                })
            }
        });
        let hD = (0,
        eN.default)(hV, [["render", Publishvue_type_template_id_28d781d2_ts_true_render]]);
        var hB = v(79150)
          , hL = v(90325)
          , hP = v(13334)
          , hO = (0,
        ec.defineComponent)({
            __name: "Index",
            setup: function(n) {
                var d, v = (0,
                eu.tv)(), m = (0,
                eu.yj)(), h = (0,
                ec.computed)(function() {
                    return hP.h.getters.permissions.product_note
                }), y = (0,
                ec.computed)(function() {
                    var n = [];
                    return h.value && n.push({
                        key: "goods",
                        stateSelector: hL.It,
                        position: hB.e.Commerce,
                        component: hL.ri,
                        commerceName: "店内商品",
                        priority: 1
                    }),
                    n
                }), N = null !== (d = (0,
                q.pm)("topics")) && void 0 !== d ? d : "[]", k = [];
                try {
                    k = JSON.parse(decodeURI(N)),
                    console.log("[seven] topics info:", k)
                } catch (n) {
                    console.error("解析默认话题失败")
                }
                var onPublishSuccess = function(n) {
                    v.push({
                        name: "Success",
                        query: {
                            source: (0,
                            ex.b5)(),
                            bind_status: n.orderBindStatus,
                            __debugger__: (0,
                            ex.Df)(),
                            proxy: (0,
                            ei.Gy)()
                        }
                    })
                }
                  , I = m.query
                  , C = I.source
                  , x = I.extraInfo
                  , M = I.target
                  , S = I.openFilePicker
                  , _ = I.useDraft;
                I.topics;
                var V = {};
                !function() {
                    var n;
                    if (x)
                        try {
                            var d, v = JSON.parse(x);
                            (null == v ? void 0 : null === (d = v.extraInfo) || void 0 === d ? void 0 : d.subType) && (V = null == v ? void 0 : v.extraInfo)
                        } catch (n) {}
                    C && (null === (n = String(C)) || void 0 === n ? void 0 : n.length) < 20 && (V.subType = C)
                }();
                var onTokenInvalid = function() {
                    selfLoginOut(),
                    loginOut().then(function() {
                        setTimeout(function() {
                            window.location.href = "/login"
                        }, 100)
                    })
                }
                  , B = {};
                return M && (B.defaultPublishType = "video" === M ? eX.QO.Video : eX.QO.Image),
                "true" === S ? B.openFilePickerOnInit = !0 : "true" === _ && (B.openDraftOnInit = !0),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(hD), {
                        "system-id": "web",
                        "source-extra-info": (0,
                        ec.unref)(V),
                        "note-id": "",
                        plugins: y.value,
                        config: B,
                        topics: (0,
                        ec.unref)(k),
                        onOnPublishSuccess: onPublishSuccess,
                        onOnTokenInvalid: onTokenInvalid
                    }, null, 8, ["source-extra-info", "plugins", "topics"])
                }
            }
        })
          , hR = {
            class: "bg"
        };
        function Indexvue_type_template_id_366996a8_scoped_true_render(n, d) {
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", hR, d[0] || (d[0] = [(0,
            ec.createStaticVNode)('<div class="left" data-v-366996a8><div class="title" data-v-366996a8></div><div class="desc" data-v-366996a8></div><div class="image" data-v-366996a8></div><div class="content1" data-v-366996a8></div><div class="content2" data-v-366996a8></div><div class="content3" data-v-366996a8></div><div class="content4" data-v-366996a8></div><div class="content5" data-v-366996a8></div><div class="footer" data-v-366996a8><div class="footer1" data-v-366996a8></div><div class="footer2" data-v-366996a8></div></div></div><div class="right" data-v-366996a8><div class="preview" data-v-366996a8></div><div class="button" data-v-366996a8></div></div>', 2)]))
        }
        let hU = (0,
        eN.default)({}, [["render", Indexvue_type_template_id_366996a8_scoped_true_render], ["__scopeId", "data-v-366996a8"]]);
        var hj = {
            key: 0,
            class: "skeleton"
        }
          , hF = {
            class: "content"
        }
          , hz = (0,
        ec.defineComponent)({
            __name: "Index",
            setup: function(n) {
                var d, v, m = (0,
                ec.computed)(function() {
                    return hP.h.getters.permissions.product_note
                }), h = (0,
                ec.ref)(!1), y = (0,
                ec.ref)(!1), N = (0,
                ec.computed)(function() {
                    var n = [];
                    return m.value && h.value && n.push({
                        key: "goods",
                        stateSelector: hL.It,
                        position: eX.eE.Commerce,
                        component: hL.ri,
                        commerceName: "店内商品",
                        priority: 1
                    }),
                    n
                }), k = null !== (v = (0,
                q.pm)("id")) && void 0 !== v ? v : "";
                (d = {
                    noteId: k
                },
                U.dJ.get("GET_GOODS_PERMISSION", {
                    params: d,
                    transform: !0
                })).then(function(n) {
                    var d;
                    (null == n ? void 0 : null === (d = n.permissions) || void 0 === d ? void 0 : d.includes("PRODUCT_NODE")) && (h.value = !0)
                }).finally(function() {
                    y.value = !0
                });
                var I = (0,
                eu.tv)()
                  , C = (0,
                eu.yj)()
                  , onPublishSuccess = function(n) {
                    I.push({
                        name: "editSuccess",
                        query: {
                            source: (0,
                            ex.b5)(),
                            bind_status: n.orderBindStatus
                        }
                    })
                }
                  , x = C.query
                  , M = x.source
                  , S = x.extraInfo
                  , _ = {};
                !function() {
                    var n;
                    if (S)
                        try {
                            var d, v = JSON.parse(S);
                            (null == v ? void 0 : null === (d = v.extraInfo) || void 0 === d ? void 0 : d.subType) && (_ = null == v ? void 0 : v.extraInfo)
                        } catch (n) {}
                    (null === (n = String(M)) || void 0 === n ? void 0 : n.length) < 20 && (_.subType = M)
                }();
                var onTokenInvalid = function() {
                    selfLoginOut(),
                    loginOut().then(function() {
                        setTimeout(function() {
                            window.location.href = "/login"
                        }, 100)
                    })
                }
                  , handleGoBackNoteManager = function() {
                    I.push({
                        path: "/new/note-manager",
                        query: {
                            source: (0,
                            ex.b5)()
                        }
                    })
                };
                return function(n, d) {
                    return y.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(hD), {
                        key: 1,
                        "system-id": "web",
                        "source-extra-info": (0,
                        ec.unref)(_),
                        "note-id": (0,
                        ec.unref)(k),
                        plugins: N.value,
                        onOnPublishSuccess: onPublishSuccess,
                        onOnTokenInvalid: onTokenInvalid,
                        onOnUpdateCancel: handleGoBackNoteManager
                    }, null, 8, ["source-extra-info", "note-id", "plugins"])) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", hj, [(0,
                    ec.createElementVNode)("div", hF, [(0,
                    ec.createVNode)(hU)])]))
                }
            }
        });
        let hZ = (0,
        eN.default)(hz, [["__scopeId", "data-v-a9c4c01c"]]);
        var getLoginMeta = function(n) {
            return {
                auth: {
                    check: ["isLogin"],
                    fallback: n ? {
                        path: "/login",
                        query: {
                            lastUrl: encodeURIComponent(window.location.pathname + window.location.search),
                            source: (0,
                            ex.b5)()
                        }
                    } : {}
                },
                pageInstance: "creator_service_platform",
                instanceId: "创作者服务平台"
            }
        }
          , hQ = [{
            path: "/publish/",
            component: eL.default,
            children: [{
                path: "site-error",
                name: "SiteError",
                component: ek
            }, {
                path: "post",
                name: "Post",
                redirect: {
                    name: "newPost"
                }
            }, {
                path: "imgNote",
                name: "imgNote",
                redirect: {
                    name: "newPost"
                }
            }, {
                path: "transfer",
                name: "transfer",
                component: eI
            }, {
                path: "success",
                name: "Success",
                component: eM,
                meta: (0,
                B._)({}, getLoginMeta(!0))
            }, {
                path: "editSuccess",
                name: "editSuccess",
                component: eB,
                meta: (0,
                B._)({}, getLoginMeta(!0))
            }, {
                path: "publish",
                name: "newPost",
                component: hO,
                meta: (0,
                B._)({
                    pageInstance: "creator_service_platform",
                    instanceId: "创作者-新发布视频页",
                    getTrackerData: function() {
                        var n = "";
                        try {
                            n = new URL(window.location.href).searchParams.get("source") || ""
                        } catch (n) {}
                        return el.tracker["7732"]({
                            channelTabId: "创作者-新发布视频页",
                            loginUserType: "creator",
                            channelType: n
                        })
                    },
                    micro: !1
                }, getLoginMeta(!0))
            }, {
                path: "update",
                name: "update",
                component: hZ,
                meta: (0,
                B._)({
                    micro: !1
                }, getLoginMeta(!0))
            }]
        }]
          , hJ = {
            class: "content"
        }
          , hH = {
            class: "con"
        }
          , hG = {
            class: "login-box-container"
        }
          , hY = {
            class: "footer"
        }
          , hW = {
            target: "_blank",
            href: "//icp.chinaz.com/info?q=xiaohongshu.com",
            title: "小红书_沪ICP备"
        };
        function Loginvue_type_template_id_3621716e_scoped_true_render(n, d, v, m, h, y) {
            var N = (0,
            ec.resolveComponent)("router-link")
              , k = (0,
            ec.resolveComponent)("TopBar")
              , I = (0,
            ec.resolveComponent)("video-box")
              , C = (0,
            ec.resolveComponent)("sso-login");
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                style: (0,
                ec.normalizeStyle)(n.loginPageStyle),
                class: "login-container"
            }, [(0,
            ec.createVNode)(k, {
                bs: {
                    paddingLeft: 20
                },
                class: "login-header",
                title: "创作服务平台"
            }, {
                right: (0,
                ec.withCtx)(function() {
                    return [(0,
                    ec.createVNode)(N, {
                        to: "/creator/encyclopedia?from_login=true",
                        tag: "span",
                        class: "link"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return d[0] || (d[0] = [(0,
                            ec.createTextVNode)(" 创作百科 ")])
                        }),
                        _: 1
                    })]
                }),
                _: 1
            }), (0,
            ec.createElementVNode)("div", hJ, [(0,
            ec.createElementVNode)("div", hH, [(0,
            ec.createVNode)(I, {
                "resize-login-page": n.resizeLoginPage
            }, null, 8, ["resize-login-page"]), (0,
            ec.createElementVNode)("div", hG, [(0,
            ec.createVNode)(C)])]), (0,
            ec.createElementVNode)("div", hY, [d[1] || (d[1] = (0,
            ec.createElementVNode)("div", {
                class: "links"
            }, [(0,
            ec.createElementVNode)("a", {
                target: "_blank",
                href: "https://www.xiaohongshu.com/protocols/about?language=zh-CN"
            }, " 关于小红书 ")], -1)), (0,
            ec.createElementVNode)("div", null, [(0,
            ec.createElementVNode)("a", hW, " 沪ICP备 13030189号 Copyright \xa9 " + (0,
            ec.toDisplayString)(n.copyrightTimeScope) + " 行吟信息科技（上海）有限公司 ", 1)])])])], 4)
        }
        var hq = v(48661)
          , hX = v(44114);
        function VideoBoxvue_type_template_id_7db28a5e_scoped_true_ts_true_render(n, d, v, m, h, y) {
            var N, k, I = (0,
            ec.resolveComponent)("video-item");
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                style: (0,
                ec.normalizeStyle)(n.videoBoxStyle),
                class: "video-box-container"
            }, [(0,
            ec.createElementVNode)("div", {
                style: (0,
                ec.normalizeStyle)(n.videoBoxStyle),
                class: "mask",
                onMousemove: d[0] || (d[0] = (0,
                ec.withModifiers)(function() {
                    for (var d = arguments.length, v = Array(d), m = 0; m < d; m++)
                        v[m] = arguments[m];
                    return n.handleMouseMove && (N = n).handleMouseMove.apply(N, (0,
                    ee._)(v))
                }, ["stop", "prevent"])),
                onMouseout: d[1] || (d[1] = function() {
                    for (var d = arguments.length, v = Array(d), m = 0; m < d; m++)
                        v[m] = arguments[m];
                    return n.handleMouseout && (k = n).handleMouseout.apply(k, (0,
                    ee._)(v))
                }
                )
            }, null, 36), (0,
            ec.createElementVNode)("div", {
                ref: "titleBox",
                style: (0,
                ec.normalizeStyle)(n.titleBoxStyle),
                class: "title-box"
            }, [(0,
            ec.createElementVNode)("span", {
                style: (0,
                ec.normalizeStyle)(n.titleFontSizeStyle),
                class: "title-line"
            }, d[2] || (d[2] = [(0,
            ec.createTextVNode)("加入我们"), (0,
            ec.createElementVNode)("br", null, null, -1), (0,
            ec.createTextVNode)("解锁创作者专属功能")]), 4), d[3] || (d[3] = (0,
            ec.createElementVNode)("span", {
                class: "des"
            }, "让创作发布、数据分析、商业变现更高效。", -1))], 4), (0,
            ec.createVNode)(I, {
                "cus-style": {
                    boxWidth: n.boxWidth,
                    boxHeight: n.boxHeight,
                    radiusPer: .145,
                    topPer: .45,
                    leftPer: .145,
                    bgColor: "#F6D6E7"
                },
                "mouse-location": n.mouseLocation,
                "video-url": "https://fe-video-qc.xhscdn.com/picasso-editor/f1dbcdb3e3dae24e5b04a39512c7eb6c5ef202c2.mp4_video_original_mp4"
            }, null, 8, ["cus-style", "mouse-location"]), (0,
            ec.createVNode)(I, {
                "cus-style": {
                    boxWidth: n.boxWidth,
                    boxHeight: n.boxHeight,
                    radiusPer: .106,
                    topPer: .85,
                    leftPer: .244,
                    bgColor: "#F6F3D6"
                },
                "mouse-location": n.mouseLocation,
                "video-url": "https://fe-video-qc.xhscdn.com/picasso-editor/f714d38ae9cba0b253cb1d22c1c3816d1c0e58e5.mp4_video_original_mp4"
            }, null, 8, ["cus-style", "mouse-location"]), (0,
            ec.createVNode)(I, {
                "cus-style": {
                    boxWidth: n.boxWidth,
                    boxHeight: n.boxHeight,
                    radiusPer: .18,
                    topPer: .534,
                    leftPer: .474,
                    bgColor: "#D7EDFA"
                },
                "mouse-location": n.mouseLocation,
                "video-url": "https://fe-video-qc.xhscdn.com/picasso-editor/c2eb6f3a166720cb47d75d82ce9baf252d4e966b.mp4_video_original_mp4"
            }, null, 8, ["cus-style", "mouse-location"]), (0,
            ec.createVNode)(I, {
                "cus-style": {
                    boxWidth: n.boxWidth,
                    boxHeight: n.boxHeight,
                    radiusPer: .103,
                    topPer: .145,
                    leftPer: .646,
                    bgColor: "#F6D6D6"
                },
                "mouse-location": n.mouseLocation,
                "video-url": "https://fe-video-qc.xhscdn.com/picasso-editor/1bc37eeafdc71585d23f2550f7eba8cf90497edf.mp4_video_original_mp4"
            }, null, 8, ["cus-style", "mouse-location"]), (0,
            ec.createVNode)(I, {
                "cus-style": {
                    boxWidth: n.boxWidth,
                    boxHeight: n.boxHeight,
                    radiusPer: .098,
                    topPer: .362,
                    leftPer: .803,
                    bgColor: "#C9D9D7"
                },
                "mouse-location": n.mouseLocation,
                "video-url": "https://fe-video-qc.xhscdn.com/picasso-editor/e127c2e0619048e7bfa67ce15162a54ff1d5bcd4.mp4_video_original_mp4"
            }, null, 8, ["cus-style", "mouse-location"]), (0,
            ec.createVNode)(I, {
                "cus-style": {
                    boxWidth: n.boxWidth,
                    boxHeight: n.boxHeight,
                    radiusPer: .063,
                    topPer: .53,
                    leftPer: .937,
                    bgColor: "#F6E1D6"
                },
                "mouse-location": n.mouseLocation,
                "video-url": "https://fe-video-qc.xhscdn.com/picasso-editor/61f51a6c21075bcfa52d4751404d72b37f4fc445.mp4_video_original_mp4"
            }, null, 8, ["cus-style", "mouse-location"]), (0,
            ec.createVNode)(I, {
                "cus-style": {
                    boxWidth: n.boxWidth,
                    boxHeight: n.boxHeight,
                    radiusPer: .151,
                    topPer: .78,
                    leftPer: .775,
                    bgColor: "#CCE0F0"
                },
                "mouse-location": n.mouseLocation,
                "video-url": "https://fe-video-qc.xhscdn.com/picasso-editor/a00472903313b9a87fedd3a69a854e37c6037a8a.mp4_video_original_mp4"
            }, null, 8, ["cus-style", "mouse-location"])], 4)
        }
        var hK = {
            key: 0,
            playsinline: "",
            disableremoteplayback: "",
            class: "video",
            autoplay: "",
            muted: "",
            loop: "",
            "mqn-lazyimage-video-no-play": "",
            "mqn-video-inview-play": ""
        }
          , h$ = ["src"];
        function VideoItemvue_type_template_id_abe72e0c_scoped_true_ts_true_render(n, d, v, m, h, y) {
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                style: (0,
                ec.normalizeStyle)(n.videoItemStyle),
                class: "video-item-container"
            }, [(0,
            ec.createElementVNode)("div", {
                ref: "circleBox",
                style: (0,
                ec.normalizeStyle)((0,
                O._)((0,
                B._)({}, n.circleStyle), {
                    background: n.cusStyle.bgColor
                })),
                class: "circle"
            }, [n.showVideo ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("video", hK, [(0,
            ec.createElementVNode)("source", {
                src: n.videoUrl,
                type: "video/mp4"
            }, null, 8, h$)])) : (0,
            ec.createCommentVNode)("", !0)], 4)], 4)
        }
        var h0 = (0,
        ec.defineComponent)({
            name: "VideoItem",
            props: {
                cusStyle: {
                    type: Object
                },
                mouseLocation: {
                    type: Object
                },
                videoUrl: String,
                bgColor: String
            },
            setup: function(n) {
                var d, v = (0,
                ec.reactive)({
                    mouseEventQueue: [],
                    lastLeftOffset: 0,
                    lastTopOffset: 0,
                    timePer: 0,
                    showVideo: !1,
                    videoItemStyle: (0,
                    ec.computed)(function() {
                        var d = n.cusStyle
                          , v = d.boxWidth
                          , m = d.boxHeight
                          , h = d.radiusPer
                          , y = d.topPer
                          , N = d.leftPer;
                        if (!v)
                            return {};
                        var k = v * h
                          , I = "".concat(2 * k, "px");
                        return {
                            width: I,
                            height: I,
                            "margin-top": "".concat(m * y - k, "px"),
                            "margin-left": "".concat(v * N - k, "px"),
                            "border-radius": I
                        }
                    }),
                    circleStyle: null
                });
                (0,
                ec.onMounted)(function() {
                    setTimeout(function() {
                        v.showVideo = !0
                    }, 500 * Math.random() + 1e3)
                });
                var circleMove = function(n, m) {
                    var h = 0;
                    d = setInterval(function() {
                        if (h > 120) {
                            clearInterval(d),
                            d = void 0,
                            v.lastLeftOffset = n,
                            v.lastTopOffset = m;
                            var y = v.mouseEventQueue.pop();
                            y && circleMove(y.tempLeftOffset, y.tempTopOffset);
                            return
                        }
                        var N = h / 120
                          , k = v.lastLeftOffset + (n - v.lastLeftOffset) * N
                          , I = v.lastTopOffset + (m - v.lastTopOffset) * N
                          , C = "translate(".concat(k, "px, ").concat(I, "px)");
                        v.circleStyle = {
                            transform: C
                        },
                        h += 1
                    }, 10)
                };
                return (0,
                ec.watch)(function() {
                    return n.mouseLocation
                }, function() {
                    var m = n.cusStyle
                      , h = m.boxWidth
                      , y = m.boxHeight
                      , N = m.radiusPer
                      , k = m.topPer
                      , I = m.leftPer
                      , C = n.mouseLocation
                      , x = C.offsetX
                      , M = C.offsetY;
                    if (h) {
                        var S, _, V = h * N * .15;
                        var B = (S = {
                            x: x,
                            y: M
                        },
                        Math.atan2((_ = {
                            x: h * I,
                            y: y * k
                        }).y - S.y, _.x - S.x) / Math.PI * 180 * Math.PI / 180)
                          , O = 0 - Math.sin(B) * V
                          , R = 0 - Math.cos(B) * V;
                        if (d) {
                            v.mouseEventQueue.push({
                                tempLeftOffset: R,
                                tempTopOffset: O
                            });
                            return
                        }
                        circleMove(R, O)
                    }
                }),
                (0,
                B._)({}, (0,
                ec.toRefs)(v))
            }
        });
        let h1 = (0,
        eN.default)(h0, [["render", VideoItemvue_type_template_id_abe72e0c_scoped_true_ts_true_render], ["__scopeId", "data-v-abe72e0c"]]);
        var h2 = (0,
        ec.defineComponent)({
            components: {
                VideoItem: h1
            },
            props: {
                resizeLoginPage: Function
            },
            setup: function(n) {
                var d = (0,
                ec.reactive)({
                    titleFontSizeStyle: {},
                    titleBoxStyle: {},
                    videoBoxStyle: {},
                    boxWidth: 0,
                    boxHeight: 0,
                    mouseLocation: {
                        offsetX: 0,
                        offsetY: 0
                    },
                    titleBox: null,
                    mouseTimer: null
                })
                  , startMouseMove = function() {
                    for (var n = 4, v = d.boxWidth, m = d.boxHeight, h = [], y = 0; y < 16; y++)
                        y < n ? h.push({
                            offsetX: y / n * v,
                            offsetY: 0
                        }) : y < 2 * n ? h.push({
                            offsetX: v,
                            offsetY: (y - n) / n * m
                        }) : y < 3 * n ? h.push({
                            offsetX: (3 * n - y) / n * v,
                            offsetY: m
                        }) : h.push({
                            offsetX: 0,
                            offsetY: (16 - y) / 4 * m
                        });
                    var N = 0;
                    d.mouseTimer = setInterval(function() {
                        N > 15 && (N = 0),
                        d.mouseLocation = h[N],
                        N += 1
                    }, 1210)
                }
                  , pageResize = function() {
                    n.resizeLoginPage();
                    var v = .56 * document.body.clientWidth;
                    v < 586 ? v = 586 : v > 1152 && (v = 1152);
                    var m = .6 * v;
                    d.boxWidth = v,
                    d.boxHeight = m,
                    d.videoBoxStyle = {
                        width: "".concat(v, "px"),
                        height: "".concat(m, "px")
                    },
                    setTimeout(function() {
                        var n, h = .45 * m - .145 * v, y = null == d ? void 0 : null === (n = d.titleBox) || void 0 === n ? void 0 : n.offsetHeight;
                        d.titleBoxStyle = {
                            "margin-top": "".concat(h - y - 25, "px")
                        }
                    }, 200)
                };
                return (0,
                ec.onMounted)(function() {
                    pageResize(),
                    window.onresize = function() {
                        var n = setTimeout(function() {
                            n && clearTimeout(n),
                            window.onresize = function() {
                                pageResize()
                            }
                        }, 500)
                    }
                    ,
                    startMouseMove()
                }),
                (0,
                O._)((0,
                B._)({}, (0,
                ec.toRefs)(d)), {
                    handleMouseMove: function(n) {
                        d.mouseTimer && (clearInterval(d.mouseTimer),
                        d.mouseTimer = null);
                        var v = setTimeout(function() {
                            v && clearTimeout(v);
                            var m = n.offsetX
                              , h = n.offsetY;
                            d.mouseLocation = {
                                offsetX: m,
                                offsetY: h
                            }
                        }, 50)
                    },
                    handleMouseout: function() {
                        d.mouseTimer && (clearInterval(d.mouseTimer),
                        d.mouseTimer = null),
                        startMouseMove()
                    }
                })
            }
        });
        let h4 = (0,
        eN.default)(h2, [["render", VideoBoxvue_type_template_id_7db28a5e_scoped_true_ts_true_render], ["__scopeId", "data-v-7db28a5e"]]);
        function SsoLoginvue_type_template_id_37bb7f85_ts_true_render(n, d, v, m, h, y) {
            var N = (0,
            ec.resolveComponent)("BeerLogin")
              , k = (0,
            ec.resolveComponent)("NewBsBox");
            return (0,
            ec.openBlock)(),
            (0,
            ec.createBlock)(k, {
                bs: {
                    width: "100%",
                    display: "flex"
                }
            }, {
                default: (0,
                ec.withCtx)(function() {
                    return [(0,
                    ec.createVNode)(k, null, {
                        default: (0,
                        ec.withCtx)(function() {
                            var d;
                            return [(0,
                            ec.createVNode)(N, {
                                ref: "qualLogin",
                                subsystem: "qual",
                                service: n.locationService,
                                "auto-login": !0,
                                "login-method-list": ["sms", "redScan"],
                                "biz-error-msg": n.bizErrorMsg,
                                env: n.getEnv(),
                                source: null !== (d = n.source) && void 0 !== d ? d : "",
                                onSsoSuccess: n.handleSsoSuccess,
                                onSsoFail: n.handleSsoFail
                            }, null, 8, ["service", "biz-error-msg", "env", "source", "onSsoSuccess", "onSsoFail"])]
                        }),
                        _: 1
                    })]
                }),
                _: 1
            })
        }
        var h3 = v(58447)
          , h5 = v(77202)
          , h8 = U.dJ.post
          , h6 = U.dJ.get
          , setUserInfoToStorage = function(n) {
            var d = {
                user: {
                    type: "User",
                    value: {
                        userId: n.userId,
                        loginUserType: "".concat(n.role)
                    }
                }
            };
            localStorage.setItem("USER_INFO", JSON.stringify(d)),
            localStorage.setItem("USER_INFO_FOR_BIZ", JSON.stringify(n))
        }
          , h9 = null;
        function phoneLogin_getUserInfo() {
            return _getUserInfo.apply(this, arguments)
        }
        function _getUserInfo() {
            return (_getUserInfo = (0,
            V._)(function() {
                var n, d, v, m = arguments;
                return (0,
                R.Jh)(this, function(h) {
                    switch (h.label) {
                    case 0:
                        if (n = m.length > 0 && void 0 !== m[0] ? m[0] : {},
                        !(m.length > 1 && void 0 !== m[1] && m[1]) && h9)
                            return [2, h9];
                        return [4, (0,
                        h5.sn)({
                            params: n
                        })];
                    case 1:
                        v = (null != (d = h.sent()) ? d : {
                            permissions: []
                        }).permissions,
                        hP.h.dispatch("setPermission", {
                            product_note: null == v ? void 0 : v.includes("PRODUCT_NODE"),
                            creatorActivityCenter: null == v ? void 0 : v.includes("creatorActivityCenter")
                        }),
                        h9 = d;
                        try {
                            setUserInfoToStorage(d)
                        } catch (n) {}
                        return [2, d]
                    }
                })
            })).apply(this, arguments)
        }
        function phoneLogin_login(n, d) {
            return h8("LOGIN", (0,
            O._)((0,
            B._)({}, n), {
                deviceFingerprint: d
            }))
        }
        function phoneLogin_logout() {
            return localStorage.removeItem("USER_INFO"),
            localStorage.removeItem("USER_INFO_FOR_BIZ"),
            h6("LOGOUT")
        }
        var h7 = v(59179)
          , ye = h7.Z.totalPermissions
          , getPermissionName = function(n, d, v) {
            for (var m = [], h = 0; h < n.length; h++) {
                var y = n[h];
                if (-1 !== d.indexOf(ye[y.name]))
                    m.push(y);
                else if (y.children) {
                    var N = getPermissionName(y.children, d, y);
                    N.children.length && m.push(N)
                }
            }
            return v ? (v.children = m,
            v) : m
        }
          , getRedirectUrl = function(n, d, v) {
            if (n)
                return n;
            if ("creator" === d)
                return "/new/home";
            var m, h = v[0] || {};
            return (null === (m = h.children) || void 0 === m ? void 0 : m.length) ? h.children[0].path : h.path
        }
          , yt = h7.Z.mcnMenu
          , yn = h7.Z.commonMenu
          , ya = (0,
        ec.defineComponent)({
            components: {
                BeerLogin: h3.Z,
                NewBsBox: em.Z
            },
            props: {},
            setup: function(n) {
                var d = (0,
                eu.yj)();
                (0,
                eu.tv)();
                var v = d.query
                  , m = v.lastUrl;
                v.redirectReason,
                v.selfLogout,
                m = decodeURIComponent(m || "");
                var h = (0,
                ec.reactive)({
                    bizErrorMsg: "",
                    bizReturnError: !1,
                    locationService: window.location.origin
                })
                  , y = (0,
                ex.b5)()
                  , N = (0,
                ec.ref)()
                  , handleUserInfo = function(n) {
                    var d = (0,
                    ee._)(yt).concat((0,
                    ee._)(yn))
                      , v = n.role
                      , h = getPermissionName(d, n.permissions)
                      , y = getRedirectUrl(m, v, h);
                    if (!y.startsWith("/")) {
                        window.location.replace("/new/home");
                        return
                    }
                    window.location.replace(y)
                };
                return (0,
                O._)((0,
                B._)({}, (0,
                ec.toRefs)(h)), {
                    qualLogin: N,
                    source: y,
                    handleSsoSuccess: function(n) {
                        if (!n) {
                            phoneLogin_getUserInfo().then(function(n) {
                                handleUserInfo(n)
                            });
                            return
                        }
                    },
                    handleSsoFail: function(n) {
                        h.bizErrorMsg = (null == n ? void 0 : n.message) || "登录失败"
                    },
                    getEnv: function() {
                        return location.host.includes("sit") ? "sit" : location.host.includes("beta") ? "beta" : "production"
                    }
                })
            }
        });
        let yo = (0,
        eN.default)(ya, [["render", SsoLoginvue_type_template_id_37bb7f85_ts_true_render]]);
        var yr = (0,
        ec.defineComponent)({
            components: {
                TopBar: hq.Z,
                VideoBox: h4,
                SsoLogin: yo
            },
            setup: function() {
                var n = (0,
                ec.reactive)({
                    loginPageStyle: {},
                    copyrightTimeScope: "2014-".concat((0,
                    hX.p6)(new Date, "YYYY"))
                });
                return (0,
                O._)((0,
                B._)({}, (0,
                ec.toRefs)(n)), {
                    resizeLoginPage: function() {
                        var d = document.body.clientWidth;
                        d >= 1024 && (n.loginPageStyle = {
                            "min-height": "".concat(.36 * d + 72 + 84 + 80, "px")
                        })
                    }
                })
            }
        });
        let yi = (0,
        eN.default)(yr, [["render", Loginvue_type_template_id_3621716e_scoped_true_render], ["__scopeId", "data-v-3621716e"]]);
        var yl = {
            class: "topicContainer"
        }
          , yc = ["src"]
          , yu = {
            class: "post-button"
        };
        function topicvue_type_template_id_fa49cee8_scoped_true_ts_true_render(n, d, v, m, h, y) {
            var N = (0,
            ec.resolveComponent)("BeerIcon");
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", null, [(0,
            ec.createElementVNode)("div", yl, [(0,
            ec.createElementVNode)("iframe", {
                title: "Topic",
                width: "100%",
                height: "100%",
                frameborder: "no",
                src: n.topicSrc
            }, null, 8, yc)]), (0,
            ec.withDirectives)((0,
            ec.createElementVNode)("div", yu, [(0,
            ec.createVNode)(N, {
                icon: "camera-b",
                color: "white",
                size: "25"
            }), (0,
            ec.createElementVNode)("div", {
                class: "post-text",
                onClick: d[0] || (d[0] = function(d) {
                    return n.handlePost()
                }
                )
            }, [(0,
            ec.renderSlot)(n.$slots, "default", {}, function() {
                return [d[1] || (d[1] = (0,
                ec.createTextVNode)("立即发布"))]
            }, !0)])], 512), [[ec.vShow, n.isPostVideoBtn]])])
        }
        var ys = v(11363)
          , yd = v(54797)
          , yv = (0,
        ec.defineComponent)({
            name: "Topic",
            components: {
                BeerIcon: ys.Z
            },
            setup: function(n) {
                var d = ""
                  , v = (0,
                ec.reactive)({
                    topicId: "",
                    topicSrc: "",
                    isPostVideoBtn: !1
                });
                return (0,
                ec.onMounted)(function() {
                    phoneLogin_getUserInfo().then(function(n) {
                        v.isPostVideoBtn = "mcn" !== n.role && -1 === n.permissions.indexOf("mcnManage")
                    });
                    var n = yd.ZP.getUrlParam("topic");
                    d = decodeURIComponent(yd.ZP.getUrlParam("page_entrance_type") || ""),
                    v.topicId = n,
                    v.topicSrc = "https://www.xiaohongshu.com/page/topics/".concat(n, "?fullscreen=true&naviHidden=yes&extweb=true")
                }),
                (0,
                O._)((0,
                B._)({}, (0,
                ec.toRefs)(v)), {
                    handlePost: function() {
						debugger
                        // Q.Q.push(el.tracker["31212"]({
                        //     channelTabId: (0,
                        //     q.pm)("topic"),
                        //     channelType: (0,
                        //     q.pm)("page_entrance_type")
                        // }));
                        // var n = v.topicId
                        //   , m = window.location.origin
                        //   , h = "".concat(m, "/publish/publish");
                        // setTimeout(function() {
                        //     var v;
                        //     window.location.href = "".concat(h, "?topicId=").concat(n, "&extraInfo=").concat(encodeURIComponent(JSON.stringify({
                        //         extraInfo: {
                        //             subType: "creator_center",
                        //             page_entrance_type: d,
                        //             topic_id: v = n
                        //         },
                        //         type: "web",
                        //         ids: v
                        //     })))
                        // }, 100)
                    }
                })
            }
        });
        let ym = (0,
        eN.default)(yv, [["render", topicvue_type_template_id_fa49cee8_scoped_true_ts_true_render], ["__scopeId", "data-v-fa49cee8"]]);
        var yf = v.p + "resource/svg/logo.a4dd64a1.svg"
          , yp = {
            class: "bg_fff"
        }
          , yg = {
            class: "mcn-introduce"
        }
          , yh = {
            class: "main"
        }
          , yy = {
            class: "des"
        }
          , yN = {
            class: "btn-box"
        }
          , yk = ["src"]
          , yI = {
            key: 0
        }
          , yC = {
            class: "search-modal-bg"
        }
          , yb = {
            class: "search-box"
        }
          , yE = {
            class: "search-title-box"
        }
          , yA = {
            class: "input-group"
        }
          , yw = {
            key: 0,
            class: "input-search-content-box"
        }
          , yx = ["onClick"]
          , yT = {
            key: 0,
            class: "mcn-no-data-img-box"
        }
          , yM = {
            key: 1,
            class: "mcn-no-data-img-box loading-box"
        }
          , yS = {
            key: 2,
            class: "mcn-data-box"
        }
          , y_ = {
            class: "mcn-info-table"
        }
          , yV = {
            class: "mcn-data-table"
        }
          , yD = {
            class: "author-table"
        }
          , yB = {
            class: "mcn-data-table"
        }
          , yL = {
            key: 3,
            class: "mcn-no-data-img-box"
        }
          , yP = {
            class: "module-content"
        }
          , yO = {
            class: "step-number"
        }
          , yR = ["src"]
          , yU = {
            class: "step-name"
        }
          , yj = {
            class: "step-detail"
        }
          , yF = {
            class: "rights-content"
        }
          , yz = ["src"]
          , yZ = {
            class: "rights-name mt_28"
        }
          , yQ = {
            class: "rights-detail mt_16"
        };
        function MCNIntroducevue_type_template_id_3b257612_scoped_true_render(n, d, v, m, h, y) {
            var N, k, I, C, x = (0,
            ec.resolveComponent)("SearchInput");
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", yp, [(0,
            ec.createElementVNode)("div", yg, [(0,
            ec.createElementVNode)("div", yh, [d[17] || (d[17] = (0,
            ec.createElementVNode)("div", {
                class: "header"
            }, [(0,
            ec.createElementVNode)("img", {
                class: "logo",
                src: yf
            }), (0,
            ec.createElementVNode)("div", {
                class: "title"
            }, "MCN入驻")], -1)), (0,
            ec.createElementVNode)("div", yy, [d[5] || (d[5] = (0,
            ec.createElementVNode)("div", {
                class: "des-title"
            }, "MCN 入驻", -1)), d[6] || (d[6] = (0,
            ec.createElementVNode)("div", {
                class: "brief"
            }, "小红书平台与有作者孵化、内容孵化、内容变现等需求的内容机构，进行官方业务合作的一种模式。入驻成功的 MCN 机构，小红书平台会为其提供全方位的官方合作支持。", -1)), (0,
            ec.createElementVNode)("div", yN, [(0,
            ec.createElementVNode)("div", {
                class: "btn",
                onClick: d[0] || (d[0] = function() {
                    for (var d = arguments.length, v = Array(d), m = 0; m < d; m++)
                        v[m] = arguments[m];
                    return n.turnToMcnApply && (N = n).turnToMcnApply.apply(N, (0,
                    ee._)(v))
                }
                )
            }, "申请入驻"), (0,
            ec.createElementVNode)("div", {
                class: "search-institution-info-btn",
                onClick: d[1] || (d[1] = function() {
                    for (var d = arguments.length, v = Array(d), m = 0; m < d; m++)
                        v[m] = arguments[m];
                    return n.searchInstitutioInfo && (k = n).searchInstitutioInfo.apply(k, (0,
                    ee._)(v))
                }
                )
            }, "机构信息查询")]), (0,
            ec.createElementVNode)("img", {
                class: "bg-img",
                src: n.bgImg,
                alt: ""
            }, null, 8, yk)]), n.isShowMcnSearch ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", yI, [(0,
            ec.createElementVNode)("div", yC, [(0,
            ec.createElementVNode)("div", yb, [(0,
            ec.createElementVNode)("div", yE, [d[7] || (d[7] = (0,
            ec.createElementVNode)("div", {
                class: "search-title"
            }, "小红书MCN查询", -1)), (0,
            ec.createElementVNode)("img", {
                src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGJSURBVHgB7dkxboMwFAZgx6rEyMYNOAkbbGxwQNjY2OAGnIINNkamtg8JFIIJtt/za1H7S5EcGSlfsLGfk8fnd8QNIsVNchvox9qY51lUVbW04zgWvu8L7ozjKNq2FUEQiCiKdn3bHe37fnuVZSmmaRKcAWRRFMvnd123vFdC4Vt4nre0AcmJXZEwqhAYzdVygEJnnufsWBUyy7LD1Ns9THBXObG6yAOUE2uCVEI5sKbIU6hLrA3yLdQF1hZ5CaXEYpBaUAosFqkNxWApkEZQGywV0hhqgqVEWkF1sNRIyANT4atAUJ7VdU2KRENV2OdQISHoCv91GqyhREL+zpnpbOipCxkUVPUwpWnqpOqyhp4tQWEYOqm6rKBX66SLEtEYqruYU2ONoKY7DiVWG2q7LVJhtaDYvZsCewmlKjCwWMmBpMBKLiQWKzmRGKzkRtpi5U8gbbAbFDo5kVfY12ps90MuN/IddhiG3TXbUQSQTdMsFyVJwoZ8Dkw9OG8BHAxK6G/P/9831PkCX91izIqtdEcAAAAASUVORK5CYII=",
                class: "mcn-search-close",
                onClick: d[2] || (d[2] = function() {
                    for (var d = arguments.length, v = Array(d), m = 0; m < d; m++)
                        v[m] = arguments[m];
                    return n.closeSearchModal && (I = n).closeSearchModal.apply(I, (0,
                    ee._)(v))
                }
                )
            })]), (0,
            ec.createElementVNode)("div", yA, [(0,
            ec.createElementVNode)("div", null, [(0,
            ec.createVNode)(x, {
                modelValue: n.searchValue,
                "onUpdate:modelValue": [d[3] || (d[3] = function(d) {
                    return n.searchValue = d
                }
                ), n.handleSearchInput],
                modelModifiers: {
                    trim: !0
                },
                class: "search-mcn-input",
                placeholder: "请输入你要查询的MCN机构名称"
            }, null, 8, ["modelValue", "onUpdate:modelValue"]), n.isShowFuzzyMatch ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", yw, [(0,
            ec.createElementVNode)("ul", null, [((0,
            ec.openBlock)(!0),
            (0,
            ec.createElementBlock)(ec.Fragment, null, (0,
            ec.renderList)(n.KeyWordResList, function(d, v) {
                return (0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("li", {
                    key: v,
                    onClick: function(v) {
                        return n.clickKeyWord(d)
                    }
                }, (0,
                ec.toDisplayString)(d.name), 9, yx)
            }), 128))])])) : (0,
            ec.createCommentVNode)("", !0)]), (0,
            ec.createElementVNode)("div", {
                class: (0,
                ec.normalizeClass)(n.isSearchBtnForbidden ? "search-btn-forbidden" : "search-btn-no-forbidden"),
                onClick: d[4] || (d[4] = function() {
                    for (var d = arguments.length, v = Array(d), m = 0; m < d; m++)
                        v[m] = arguments[m];
                    return n.searcMcnInfo && (C = n).searcMcnInfo.apply(C, (0,
                    ee._)(v))
                }
                )
            }, " 查询 ", 2)]), n.isShowMcnNoDataImg ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", yT, d[8] || (d[8] = [(0,
            ec.createElementVNode)("div", {
                class: "mcn-no-data-img-container"
            }, [(0,
            ec.createElementVNode)("img", {
                src: "https://picasso-static.xiaohongshu.com/fe-platform/e9b6208ea3d305b173642350adfcf843aee1d125.png",
                class: "mcn-no-data-img"
            }), (0,
            ec.createElementVNode)("div", {
                class: "mcn-no-data-text"
            }, " 暂无数据 ")], -1)]))) : (0,
            ec.createCommentVNode)("", !0), n.loading ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", yM, d[9] || (d[9] = [(0,
            ec.createElementVNode)("span", null, [(0,
            ec.createElementVNode)("img", {
                class: "loadingImg",
                src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBmaWxsPSIjODg4IiBkPSJNOCAyLjRBNS42IDUuNiAwIDEgMCAxMy42IDhhLjkuOSAwIDEgMSAxLjggMEE3LjQgNy40IDAgMSAxIDggLjZhLjkuOSAwIDAgMSAwIDEuOCIvPjwvc3ZnPg=="
            }), (0,
            ec.createTextVNode)(" 加载中，请稍后... ")], -1)]))) : (0,
            ec.createCommentVNode)("", !0), n.isShowMcnInfoPublicity ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", yS, [(0,
            ec.createElementVNode)("div", y_, [d[11] || (d[11] = (0,
            ec.createElementVNode)("div", {
                class: "title"
            }, "1.MCN机构信息", -1)), (0,
            ec.createElementVNode)("table", yV, [d[10] || (d[10] = (0,
            ec.createElementVNode)("tr", {
                class: "tr-title"
            }, [(0,
            ec.createElementVNode)("td", null, " MCN名称 "), (0,
            ec.createElementVNode)("td", null, " 主体名称 ")], -1)), (0,
            ec.createElementVNode)("tr", null, [(0,
            ec.createElementVNode)("td", null, (0,
            ec.toDisplayString)(n.currentCompanyName), 1), (0,
            ec.createElementVNode)("td", null, (0,
            ec.toDisplayString)(n.currentInstitutionName), 1)])])]), (0,
            ec.createElementVNode)("div", null, [d[13] || (d[13] = (0,
            ec.createElementVNode)("div", {
                class: "title"
            }, "2.旗下作者信息", -1)), (0,
            ec.createElementVNode)("div", yD, [(0,
            ec.createElementVNode)("table", yB, [d[12] || (d[12] = (0,
            ec.createElementVNode)("tr", {
                class: "tr-title"
            }, [(0,
            ec.createElementVNode)("td", null, " 作者昵称 "), (0,
            ec.createElementVNode)("td", null, " 作者简介 ")], -1)), ((0,
            ec.openBlock)(!0),
            (0,
            ec.createElementBlock)(ec.Fragment, null, (0,
            ec.renderList)(n.authorsInfoArr, function(n) {
                return (0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("tr", {
                    key: n.nickName,
                    class: "some-authors-tr"
                }, [(0,
                ec.createElementVNode)("td", null, (0,
                ec.toDisplayString)(n.nickName), 1), (0,
                ec.createElementVNode)("td", null, (0,
                ec.toDisplayString)(n.desc), 1)])
            }), 128))])])])])) : (0,
            ec.createCommentVNode)("", !0), n.isShowNoMcnInstitutionImg ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", yL, d[14] || (d[14] = [(0,
            ec.createElementVNode)("div", {
                class: "mcn-no-data-img-container"
            }, [(0,
            ec.createElementVNode)("img", {
                src: "https://picasso-static.xiaohongshu.com/fe-platform/ffff4bc462b7f5aeddfa9c2f0dd51fdda3471a98.png",
                class: "mcn-no-data-img"
            }), (0,
            ec.createElementVNode)("div", {
                class: "mcn-no-data-text"
            }, " 未找到相关机构信息 ")], -1)]))) : (0,
            ec.createCommentVNode)("", !0)])])])) : (0,
            ec.createCommentVNode)("", !0), d[18] || (d[18] = (0,
            ec.createElementVNode)("div", {
                class: "module-title mt_243"
            }, "入驻申请流程", -1)), (0,
            ec.createElementVNode)("div", yP, [((0,
            ec.openBlock)(!0),
            (0,
            ec.createElementBlock)(ec.Fragment, null, (0,
            ec.renderList)(n.processList, function(v, m) {
                return (0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", {
                    key: m,
                    class: "content-item"
                }, [(0,
                ec.createElementVNode)("div", yO, [(0,
                ec.createElementVNode)("img", {
                    src: n.numList[m]
                }, null, 8, yR)]), (0,
                ec.createElementVNode)("div", yU, (0,
                ec.toDisplayString)(v.name), 1), (0,
                ec.createElementVNode)("div", yj, [((0,
                ec.openBlock)(!0),
                (0,
                ec.createElementBlock)(ec.Fragment, null, (0,
                ec.renderList)(v.list, function(n, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("p", {
                        key: v
                    }, [d[15] || (d[15] = (0,
                    ec.createElementVNode)("span", {
                        class: "dot"
                    }, "\xb7", -1)), (0,
                    ec.createTextVNode)((0,
                    ec.toDisplayString)(n), 1)])
                }), 128))])])
            }), 128))]), d[19] || (d[19] = (0,
            ec.createElementVNode)("div", {
                class: "module-title mt_160"
            }, "机构权益介绍", -1)), (0,
            ec.createElementVNode)("div", yF, [((0,
            ec.openBlock)(!0),
            (0,
            ec.createElementBlock)(ec.Fragment, null, (0,
            ec.renderList)(n.rightsList, function(n, v) {
                return (0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", {
                    key: v,
                    class: "rights-item"
                }, [(0,
                ec.createElementVNode)("img", {
                    class: "icon",
                    src: n.icon,
                    alt: ""
                }, null, 8, yz), (0,
                ec.createElementVNode)("div", yZ, (0,
                ec.toDisplayString)(n.name), 1), (0,
                ec.createElementVNode)("div", yQ, [((0,
                ec.openBlock)(!0),
                (0,
                ec.createElementBlock)(ec.Fragment, null, (0,
                ec.renderList)(n.list, function(n, v) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("p", {
                        key: v,
                        class: "flex-box"
                    }, [d[16] || (d[16] = (0,
                    ec.createElementVNode)("span", {
                        class: "dot"
                    }, "\xb7", -1)), (0,
                    ec.createElementVNode)("span", null, (0,
                    ec.toDisplayString)(n), 1)])
                }), 128))])])
            }), 128))])])]), d[20] || (d[20] = (0,
            ec.createStaticVNode)('<div class="copyright" data-v-3b257612><div class="corporate-name" data-v-3b257612><a href="https://www.xiaohongshu.com" data-v-3b257612>关于小红书</a></div><div class="backups" data-v-3b257612><a target="_blank" href="//beian.miit.gov.cn" title="小红书_沪ICP备" data-v-3b257612>沪ICP备 13030189号 Copyright \xa9 2014-2021 行吟信息科技（上海）有限公司</a></div></div>', 1))])
        }
        var yJ = v.p + "resource/image/bg.c2f53be1.png"
          , yH = v.p + "resource/image/1.1c4c364e.png"
          , yG = v.p + "resource/image/2.ff894d02.png"
          , yY = v.p + "resource/image/3.68226918.png"
          , yW = v.p + "resource/image/4.80ab086e.png"
          , yq = v.p + "resource/image/5.d62071bb.png"
          , yX = U.dJ.get
          , yK = (0,
        ec.defineComponent)({
            name: "MCNIntroduce",
            components: {
                SearchInput: lk.Z
            },
            setup: function() {
                (0,
                ec.onMounted)(function() {
                    console.log(1)
                });
                var n = (0,
                ec.reactive)({
                    numList: ["data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDQwIDQwIj48Y2lyY2xlIGN4PSIyMCIgY3k9IjIwIiByPSIyMCIgZmlsbD0iI0ZGMjQ0MiIgZmlsbC1vcGFjaXR5PSIuMDUiLz48cGF0aCBmaWxsPSIjRkYyNDQyIiBkPSJNMTIuMDY3IDIxLjI3M2MwIDIuOTYgMS4zNDEgNC45ODggNC4yMTYgNC45ODggMi44NjQgMCA0LjIwNS0yLjA0NSA0LjIwNS00Ljk4OHYtMi4xNmMwLTMuMjA0LTEuNTQ2LTQuOTA4LTQuMjA1LTQuOTA4LTIuNjcgMC00LjIxNiAxLjY5My00LjIxNiA0LjkwOXptMi4zNjQtMi4zODdjMC0xLjc1LjczMy0yLjY3IDEuODUyLTIuNjcgMS4xMDggMCAxLjg0MS45MiAxLjg0MSAyLjY3VjIxLjVjMCAxLjU0Ni0uNTk2IDIuNzE2LTEuODQgMi43MTYtMS4yNTYgMC0xLjg1My0xLjE3LTEuODUzLTIuNzE2ek0yNC42NDMgMTQuMzY0bC0yLjg3NSAxLjgxOHYyLjE4MmwyLjY1OS0xLjY3aC4wNjhWMjZoMi40NjZWMTQuMzY0eiIvPjwvc3ZnPg==", "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDQwIDQwIj48Y2lyY2xlIGN4PSIyMCIgY3k9IjIwIiByPSIyMCIgZmlsbD0iI0ZGMjQ0MiIgZmlsbC1vcGFjaXR5PSIuMDUiLz48cGF0aCBmaWxsPSIjRkYyNDQyIiBkPSJNMTAuOTQyIDIxLjI3M2MwIDIuOTYgMS4zNDEgNC45ODggNC4yMTYgNC45ODggMi44NjQgMCA0LjIwNS0yLjA0NSA0LjIwNS00Ljk4OHYtMi4xNmMwLTMuMjA0LTEuNTQ2LTQuOTA4LTQuMjA1LTQuOTA4LTIuNjcgMC00LjIxNiAxLjY5My00LjIxNiA0LjkwOXptMi4zNjQtMi4zODdjMC0xLjc1LjczMy0yLjY3IDEuODUyLTIuNjcgMS4xMDggMCAxLjg0MS45MiAxLjg0MSAyLjY3VjIxLjVjMCAxLjU0Ni0uNTk2IDIuNzE2LTEuODQgMi43MTYtMS4yNTYgMC0xLjg1My0xLjE3LTEuODUzLTIuNzE2ek0yOS4wNjMgMjZ2LTIuMDExaC00Ljg4NnYtLjA4bDEuNzA0LTEuNjdjMi4zODctMi4xNzcgMy4wMjktMy4yNjcgMy4wMzQtNC41OTEtLjAwNS0yLjAxNy0xLjY1My0zLjQ0My00LjE0Ny0zLjQ0My0yLjQ0MyAwLTQuMTIgMS40Ni00LjExNCAzLjczOGgyLjM0Yy0uMDEtMS4xMDguNjk0LTEuNzkgMS43NjItMS43OTUgMS4wMTcuMDA2IDEuNzc5LjY0MiAxLjc4NCAxLjY1OS0uMDA1LjkzMi0uNTczIDEuNTY4LTEuNjI1IDIuNThsLTQuMTQ3IDMuODRWMjZ6Ii8+PC9zdmc+", "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDQwIDQwIj48Y2lyY2xlIGN4PSIyMCIgY3k9IjIwIiByPSIyMCIgZmlsbD0iI0ZGMjQ0MiIgZmlsbC1vcGFjaXR5PSIuMDUiLz48cGF0aCBmaWxsPSIjRkYyNDQyIiBkPSJNMTAuNzA4IDIxLjI3M2MwIDIuOTYgMS4zNCA0Ljk4OCA0LjIxNiA0Ljk4OCAyLjg2NCAwIDQuMjA0LTIuMDQ1IDQuMjA0LTQuOTg4di0yLjE2YzAtMy4yMDQtMS41NDUtNC45MDgtNC4yMDQtNC45MDgtMi42NyAwLTQuMjE2IDEuNjkzLTQuMjE2IDQuOTA5em0yLjM2NC0yLjM4N2MwLTEuNzUuNzMzLTIuNjcgMS44NTItMi42NyAxLjEwOCAwIDEuODQuOTIgMS44NCAyLjY3VjIxLjVjMCAxLjU0Ni0uNTk2IDIuNzE2LTEuODQgMi43MTYtMS4yNTYgMC0xLjg1Mi0xLjE3LTEuODUyLTIuNzE2ek0yNC44NCAyNi4xNmMyLjY2NSAwIDQuNDM4LTEuMzgxIDQuNDc3LTMuNDU1LjAyMy0xLjI5Ni0uODA2LTIuNDItMi4wNTYtMi42OTR2LS4wMzRjLjY4MS0uMjkgMS42MjUtMS4zIDEuNjI1LTIuNSAwLTEuODMtMS42MDgtMy4yNzItNC4wMTItMy4yNzItMi4zOTIgMC00LjE4NyAxLjM5Ny00LjIxNiAzLjQwOWgyLjM1M2MuMDI4LS44ODcuODQtMS40NiAxLjg1Mi0xLjQ2Ni45ODkuMDA2IDEuNjUzLjYwOCAxLjY0OCAxLjQ3Ny4wMDUuOTItLjc3MyAxLjUzNC0xLjg4NyAxLjUzNGgtMS4wOXYxLjgwN2gxLjA5YzEuMzEzIDAgMi4xMzcuNjY1IDIuMTM3IDEuNjAyIDAgLjkyNi0uNzk2IDEuNTYzLTEuOTIgMS41NTctMS4wODYuMDA2LTEuODk5LS41NjItMS45NDQtMS40MkgyMC40MmMuMDQgMi4wNCAxLjg1OCAzLjQ1NCA0LjQyIDMuNDU0Ii8+PC9zdmc+", "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDQwIDQwIj48Y2lyY2xlIGN4PSIyMCIgY3k9IjIwIiByPSIyMCIgZmlsbD0iI0ZGMjQ0MiIgZmlsbC1vcGFjaXR5PSIuMDUiLz48cGF0aCBmaWxsPSIjRkYyNDQyIiBkPSJNMTEuMDYgMjEuMjczYzAgMi45NiAxLjM0IDQuOTg4IDQuMjE1IDQuOTg4IDIuODY0IDAgNC4yMDUtMi4wNDUgNC4yMDUtNC45ODh2LTIuMTZjMC0zLjIwNC0xLjU0NS00LjkwOC00LjIwNS00LjkwOC0yLjY3IDAtNC4yMTUgMS42OTMtNC4yMTUgNC45MDl6bTIuMzYzLTIuMzg3YzAtMS43NS43MzMtMi42NyAxLjg1Mi0yLjY3IDEuMTA4IDAgMS44NDEuOTIgMS44NDEgMi42N1YyMS41YzAgMS41NDYtLjU5NiAyLjcxNi0xLjg0IDIuNzE2LTEuMjU2IDAtMS44NTMtMS4xNy0xLjg1My0yLjcxNnpNMjguNjQ2IDIxLjk3N3YtNy42MTNoLTMuMDhsLTQuODUyIDcuNjQ3djEuOTQ0aDUuNThWMjZoMi4zNTJ2LTIuMDQ1aDEuNDQzdi0xLjk3OHptLTIuMzk4LTQuOTMxaC4wOTF2NC45MzFoLTMuMTQ3di0uMDl6Ii8+PC9zdmc+"],
                    processList: [{
                        name: "提交申请",
                        list: ["填写业务申请资料", "填写业务资料", "填写公司资质资料"]
                    }, {
                        name: "申请审核",
                        list: ["等待平台审核资料，全程需要 1~3 个工作日", "审核的结果会以短信形式发送至申请填写的手机号上或也可登录 MCN 机构平台进行进度查看"]
                    }, {
                        name: "签署合作协议",
                        list: ["申请通过后，根据您提交的公司信息，我们会通过专业的第三方电子合同机构为您完成电子合同的签署"]
                    }, {
                        name: "入驻成功",
                        list: ["合作协议签署成功后，机构账号会自动开通MCN机构管理后台权限，开始开展小红书 MCN 业务", "入驻问题咨询：小红书机构小助手（微信号：xhs_creator）"]
                    }],
                    rightsList: [{
                        icon: yH,
                        name: "作者管理",
                        list: ["绑定作者在平台内的签约关系", "查看、管理作者在平台上的内容、商业行为"]
                    }, {
                        icon: yG,
                        name: "内容孵化",
                        list: ["开展笔记创作业务", "运营签约作者孵化优质内容，提高作者粉丝量及机构内容体量"]
                    }, {
                        icon: yY,
                        name: "商业变现",
                        list: ["可直接开通 MCN 机构蒲公英商业权限", "整合笔记内容合作、好物推荐、直播等多个商业变现渠道，为机构提供商业价值", "管理旗下签约作者的商业合作、变现、结算等多个商业行为"]
                    }, {
                        icon: yW,
                        name: "运营扶持",
                        list: ["小红书官方 1v1 运营服务，日常运营问题及时、高效对接解决", "享受小红书面向 MCN 机构的评级、榜单等等机构特权业务", "享受针对 MCN 机构的流量扶持，获取流量推荐，赋能机构旗下签约作者"]
                    }, {
                        icon: yq,
                        name: "深度合作",
                        list: ["可与小红书平台开展更多深度合作，共建良好合作关系", "参与小红书官方论坛、会议，及时了解平台最新动向"]
                    }],
                    isShowMcnSearch: "",
                    searchValue: "",
                    currentSelectSearchItem: {},
                    isSearchBtnForbidden: !0,
                    fromClickSelect: !1,
                    isShowMcnNoDataImg: !0,
                    isShowMcnInfoPublicity: !1,
                    isShowNoMcnInstitutionImg: !1,
                    isShowFuzzyMatch: !1,
                    KeyWordResList: [],
                    loading: !1,
                    currentCompanyName: "",
                    currentInstitutionName: "",
                    currentMcnUserId: "",
                    authorsInfoArr: []
                })
                  , d = (0,
                ec.ref)(null);
                return (0,
                O._)((0,
                B._)({
                    bgImg: yJ
                }, (0,
                ec.toRefs)(n)), {
                    turnToMcnApply: function() {
                        window.location.href = "/new-mcn/entry"
                    },
                    searchInstitutioInfo: function() {
                        n.isShowMcnSearch = !0
                    },
                    handleSearchInput: function() {
                        !n.isSearchBtnForbidden && (n.isSearchBtnForbidden = !0),
                        n.KeyWordResList = [],
                        d.value && clearTimeout(d.value),
                        d.value = setTimeout(function() {
                            yX("MCN_DATA_NAMES", {
                                params: {
                                    fuzzyName: n.searchValue
                                },
                                transform: !1
                            }).then(function(d) {
                                d.mcns.forEach(function(d) {
                                    var v = {}
                                      , m = {};
                                    d.companyName === d.institutionName ? d.companyName && (v = (0,
                                    B._)({
                                        name: d.companyName
                                    }, d),
                                    n.KeyWordResList.push(v)) : (d.companyName && (v = (0,
                                    B._)({
                                        name: d.companyName
                                    }, d),
                                    n.KeyWordResList.push(v)),
                                    d.institutionName && (m = (0,
                                    B._)({
                                        name: d.institutionName
                                    }, d),
                                    n.KeyWordResList.push(m)))
                                }),
                                0 === n.KeyWordResList.length ? n.isShowFuzzyMatch = !1 : n.isShowFuzzyMatch = !0
                            })
                        }, 500)
                    },
                    closeSearchModal: function() {
                        n.isShowMcnSearch = !1,
                        n.searchValue = "",
                        n.KeyWordResList = [],
                        n.isShowFuzzyMatch = !1,
                        n.currentCompanyName = "",
                        n.currentInstitutionName = "",
                        n.currentMcnUserId = "",
                        n.authorsInfoArr = [],
                        n.isShowMcnNoDataImg = !0,
                        n.isShowMcnInfoPublicity = !1,
                        n.isShowNoMcnInstitutionImg = !1
                    },
                    clickKeyWord: function(d) {
                        n.searchValue = d.name,
                        n.currentSelectSearchItem = d,
                        n.isSearchBtnForbidden = !1,
                        n.isShowMcnNoDataImg = !1,
                        n.isShowMcnInfoPublicity = !1,
                        n.isShowFuzzyMatch = !1,
                        n.fromClickSelect = !0
                    },
                    searcMcnInfo: function() {
                        if (!!n.fromClickSelect)
                            n.isSearchBtnForbidden = !0,
                            n.loading = !0,
                            n.isShowNoMcnInstitutionImg = !1,
                            yX("MCN_DATA_SIGN_KOL", {
                                params: {
                                    mcnUserId: n.currentSelectSearchItem.mcnUserId
                                },
                                transform: !1
                            }).then(function(d) {
                                n.loading = !1,
                                0 !== d.kols.length ? (n.isShowNoMcnInstitutionImg = !1,
                                n.isShowMcnInfoPublicity = !0,
                                n.currentCompanyName = n.currentSelectSearchItem.companyName,
                                n.currentInstitutionName = n.currentSelectSearchItem.institutionName,
                                n.authorsInfoArr = d.kols) : (n.isShowNoMcnInstitutionImg = !0,
                                n.isShowMcnInfoPublicity = !1)
                            }),
                            n.fromClickSelect = !1
                    }
                })
            }
        });
        let y$ = (0,
        eN.default)(yK, [["render", MCNIntroducevue_type_template_id_3b257612_scoped_true_render], ["__scopeId", "data-v-3b257612"]]);
        var routes_config_getLoginMeta = function(n) {
            return {
                auth: {
                    check: n ? ["isLogin"] : [],
                    fallback: n ? {
                        path: "login",
                        query: {
                            lastUrl: encodeURIComponent(window.location.pathname + window.location.search),
                            redirectReason: "401"
                        }
                    } : {}
                },
                pageInstance: "creator_service_platform",
                instanceId: "创作者服务平台"
            }
        }
          , y0 = [{
            path: "",
            redirect: {
                path: "/login"
            }
        }, {
            name: "Login",
            path: "/login",
            component: yi
        }, {
            path: "/encyclopedia",
            redirect: {
                path: "/creator/encyclopedia"
            }
        }, {
            path: "/mcn-introduce",
            name: "MCNIntroduce",
            component: y$
        }, {
            name: "Topic",
            path: "/topic",
            component: ym,
            meta: {
                pageInstance: "creator_service_platform",
                instanceId: "笔记管理",
                getTrackerData: function() {
                    return el.tracker["31209"]({
                        channelTabId: (0,
                        q.pm)("topic"),
                        channelType: (0,
                        q.pm)("page_entrance_type")
                    })
                }
            }
        }, {
            name: "SiteError",
            path: "/site-error",
            component: function() {
                return v.e("257").then(v.bind(v, 9757))
            }
        }, {
            name: "AppLayout-noNeedLogin",
            path: "/creator/encyclopedia",
            component: function() {
                return Promise.resolve().then(v.bind(v, 66947))
            },
            meta: (0,
            O._)((0,
            B._)({}, routes_config_getLoginMeta(!1)), {
                micro: !0
            })
        }, {
            name: "AppLayout-creator",
            path: "/creator/:afterCreator(.*)",
            component: function() {
                return Promise.resolve().then(v.bind(v, 66947))
            },
            meta: (0,
            O._)((0,
            B._)({}, routes_config_getLoginMeta(!0)), {
                micro: !0
            })
        }, {
            name: "AppLayout-mcn",
            path: "/mcn/:afterMcn(.*)",
            component: function() {
                return Promise.resolve().then(v.bind(v, 66947))
            },
            meta: (0,
            O._)((0,
            B._)({}, routes_config_getLoginMeta(!0)), {
                micro: !0
            })
        }]
          , config_routes_config_getLoginMeta = function(n) {
            return {
                auth: {
                    check: ["isLogin"],
                    fallback: n ? {
                        path: "login",
                        query: {
                            lastUrl: encodeURIComponent(window.location.pathname + window.location.search),
                            redirectReason: "401"
                        }
                    } : {}
                },
                pageInstance: "creator_service_platform",
                instanceId: "创作者服务平台"
            }
        }
          , y1 = [{
            name: "new",
            path: "/new/",
            component: eL.default,
            children: [{
                name: "skitManager",
                path: "skit-manager",
                component: function() {
                    return v.e("167").then(v.bind(v, 70031))
                },
                redirect: "/new/skit-manager/index",
                meta: (0,
                O._)((0,
                B._)({
                    pageInstance: "skit-manager",
                    instanceId: "短剧管理"
                }, config_routes_config_getLoginMeta(!1)), {
                    micro: !1,
                    getTrackerData: function() {
                        return el.tracker["7732"]({
                            channelTabId: "短剧管理",
                            channelType: (0,
                            q.pm)("source"),
                            loginUserType: "creator"
                        })
                    }
                }),
                children: [{
                    name: "skitManagerIndex",
                    path: "index",
                    component: function() {
                        return v.e("185").then(v.bind(v, 46694))
                    },
                    meta: (0,
                    O._)((0,
                    B._)({
                        pageInstance: "skit_data_detail",
                        instanceId: "短剧管理"
                    }, config_routes_config_getLoginMeta(!1)), {
                        micro: !1
                    })
                }, {
                    name: "skit-data-detail",
                    path: "detail/:id",
                    component: function() {
                        return Promise.all([v.e("420"), v.e("602")]).then(v.bind(v, 36224))
                    },
                    meta: (0,
                    O._)((0,
                    B._)({
                        pageInstance: "skit_data_detail",
                        instanceId: "短剧详情"
                    }, config_routes_config_getLoginMeta(!1)), {
                        micro: !1
                    })
                }, {
                    name: "workManager",
                    path: "work-manager/:id",
                    component: function() {
                        return Promise.all([v.e("420"), v.e("27")]).then(v.bind(v, 91479))
                    },
                    meta: (0,
                    O._)((0,
                    B._)({
                        pageInstance: "work_manager",
                        instanceId: "作品管理"
                    }, config_routes_config_getLoginMeta(!1)), {
                        micro: !1
                    })
                }, {
                    name: "workDrag",
                    path: "work-drag/:id",
                    component: function() {
                        return v.e("137").then(v.bind(v, 93388))
                    },
                    meta: (0,
                    O._)((0,
                    B._)({
                        pageInstance: "work_drag",
                        instanceId: "作品拖拽"
                    }, config_routes_config_getLoginMeta(!1)), {
                        micro: !1
                    })
                }]
            }, {
                name: "noteManager",
                path: "note-manager",
                component: function() {
                    return Promise.all([v.e("420"), v.e("651"), v.e("126")]).then(v.bind(v, 84543))
                },
                meta: (0,
                O._)((0,
                B._)({
                    pageInstance: "creator_service_platform",
                    instanceId: "笔记管理"
                }, config_routes_config_getLoginMeta(!1)), {
                    micro: !1,
                    getTrackerData: function() {
                        return el.tracker["7732"]({
                            channelTabId: "笔记管理",
                            channelType: (0,
                            q.pm)("source"),
                            loginUserType: "creator"
                        })
                    }
                })
            }, {
                name: "home",
                path: "home",
                component: function() {
                    return Promise.all([v.e("420"), v.e("901"), v.e("733"), v.e("949"), v.e("915"), v.e("553"), v.e("31"), v.e("576")]).then(v.bind(v, 30318))
                },
                meta: (0,
                O._)((0,
                B._)({
                    pageInstance: "creator_service_platform",
                    instanceId: "创作者首页"
                }, config_routes_config_getLoginMeta(!1)), {
                    micro: !1,
                    getTrackerData: function() {
                        return el.tracker["7732"]({
                            channelTabId: "创作者首页",
                            channelType: (0,
                            q.pm)("source"),
                            loginUserType: "creator"
                        })
                    },
                    getPageEnd: function() {
                        return el.tracker["64235"]()
                    }
                })
            }, {
                name: "events",
                path: "events",
                component: function() {
                    return Promise.all([v.e("420"), v.e("31"), v.e("424")]).then(v.bind(v, 41596))
                },
                meta: (0,
                O._)((0,
                B._)({
                    instanceId: "活动中心"
                }, config_routes_config_getLoginMeta(!1)), {
                    micro: !1,
                    getTrackerData: function() {
                        return el.tracker["7732"]({
                            channelTabId: "活动中心",
                            channelType: (0,
                            q.pm)("source"),
                            loginUserType: "creator"
                        })
                    },
                    getPageEnd: function() {
                        return el.tracker["67990"]({
                            channelTabId: "活动中心"
                        })
                    }
                })
            }, {
                name: "inspiration",
                path: "inspiration",
                component: function() {
                    return Promise.all([v.e("420"), v.e("626")]).then(v.bind(v, 58930))
                },
                meta: (0,
                O._)((0,
                B._)({
                    instanceId: "笔记灵感"
                }, config_routes_config_getLoginMeta(!1)), {
                    micro: !1,
                    getTrackerData: function() {
                        return el.tracker["7732"]({
                            channelTabId: "笔记灵感",
                            channelType: (0,
                            q.pm)("source"),
                            loginUserType: "creator"
                        })
                    }
                })
            }]
        }, {
            name: "statistics",
            path: "/statistics/",
            component: eL.default,
            children: [{
                name: "AccountOverview",
                path: "account",
                component: function() {
                    return Promise.all([v.e("420"), v.e("901"), v.e("553"), v.e("518")]).then(v.bind(v, 93040))
                },
                meta: (0,
                O._)((0,
                B._)({
                    pageInstance: "account_overview",
                    instanceId: "账号概览"
                }, config_routes_config_getLoginMeta(!1)), {
                    micro: !1,
                    getTrackerData: function() {
                        return el.tracker["7732"]({
                            channelTabId: "账号概览",
                            channelType: (0,
                            q.pm)("source"),
                            loginUserType: "creator"
                        })
                    },
                    getPageEnd: function() {
                        return el.tracker["67990"]({
                            channelTabId: "账号概览"
                        })
                    }
                })
            }, {
                name: "dataAnalysis",
                path: "data-analysis",
                component: function() {
                    return Promise.all([v.e("998"), v.e("949"), v.e("649"), v.e("651"), v.e("619"), v.e("4")]).then(v.bind(v, 20324))
                },
                meta: (0,
                O._)((0,
                B._)({
                    pageInstance: "data_analysis",
                    instanceId: "账号概览"
                }, config_routes_config_getLoginMeta(!1)), {
                    micro: !1
                })
            }, {
                name: "note-data-detail",
                path: "note-detail",
                component: function() {
                    return Promise.all([v.e("420"), v.e("901"), v.e("733"), v.e("998"), v.e("651"), v.e("619"), v.e("556")]).then(v.bind(v, 1481))
                },
                meta: (0,
                O._)((0,
                B._)({
                    pageInstance: "note_data_detail",
                    instanceId: "笔记详情"
                }, config_routes_config_getLoginMeta(!1)), {
                    micro: !1
                })
            }]
        }]
          , y2 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAq8SURBVHgB7Z1pctTIEsfLZt/NGgRLuPmCIYKIh08w5gTDOwHMCeZxgrFP8HgneOYE4znBmBPgb2AHgeVg3wKzGMw++dOoehp1VknqVqvUyz9CqN2SGin/WZlZVamsMVNT3Lp1a2Lnzp0Xx8bGLo6Pj09+//69IV+zTbRsrVhnk/MjOTfef/v2bU0+L21ubi5NT0+vmxpizNQEicAvb9my5ScR2oz5W9hlYklIWfr69etN+bx4/vz5yNQAQQlA6Lt27boqGv5zIvTKIGQsChk3TGAyghBw+/btGdH036oWugcLst2YmppaMBWjMgKstovm/WrKNy9lAb8xJy1i3lSESghYWVn5VbR91rQ7zrqiMiJ6SgCmRuz7/02HGr9t2zYjrSbes23dujXe22OtEIEZsenm8+fP8eePHz/GG3+z7xA9J6InBIjgGyL4/8rHy0Wuk2vMgQMHYqHv3r07/rsMQMj79+/Nu3fv4v2XL18KXS9mc17IneuFsy6dgLt3716Rm71ucpobK/Q9e/bEQq8CkPDmzZuiZPSkNZRGAE5WhEhk85885yPs/fv3m71795am6Z0AIl68eJGbCGkN1zc2NubK6tiVQkBicv40OWw9gj906FBl2p4XBYmgNVwqwyR1TYBEOBdF6xG+1+TgNI8dOxabmjqjABGROPh/X7hwYcl0ga4ISOz9fNZ5hw8fNgcPHgxqaori5cuX8ZYDV6UDd8N0iI4JSGL7675z0PoTJ06YHTt2mH4EIez9+/czW4PI4dq5c+eumw7QEQF5hI/Go/n9pPUaCGFpCa9evfKe1ykJhQnIY3aOHj0aEzBIyGmSCpujQgQkDveW6zjajsmpW4RTFug3PHr0KG4VLojZmi7imHMTkBVq9ru9zwuZ3IlJ8PiFdSFoOm+ImstA08nKEv7p06cHXvhAJo3iZ2VcyoFYVsjM5EAuAujhGofwrdnx3NDAwbZ2T4DRSGSWiUwTJKbnajKiqeLUqVMDa/OzgE948OCB75RMp+wlIMvuE2ayDTPW19fNs2fPnIez/IHXBDFtaBzCt3H+sGNiYsIXck8kw/JOOAnA9EjIeVU7hg0cCf8fIAuPD7zMxJTroJMAYc7pRIgC+r2HWyZsIOI57vShqhTRfuOx+8MU8eQF4anHKjTu3LmjzpOoBLi0f2R6/MAXuJRTJnJ+0/oGbQRkaf8IbmCKmPNwIE7LabtG+RGn9jOFOIIfTLGSVKAhyYn6AT8QsLy8TBZDQ7t4pP354fMF6Ygo3QKuaFeNtL8YGBlwtYKkb9VEsyec9HpXtYuOHz9eCwIYgXz79q358OFDM9mKWSsURB4sdoA8+L59+4JHaswtP3nyRD0mQxgHbVZF613OaCfXQfsR9vPnz+OxFw2QwAZIvuJctJCJoVAjtDbdRps7SJxxPHvWNEGiQar5cTWlqsBU4NramlP4LnA+1+WcWC8dNuHMcezn5mf+wfy4UsVDaj/CQ5u7/Q3PYFlP4UrBQda2T2BN0Ix2IuYn1FAzmu/SXrSL++L+bDPHTDFbpTV5Riw5t+p5apvfqt0TbwPJbj4mIHktqO2kUOYHe64Jn4chxKNpa2NRPKiLOL4LkSjAvWoZFXL/P8luPn4KEf5F7WIcSQggrLTWIHAGAX0JXpYgrTdqM6SrhkeJZ/hnfHV1FVukEhDK/BDJpIFg80Y0jNFrJG1sbJiq4ZFhI55rF7upCp+HDTHkTIyvaX9R86FFILzAUTW4d1efhNdwx3kPVzuYfgOlKmhmopOWqClP0RczyoLr/pE91DS0g6E6MGhpmvyygoFQk0geZW5sFRYmtSOhCPAM5xaC9l5YqGfyEYAJUhOI+nnKkTBWc+ShojoXASj/eFKDoQ3bt283/Qgc+NOnT9u+R/ihWoAvi44jA9ECbG/48ePHbc7Wvp1TQ/QnAXZ01KJ1NDQNtP7kyZNBh6c9PmCiL9Mb8vRqyVKgQ1b3iaSBTe6xnS5fLn8dMLAJPpgkZqRo/kzMhIqAsgABTI21+QEcWV0TsOiYnTlzpvm3rQ9B6MlUYCs4xgsVIadVPa1w3UlA3dHq2OxntJxBOyZg0gNvtAYccohQ1DMGtY4PUF+5//Tpk+lHQAZRjzZ8EWpmzDUGRV07CIiKXNQv0HJztJHWKuBqAXIvr+kJr2kHXXF1v8BV7ibEpIynXlGED4i0IyEISHewLHgNqhNgjtIPH6IFeAmgrqbYorYjNNcQ0DQUoXXSMydZqw5wKTOyH5ce45Lroqq1xWY5pNGp2SBLIo2qQ2s7RqWBgrLjEk8TBUXaCVXbS4SvhYlZdRo0uBxu1aO8HhnG1XxjdZMbvamdEcIMaT1W7qOIMiB4RkXTgNyqW4A2L5Egtjy2vS9qZ7x+/dpUDVfOD73ZPNUPrfC1MDpEXpBLcazSx08qfmDBcVIQM3TkyBGj3Qu5nvRoNeHapKwoitT0kxBJxrRcT39qkX+a4c/KysqfWn4oWsNgVtWgUJLPBEIUQ87ANx9gz200GpWbH5QlPTYFqFt99uzZS/G92S9Fg/7QfgQzFCJ2ZjjBN25jWydblvAzimv0DC7rkRQNj9EkQB52XjvZjjJWDQQ3OTnZld2mN4zmhxiAQ/OzzA9oEkA4StPQzg7hjC0wfww9F7HfCJ7eM1uoIXUqL2oQM/9Ha+2IH+6O8ryieTPpi2wYGCpXFAfKeD4T63SuuJ+02bH1pUMXggU+7ReLMt/6d9sYxPLyMu+JNdLfM7yLLR0hG/fu3XMREE1NTZ1p/aJNVaSJ/E+7Eq0L4Qv6DRnaP5f+ro2AxBmrkzSMVNZ9kjs0XLZfEGmFv9sIwBlLK5jTfgG728m4zLCAF0uKaD9wVsxy+QJAeDgMBfqKAOVcXV11HW6z/RbOcEEY+8V1LKt25rABWdBz9xyfcx1zEiD2atH8vbpQG2DbY+uGDj7TI5j3LfrgDZiFuWvG4ZB59XPkD0xWXenIp/3ASwA9toQEFb7yAcMAQnPfm/jJkieR5yeyc0NpPq6+Acg7Tj9o4JkfPnzoPI7M8qw3k6vPLhHPrHFMW+KAMmopDxzwgQjfE4hE0jpmTQ7kIoC+AWumGIc/sAsdDENL4BkzFnWI15fJu8jPqHx9AWDzMzSfyZZpmWzJXb6+0LAhP+zrH3Bj1FIOVSKmlyDSQfN9wkc2RYQPOlrChBqYwrS3JC9vpzC3O1rCxI+OF/HJQ4JdV6BfC73aSKd2i/hYZJW2t+i3Kuu+sjfKub90s7xhWQu5/W4yVtGzVXfr/tIcKS28Z5wjrGYK91JRm59G1wSAIksZ1pUI26vN2bOvz1KGFtQdEps5q1WH1VAHIlrfK8s7pEIPl05WrRbzbEXiF5wLP6RhF2226whXATu9WjDnic7otdouZ9sKTJLsZoWIK0Wus2RQeJV9mQs628yODhPNFhLhR6Zk9IQAi6KtIQ1SDwlhmX3jM4TYdwjS5FinadMU7aalsBRAlEQ5i6ZH6CkBFt0SEQDxvHinsX0RVEKARR8QESVOdr4sJ5uFSgmwSMrk4x8umxqAlEyyAntpapz/twmIxFnPULfaVTq5V0DoZIRXqe3qfZiawJLBJmbqX8ZRy7QLRImm39zc3FwIKfRW1IaANChqSl3NpKxmg/pq1LdLSqxNmPb6FustW5S8gM5+ibcR6yLwNP4C0v8TZY6o50YAAAAASUVORK5CYII="
          , y4 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAmcSURBVHgB7V1rchM5EFZCILxxeBcFFecPAYqqTU6w4QRkT0D2BCwnIDnBZk+w4QQbTrDhBMk/CEWVh+L9KhyKQHhvf1rJjMdqSWOPZzT2fFWTcTIzjt1fq7sltVojIlCsr6/X9u7dOzMyMjIzOjo6+ePHjzr9GUctdsTRxEH3R3SvPH///v0hvd7Y2dnZmJ2dbYoAMSICgRL4/K5du34loc2J/4WdJTaIlI1v377doddrFy9ejEQAKJQACH3fvn0LpOFXldBzA5GxRmTcEgWTUQgBd+/enSNNv5m30C1YpePW9PT0qsgZuRGgtZ0077rI3rxkBfiNJWoRKyIn5ELA/fv3r5O2L4pOxxkqciOirwTA1JB9/1t0qfG7d+8W1GrkGcfY2Jg862txkMAE2XTx5csX+frTp0/ywO84d4m+E9EXAkjwdRL8n/RyPs1z9Iw4cuSIFPr+/fvl71kAhHz48EG8f/9enr9+/ZrqeTKbK0TuUj+cdeYEPHjw4Bp92GXhaW600A8cOCCFngdAwrt379KS0ZfWkBkBcLIkREQ2f/jcD2EfPnxYHDx4MDNN7wYg4vXr195EUGtY3t7eXsqqY5cJAcrk/Cs8bD0Ef/To0dy03RcpiUBruJKFSeqZAIpwZkjrIXyryYHTPHnypDQ1ISMFERE5+N8uX768IXpATwQoe7/iuu/YsWNiYmKiUFOTFm/evJGHBxaoA3dLdImuCVCx/bLtHmj9mTNnxPj4uCgjEMI+evTI2RpIDjcuXLiwLLpAVwT4CB8aD80vk9abgBAWLeHt27fW+7olITUBPmbnxIkTkoBBgqdJSm2OUhGgHO46dx3aDpMTWoSTFdBvePr0qWwVHMhszaZxzN4EuELNstt7X9DkjiTB4heaRNCsb4jqZaDRyXIJ/9y5cwMvfIAmjeR3xbgUAykryEx4wIsA9HAFI3xtdiwfaOCgW7slwKgrmTnhNEFkehbUiKYRZ8+eHVib7wJ8wuPHj223OJ2ylQCX3UeYiWOY0Ww2xcuXL9nLLn9gNUGYNhSM8HWcP+yo1Wq2kLumhuVZsATA9FDIuWC6BhtYCf8nIAuLD5zHxBR3kSWAmGOdCKKAsvdws4QORCzXWR9qlCK0X1js/jBFPL5AeGqxCvV79+4Z50mMBHDaX5keO+ALOOWkiZybpr5BBwEu7a/AA6YIcx4MZFpOxzOGN2G1H1OIFezAFCuSCkxQOVFtaCNgc3MTWQx108OV9vvD5guSEVGyBVwzPVVpfzpgZIBrBapv1UKrJ6x6vQ3TQ6dPny4FAUjASg4VY4CwiJAZc8vPnz83XqMhjAmdVRF32XOmm8ui/Xr6MElAUWNVOt3GNHegnLGcPWupBjUNo/nhmlJIwJc0Cb9I6IQz5trV1mv8gPnhUsXLoP0YDEubbpgHuBQcyFr3CXQLmDPdCPMT+lAz5mlhb0OELb8Vq4FwllexLMh0U+jmB07XM3enMFjMkJS5JICaxIzpJjiSUAGn++TJExE6LEo8hx+jjUYDtshIQMjm58WLF212X68fCA0WGdblXDvN8huFX1T87AOYHUwHxnHq1CmxZ88eERogQ04xsAx3FOtwTReTK1BCARxu0u6j6x9ya+U+m1wDLZixnxBTTGD3kbkcB0K90MepLMpcRwuYNF0JkYBkoiy+GExP6HARYEwgCs3+v3r1qqOz5UiQCgYcAVD+UVWDoQMhOTRkJiezk5EAXJapUWsWnWBWtoTSAmD3of1xYHhkQLKvwyZAj3DGoZc6lQkWH1ALOrckOcgGpRi0lJhgvwli/e3t7ba/QfMHLSUmSAI+fvzY0dmCzR/EaVEQYFxwXNT4Ouz+s2fP2v4GG4qop6ywTBQ1WQKKQnL1iV78UWagiAgDnoDPnz+LvAGzk6xsMgh2n7MmqGsHAqI0D/ULqGRiGmQLfWW9D7gWQKZpa4x6wg+JiY6LsMV5wmQn8Rm41A4TTK3WNGV56NChXIm11CuK0LYj05W8CTAhi7leRFQ44oBfCYUAjAUZ17QmP3SF7sEpM2Q/SrMyG9xDIeXZlBW6fJoJKCg7NjU11dzc3IyEYWIG0355Tcxj9LXXiZWtra2O4AGdt+RYTJ7ZHsmp0xhkNV8Z3xFLd2h8pZ68A2YoLwKwwgRHL8DnNRFQ5HQlojsG0vLooYg10x3QqAq9gWsBUHqcJQGkeavMTbYmVMEBU4uMYQ0/JAHwA6ilbLorOSJZwR+cBYGs9eLt1mgoaftt7k2qaKg7cNZDFQ2XaBEwPj6+YroZwrc4kgoM0Il0mR+gRYDNDFXOOD2S+Usa1Pm6Ha8d0TbMiPK8FI7OJR+CM0FzCj1VHathQoBN+8mirMR/b5sRI2bWBDM2FHoaeEjgtJ8QXbp0qS3i7JiSpCbyl+lJtILKF7jh0P6l5N86CFDO2DhJg/ycKiKyw6b9psLfHQTAGVMrWDK9AwboXPUzhxkw02m0H2ArZtEAHdYM103XJicnh6JAXxpAORuNBnc5mp6enjJdYNNSiLHfuWuu2pnDBr1M1nJ9ibvGEqAiIuMYkSlPf5hhMz2EFdumD9bELGLuhmAcMorVVf5AuOpKRzbtB6wEoMemSDACUdEwj5aaMvjiUFueRJa3cKcmovlwfQMA/qCHXYpKC3xn2zJZyMxnvxmv3FCKeBYF00OGA3LUUh446DXKlkAkotaxKDzgRQD6BtgzRTD+QOfxD0NLwHd0bOog95fx3eSnKl+fArD5Ds3HZMvs+fPnvcvXp0pPxxvb+gf4YKilPIgDd4h0XCVxIJs0wge62sIENTCJaWtJXpT0PX78eLWFiQNdb+LjQ4JOLS9rdrOOdILbxEfDVdpeo2xV1qH10HgfUwqz08v2hllt5PaPcOyip6vuhr7MCFkgyUosDDCFeyWtzU8i960MQyVC92o9e/bhbGWogbpDZDMXTdVhTQiBCJ3xoXdW9QF6uOhkBbWZZxzKL7AbPyShN23W+wjnAT29mjLnCZ3RG8FuZxsHTBKdFomIa2me02RgBQvOWW7orDM7ukw0W1XCj0TG6AsBGmlbQxLIlkYIi9k3vAYhIAnnJDnaaWJYJH5A8D2s9olUlLMm+oS+EqDRKxEFQM6Ldxvbp0EuBGiUgIhIOdmVrJysC7kSoKHK5MM/zIsAgJRMZAX209Sw/1sUCOWs51C3miud3C9A6MgIz1PbjZ9DBAJNBg4yU78IppZpD4iUpt/Z2dlZLVLocQRDQBIoaoq6mqqsZh311VDfTpVYq4nOQlPN2AFb/lCdN7AaMRSBJ/EfP5tZhUuPoe0AAAAASUVORK5CYII="
          , y3 = v.p + "resource/image/unable-to-apply-for.f612d9ba.png"
          , y5 = v(16627)
          , y8 = {
            WRITE_INFO: "填写入驻申请",
            BUSINESS_INFO: "业务信息",
            COMPANY_QUALI_INFO: "公司资质信息",
            OPERATOR_INFO: "机构运营人信息",
            APPLY_AUDIT: "申请审核",
            SIGN_AGREE: "签署合作协议",
            FINISH_SIGN: "完成签署",
            ORGANIZATION_ACCOUNT: "机构账号",
            ORGANIZATION_NAME: "机构名称",
            ORGANIZATION_NAME_REPEAT: "机构名称已存在",
            BLOGGER_INFO: "签约博主材料",
            BLOGGER_EXT_LIMIT: "支持格式：xls、xlsx",
            CONTRACT_EXT_LIMIT: "支持格式：rar、7z、zip",
            COMPANY_EXT_LIMIT: "支持格式：ppt、pdf",
            AUTHORIZATION_EXT_LIMIT: "支持格式：word、pdf",
            REFERENCE_FORMAT: "参考格式",
            NEED_STAMP: "授权书需加盖公司公章",
            COMPANY_INFO: "公司介绍材料",
            COMPANY_CERT_INFO: "公司资质信息",
            PROVIDE_5_CONTRACT: "至少提供5名博主的具体签约合同",
            CONTRACT: "签约合同",
            MAX_20MB: "最大支持20MB的文件",
            NOT_ALLOW_CHANGE: "当前登录账号即为后续机构后台登录使用账号，不可修改"
        }
          , validate20Mb = function(n) {
            return !(n > 0x1400000) && !0
        }
          , y6 = v(50522)
          , y9 = v(64254)
          , y7 = v(71837)
          , Ne = v(19023)
          , Nt = v(47362);
        function uploadEntryFile(n, d, v) {
            var m = {
                scene: "file",
                bizName: "hera",
                keyPattern: "$KEY.".concat(v),
                getToken: Nt.L
            };
            return new Ne.C(m).post({
                Body: n
            }).then(function(n) {
                return (0,
                O._)((0,
                B._)({}, n), {
                    src: n.data.previewUrl
                })
            })
        }
        function getFileTypeFromName(n) {
            var d = n.name.split(".");
            return d.length > 1 ? d[d.length - 1] : ""
        }
        function uploaderImage(n) {
            return new Promise(function(d) {
                new Ne.C({
                    scene: "image",
                    bizName: "hera",
                    getToken: Nt.L
                }).post({
                    Body: n
                }).then(function(n) {
                    d((0,
                    O._)((0,
                    B._)({}, n), {
                        cdnUrl: "".concat(n.data.previewUrl)
                    }))
                })
            }
            )
        }
        var formatUploader3Params = function(n) {
            return {
                bizName: n.bizName,
                scene: n.scene,
                cloudType: n.cloudType,
                fileId: n.fileId,
                previewUrl: n.previewUrl || "",
                staticUrl: n.staticUrl || ""
            }
        }
          , Nn = {
            class: "business-info"
        }
          , Na = {
            class: "title"
        }
          , No = {
            class: "center"
        }
          , Nr = {
            class: "distance-mar-bottom dis-flex"
        }
          , Ni = {
            class: "left"
        }
          , Nl = {
            class: "account-right"
        }
          , Nc = {
            class: "account-card"
        }
          , Nu = ["src"]
          , Ns = {
            class: "account-tip"
        }
          , Nd = {
            class: "distance-mar-bottom dis-flex"
        }
          , Nv = {
            class: "left"
        }
          , Nm = {
            class: "dis-inline"
        }
          , Nf = {
            key: 0,
            class: "error-tip"
        }
          , Np = {
            class: "distance-mar-bottom dis-flex"
        }
          , Ng = {
            class: "left"
        }
          , Nh = {
            class: "position-re"
        }
          , Ny = {
            href: "https://fe-video-qc.xhscdn.com/fe-platform/310040d5f2fac7506494ba6741fa3074a32500fb.xlsx?attname=fe-platform/310040d5f2fac7506494ba6741fa3074a32500fb.xlsx",
            class: "link"
        }
          , NN = {
            class: "distance-mar-bottom dis-flex"
        }
          , Nk = {
            class: "left"
        }
          , NI = {
            class: "position-re"
        }
          , NC = {
            class: "contract-tips"
        }
          , Nb = {
            class: "distance-mar-bottom dis-flex"
        }
          , NE = {
            class: "left"
        }
          , NA = {
            class: "position-re"
        }
          , Nw = (0,
        ec.defineComponent)({
            __name: "BusinessInfo",
            setup: function(n, d) {
                var v = d.expose
                  , m = (0,
                ec.computed)(function() {
                    return hP.h.getters.mcnInfo
                })
                  , h = (0,
                ec.computed)(function() {
                    return m.value.bloggerInfo ? [{
                        name: m.value.bloggerInfoName,
                        url: m.value.bloggerInfo
                    }] : []
                })
                  , y = (0,
                ec.computed)(function() {
                    return m.value.contract ? [{
                        name: m.value.contractName,
                        url: m.value.contract
                    }] : []
                })
                  , N = (0,
                ec.computed)(function() {
                    return m.value.companyDescInfo ? [{
                        name: m.value.companyDescInfoName,
                        url: m.value.companyDescInfo
                    }] : []
                })
                  , k = (0,
                ec.ref)(!1)
                  , institutionNameCheck = function() {
                    var n = {
                        name: m.value.institutionName,
                        type: "INSTITUTION_NAME"
                    };
                    h5.$N({
                        params: n
                    }).then(function(n) {
                        n ? (k.value = !0,
                        y7.A.error("机构名称已存在，请修改后重试")) : k.value = !1
                    }).catch(function(n) {
                        y7.A.error(n.message)
                    })
                }
                  , handleLimitExceed = function() {
                    y7.A.error("只能上传一份")
                }
                  , handleUploadBlogger = function(n) {
                    var d = n.file
                      , v = n.onSuccess
                      , m = n.onProgress
                      , h = n.onError;
                    if (!validate20Mb(d.size)) {
                        h({
                            error: y8.MAX_20MB
                        });
                        return
                    }
                    var y = null;
                    uploadEntryFile(d, "show", getFileTypeFromName(d)).then(function(n) {
                        m({
                            percent: 100
                        }),
                        v(n),
                        hP.h.dispatch("updateMcnInfo", {
                            bloggerInfoName: d.name,
                            bloggerInfo: n.src,
                            bloggerInfoReq: formatUploader3Params(n.data)
                        })
                    }).catch(function(n) {
                        y7.A.error(n)
                    }).finally(function() {
                        clearInterval(y)
                    });
                    var N = 0;
                    y = setInterval(function() {
                        m({
                            percent: Math.min(N += 1, 99)
                        })
                    }, 64)
                }
                  , handleBloggerChange = function(n, d) {
                    0 === d.length && hP.h.dispatch("updateMcnInfo", {
                        bloggerInfo: ""
                    })
                }
                  , handleUploadContract = function(n) {
                    var d, v = n.file, m = n.onSuccess, h = n.onProgress, y = n.onError;
                    if (!validate20Mb(v.size)) {
                        y({
                            error: y8.MAX_20MB
                        });
                        return
                    }
                    var N = null
                      , k = (null === (d = v.name.split(".").pop()) || void 0 === d ? void 0 : d.toLocaleLowerCase()) || "";
                    if (["zip", "rar", "7z"].includes(k)) {
                        uploadEntryFile(v, "show", getFileTypeFromName(v)).then(function(n) {
                            h({
                                percent: 100
                            }),
                            m(n),
                            hP.h.dispatch("updateMcnInfo", {
                                contractName: v.name,
                                contract: n.src,
                                contractReq: formatUploader3Params(n.data)
                            })
                        }).catch(function(n) {
                            y7.A.error(n)
                        }).finally(function() {
                            clearInterval(N)
                        });
                        var I = 0;
                        N = setInterval(function() {
                            h({
                                percent: Math.min(I += 1, 99)
                            })
                        }, 64)
                    }
                }
                  , handleContractChange = function(n, d) {
                    0 === d.length && hP.h.dispatch("updateMcnInfo", {
                        contract: ""
                    })
                }
                  , handleUploadCompany = function(n) {
                    var d = n.file
                      , v = n.onSuccess
                      , m = n.onProgress
                      , h = n.onError;
                    if (!validate20Mb(d.size)) {
                        h({
                            error: y8.MAX_20MB
                        });
                        return
                    }
                    var y = null;
                    uploadEntryFile(d, "show", getFileTypeFromName(d)).then(function(n) {
                        m({
                            percent: 100
                        }),
                        v(n),
                        hP.h.dispatch("updateMcnInfo", {
                            companyDescInfoName: d.name,
                            companyDescInfo: n.src,
                            companyDescInfoReq: formatUploader3Params(n.data)
                        })
                    }).catch(function(n) {
                        y7.A.error(n)
                    }).finally(function() {
                        clearInterval(y)
                    });
                    var N = 0;
                    y = setInterval(function() {
                        m({
                            percent: Math.min(N += 1, 99)
                        })
                    }, 64)
                }
                  , handleCompanyChange = function(n, d) {
                    0 === d.length && hP.h.dispatch("updateMcnInfo", {
                        companyDescInfo: ""
                    })
                };
                return v({
                    validateBeforeCommit: function() {
                        if (k.value)
                            return y7.A.error("机构名称重复，请修改后重试"),
                            !1;
                        var n = hP.h.getters.mcnInfo
                          , d = n.institutionName
                          , v = n.bloggerInfo
                          , m = n.contract
                          , h = n.companyDescInfo;
                        return !!v && !!d && !!m && !!h || (y7.A.error("信息填写不完整，请修改后重试"),
                        !1)
                    }
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", Nn, [(0,
                    ec.createElementVNode)("div", Na, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).BUSINESS_INFO), 1), (0,
                    ec.createElementVNode)("div", No, [(0,
                    ec.createElementVNode)("div", Nr, [(0,
                    ec.createElementVNode)("div", null, [(0,
                    ec.createElementVNode)("span", Ni, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).ORGANIZATION_ACCOUNT), 1), d[4] || (d[4] = (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*", -1))]), (0,
                    ec.createElementVNode)("div", Nl, [(0,
                    ec.createElementVNode)("div", Nc, [(0,
                    ec.createElementVNode)("img", {
                        class: "logo",
                        src: m.value.userPhoto,
                        alt: ""
                    }, null, 8, Nu), (0,
                    ec.createElementVNode)("span", null, (0,
                    ec.toDisplayString)(m.value.userNickName), 1)]), (0,
                    ec.createElementVNode)("span", Ns, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).NOT_ALLOW_CHANGE), 1)])]), (0,
                    ec.createElementVNode)("div", Nd, [(0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", Nv, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).ORGANIZATION_NAME), 1), d[5] || (d[5] = (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*", -1))]), (0,
                    ec.createElementVNode)("div", Nm, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y6.Z), {
                        modelValue: m.value.institutionName,
                        "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                            return m.value.institutionName = n
                        }
                        ),
                        modelModifiers: {
                            trim: !0
                        },
                        class: "institution-name-input",
                        placeholder: "请输入机构名称",
                        onChange: institutionNameCheck
                    }, null, 8, ["modelValue"]), k.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", Nf, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).ORGANIZATION_NAME_REPEAT), 1)) : (0,
                    ec.createCommentVNode)("", !0)])]), (0,
                    ec.createElementVNode)("div", Np, [(0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", Ng, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).BLOGGER_INFO), 1), d[6] || (d[6] = (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*", -1))]), (0,
                    ec.createElementVNode)("div", Nh, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y9.Z), {
                        modelValue: h.value,
                        "onUpdate:modelValue": d[1] || (d[1] = function(n) {
                            return h.value = n
                        }
                        ),
                        class: "upload",
                        accept: ".xls,.xlsx",
                        limit: "1",
                        "custom-request": handleUploadBlogger,
                        onExceed: handleLimitExceed,
                        onChange: handleBloggerChange
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(ef.Z), {
                                class: "upload-button",
                                variant: "secondary",
                                "icon-before": "uploading-b"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(y8).BLOGGER_EXT_LIMIT), 1)]
                                }),
                                _: 1
                            })]
                        }),
                        _: 1
                    }, 8, ["modelValue"])]), (0,
                    ec.createElementVNode)("a", Ny, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).REFERENCE_FORMAT), 1)]), (0,
                    ec.createElementVNode)("div", NN, [(0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", Nk, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).CONTRACT), 1), d[7] || (d[7] = (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*", -1))]), (0,
                    ec.createElementVNode)("div", NI, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y9.Z), {
                        modelValue: y.value,
                        "onUpdate:modelValue": d[2] || (d[2] = function(n) {
                            return y.value = n
                        }
                        ),
                        class: "upload",
                        accept: ".rar, .7z, .zip",
                        limit: "1",
                        "custom-request": handleUploadContract,
                        onExceed: handleLimitExceed,
                        onChange: handleContractChange
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(ef.Z), {
                                class: "upload-button",
                                variant: "secondary",
                                "icon-before": "uploading-b"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(y8).CONTRACT_EXT_LIMIT), 1)]
                                }),
                                _: 1
                            }), (0,
                            ec.createElementVNode)("div", NC, (0,
                            ec.toDisplayString)((0,
                            ec.unref)(y8).PROVIDE_5_CONTRACT), 1)]
                        }),
                        _: 1
                    }, 8, ["modelValue"])])]), (0,
                    ec.createElementVNode)("div", Nb, [(0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", NE, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).COMPANY_INFO), 1), d[8] || (d[8] = (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*", -1))]), (0,
                    ec.createElementVNode)("div", NA, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y9.Z), {
                        modelValue: N.value,
                        "onUpdate:modelValue": d[3] || (d[3] = function(n) {
                            return N.value = n
                        }
                        ),
                        class: "upload",
                        accept: ".ppt, .pdf",
                        limit: "1",
                        "custom-request": handleUploadCompany,
                        onExceed: handleLimitExceed,
                        onChange: handleCompanyChange
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(ef.Z), {
                                class: "upload-button",
                                variant: "secondary",
                                "icon-before": "uploading-b"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(y8).COMPANY_EXT_LIMIT), 1)]
                                }),
                                _: 1
                            })]
                        }),
                        _: 1
                    }, 8, ["modelValue"])])])])])
                }
            }
        });
        let Nx = (0,
        eN.default)(Nw, [["__scopeId", "data-v-e2aebb18"]]);
        var NT = v(97991)
          , NM = v(49976)
          , mcnRenewFeedback = function(n) {
            return U.dJ.get("MCN_RENEW_FEEDBACK", {
                params: n
            })
        }
          , NS = {
            class: "company-qualification-info"
        }
          , N_ = {
            class: "title"
        }
          , NV = {
            class: "center"
        }
          , ND = {
            class: "distance-mar-bottom dis-flex"
        }
          , NB = {
            class: "dis-inline"
        }
          , NL = {
            key: 0,
            class: "error-tip"
        }
          , NP = {
            key: 1,
            class: "error-tip"
        }
          , NO = {
            class: "distance-mar-bottom dis-flex"
        }
          , NR = {
            class: "dis-inline"
        }
          , NU = {
            key: 0,
            class: "error-tip"
        }
          , Nj = {
            class: "distance-mar-bottom dis-flex"
        }
          , NF = {
            class: "dis-inline"
        }
          , Nz = {
            class: "distance-mar-bottom dis-flex"
        }
          , NZ = {
            class: "license-right"
        }
          , NQ = {
            class: "distance-mar-bottom dis-flex"
        }
          , NJ = {
            class: "id-card-right"
        }
          , NH = {
            class: "license-right margin-r"
        }
          , NG = {
            class: "license-right"
        }
          , NY = {
            class: "distance-mar-bottom dis-flex"
        }
          , NW = {
            class: "position-re"
        }
          , Nq = (0,
        ec.defineComponent)({
            __name: "CompanyQualificationInfo",
            setup: function(n, d) {
                var v, m, h, y, N, k, I = d.expose, C = (0,
                ec.computed)(function() {
                    return hP.h.getters.mcnInfo
                }), x = (0,
                ec.ref)(!1), M = (0,
                ec.ref)(!1), S = (0,
                ec.ref)(!1), _ = (0,
                ec.ref)(!1), B = (0,
                ec.ref)(!1), O = (0,
                ec.ref)([]), handleHide = function() {
                    O.value = []
                }, z = (0,
                ec.ref)([]), Z = (0,
                ec.computed)(function() {
                    return C.value.companyBusinessLicense ? [{
                        url: C.value.companyBusinessLicense
                    }] : []
                }), Q = (0,
                ec.computed)(function() {
                    return C.value.legalPersonPhotoP ? [{
                        url: C.value.legalPersonPhotoP
                    }] : []
                }), J = (0,
                ec.computed)(function() {
                    return C.value.legalPersonPhotoL ? [{
                        url: C.value.legalPersonPhotoL
                    }] : []
                }), H = (0,
                ec.computed)(function() {
                    return C.value.operatorAuthority ? [{
                        url: C.value.operatorAuthority,
                        name: C.value.operatorAuthorityName
                    }] : []
                }), handleCompanyNameInput = function(n) {
                    x.value && (x.value = !1),
                    M.value && (M.value = !1),
                    hP.h.dispatch("updateMcnInfo", {
                        companyName: n.target.value || ""
                    })
                };
                var G = (v = (0,
                V._)(function() {
                    var n, d;
                    return (0,
                    R.Jh)(this, function(d) {
                        switch (d.label) {
                        case 0:
                            var v;
                            return d.trys.push([0, 2, , 3]),
                            [4, (v = C.value.companyCreditCode,
                            U.dJ.get("MCN_CREDIT_CODE_CHECK", {
                                params: {
                                    creditCode: v
                                }
                            }))];
                        case 1:
                            return n = d.sent(),
                            x.value = !!n,
                            [3, 3];
                        case 2:
                            return d.sent(),
                            x.value = !1,
                            M.value = !1,
                            [3, 3];
                        case 3:
                            return [2]
                        }
                    })
                }),
                function checkCompanyCreditCode() {
                    return v.apply(this, arguments)
                }
                );
                var Y = (m = (0,
                V._)(function(n) {
                    return (0,
                    R.Jh)(this, function(n) {
                        switch (n.label) {
                        case 0:
                            if (!/^[a-zA-Z0-9]{18}$/.test(C.value.companyCreditCode))
                                return [3, 2];
                            return S.value = !1,
                            [4, G()];
                        case 1:
                            return n.sent(),
                            [3, 3];
                        case 2:
                            x.value = !1,
                            S.value = !0,
                            n.label = 3;
                        case 3:
                            return [2]
                        }
                    })
                }),
                function checkCode(n) {
                    return m.apply(this, arguments)
                }
                )
                  , handleSelectCompany = function(n) {
                    var d = n.companyCreditCode;
                    Y(d) && (hP.h.dispatch("updateMcnInfo", {
                        companyName: n.companyName,
                        companyCreditCode: d,
                        address: n.address
                    }),
                    _.value = !1)
                };
                var W = (h = (0,
                V._)(function() {
                    var n, d;
                    return (0,
                    R.Jh)(this, function(v) {
                        switch (v.label) {
                        case 0:
                            x.value && (x.value = !1),
                            M.value && (M.value = !1),
                            _.value = !0,
                            z.value = [],
                            B.value = !1,
                            v.label = 1;
                        case 1:
                            var m, h;
                            return v.trys.push([1, 3, , 4]),
                            [4, (m = JSON.parse(localStorage.getItem("USER_INFO") || "{}").user.value.userId,
                            h = C.value.companyName,
                            U.dJ.get("MCN_SEARCH", {
                                params: {
                                    userId: m,
                                    searchName: h
                                }
                            }))];
                        case 2:
                            return n = v.sent(),
                            z.value = n.institutionInfoList || [],
                            0 === z.value.length && (_.value = !1,
                            M.value = !0),
                            B.value = !0,
                            [3, 4];
                        case 3:
                            return d = v.sent(),
                            y7.A.error(d.message || "查询失败，请稍后再试"),
                            B.value = !0,
                            _.value = !1,
                            [3, 4];
                        case 4:
                            return [2]
                        }
                    })
                }),
                function handleClickFetchCompanyList() {
                    return h.apply(this, arguments)
                }
                );
                var q = (y = (0,
                V._)(function(n) {
                    var d, v, m, h, y, N, k, I;
                    return (0,
                    R.Jh)(this, function(I) {
                        switch (I.label) {
                        case 0:
                            d = n.file,
                            v = n.onSuccess,
                            m = n.onProgress,
                            h = null,
                            I.label = 1;
                        case 1:
                            return I.trys.push([1, 3, , 4]),
                            y = 0,
                            h = setInterval(function() {
                                y += 1,
                                m({
                                    percent: Math.min(y, 99)
                                })
                            }, 16),
                            [4, uploaderImage(d)];
                        case 2:
                            return k = ((N = I.sent()) || {}).cdnUrl,
                            hP.h.dispatch("updateMcnInfo", {
                                companyBusinessLicense: k,
                                companyBusinessLicenseReq: formatUploader3Params(N.data)
                            }),
                            m({
                                percent: 100
                            }),
                            v({
                                url: k
                            }),
                            [3, 4];
                        case 3:
                            return I.sent(),
                            clearInterval(h),
                            [2, Promise.reject("图片上传异常")];
                        case 4:
                            return clearInterval(h),
                            [2]
                        }
                    })
                }),
                function handleUploadLicense(n) {
                    return y.apply(this, arguments)
                }
                )
                  , handleLicenseChange = function(n, d) {
                    0 === d.length && hP.h.dispatch("updateMcnInfo", {
                        companyBusinessLicense: ""
                    })
                }
                  , handleIdCardPositiveChange = function(n, d) {
                    0 === d.length && hP.h.dispatch("updateMcnInfo", {
                        legalPersonPhotoP: ""
                    })
                }
                  , handlePreview = function(n) {
                    n && (O.value = [n])
                }
                  , handleIdCardReverseChange = function(n, d) {
                    0 === d.length && hP.h.dispatch("updateMcnInfo", {
                        legalPersonPhotoL: ""
                    })
                };
                var X = (N = (0,
                V._)(function(n) {
                    var d, v, m, h, y, N, k, I;
                    return (0,
                    R.Jh)(this, function(I) {
                        switch (I.label) {
                        case 0:
                            d = n.file,
                            v = n.onSuccess,
                            m = n.onProgress,
                            h = null,
                            y = 0,
                            h = setInterval(function() {
                                y += 1,
                                m({
                                    percent: Math.min(y, 99)
                                })
                            }, 16),
                            I.label = 1;
                        case 1:
                            return I.trys.push([1, 3, , 4]),
                            [4, uploaderImage(d)];
                        case 2:
                            return k = ((N = I.sent()) || {}).cdnUrl,
                            hP.h.dispatch("updateMcnInfo", {
                                legalPersonPhotoP: k,
                                legalPersonPhotoPositiveReq: formatUploader3Params(N.data)
                            }),
                            m({
                                percent: 100
                            }),
                            v({
                                url: k
                            }),
                            [3, 4];
                        case 3:
                            return I.sent(),
                            clearInterval(h),
                            [2, Promise.reject("图片上传异常")];
                        case 4:
                            return clearInterval(h),
                            [2]
                        }
                    })
                }),
                function handleUploadIdCardPositive(n) {
                    return N.apply(this, arguments)
                }
                );
                var K = (k = (0,
                V._)(function(n) {
                    var d, v, m, h, y, N, k, I;
                    return (0,
                    R.Jh)(this, function(I) {
                        switch (I.label) {
                        case 0:
                            d = n.file,
                            v = n.onSuccess,
                            m = n.onProgress,
                            h = null,
                            I.label = 1;
                        case 1:
                            return I.trys.push([1, 3, , 4]),
                            y = 0,
                            h = setInterval(function() {
                                y += 1,
                                m({
                                    percent: Math.min(y, 99)
                                })
                            }, 16),
                            [4, uploaderImage(d)];
                        case 2:
                            return k = ((N = I.sent()) || {}).cdnUrl,
                            hP.h.dispatch("updateMcnInfo", {
                                legalPersonPhotoL: k,
                                legalPersonPhotoReverseReq: formatUploader3Params(N.data)
                            }),
                            m({
                                percent: 100
                            }),
                            v({
                                url: k
                            }),
                            [3, 4];
                        case 3:
                            return I.sent(),
                            clearInterval(h),
                            [2, Promise.reject("图片上传异常")];
                        case 4:
                            return clearInterval(h),
                            [2]
                        }
                    })
                }),
                function handleUploadIdCardReverse(n) {
                    return k.apply(this, arguments)
                }
                )
                  , handleUploadAuthorization = function(n) {
                    var d = n.file
                      , v = n.onSuccess
                      , m = n.onProgress
                      , h = null;
                    uploadEntryFile(d, "show", getFileTypeFromName(d)).then(function(n) {
                        m({
                            percent: 100
                        }),
                        v(n),
                        hP.h.dispatch("updateMcnInfo", {
                            operatorAuthorityName: d.name,
                            operatorAuthority: n.src,
                            operatorAuthorityReq: formatUploader3Params(n.data)
                        })
                    }).catch(function(n) {
                        y7.A.error(n)
                    }).finally(function() {
                        clearInterval(h)
                    });
                    var y = 0;
                    h = setInterval(function() {
                        m({
                            percent: Math.min(y += 1, 99)
                        })
                    }, 64)
                }
                  , handleAuthorizationChange = function(n, d) {
                    0 === d.length && hP.h.dispatch("updateMcnInfo", {
                        operatorAuthority: ""
                    })
                }
                  , handleLimitExceed = function() {
                    y7.A.error("只能上传一份")
                };
                return I({
                    validateBeforeCommit: function() {
                        if (M.value && (M.value = !1),
                        x.value)
                            return y7.A.error("公司主体名称重复"),
                            !1;
                        if (S.value)
                            return y7.A.error("社会统一信用代码 校验失败"),
                            !1;
                        var n = C.value
                          , d = n.companyName
                          , v = n.companyCreditCode
                          , m = n.address
                          , h = n.operatorAuthorityName
                          , y = n.operatorAuthority
                          , N = n.legalPersonPhotoP
                          , k = n.legalPersonPhotoL;
                        return !!d && !!v && !!m && !!h && !!N && !!k && !!y || (y7.A.error("信息填写不完整，请修改后重试"),
                        !1)
                    }
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, [(0,
                    ec.createElementVNode)("div", NS, [(0,
                    ec.createElementVNode)("div", N_, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).COMPANY_CERT_INFO), 1), (0,
                    ec.createElementVNode)("div", NV, [(0,
                    ec.createElementVNode)("div", ND, [d[11] || (d[11] = (0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", {
                        class: "left"
                    }, "公司主体名称 "), (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*")], -1)), (0,
                    ec.createElementVNode)("div", NB, [(0,
                    ec.createVNode)((0,
                    ec.unref)(em.Z), {
                        bs: {
                            display: "flex",
                            alignItems: "center"
                        }
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(em.Z), {
                                bs: {
                                    position: "relative"
                                }
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)((0,
                                    ec.unref)(y6.Z), {
                                        modelValue: C.value.companyName,
                                        "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                                            return C.value.companyName = n
                                        }
                                        ),
                                        modelModifiers: {
                                            trim: !0
                                        },
                                        class: "input-width",
                                        disabled: "/new-mcn/renew" === n.$route.path,
                                        placeholder: "请输入公司主体名称",
                                        onInput: handleCompanyNameInput
                                    }, null, 8, ["modelValue", "disabled"]), _.value ? ((0,
                                    ec.openBlock)(),
                                    (0,
                                    ec.createBlock)((0,
                                    ec.unref)(em.Z), {
                                        key: 0,
                                        bs: {
                                            zIndex: 1,
                                            position: "absolute",
                                            left: 0,
                                            top: 36,
                                            width: 420,
                                            maxHeight: 232,
                                            backgroundColor: "#FFFFFF",
                                            borderRadius: 4,
                                            filter: "drop-shadow(0px 2px 8px #E4E6F2)",
                                            overflowY: "auto"
                                        }
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return [B.value ? z.value.length > 0 ? ((0,
                                            ec.openBlock)(!0),
                                            (0,
                                            ec.createElementBlock)(ec.Fragment, {
                                                key: 1
                                            }, (0,
                                            ec.renderList)(z.value, function(n) {
                                                return (0,
                                                ec.openBlock)(),
                                                (0,
                                                ec.createBlock)((0,
                                                ec.unref)(em.Z), {
                                                    key: n.companyCreditCode,
                                                    bs: {
                                                        px: 14,
                                                        cursor: "pointer",
                                                        ":hover": {
                                                            backgroundColor: "rgb(247, 247, 247)"
                                                        }
                                                    },
                                                    onClick: function(d) {
                                                        return handleSelectCompany(n)
                                                    }
                                                }, {
                                                    default: (0,
                                                    ec.withCtx)(function() {
                                                        return [(0,
                                                        ec.createVNode)((0,
                                                        ec.unref)(em.Z), {
                                                            bs: {
                                                                height: 40,
                                                                lineHeight: 40,
                                                                fontSize: 14,
                                                                color: "#333333",
                                                                borderBottom: "1px solid rgba(51, 51, 51, 0.05)"
                                                            }
                                                        }, {
                                                            default: (0,
                                                            ec.withCtx)(function() {
                                                                return [(0,
                                                                ec.createTextVNode)((0,
                                                                ec.toDisplayString)(n.companyName), 1)]
                                                            }),
                                                            _: 2
                                                        }, 1024)]
                                                    }),
                                                    _: 2
                                                }, 1032, ["onClick"])
                                            }), 128)) : (0,
                                            ec.createCommentVNode)("", !0) : ((0,
                                            ec.openBlock)(),
                                            (0,
                                            ec.createBlock)((0,
                                            ec.unref)(em.Z), {
                                                key: 0,
                                                bs: {
                                                    height: 232,
                                                    display: "flex",
                                                    alignItems: "center",
                                                    justifyContent: "center"
                                                }
                                            }, {
                                                default: (0,
                                                ec.withCtx)(function() {
                                                    return [(0,
                                                    ec.createVNode)((0,
                                                    ec.unref)(sq.Z), {
                                                        color: "rgb(58, 100, 255)"
                                                    })]
                                                }),
                                                _: 1
                                            }))]
                                        }),
                                        _: 1
                                    })) : (0,
                                    ec.createCommentVNode)("", !0)]
                                }),
                                _: 1
                            }), (0,
                            ec.createVNode)((0,
                            ec.unref)(ef.Z), {
                                bs: {
                                    ml: 16
                                },
                                onClick: W
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[10] || (d[10] = [(0,
                                    ec.createTextVNode)(" 查询 ")])
                                }),
                                _: 1
                            })]
                        }),
                        _: 1
                    }), x.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", NL, " 该企业已认证，请使用认证账号登录 ")) : (0,
                    ec.createCommentVNode)("", !0), M.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", NP, " 未查询到企业，请输入准确的企业主体名称 ")) : (0,
                    ec.createCommentVNode)("", !0)])]), (0,
                    ec.createElementVNode)("div", NO, [d[12] || (d[12] = (0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", {
                        class: "left"
                    }, "社会统一信用代码 "), (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*")], -1)), (0,
                    ec.createElementVNode)("div", NR, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y6.Z), {
                        modelValue: C.value.companyCreditCode,
                        "onUpdate:modelValue": d[1] || (d[1] = function(n) {
                            return C.value.companyCreditCode = n
                        }
                        ),
                        modelModifiers: {
                            trim: !0
                        },
                        class: "input-width",
                        placeholder: "请输入社会统一信用代码",
                        onChange: Y
                    }, null, 8, ["modelValue"]), S.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", NU, " 校验失败，请输入18位的社会统一信用代码 ")) : (0,
                    ec.createCommentVNode)("", !0)])]), (0,
                    ec.createElementVNode)("div", Nj, [d[13] || (d[13] = (0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", {
                        class: "left"
                    }, "地址 "), (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*")], -1)), (0,
                    ec.createElementVNode)("div", NF, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y6.Z), {
                        modelValue: C.value.address,
                        "onUpdate:modelValue": d[2] || (d[2] = function(n) {
                            return C.value.address = n
                        }
                        ),
                        modelModifiers: {
                            trim: !0
                        },
                        class: "input-width",
                        placeholder: "请输入地址"
                    }, null, 8, ["modelValue"])])]), (0,
                    ec.createElementVNode)("div", Nz, [d[14] || (d[14] = (0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", {
                        class: "left"
                    }, "营业执照复印件 "), (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*")], -1)), (0,
                    ec.createElementVNode)("div", NZ, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y9.Z), {
                        modelValue: Z.value,
                        "onUpdate:modelValue": d[3] || (d[3] = function(n) {
                            return Z.value = n
                        }
                        ),
                        "list-type": "picture-card",
                        limit: "1",
                        "hide-after-limit": !0,
                        tip: "支持格式：jpg、jepg、png",
                        accept: ".jpg, .jepg, .png",
                        "custom-request": q,
                        onExceed: handleLimitExceed,
                        onChange: handleLicenseChange,
                        onPreview: d[4] || (d[4] = function(n) {
                            return handlePreview(C.value.companyBusinessLicense)
                        }
                        )
                    }, null, 8, ["modelValue"])])]), (0,
                    ec.createElementVNode)("div", NQ, [d[15] || (d[15] = (0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", {
                        class: "left"
                    }, "法人身份证照片 "), (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*")], -1)), (0,
                    ec.createElementVNode)("div", NJ, [(0,
                    ec.createElementVNode)("div", NH, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y9.Z), {
                        modelValue: Q.value,
                        "onUpdate:modelValue": d[5] || (d[5] = function(n) {
                            return Q.value = n
                        }
                        ),
                        "list-type": "picture-card",
                        limit: "1",
                        "hide-after-limit": !0,
                        tip: "身份证正面",
                        accept: ".jpg, .jepg, .png",
                        "custom-request": X,
                        onExceed: handleLimitExceed,
                        onChange: handleIdCardPositiveChange,
                        onPreview: d[6] || (d[6] = function(n) {
                            return handlePreview(C.value.legalPersonPhotoP)
                        }
                        )
                    }, null, 8, ["modelValue"])]), (0,
                    ec.createElementVNode)("div", NG, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y9.Z), {
                        modelValue: J.value,
                        "onUpdate:modelValue": d[7] || (d[7] = function(n) {
                            return J.value = n
                        }
                        ),
                        "list-type": "picture-card",
                        limit: "1",
                        "hide-after-limit": !0,
                        tip: "身份证反面",
                        accept: ".jpg, .jepg, .png",
                        "custom-request": K,
                        onExceed: handleLimitExceed,
                        onChange: handleIdCardReverseChange,
                        onPreview: d[8] || (d[8] = function(n) {
                            return handlePreview(C.value.legalPersonPhotoL)
                        }
                        )
                    }, null, 8, ["modelValue"])])])]), (0,
                    ec.createElementVNode)("div", NY, [d[17] || (d[17] = (0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", {
                        class: "left"
                    }, "运营人员授权书 "), (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*")], -1)), (0,
                    ec.createElementVNode)("div", NW, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y9.Z), {
                        modelValue: H.value,
                        "onUpdate:modelValue": d[9] || (d[9] = function(n) {
                            return H.value = n
                        }
                        ),
                        class: "upload",
                        accept: ".doc, .docx, .pdf",
                        limit: "1",
                        "custom-request": handleUploadAuthorization,
                        tip: (0,
                        ec.unref)(y8).NEED_STAMP,
                        onExceed: handleLimitExceed,
                        onChange: handleAuthorizationChange
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)((0,
                            ec.unref)(ef.Z), {
                                class: "upload-button",
                                variant: "secondary",
                                "icon-before": "uploading-b"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createTextVNode)((0,
                                    ec.toDisplayString)((0,
                                    ec.unref)(y8).AUTHORIZATION_EXT_LIMIT), 1)]
                                }),
                                _: 1
                            })]
                        }),
                        _: 1
                    }, 8, ["modelValue", "tip"]), d[16] || (d[16] = (0,
                    ec.createElementVNode)("a", {
                        href: "https://fe-video-qc.xhscdn.com/fe-platform/ee5c5adcc3c68aaebbcaa2aaf85edb41eadd4fdc.docx?attname=fe-platform/ee5c5adcc3c68aaebbcaa2aaf85edb41eadd4fdc.docx",
                        class: "link"
                    }, "参考格式 ", -1))])])])]), (0,
                    ec.createVNode)((0,
                    ec.unref)(NM.Z), {
                        visible: !!O.value.length,
                        imgs: O.value,
                        onHide: handleHide
                    }, null, 8, ["visible", "imgs"])], 64)
                }
            }
        });
        let NX = (0,
        eN.default)(Nq, [["__scopeId", "data-v-61ac3076"]]);
        var NK = {
            class: "institutional-operator-info"
        }
          , N$ = {
            class: "center"
        }
          , N0 = {
            class: "distance-mar-bottom dis-flex"
        }
          , N1 = {
            class: "dis-inline"
        }
          , N2 = {
            class: "distance-mar-bottom dis-flex"
        }
          , N4 = {
            class: "dis-inline"
        }
          , N3 = {
            key: 0,
            class: "error-tip"
        }
          , N5 = {
            class: "distance-mar-bottom dis-flex"
        }
          , N8 = {
            class: "dis-inline"
        }
          , N6 = {
            class: "distance-mar-bottom dis-flex"
        }
          , N9 = {
            class: "dis-inline"
        }
          , N7 = {
            key: 0,
            class: "error-tip"
        }
          , ke = {
            class: "distance-mar-bottom dis-flex"
        }
          , kt = {
            class: "id-card-right"
        }
          , kn = {
            class: "license-right margin-r"
        }
          , ka = {
            class: "license-right"
        }
          , ko = (0,
        ec.defineComponent)({
            __name: "InstitutionalOperator",
            setup: function(n, d) {
                var v, m, h = d.expose, y = (0,
                ec.computed)(function() {
                    return hP.h.getters.mcnInfo
                }), N = (0,
                ec.ref)(!1), k = (0,
                ec.ref)(!1), I = (0,
                ec.ref)([]), C = (0,
                ec.computed)(function() {
                    return y.value.operatorPhotoL ? [{
                        url: y.value.operatorPhotoL
                    }] : []
                }), x = (0,
                ec.computed)(function() {
                    return y.value.operatorPhotoP ? [{
                        url: y.value.operatorPhotoP
                    }] : []
                }), handlePreview = function(n) {
                    n && (I.value = [n])
                };
                var M = (v = (0,
                V._)(function(n) {
                    var d, v, m, h, y, N, k, I;
                    return (0,
                    R.Jh)(this, function(I) {
                        switch (I.label) {
                        case 0:
                            d = n.file,
                            v = n.onSuccess,
                            m = n.onProgress,
                            h = null,
                            I.label = 1;
                        case 1:
                            return I.trys.push([1, 3, , 4]),
                            y = 0,
                            h = setInterval(function() {
                                y += 1,
                                m({
                                    percent: Math.min(y, 99)
                                })
                            }, 16),
                            [4, uploaderImage(d)];
                        case 2:
                            return k = ((N = I.sent()) || {}).cdnUrl,
                            hP.h.dispatch("updateMcnInfo", {
                                operatorPhotoL: k,
                                operatorPhotoReverseReq: formatUploader3Params(N.data)
                            }),
                            m({
                                percent: 100
                            }),
                            v({
                                url: k
                            }),
                            [3, 4];
                        case 3:
                            return I.sent(),
                            clearInterval(h),
                            [2, Promise.reject("图片上传异常")];
                        case 4:
                            return clearInterval(h),
                            [2]
                        }
                    })
                }),
                function handleUploadOperatorPhotoL(n) {
                    return v.apply(this, arguments)
                }
                );
                var S = (m = (0,
                V._)(function(n) {
                    var d, v, m, h, y, N, k, I;
                    return (0,
                    R.Jh)(this, function(I) {
                        switch (I.label) {
                        case 0:
                            d = n.file,
                            v = n.onSuccess,
                            m = n.onProgress,
                            h = null,
                            I.label = 1;
                        case 1:
                            return I.trys.push([1, 3, , 4]),
                            y = 0,
                            h = setInterval(function() {
                                y += 1,
                                m({
                                    percent: Math.min(y, 99)
                                })
                            }, 16),
                            [4, uploaderImage(d)];
                        case 2:
                            return k = ((N = I.sent()) || {}).cdnUrl,
                            hP.h.dispatch("updateMcnInfo", {
                                operatorPhotoP: k,
                                operatorPhotoPositiveReq: formatUploader3Params(N.data)
                            }),
                            m({
                                percent: 100
                            }),
                            v({
                                url: k
                            }),
                            [3, 4];
                        case 3:
                            return I.sent(),
                            clearInterval(h),
                            [2, Promise.reject("图片上传异常")];
                        case 4:
                            return clearInterval(h),
                            [2]
                        }
                    })
                }),
                function handleUploadOperatorPhotoP(n) {
                    return m.apply(this, arguments)
                }
                )
                  , handleUploadOperatorPhotoLChange = function(n, d) {
                    0 === d.length && hP.h.dispatch("updateMcnInfo", {
                        operatorPhotoL: ""
                    })
                }
                  , handleUploadOperatorPhotoPChange = function(n, d) {
                    0 === d.length && hP.h.dispatch("updateMcnInfo", {
                        operatorPhotoP: ""
                    })
                }
                  , handleLimitExceed = function() {
                    y7.A.error("只能上传一份")
                }
                  , handleHide = function() {
                    I.value = []
                }
                  , _ = n1()(function() {
                    /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(y.value.email) ? k.value = !1 : (k.value = !0,
                    y7.A.error("邮箱格式错误，请修改后重试"))
                }, 1e3)
                  , B = n1()(function() {
                    /^1[3456789]\d{9}$/.test(y.value.operatorPhone) ? N.value = !1 : (N.value = !0,
                    y7.A.error("手机号格式错误，请修改后重试"))
                }, 1e3);
                return h({
                    validateBeforeCommit: function() {
                        var n = hP.h.getters.mcnInfo
                          , d = n.operatorName
                          , v = n.operatorWechat
                          , m = n.operatorPhone
                          , h = n.email
                          , y = n.operatorPhotoL
                          , N = n.operatorPhotoP;
                        return !!d && !!v && !!m && !!h && !!N && !!y || (y7.A.error("信息填写不完整，请修改后重试"),
                        !1)
                    }
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", NK, [d[13] || (d[13] = (0,
                    ec.createElementVNode)("div", {
                        class: "title"
                    }, "机构运营人信息", -1)), (0,
                    ec.createElementVNode)("div", N$, [(0,
                    ec.createElementVNode)("div", N0, [d[8] || (d[8] = (0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", {
                        class: "left"
                    }, "姓名 "), (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*")], -1)), (0,
                    ec.createElementVNode)("div", N1, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y6.Z), {
                        modelValue: y.value.operatorName,
                        "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                            return y.value.operatorName = n
                        }
                        ),
                        modelModifiers: {
                            trim: !0
                        },
                        class: "input-width",
                        placeholder: "请输入运营人姓名"
                    }, null, 8, ["modelValue"])])]), (0,
                    ec.createElementVNode)("div", N2, [d[9] || (d[9] = (0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", {
                        class: "left"
                    }, "电话 "), (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*")], -1)), (0,
                    ec.createElementVNode)("div", N4, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y6.Z), {
                        modelValue: y.value.operatorPhone,
                        "onUpdate:modelValue": d[1] || (d[1] = function(n) {
                            return y.value.operatorPhone = n
                        }
                        ),
                        modelModifiers: {
                            trim: !0
                        },
                        class: "input-width",
                        placeholder: "请输入运营人电话",
                        onChange: (0,
                        ec.unref)(B)
                    }, null, 8, ["modelValue", "onChange"]), N.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", N3, " 手机格式校验失败 ")) : (0,
                    ec.createCommentVNode)("", !0)])]), (0,
                    ec.createElementVNode)("div", N5, [d[10] || (d[10] = (0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", {
                        class: "left"
                    }, "微信 "), (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*")], -1)), (0,
                    ec.createElementVNode)("div", N8, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y6.Z), {
                        modelValue: y.value.operatorWechat,
                        "onUpdate:modelValue": d[2] || (d[2] = function(n) {
                            return y.value.operatorWechat = n
                        }
                        ),
                        modelModifiers: {
                            trim: !0
                        },
                        class: "input-width",
                        placeholder: "请输入运营人微信"
                    }, null, 8, ["modelValue"])])]), (0,
                    ec.createElementVNode)("div", N6, [d[11] || (d[11] = (0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", {
                        class: "left"
                    }, "邮箱 "), (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*")], -1)), (0,
                    ec.createElementVNode)("div", N9, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y6.Z), {
                        modelValue: y.value.email,
                        "onUpdate:modelValue": d[3] || (d[3] = function(n) {
                            return y.value.email = n
                        }
                        ),
                        modelModifiers: {
                            trim: !0
                        },
                        class: "input-width",
                        placeholder: "请输入邮箱",
                        onChange: (0,
                        ec.unref)(_)
                    }, null, 8, ["modelValue", "onChange"]), k.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", N7, " 邮箱校验失败 ")) : (0,
                    ec.createCommentVNode)("", !0)])]), (0,
                    ec.createElementVNode)("div", ke, [d[12] || (d[12] = (0,
                    ec.createElementVNode)("span", null, [(0,
                    ec.createElementVNode)("span", {
                        class: "left"
                    }, "运营人身份证照片 "), (0,
                    ec.createElementVNode)("i", {
                        class: "mustflag"
                    }, "*")], -1)), (0,
                    ec.createElementVNode)("div", kt, [(0,
                    ec.createElementVNode)("div", kn, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y9.Z), {
                        modelValue: x.value,
                        "onUpdate:modelValue": d[4] || (d[4] = function(n) {
                            return x.value = n
                        }
                        ),
                        "list-type": "picture-card",
                        limit: "1",
                        "hide-after-limit": !0,
                        tip: "身份证正面",
                        accept: ".jpg, .jepg, .png",
                        "custom-request": S,
                        onExceed: handleLimitExceed,
                        onChange: handleUploadOperatorPhotoPChange,
                        onPreview: d[5] || (d[5] = function(n) {
                            return handlePreview(y.value.operatorPhotoP)
                        }
                        )
                    }, null, 8, ["modelValue"])]), (0,
                    ec.createElementVNode)("div", ka, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y9.Z), {
                        modelValue: C.value,
                        "onUpdate:modelValue": d[6] || (d[6] = function(n) {
                            return C.value = n
                        }
                        ),
                        "list-type": "picture-card",
                        limit: "1",
                        "hide-after-limit": !0,
                        tip: "身份证反面",
                        accept: ".jpg, .jepg, .png",
                        "custom-request": M,
                        onExceed: handleLimitExceed,
                        onChange: handleUploadOperatorPhotoLChange,
                        onPreview: d[7] || (d[7] = function(n) {
                            return handlePreview(y.value.operatorPhotoL)
                        }
                        )
                    }, null, 8, ["modelValue"])])])]), (0,
                    ec.createVNode)((0,
                    ec.unref)(NM.Z), {
                        visible: !!I.value.length,
                        imgs: I.value,
                        onHide: handleHide
                    }, null, 8, ["visible", "imgs"])])])
                }
            }
        });
        let kr = (0,
        eN.default)(ko, [["__scopeId", "data-v-b7ddb22c"]]);
        var ki = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAiLSURBVHgB7Z1ZVhtXEIarukWcBPtE2YGyAosVWLwlmNiwAuMVgB8CIXkAHnJ8wA82K0CsAEjAzhvyCpBXELKCyCd2bB+ru3IHzWhotbpb917Vd46ZB6NfVXWHGhAcgHZLebh1uwh+WADy7wJCXny0oP8JEPNA8mM3vvNavKiJL6ip1wRvwKMa1LEKn95VcbdSA8tBsBB6ulyCHBWB8J54ryj+jAKkAl6Ln18FpNdSdNw+r4BlWCGwstD5+TXx330o3i32t8YMQGXlFYDwDIKwgtt/XoPhGCtwl6gEJTCTihD72GSxjRNYuV+fHom4uTI1S40FlSHAY9PcuDEC67gKOwZba0REzAY6xM2XZTCAqQusLRaPWiteZ5ALtGBv2kJPTWB3LHYUQuiAHk/LdWcuMD39vgC53JH7wvYiY7Sw6IwXYx5kCB08WBfiXs2euBJcAz93Rc+WdyBDMrHg2bXaQUi3/XkxC2tO3YJn22oHIRaU0pr3729AyqRmwfqg4o5YRFHqf4TVIL3Any6eQEqkIrByyX7uBOSxIhOB9Fx24gLTwZIQ1T9xb1+bNumInGgMpv0fVgC9SxY3Ds24LB7DBEnMgmn/gTg/DsvATA55a7j1+zEkQCICs7gpkJDIEwvM4qZIAiJPJLCOuXJBxaQGBau49eoUYhJb4Mbp1JVdd7ZWUoPP4SL++rIKMYi1itb73LlLFjcT8jDnn6jHPAbxtklSXN4KZYjcQgmR5engmIwtMD378TmLOw2wCPPzY99EjSWwujjgs+XpQbgx7gVF5EUWL6qMoQZBfSHqkWZ0C+ZFlSnkxZHmUdQvjiSwzkLguGsQpaiueqSLZtdsLJFc9WgL9v0dFtdIIrnqoRasc5bhElwDoSpWpPpkCGURm8WJCQEsDkvJzQ373kZCOjgD0TWEeCNHWZ/M+ZfpVSmmiA9yb1wZ9OmBLpoOltacWlhJcT+8X+j3bFdxbG5uoVEvbBsl5WkHMCQG+5nm76ZOGCwOK+jGJ6di0YKPwUaUp+1PX4Gds16gapSDAWXdMj5bBxUGWXF/C0ZvHZzCiy5aSG/ARnQsvsENgdUzweZV5ezSNxbftGBZfM3YSR/tugTWl8q4Boyl4ErvnXG3BfteCRibycNXsq9Jm26B0WP3bDuoOhG1aAms3DNXALpAqdNNty2Y3bM7dLjpDhftPQTGDTrcdGcMLgHjCq1zDCVwY4PMd77ukG8eemgL9pBPrlzDI6WpFhjpHjBu0dgRNWIwW7BzeN5d9Yqer+Q5Y9JFxBWi2A978LHO1usqt24XPV5gOYwfFkQMJt4euUroCQtGuAuMm3j4jacnlDBuQtJFs8DugkJg4hjsMp6V2fxMRCifaUNwJnNYYNdhgR2HBXYcKbD1EzaZwcijShbYWfCaXbTThDVxVClHsDFugkLgkP4G16HQzpLQSQnpbU5YsMsxuAYBrOL2RQVmEcRqTshcdXK3pBquBIs2TOlODxIuOvCuwTWIjnXDlVkWVxBKC/4yV4XPdXAGgj3cutiFuHh415nOUZ/eVVUjNDq4/5cDt0qNeBt/Ti/9tlSEOe8KXECEKPFE/66ZF21hZ5kOZLxVfRsnEFeWXM45NGCEQO0ctMCEr8FWEoi3qjb66ztXTuWHo+5+p1sZhlQFH+xj0ngLrVHzJ85ltoTaK7eakdLB8j9gT37WxPFWovpgE+yCe9Rw8/xb+Ua7GanqwGpBjXAC+1sVb7+efy7+3jVwkZBaIbctcIhngFQCk2k2FB3Sc3Lkj2jOfHK5HouoNSmtfYT1hV8G0xnRUHQUOt7m3FpM9SWsNN9qCay6reLgvsPTJ1pD0YHfLeOtbG7ufvf6Sufj1N0Q3Gg37cXaqzsfb3sJwq5ppd23DNpNO3O71N7fzlJ7xrZ7lnQJrNw00RkYSThWmevsxNtOqNwbxm7eE4ZYBiPB4rDW9Z3MULztJsAbw6T7Tl0RD9ClmXtivIb//h24TWrF25nsmCsWoZsXC70f7X/TX4c9MBJSMbXfLF1l3TMXbzsI6LDfhwfOTTL/CpGq7ZW1jM8z3IqicTXY71OD5ybJCSRGD8WSglJD1NiT6t0gpIEed/jkM2NjMdNiiPVKhmfbGRuLmRbh8FlPQwVuzBGqAGMoct87/Mp0dL5svS6fIVy/ZB7iTjwY6WFHCqxORojYVZsGwWGkaW4QEV5wGcSIhVUn0Usa2FWbQk3ei0f94sgCs6s2BKHBOPfiYxUlCbfwQrw6BGY6hCLuag0iM37V2VxuV7y0O1HeRmTc/fl8A8ZkbIH1IOX6qqXTsu2kkUkKMYh9iEsHS+Ic2JNn1dwKMV1quiwnXj5a7MJg3Hwp86jtHIluE/Xg8STJhhNVfuPW+SkEIYucFuJGD395dQoTkMg9Gz1dWgPfOwImOaS423+UYUISu0hlkRMkIXElid6U0/7yiviJUmReeMWjpmLuhG65k8RTIXTtj3/JfajHRG6FkFbV4jVBEm+vo1Z8gdyz8T45OlRVdVcJiytJNZmJDpblsdo6MIMRx4/w8d3uJEV1w0g9W432728A4g5wXO6lpi4OxjxbHpdM0hE5Lvcg06DE9WsWfbwyzTcVq+xd8Ruly55Va87EajvJPKFYWbPnC6HxEcwSGVpt96+dEqrUxKcj5922Ehb2Jm0YE//XTxl9AiYXYVgAl1BXfPJEajrCNjGm5kMJnfPWxQ2V3TVGU7bYXowr6lGu26M1y2K02MPSqazPNUXYJsZWbekSUa8krPqRsem60lpDOoMP78tpHVRMihVleS2xfe+heLcE09tm1VTDOMNF7cTKusuGGy8KN35Pl5BiAVJBnqdjVSyYXsvej6a53yg4UVirWjfcul1UogPm1VRzPfg6r5uMYqHPt9VaM6Pk5BkS/0J6C15YVV3wZTNtCyx0FP8DX3GMqbmfsE0AAAAASUVORK5CYII="
          , kl = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAkkSURBVHgB7Z1LjxzVFcf/txMJJ1mkkSzIKqo89h6vWVBIWLInC4ZP4B7zAWw2kJ09u8Sb2FLWTI/yATJsGCRHoi0lm2zS7JNQsAOBaBZgI1Bf7qkHbgbb03Wf51adnzTy9Dzk6qrfnHPuGxAEQRAEQRAEQRAEQRAEQRAEQRCEYaIwQnQ5m+IcdsynBdTkgrkLU2hd1K8bpu3HaSrzsWo+1Ap6/b75XfMvlniIpVrMVxgZoxBIX56V5p0aYSYvmleNOGGozC1dAuv7JJV6d77AwBmkQHWE+Rlm5u29Yl6SMFOkgSLVwkSqt83nCyNUhYExGIFOSVOCJ0YmfYQByZS9QHV6mkyumgezh3SRpj9KzbFeH+We5rIVqKlr1E3wjTbbsjTy3zUizZEh2QnUinOIcIVwKioj0kFuImUj0IAizlmQSPu5pDb2AhlxijbilBgTTY10wL3YnoAxeve16+ZG/gdjk4fQekbvXe9euwnGsIxAo406T4bS2kscoxG7CDTqqPNkijoaXZndADPYRKCmI3BiwrVmd5N4oe6ok7deBxNYCNSmrL+jGXYQzoZNSksukN6d7UDX8hQQ+sBCoqQ1kMnpe0ae9yDy2NDVRXtISDKB9B9eu2oCIEWefMav+DGle6gv719FIpKksFqe9XoOwR8aM/Xu4REiE10gkScgCSSKKlCTr+u0JQRDv6pO5seIRDSB2qY6dRBKzROWFb41rbN78yUiEKWIbuWh1pbIE54pfkqFtbnnEYjTClPSVI9M3TFb9+4HJrhA+sq1v0DkScFOMzQUlqAC1QOjMraVEH0j9ABssCJaimY2rMyQx8VQQx7hIpAUzVyYtnOrghBEoHYWXQGBC2WoVOY9hUnqYkuQVOY/Ak3qyl/k4UeQVOY1ArVLb96DwJdmDtECnvAbgQIWa4InmrV13vAmkIk+M0jhnANlnSk84S8CeTZbCIjHTOFFIIk+2VH4ikJ+IpBS1yHkhaeM4dwKY9Hy+sXPgb1LwMsvAM+fBz7+FPjHv4Dje8CXXyEpnK/NQ4vMXaDda4f1Ou5U0AP68xvAb3/94+/97yPgj7fTPSjO10YoNVfvvLUPB5xSWN3rnFIegv66H/eAiN+Zr//pjeZBxuZp8hB0bXTtKdF6z3XOkGsNVCI1l154+vdTSHSWPB0vn3Ht4Wn3lbTHTSClkq1H+p7nzp/9MzEl2lYe4vktrj049aak1lgL1M65LZGaTz7b7udiSNRHHoIK6vSULmnMJQKV4MC9f27/syEl6isPQa0xDjikMXuB1MQp9HmDmsP//2j7nw8hkY08dM107SywT2MOEUiX4AA1g9+8nU4iW3nevJ2+H+gR1tvqWAnUdoPzmfOTSqJhyENMbYc27CKQYrgRVGyJhiNPg+UztUxhdOoNQ2JJNDR5CG3XKLIUSPPdii60REOUh1DqAizoPRam90yfwdfqc3DH5kGfNT41VHk6Huhn+x6a1z8CPcxkI0zfkWjo8hDn+j/b/gJxLKCfhC+JxiBPQ4Ge9BdIZ7Zkx1Wi8chjFRwsItDEqthKiotEY5GH0PglemLRCtN5Lhq0lWgs8hBKFeiJTTM+31WnNhJtS+7yNBToybgEIkJINAx5rLARqEDu+JRoWPL0Dg7+N1fIBR8SDS/yiEC9cJFoxGlrk3EL5IKGgLELZNNJ2JFyyRAjbATqNdjGFhd5OkSikQrkQ56OYUlUoSfjS2E+5ekYjkS9g4ONQBVyJYQ8HcOQKIJAWn+IHLEdVU+9ZCgmWn+BntjMB8qvBnKZkpFyyVB8eh8RZTMfKMo5VN5wnc+Tet1ZTJTUQD/E12SwsUikY0Sgc5lEIN8zCccg0cMIAqnjetZ+Bc6EmoY6bImqvisyCMt+IMU3CoWewzxUibR+HxZYCrS+D47EmgA/RIkUFrDATiCOLbHYqyeGJpHlM7XepVVf2afVqTymt6ZcehNiBWx8Vurk8FlY4DIWxiMKpV63NYRIpLV1SeKywdTb4MDTtvl9HCFmEtpKlHqb30ccwxJ7gZ7BHBy41GOr3JDTUG0kSr/Nb8cCllgL1PYHLZCa57bcKjfGHOa+ErHY5hcLl2MwHecDMUhj22zzG3MCfB+JOGzzq/URHHATqEljaUfnz9rmN8XqiW0l4rHN7wIOOAlUpzGdOAo9bZvflEtvzpKIwza/Ws9dT3H+CRy59fudFZSaIRXffAPc/3fz76/ON03jTz5tHs5f/5a2r4XztTW8fvDfZQUHvJzabDoV6bywEkJOLE3n4UU44lhEt2h9ACEvtL4LD3g7N95EoQ8g56bmQmWiz2/gAT8RiNDa6eQ7ISIeM4a3CERILZQF3qIP4S8CEVIL8cdzpvAqUHsC8AICT5p+nwU84jcCEY3hw9iAYVjQM/GeIbwL1PRsSipjh2m2u/Y6Pw6vRfQmUlCzwmvhvIn/FNYhqYwLNF75EgIRTCBJZVzQByFSV0ewFNahr8zumP/mOoQEmLrnZH4DAQmXwjqewS1wmYA/LqrQ8hDBBWrnDL2KnDemyo8qZN2zSfAU1qF3ZzvQilpmeR+VwB/6g70Ysu7ZJHwKa1HvzE0akwHX8Oj9WPIQ0QQiTE4+llH7gJh7W9/jiERLYZvoy7MZlDqE4A9dR545IpNEIEIk8kgieYioKWyT5g3XrTPprbZnRfcwlTxEsgjUYSJRYSIRtc4KCH2ooIw8deMkHckFIkSi3iypby1ma+tJsBCoQ4Y9tkHfxQPcstnPMASsBCKMRKb7Xd2EdDieZlUPjJ7M74AR7AQiJKX9iEXb0qrADJYCdRiRbhmRKKWNNRqxjDqbsBaIqKMRQCJdxbhgG3U2YS9QhxGpbDseCwwbEufA9+qJUGQjUEfbg01FdoFhUbURZ4GMyE6gjlYkqo92kDdZRZzTZCtQR53agFlmNRLN2aFR86NcxenIXqCOttguW5FK8GRR7yv5AHMuHYGuDEagTR7JNHnFvCqRrhuAJFkOTZpNBinQaZoWHNVKkxfNK6qZCoShak4yWt+nsydyT0/bMAqBTqPL2RTnjFAklTbRSU0umK9SlOo+isf82gqPpp6YkXBlWk3rL9pDSio6rG2IEUYQBEEQBEEQBEEQBEEQBEEQBEEQxsp37XpUXF5KL5sAAAAASUVORK5CYII="
          , kc = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAApQSURBVHgB7Z1PaBzXHce/byQUu3HbtUmwSsDIjVuwKUiGFjWokLUC8anYju/V7rkHuzmkt8o6NlBqXwo97crQYxvnqECsDdTYSgqWL2mhdq2GBmwSmi11Wsd45+X3G+0ma0WKdt6fmTczvw8sK4GE2JmPfr/fe7/33gCCIAiCIAiCIAiCIAiCIAiCIAiCUE4UKkj9ZquGh5iJgClEapquQk3T10rT95vU+q+tbCiFbgx06We7iPUt0HussI49WO8cb3ZRMSohUP16qx5pzGBMvUjfzgBfiOKaDXqto6ffYak6LzQ7KDmlFIgjTPR/NPS4OqV0IkwN+cARqUOR6k2KWh0SagMlozQCbZGmjgDRCh3V08tlkqnwAiXpSakF+iSnkV+kSY9COyaZip7mCisQi6PG1GKo0WZUqChf1z196eoLzTYKSOEESiJOpFrwVwjnxQbVSktFE6kwApUl4ozARhzrZlFSW/ACkThTJE6rAuI8yWaNtBR6sR0hYOrvLp+jdHWzcvIwGg3+7PPvLS8iYIKMQJWNOjvDae1EiNEouAhU6aizM1NJNLrROo/ACCYCJROBjxSH6+AuUmBcvDrb+AUCIQiBOGWNjak39GbbQdidYFJa7gLVr7VmonH1Bso3r+ObICTKtQZ6aa11muRZhchjQlIX8TVEjuQmUP0vywsaSeQpTv8qPGp8DflaIidySWH8gaOebkNwRjymGp0fLiwjYzIXSOTxRx4SZSoQ5+t+2hI8oaDPvD3bvIKMyEwgHqpz0QepeXzTjR/T6GyuuY4MyKSI7svDoy2Rxz81nhbha44MyESgvjxTELIimZhNdp94xrtA82vt30LkyRye1e+3hrziVSBujEJ6W3ly3ncD1lsRLUVzMHSp5XHcV8vDWwSSojkYary2Cp7wIlB/Fd0UhCDgtVW+UpnzFCapK1i8pDLnEShSSeUv8oSHl1TmNAL192ytQgiW/hqiDhzhNAL1N/wJAcN76+AQZwLNX281IIVz8HBBzZkCjnAXgSL/s56CG1xmCicCSfQpHFOuopATgVSkzkEoFK5qIetRmIy87Jic2IdXvnMUP6kdwsGn9uHB40e41v0Al/91C/cePYBPXIzIrCNQcriTYMSRvQfw+x/8FGcPHkvkYfaNT+DkM0fwh5mzybtPojH7e2cVgfqzznchpIbl+c3Rk4kwO/Gg9wiv/nUFd/73b3iiG0/owzany1pFIPrlOoTUjCIPs29sAmcnj8IjtegzNGCBlUBqTNJXWkaVZ8Dc/kPwiY7UKVhgLBCnLy0naKQirTwMRyGfJBOLFktfjQWS9JUOHm0tff9EKnmY+5/5HYkxNmnMPIVZhr4qwfJw5Jnsj7TSsP7fe/CNTRqzqYHqEHbFRh6OPpc/vAXfKItjdYwE6k+Dy5qfXbCR51OaUHz1byu4l0EKI2qmrQ2zCCQHQe1KgeRJiJTZPTUSKNp86o2wAy7kue1v8nBbtGFJYloDSQTagSLKwyilpmFA6lZG/zDMTyB8haLKM4DaGvvTtjXSR6CHEn22w0YeJm95EgzubXqBpID+Crby/PrutfzlQSLDFFKSWiCq1mX4PoQLed766DaCQGURgSKzYquMcJ+K2xOlkIeJ1LeRktQCKYlACSwPR54j3zgAE4KTB8lQfgopMamBKi9QGeVhhh57PjKpBdIVF8hWnmXqbYUojynjSIvKf/sO38Tpbx1M3nnh+Z1PP0mWf2bxd23lufxhJmdfmpI6OKQXKGcWnpvGKwePPbGuhntGb318O7lBPnntu3Nllocpt0C/pBv48jY7FXgU9LPnZvA0RYjfffAefMB/23R5aUHkMSLoR14Oc/KZ57eVZ5izk8fw2uE5uGYncUehzPIwxRHo2dFuIP+cS4lEnq/HRCDjPUQ2TH9zcuSfdSWRyLM7JvNAuQiUFluJfn7oR1WUZwMpKUwKu2WwuNxUomSkR/WUCUWOPNogu6RvZUTpLXXBykd3YEJaiVgeHtGZUPi0pTIQKO7pfyIHVmieZ8VwBndUiSotDxPr/yAlJs3U3Gqg16mH5EsiG3lWPr5TioKZemGpP4RJEZ3rlfIhka08r//jzygFmaQw5FMDDeNSIpHnS2KD4JC+lbGH/oj/vuWusETMqBOMwwx+5z41YkWeIfakF8jogKn5G+27IXTlGY4mJhLZUEZ5aAi/sTrbOIyUmM0DKQRTMdqkMxP4sIPSRR5Ga6OlDEYC0VD+HQREVhLxUXOLfy/neaKUijowoPARaIBviVge3rvFp6iWkdhwdG18yOb8Wpt3pwa3vNVHTVR2eYju1dnGfhhg3AtTAUYhhiPRH++9D1dUQB4qf8xLEmOBeo/1mwgUXpXoYnlrFeRhtMYVGGLejd+LNgKGWws2EvHpYL+igrns8vTpwBBjgfgUB0pjHQSMqUQsT9YHPOWFpnto8xhMq/VAIaexAWklqpI8jO7pZVhgt6BsM40Fv0JxVImqJk+fDiywEojTmI7Dj0LMbhJVUh6Ftu1TnK33hVEPpU2TSYV45AFLxKK8/Ozz+N7eA3h6fCIRhntbf7r/flUK5i+ILdMX4+SpzS+9216Vxx4UC/rHX6fm6XFY4mRRfa+nlyAUCio9LsEBzp4bf2KtfVfJc1MLgenSje1wtq2HjG5CKAR0r5xlDGcRiJFaKHxcRh/G6cZCqYXCx3WmcCoQPwE49PZGpdmc9+nAIc63NlMUYsMLsX++YnRjDxnCuUDJzKaWVBYcNGy3nXXeDqdF9DBSUIeD68J5GG+nc0gqCwbuV56AJ7wJJKksEOge+EhdA7ylsAHzN1oXodQ5CNmj9aWrP26eh0e8HzAVP4UL3LiDkClc9/iWh/EuUH/N0BkdwKEMVYGvtc+6ZxjvKWxA/VprJhpXvK1THtbil24c6+M+655hMjsjsTPXXI8hDVffKLrGWcnDZHrIZme2eSWWrr03+Nq+TdcYGZJZChumfr3ViCLVguAMlociTxsZk4tAjEjkjrzkYXITiKmvtU5HSCSSwtqMLtc8WaetYXIViKFINKUitSrLYdORDNUf6zM8OEGO5C4QIxKlQyus6x7Jk+FoayeCEGiAtD1GgNoTPLvPE7QIgKAEYkii8yTRIqQu2kqXG6PUnriIgAhOIEZS2pPwCRqUspohpKytBCnQgPnrrQuIkpRW1WgUZNQZJmiBmCQaARcoIhVi/70rQo46wwQv0AASqU4Stcqe1vriLLnePeGLwgg0gNJaQ0dqsWwi9ZdgNIsizoDCCTSgL9I5+gBmD7sIhKJFnK0UVqABSWoDGgWrkbp05a/w+TxFFWdA4QUawMV2RG9qTC2Eup0oiTZ8ruRetEOZCLSlNAINM5CJpgBO8bfIbxqgm7QdSibNMKUUaCuc5qhKnYnG1ItUrM54LMA36LWePIyGxCl6ehqFSgi0lfrNVg0PqfhmqRRFp0hNK3qPNWpqM1pNbfNr3f6LH/OwkWwS4IfUahKGv95DwpQwwgiCIAiCIAiCIAiCIAiCIAiCIAhCVfkcQh6n5eDjzSYAAAAASUVORK5CYII="
          , ku = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPPSURBVHgBzZhLUuMwEIY7TqqAXY4QdjMrkhOMU8AaOMFkTgCz4VEscBY8NxNOkHACwh4Kc4IJNzA3YEeo4jF/ZyToCDmObZmZvyplW+mWPstSt6QSOdTJycn66+trgN/9cDhsBEFwT47kkSMdHx/vvby8dABZxWNtbm6uRQ7lBJQhuSdl2dPTU0gOlRvUBonnH7u7uwNyqBLlUBzkzs5OjxwrM+hnQrIygWaBPDw89Eul0grs+FpVPvee50WYhBd4DOEfkSvQtJAiZFUpWT3YtW3AqUDTQKIHa+i5Lm59SiH4cOxtb21tdcbKp63AhOQK8cnWABmSHfIatzUTAnX08btTRVWULZDlZVAeALadCtQGiV9zc3NzMCVkpHo+tNXPPrgE8PtuwP7UPZsImhcSvmePj48b06TTg4OD1XK53JXj+fn5ucExuVQ0JHqxRSmkosO1KAq3t7ebJReQmNl1jNfzvJBaR0dH/LnXRV1NzwUkbM2ebGeFZGHlFajZr+WXyQGkHFMKMqAcCsNwuLi4+BXt1hXD+KLkf4DUQsYaCI56RT/wIC4aEjO/inXqOsbzXdKaADbcvq676gmwrjQsAnJmZob9ePx10TET7U2NQOHUImMyFAGpx5zSxNwvbXE/qKibPWET2RrOCqmyzrlsGH7cCZ1JfrD5Jj79XYXHJhm9aWtMxcnUkJYkMECmak7KVCroyxfreyhY1QU8gWyDHIar9DFOBlQApOKQ8yWCT5/H6IKo6CbGUS4WwiIhkZW6ht8Z+3hmZWQHlQP7goqFbImit/kyBsp/UII4vtEnQXKO1w9TbZdlT5trxiIh5ZbEM5J/nOTn9jnV0idCsiq8E6T3sFO3VYYGO5z6dAzl7IIGWhyIuYzHsBFfnUKy+NPLz7pgq5Ab5P2RUVxTYcsvGnIECjgZknxOdzZD3u9gRdOgCRMODZ3CruEaklV5eHjozc7O/tIFyMkbuAQ2Y5X/53lvgxf01ReIcL3lepIAuRPQFmc4Pw0ka5RM8YbX2pknFxqdd3m2qSEtC5OpIFmj8CTzO483TJwuOVReSNZoK3J1dRUtLS359B5eviwvL9Pl5eUN5ZQLSNZbwOcDAhlTOQSZ8fJfQbLGtstq2/vbsOnFHVxNklqqjS0wskJ+AFUNtMxtCf2d2T28xFlSIwqQv4Rv1pEV0grKsh0oCIX4cUa61QWIr1U868Muqw/26mt5IknsSUncwVWqymOOEDPVlWSwv79fR49tpAFWR5KnvEZwFY+nPh9VPewDegUQNVxrIsdHanHD4awPwIHrhPEHzXOwWxHCBtgAAAAASUVORK5CYII="
          , ks = v(47814)
          , kd = v(8534)
          , kv = v(958)
          , km = v(52440)
          , kf = v(64594)
          , kp = {
            class: "sign-agreement"
        }
          , kg = {
            class: "makesure-box"
        }
          , kh = {
            class: "makesure-agreement-btn-box"
        }
          , ky = {
            class: "makesure-agreement-btn"
        }
          , kN = (0,
        ec.defineComponent)({
            __name: "SignAgreement",
            props: {
                frameData: {}
            },
            emits: ["hideAgreement"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                eu.yj)()
                  , h = (0,
                ec.computed)(function() {
                    return "new-mcn/renew" === m.path
                })
                  , y = (0,
                ec.computed)(function() {
                    return hP.h.getters.mcnInfo
                })
                  , handleIframe = function(n) {
                    var d = document.getElementsByClassName("iframe")[0]
                      , v = d.contentDocument || d.contentWindow.document;
                    /^http/.test(n) ? d.src = n : v.children[0].innerHTML = n,
                    y7.A.success("操作成功")
                };
                (0,
                ec.onMounted)(function() {
                    if (n.frameData) {
                        handleIframe(n.frameData);
                        return
                    }
                    var d = document.getElementsByClassName("iframe")[0];
                    d.contentDocument || d.contentWindow.document,
                    h5.h4({
                        phone: y.value.createPhone,
                        email: y.value.createEmail
                    }).then(function(n) {
                        handleIframe(n)
                    }).catch(function(n) {
                        var d = -100 === n.code;
                        d && ks.Z.danger({
                            title: "创建合同",
                            size: 320,
                            content: (0,
                            ec.h)(kd.Z, {}, {
                                default: function() {
                                    return d ? "你填写的电子邮箱已经被使用，请使用其他的电子邮箱签署合同" : "当前系统出现异常，请稍后再试"
                                }
                            }),
                            centered: !0,
                            confirmText: "我知道了",
                            withCancel: !1,
                            onConfirm: function(n) {
                                null == n || n(),
                                v("hideAgreement")
                            }
                        })
                    })
                });
                var makeSureAgreement = function() {
                    h5.nj({
                        params: {
                            successReturnUrl: h.value ? "https://creator.xiaohongshu.com/new-mcn/renew?source=fadada" : "https://creator.xiaohongshu.com/new-mcn/entry?source=fadada"
                        }
                    }).then(function(n) {
                        window.location.href = n
                    }).catch(function() {
                        y7.A.error("网络错误，请稍后重试")
                    })
                };
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", kp, [(0,
                    ec.createElementVNode)("div", null, [d[2] || (d[2] = (0,
                    ec.createElementVNode)("div", {
                        class: "agreement-header"
                    }, [(0,
                    ec.createElementVNode)("p", {
                        class: "agreement-desc-title"
                    }, "具体合作协议")], -1)), (0,
                    ec.createElementVNode)("div", null, [d[1] || (d[1] = (0,
                    ec.createElementVNode)("iframe", {
                        class: "iframe",
                        frameborder: "0"
                    }, null, -1)), (0,
                    ec.createElementVNode)("div", kg, [(0,
                    ec.createElementVNode)("p", kh, [(0,
                    ec.createElementVNode)("span", ky, [(0,
                    ec.createVNode)((0,
                    ec.unref)(kv.Z), {
                        type: "primary",
                        onClick: makeSureAgreement
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return d[0] || (d[0] = [(0,
                            ec.createTextVNode)("我确定可以签署协议")])
                        }),
                        _: 1
                    })])])])])])])
                }
            }
        });
        let kk = (0,
        eN.default)(kN, [["__scopeId", "data-v-0ab7d750"]]);
        var kI = {
            class: "apply-review"
        }
          , kC = {
            key: 0
        }
          , kb = {
            key: 0,
            class: "title"
        }
          , kE = {
            key: 1,
            class: "title"
        }
          , kA = {
            key: 2,
            class: "status-box-review"
        }
          , kw = {
            key: 3,
            class: "status-box-nopass"
        }
          , kx = {
            style: {
                display: "flex",
                "flex-direction": "column"
            }
        }
          , kT = {
            class: "status-tip"
        }
          , kM = {
            key: 4,
            class: "status-box-review"
        }
          , kS = {
            key: 0
        }
          , k_ = {
            class: "agreement-btn-box"
        }
          , kV = {
            class: "go-to-platform-btn"
        }
          , kD = {
            class: "agreement-btn-box"
        }
          , kB = {
            class: "download-agreement-btn"
        }
          , kL = ["href"]
          , kP = {
            key: 1
        }
          , kO = {
            class: "agreement-btn-box"
        }
          , kR = ["data-impression"]
          , kU = {
            class: "table"
        }
          , kj = {
            class: "phone-email-box"
        }
          , kF = {
            class: "phone-box"
        }
          , kz = {
            class: "model-right"
        }
          , kZ = {
            key: 0,
            class: "error-tip"
        }
          , kQ = {
            class: "email-box"
        }
          , kJ = {
            class: "model-right"
        }
          , kH = {
            key: 0,
            class: "error-tip"
        }
          , kG = {
            class: "detail-modal-body"
        }
          , kY = {
            key: 0
        }
          , kW = {
            key: 1
        }
          , kq = {
            class: "modal-nopass-box",
            style: {
                display: "flex",
                "flex-direction": "column"
            }
        }
          , kX = {
            class: "status-tip"
        }
          , kK = {
            key: 2
        }
          , k$ = {
            class: "business-info"
        }
          , k0 = {
            class: "business-distance-mar-bottom box-position-re"
        }
          , k1 = {
            class: "right"
        }
          , k2 = {
            class: "account-card"
        }
          , k4 = ["src"]
          , k3 = {
            class: "business-distance-mar-bottom box-position-re"
        }
          , k5 = {
            class: "right"
        }
          , k8 = {
            class: "business-distance-mar-bottom box-position-re"
        }
          , k6 = {
            class: "right"
        }
          , k9 = ["href"]
          , k7 = {
            class: "business-distance-mar-bottom box-position-re"
        }
          , Ie = {
            class: "right"
        }
          , It = ["href"]
          , In = {
            class: "box-position-re"
        }
          , Ia = {
            class: "right"
        }
          , Io = ["href"]
          , Ir = {
            class: "company-qualification-info"
        }
          , Ii = {
            class: "company-distance-mar-bottom box-position-re"
        }
          , Il = {
            class: "right"
        }
          , Ic = {
            class: "company-distance-mar-bottom box-position-re"
        }
          , Iu = {
            class: "right"
        }
          , Is = {
            class: "company-distance-mar-bottom box-position-re"
        }
          , Id = {
            class: "right"
        }
          , Iv = {
            class: "company-distance-mar-bottom box-position-re"
        }
          , Im = {
            class: "right pic-position"
        }
          , If = ["src"]
          , Ip = ["href"]
          , Ig = {
            class: "company-distance-mar-bottom box-position-re"
        }
          , Ih = {
            class: "right",
            style: {
                display: "flex"
            }
        }
          , Iy = {
            class: "pic-position"
        }
          , IN = ["src"]
          , Ik = {
            class: "pic-position",
            style: {
                "margin-left": "12px"
            }
        }
          , II = ["src"]
          , IC = {
            class: "box-position-re"
        }
          , Ib = {
            class: "right"
        }
          , IE = {
            class: "institutional-operator-info"
        }
          , IA = {
            class: "institutional-distance-mar-bottom box-position-re"
        }
          , Iw = {
            class: "right"
        }
          , Ix = {
            class: "institutional-distance-mar-bottom box-position-re"
        }
          , IT = {
            class: "right"
        }
          , IM = {
            class: "institutional-distance-mar-bottom box-position-re"
        }
          , IS = {
            class: "right"
        }
          , I_ = {
            class: "institutional-distance-mar-bottom box-position-re"
        }
          , IV = {
            class: "right"
        }
          , ID = {
            class: "institutional-distance-mar-bottom box-position-re"
        }
          , IB = {
            class: "right",
            style: {
                display: "flex"
            }
        }
          , IL = {
            class: "pic-position"
        }
          , IP = ["src"]
          , IO = {
            class: "pic-position",
            style: {
                "margin-left": "12px"
            }
        }
          , IR = ["src"]
          , IU = {
            key: 1
        }
          , Ij = (0,
        ec.defineComponent)({
            __name: "ApplyReview",
            props: {
                saveApplyAgain: {
                    type: Boolean
                }
            },
            emits: ["handleEditTo"],
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                ec.ref)(0)
                  , h = (0,
                ec.ref)(!1)
                  , y = (0,
                ec.ref)("")
                  , N = (0,
                ec.ref)(!1)
                  , k = (0,
                ec.ref)(!1)
                  , I = (0,
                ec.computed)(function() {
                    return hP.h.getters.mcnInfo
                })
                  , C = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["53867"]())
                })
                  , x = (0,
                ec.computed)(function() {
                    var n;
                    return (n = {},
                    (0,
                    eU._)(n, 0, "审核中"),
                    (0,
                    eU._)(n, 1, "未通过"),
                    (0,
                    eU._)(n, 2, "已通过"),
                    (0,
                    eU._)(n, 3, "已通过"),
                    n)[m.value] || ""
                })
                  , M = (0,
                ec.computed)(function() {
                    return [{
                        time: (0,
                        kf.DZ)(I.value.createTime || Date.now(), "yyyy-MM-dd HH:mm"),
                        status: x.value
                    }]
                })
                  , S = (0,
                ec.ref)(!1)
                  , _ = (0,
                ec.ref)(!1);
                hP.h.dispatch("updateMcnInfo", {
                    createPhone: I.value.createPhone || I.value.operatorPhone,
                    createEmail: I.value.createEmail || I.value.email
                });
                var onClickReviewDetail = function() {
                    var n, d;
                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["53870"]()),
                    N.value = !0
                }
                  , handleEdit = function() {
                    var n, d;
                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["53872"]()),
                    0 === m.value || 2 === m.value ? ks.Z.info({
                        title: "修改提示",
                        size: 320,
                        content: (0,
                        ec.h)(kd.Z, {}, {
                            default: function() {
                                return "修改内容将重新进入审核队列，预计需要等待3天才能完成审核。"
                            }
                        }),
                        centered: !0,
                        onConfirm: function(n) {
                            N.value = !1,
                            v("handleEditTo"),
                            hP.h.dispatch("updateMcnInfo", {
                                status: 0
                            }),
                            null == n || n()
                        },
                        onCancel: function(n) {
                            null == n || n()
                        }
                    }) : (N.value = !1,
                    v("handleEditTo"))
                }
                  , V = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["53869"]())
                })
                  , B = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["53871"]())
                })
                  , O = (0,
                ec.computed)(function() {
                    return [{
                        title: "申请时间",
                        dataIndex: "time",
                        width: 500
                    }, {
                        title: "审核状态",
                        dataIndex: "status"
                    }, {
                        title: "操作",
                        dataIndex: "operator",
                        width: 100,
                        render: function() {
                            return (0,
                            ec.h)("span", [(0,
                            ec.h)(kd.Z, {
                                link: !0,
                                "data-impression": V.value,
                                onclick: onClickReviewDetail
                            }, "详情"), (0,
                            ec.h)(kd.Z, {
                                link: !0,
                                class: "ml16",
                                "data-impression": B.value,
                                style: {
                                    display: 3 !== m.value ? "inline-block" : "none"
                                },
                                onclick: handleEdit
                            }, "编辑")])
                        }
                    }]
                })
                  , onCloseModal = function() {
                    N.value = !1
                }
                  , goToPlatform = function() {
                    window.location.href = "https://creator.xiaohongshu.com/newmcn/home"
                }
                  , handleAgreement = function() {
                    var n, d;
                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["53868"]()),
                    k.value = !0
                }
                  , onHideAgreement = function() {
                    h.value = !1
                };
                (0,
                ec.onMounted)(function() {
                    -1 === I.value.status ? n.saveApplyAgain ? m.value = 0 : m.value = 1 : 1 === I.value.status ? m.value = 0 : 2 === I.value.status ? m.value = 2 : 3 === I.value.status && (m.value = 3,
                    h5.S$().then(function(n) {
                        y.value = n
                    }))
                });
                var handleDownload = function(n, d) {
                    fetch(n).then(function(n) {
                        return n.blob()
                    }).then(function(n) {
                        var v, m, h = null === (v = window) || void 0 === v ? void 0 : v.URL.createObjectURL(n), y = document.createElement("a");
                        y.style.display = "none",
                        y.href = h,
                        y.download = d,
                        document.body.appendChild(y),
                        y.click(),
                        null === (m = window) || void 0 === m || m.URL.revokeObjectURL(h),
                        document.body.removeChild(y)
                    }).catch(function(n) {
                        console.error("下载PDF文件时出现错误:", n)
                    })
                }
                  , signContract = function() {
                    if (S.value || !I.value.createPhone) {
                        y7.A.error("手机格式校验失败，或者输入框内容为空");
                        return
                    }
                    if (_.value || !I.value.createEmail) {
                        y7.A.error("邮箱格式校验失败，或者输入框内容为空");
                        return
                    }
                    h.value = !0,
                    k.value = !1
                }
                  , R = n1()(function() {
                    /^1[3456789]\d{9}$/.test(I.value.createPhone) ? S.value = !1 : S.value = !0
                }, 1e3)
                  , onCloseContractModal = function() {
                    k.value = !1,
                    S.value = !1,
                    _.value = !1,
                    hP.h.dispatch("updateMcnInfo", {
                        createPhone: "",
                        createEmail: ""
                    })
                }
                  , U = n1()(function() {
                    /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(I.value.createEmail) ? _.value = !1 : _.value = !0
                }, 1e3);
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, [(0,
                    ec.createElementVNode)("div", kI, [h.value ? (0,
                    ec.createCommentVNode)("", !0) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", kC, [0 === m.value || 1 === m.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", kb, " 申请审核 ")) : (0,
                    ec.createCommentVNode)("", !0), 2 === m.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", kE, "签署合作协议")) : (0,
                    ec.createCommentVNode)("", !0), 0 === m.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", kA, d[4] || (d[4] = [(0,
                    ec.createElementVNode)("div", null, [(0,
                    ec.createElementVNode)("div", {
                        class: "review"
                    }, [(0,
                    ec.createElementVNode)("img", {
                        src: ki,
                        alt: ""
                    })]), (0,
                    ec.createElementVNode)("p", {
                        class: "status"
                    }, "审核中"), (0,
                    ec.createElementVNode)("p", {
                        class: "status-tip"
                    }, "当前入驻申请正在审核中，审核时效约为1-3个工作日，请耐心等待")], -1)]))) : (0,
                    ec.createCommentVNode)("", !0), 1 === m.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", kw, [(0,
                    ec.createElementVNode)("div", null, [d[6] || (d[6] = (0,
                    ec.createElementVNode)("div", {
                        class: "nopass"
                    }, [(0,
                    ec.createElementVNode)("img", {
                        src: kl,
                        alt: ""
                    })], -1)), d[7] || (d[7] = (0,
                    ec.createElementVNode)("p", {
                        class: "status"
                    }, "未通过", -1)), (0,
                    ec.createElementVNode)("div", kx, [(0,
                    ec.createElementVNode)("p", kT, "很抱歉，当前入驻申请未通过，理由为" + (0,
                    ec.toDisplayString)(I.value.refuseInfo), 1), d[5] || (d[5] = (0,
                    ec.createElementVNode)("p", {
                        class: "status-tip"
                    }, "请仔细核对相关资料，调整后可点击「编辑」按钮，进行再次提交", -1))])])])) : (0,
                    ec.createCommentVNode)("", !0), 2 === m.value || 3 === m.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", kM, [d[13] || (d[13] = (0,
                    ec.createElementVNode)("div", {
                        class: "review"
                    }, [(0,
                    ec.createElementVNode)("img", {
                        src: kc,
                        alt: ""
                    })], -1)), 3 === m.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", kS, [d[9] || (d[9] = (0,
                    ec.createElementVNode)("p", {
                        class: "status"
                    }, "签署完成，已成功入驻", -1)), (0,
                    ec.createElementVNode)("p", k_, [(0,
                    ec.createElementVNode)("span", kV, [(0,
                    ec.createVNode)((0,
                    ec.unref)(kv.Z), {
                        type: "primary",
                        onClick: goToPlatform
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return d[8] || (d[8] = [(0,
                            ec.createTextVNode)("前往机构服务平台")])
                        }),
                        _: 1
                    })])]), (0,
                    ec.createElementVNode)("p", kD, [(0,
                    ec.createElementVNode)("span", kB, [(0,
                    ec.createVNode)((0,
                    ec.unref)(kv.Z), null, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("a", {
                                href: y.value,
                                class: "contract-link"
                            }, "下载合作协议", 8, kL)]
                        }),
                        _: 1
                    })])])])) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", kP, [d[11] || (d[11] = (0,
                    ec.createElementVNode)("p", {
                        class: "status"
                    }, "审核已通过，请签署合作协议", -1)), d[12] || (d[12] = (0,
                    ec.createElementVNode)("p", {
                        class: "status-tip"
                    }, "入驻问题咨询：小红书机构小助手（微信号：xhs_creator）", -1)), (0,
                    ec.createElementVNode)("p", kO, [(0,
                    ec.createElementVNode)("span", {
                        class: "agreement-btn",
                        "data-impression": C.value
                    }, [(0,
                    ec.createVNode)((0,
                    ec.unref)(kv.Z), {
                        type: "primary",
                        onClick: handleAgreement
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return d[10] || (d[10] = [(0,
                            ec.createTextVNode)("签署合作协议")])
                        }),
                        _: 1
                    })], 8, kR)])]))])) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createElementVNode)("div", kU, [(0,
                    ec.createVNode)((0,
                    ec.unref)(km.Z), {
                        columns: O.value,
                        "data-source": M.value
                    }, null, 8, ["columns", "data-source"])])])), h.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(kk, {
                        key: 1,
                        phone: 1,
                        email: 1,
                        onHideAgreement: onHideAgreement
                    })) : (0,
                    ec.createCommentVNode)("", !0)]), (0,
                    ec.createVNode)((0,
                    ec.unref)(u2.Z), {
                        class: "contract-signing-method-modal",
                        show: k.value,
                        size: "l",
                        onConfirm: signContract,
                        onClose: onCloseContractModal
                    }, {
                        title: (0,
                        ec.withCtx)(function() {
                            return d[14] || (d[14] = [(0,
                            ec.createElementVNode)("div", {
                                class: "contract-signing-method-title"
                            }, "合同签署方式", -1)])
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            return [d[18] || (d[18] = (0,
                            ec.createElementVNode)("div", {
                                class: "model-gray-box"
                            }, [(0,
                            ec.createElementVNode)("p", {
                                class: "model-gray-box-title"
                            }, "线上电子签署"), (0,
                            ec.createElementVNode)("p", null, " 根据您提交的公司信息，我们将会通过专业的第三方电子合同机构为您申请数字签名证书，生成电子签章，只需几秒，您就可以在线上完成电子合同的签署，无需进行线下寄送。 "), (0,
                            ec.createElementVNode)("div", {
                                class: "model-gray-box-gray-text"
                            }, [(0,
                            ec.createTextVNode)(" 合法合规：严格遵照《电子签名法》相关规定，平台电子合同法律效力获得仲裁/司法机构认可。 "), (0,
                            ec.createElementVNode)("br"), (0,
                            ec.createTextVNode)(" 方便快捷：几秒内完成签署后，可直接在页面上下载包含双方公司签章的合同电子版，免去线下寄送和存储的麻烦。 ")])], -1)), (0,
                            ec.createElementVNode)("div", kj, [(0,
                            ec.createElementVNode)("div", kF, [d[16] || (d[16] = (0,
                            ec.createElementVNode)("span", {
                                class: "model-left"
                            }, "手机号", -1)), (0,
                            ec.createElementVNode)("div", kz, [(0,
                            ec.createVNode)((0,
                            ec.unref)(y6.Z), {
                                modelValue: I.value.createPhone,
                                "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                                    return I.value.createPhone = n
                                }
                                ),
                                modelModifiers: {
                                    trim: !0
                                },
                                class: "phone-input",
                                placeholder: "请输入手机号",
                                onChange: d[1] || (d[1] = function(n) {
                                    return (0,
                                    ec.unref)(R)()
                                }
                                )
                            }, null, 8, ["modelValue"]), S.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", kZ, " 手机格式校验失败 ")) : (0,
                            ec.createCommentVNode)("", !0), d[15] || (d[15] = (0,
                            ec.createElementVNode)("div", {
                                class: "phone-tip"
                            }, " 在签署合同的过程中，「验证码」将以短信或语音的方式发送到此手机号 ", -1))])]), (0,
                            ec.createElementVNode)("div", kQ, [d[17] || (d[17] = (0,
                            ec.createElementVNode)("span", {
                                class: "model-left"
                            }, "邮箱", -1)), (0,
                            ec.createElementVNode)("div", kJ, [(0,
                            ec.createVNode)((0,
                            ec.unref)(y6.Z), {
                                modelValue: I.value.createEmail,
                                "onUpdate:modelValue": d[2] || (d[2] = function(n) {
                                    return I.value.createEmail = n
                                }
                                ),
                                modelModifiers: {
                                    trim: !0
                                },
                                class: "phone-input",
                                placeholder: "请输入邮箱",
                                onChange: (0,
                                ec.unref)(U)
                            }, null, 8, ["modelValue", "onChange"]), _.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", kH, " 邮箱格式校验失败 ")) : (0,
                            ec.createCommentVNode)("", !0)])])])]
                        }),
                        _: 1
                    }, 8, ["show"]), (0,
                    ec.createVNode)((0,
                    ec.unref)(u2.Z), {
                        class: "review-detail-modal",
                        show: N.value,
                        size: "xl",
                        onClose: onCloseModal
                    }, {
                        title: (0,
                        ec.withCtx)(function() {
                            return d[19] || (d[19] = [(0,
                            ec.createElementVNode)("div", {
                                class: "detail-title"
                            }, " 申请详情 ", -1)])
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", kG, [1 === I.value.status ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", kY, d[20] || (d[20] = [(0,
                            ec.createElementVNode)("div", {
                                class: "review"
                            }, [(0,
                            ec.createElementVNode)("img", {
                                class: "modal-status-icon",
                                style: {
                                    "margin-top": "52px"
                                },
                                src: ki,
                                alt: ""
                            })], -1), (0,
                            ec.createElementVNode)("p", {
                                class: "status"
                            }, "审核中", -1), (0,
                            ec.createElementVNode)("p", {
                                class: "status-tip"
                            }, "当前入驻申请正在审核中，审核时效约为1-3个工作日，请耐心等待", -1)]))) : (0,
                            ec.createCommentVNode)("", !0), -1 === I.value.status ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", kW, [d[22] || (d[22] = (0,
                            ec.createElementVNode)("div", {
                                class: "review"
                            }, [(0,
                            ec.createElementVNode)("img", {
                                class: "modal-status-icon",
                                style: {
                                    "margin-top": "52px"
                                },
                                src: kl,
                                alt: ""
                            })], -1)), d[23] || (d[23] = (0,
                            ec.createElementVNode)("p", {
                                class: "status"
                            }, "未通过", -1)), (0,
                            ec.createElementVNode)("div", kq, [(0,
                            ec.createElementVNode)("p", kX, "很抱歉，当前入驻申请未通过，理由为" + (0,
                            ec.toDisplayString)(I.value.refuseInfo), 1), d[21] || (d[21] = (0,
                            ec.createElementVNode)("p", {
                                class: "status-tip"
                            }, "请仔细核对相关资料，调整后可点击「编辑」按钮，进行再次提交", -1))])])) : (0,
                            ec.createCommentVNode)("", !0), 2 === I.value.status ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", kK, d[24] || (d[24] = [(0,
                            ec.createElementVNode)("div", {
                                class: "review"
                            }, [(0,
                            ec.createElementVNode)("img", {
                                class: "modal-status-icon",
                                style: {
                                    "margin-top": "52px"
                                },
                                src: kc,
                                alt: ""
                            })], -1), (0,
                            ec.createElementVNode)("p", {
                                class: "status"
                            }, "审核已通过，请签署合作协议", -1), (0,
                            ec.createElementVNode)("p", {
                                class: "status-tip"
                            }, "微信联系机构小助手（微信号：xhs_creator）推进后续流程步骤", -1)]))) : (0,
                            ec.createCommentVNode)("", !0), (0,
                            ec.createVNode)((0,
                            ec.unref)(ed.Z), {
                                class: "business-container",
                                bs: {
                                    padding: "32px 0px 32px 24px",
                                    margin: "48px 24px 20px 24px"
                                }
                            }, {
                                footer: (0,
                                ec.withCtx)(function() {
                                    return d[35] || (d[35] = [])
                                }),
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createElementVNode)("div", k$, [(0,
                                    ec.createElementVNode)("div", null, [d[34] || (d[34] = (0,
                                    ec.createElementVNode)("div", {
                                        class: "title"
                                    }, "业务信息", -1)), (0,
                                    ec.createElementVNode)("div", k0, [d[26] || (d[26] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "机构账号", -1)), (0,
                                    ec.createElementVNode)("div", k1, [(0,
                                    ec.createElementVNode)("div", k2, [(0,
                                    ec.createElementVNode)("img", {
                                        class: "logo",
                                        src: I.value.userPhoto,
                                        alt: ""
                                    }, null, 8, k4), (0,
                                    ec.createElementVNode)("span", null, (0,
                                    ec.toDisplayString)(I.value.userNickName), 1)]), d[25] || (d[25] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "account-tip"
                                    }, "当前登录账号即为后续机构后台登录使用账号，不可修改", -1))])]), (0,
                                    ec.createElementVNode)("div", k3, [d[27] || (d[27] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "机构名称", -1)), (0,
                                    ec.createElementVNode)("span", k5, (0,
                                    ec.toDisplayString)(I.value.institutionName), 1)]), (0,
                                    ec.createElementVNode)("div", k8, [d[29] || (d[29] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "签约博主材料", -1)), (0,
                                    ec.createElementVNode)("div", k6, [d[28] || (d[28] = (0,
                                    ec.createElementVNode)("img", {
                                        style: {
                                            width: "14px",
                                            height: "14px"
                                        },
                                        src: ku,
                                        alt: ""
                                    }, null, -1)), (0,
                                    ec.createElementVNode)("span", null, (0,
                                    ec.toDisplayString)(I.value.bloggerInfoName), 1), (0,
                                    ec.createElementVNode)("a", {
                                        href: I.value.bloggerInfo,
                                        class: "link"
                                    }, "下载", 8, k9)])]), (0,
                                    ec.createElementVNode)("div", k7, [d[31] || (d[31] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "签约合同", -1)), (0,
                                    ec.createElementVNode)("div", Ie, [d[30] || (d[30] = (0,
                                    ec.createElementVNode)("img", {
                                        style: {
                                            width: "14px",
                                            height: "14px"
                                        },
                                        src: ku,
                                        alt: ""
                                    }, null, -1)), (0,
                                    ec.createElementVNode)("span", null, (0,
                                    ec.toDisplayString)(I.value.contractName), 1), (0,
                                    ec.createElementVNode)("a", {
                                        href: I.value.contract,
                                        class: "link"
                                    }, "下载", 8, It)])]), (0,
                                    ec.createElementVNode)("div", In, [d[33] || (d[33] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "公司介绍材料", -1)), (0,
                                    ec.createElementVNode)("div", Ia, [d[32] || (d[32] = (0,
                                    ec.createElementVNode)("img", {
                                        style: {
                                            width: "14px",
                                            height: "14px"
                                        },
                                        src: ku,
                                        alt: ""
                                    }, null, -1)), (0,
                                    ec.createElementVNode)("span", null, (0,
                                    ec.toDisplayString)(I.value.companyDescInfoName), 1), (0,
                                    ec.createElementVNode)("a", {
                                        href: I.value.companyDescInfo,
                                        class: "link"
                                    }, "下载", 8, Io)])])])])]
                                }),
                                _: 1
                            }), (0,
                            ec.createVNode)((0,
                            ec.unref)(ed.Z), {
                                class: "company-qualification-container",
                                bs: {
                                    padding: "32px 0px 32px 24px",
                                    margin: "0px 24px 20px 24px"
                                }
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createElementVNode)("div", Ir, [(0,
                                    ec.createElementVNode)("div", null, [d[43] || (d[43] = (0,
                                    ec.createElementVNode)("div", {
                                        class: "title"
                                    }, "公司资质信息", -1)), (0,
                                    ec.createElementVNode)("div", Ii, [d[36] || (d[36] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "公司名称", -1)), (0,
                                    ec.createElementVNode)("span", Il, (0,
                                    ec.toDisplayString)(I.value.companyName), 1)]), (0,
                                    ec.createElementVNode)("div", Ic, [d[37] || (d[37] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "社会统一信用代码", -1)), (0,
                                    ec.createElementVNode)("span", Iu, (0,
                                    ec.toDisplayString)(I.value.companyCreditCode), 1)]), (0,
                                    ec.createElementVNode)("div", Is, [d[38] || (d[38] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "地址", -1)), (0,
                                    ec.createElementVNode)("span", Id, (0,
                                    ec.toDisplayString)(I.value.address), 1)]), (0,
                                    ec.createElementVNode)("div", Iv, [d[39] || (d[39] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "营业执照复印件", -1)), (0,
                                    ec.createElementVNode)("div", Im, [(0,
                                    ec.createElementVNode)("img", {
                                        class: "modal-pic",
                                        src: I.value.companyBusinessLicense,
                                        alt: ""
                                    }, null, 8, If), (0,
                                    ec.createElementVNode)("a", {
                                        class: "pic-link",
                                        href: I.value.companyBusinessLicense
                                    }, "下载", 8, Ip)])]), (0,
                                    ec.createElementVNode)("div", Ig, [d[40] || (d[40] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "法人身份证照片", -1)), (0,
                                    ec.createElementVNode)("div", Ih, [(0,
                                    ec.createElementVNode)("div", Iy, [(0,
                                    ec.createElementVNode)("img", {
                                        class: "modal-pic",
                                        src: I.value.legalPersonPhotoP,
                                        alt: ""
                                    }, null, 8, IN)]), (0,
                                    ec.createElementVNode)("div", Ik, [(0,
                                    ec.createElementVNode)("img", {
                                        class: "modal-pic",
                                        src: I.value.legalPersonPhotoL,
                                        alt: ""
                                    }, null, 8, II)])])]), (0,
                                    ec.createElementVNode)("div", IC, [d[42] || (d[42] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "运营人员授权书", -1)), (0,
                                    ec.createElementVNode)("div", Ib, [d[41] || (d[41] = (0,
                                    ec.createElementVNode)("img", {
                                        style: {
                                            width: "14px",
                                            height: "14px"
                                        },
                                        src: ku,
                                        alt: ""
                                    }, null, -1)), (0,
                                    ec.createElementVNode)("span", null, (0,
                                    ec.toDisplayString)(I.value.operatorAuthorityName), 1), (0,
                                    ec.createElementVNode)("a", {
                                        class: "link",
                                        onClick: d[3] || (d[3] = function(n) {
                                            return handleDownload(I.value.operatorAuthority, I.value.operatorAuthorityName)
                                        }
                                        )
                                    }, " 下载 ")])])])])]
                                }),
                                _: 1
                            }), (0,
                            ec.createVNode)((0,
                            ec.unref)(ed.Z), {
                                class: "institutional-operator-container",
                                bs: {
                                    padding: "32px 0px 32px 24px",
                                    margin: "0px 24px 0px 24px"
                                }
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createElementVNode)("div", IE, [(0,
                                    ec.createElementVNode)("div", null, [d[49] || (d[49] = (0,
                                    ec.createElementVNode)("div", {
                                        class: "title"
                                    }, "机构运营人信息", -1)), (0,
                                    ec.createElementVNode)("div", IA, [d[44] || (d[44] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "姓名", -1)), (0,
                                    ec.createElementVNode)("span", Iw, (0,
                                    ec.toDisplayString)(I.value.operatorName), 1)]), (0,
                                    ec.createElementVNode)("div", Ix, [d[45] || (d[45] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "电话", -1)), (0,
                                    ec.createElementVNode)("span", IT, (0,
                                    ec.toDisplayString)(I.value.operatorPhone), 1)]), (0,
                                    ec.createElementVNode)("div", IM, [d[46] || (d[46] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "微信", -1)), (0,
                                    ec.createElementVNode)("span", IS, (0,
                                    ec.toDisplayString)(I.value.operatorWechat), 1)]), (0,
                                    ec.createElementVNode)("div", I_, [d[47] || (d[47] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "邮箱", -1)), (0,
                                    ec.createElementVNode)("span", IV, (0,
                                    ec.toDisplayString)(I.value.email), 1)]), (0,
                                    ec.createElementVNode)("div", ID, [d[48] || (d[48] = (0,
                                    ec.createElementVNode)("span", {
                                        class: "left"
                                    }, "法人身份证照片", -1)), (0,
                                    ec.createElementVNode)("div", IB, [(0,
                                    ec.createElementVNode)("div", IL, [(0,
                                    ec.createElementVNode)("img", {
                                        class: "modal-pic",
                                        src: I.value.operatorPhotoP,
                                        alt: ""
                                    }, null, 8, IP)]), (0,
                                    ec.createElementVNode)("div", IO, [(0,
                                    ec.createElementVNode)("img", {
                                        class: "modal-pic",
                                        src: I.value.operatorPhotoL,
                                        alt: ""
                                    }, null, 8, IR)])])])])])]
                                }),
                                _: 1
                            })])]
                        }),
                        footer: (0,
                        ec.withCtx)(function() {
                            return [-1 === I.value.status ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(kv.Z), {
                                key: 0,
                                type: "text",
                                class: "modal-edit-btn",
                                onClick: handleEdit
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[50] || (d[50] = [(0,
                                    ec.createTextVNode)("编辑")])
                                }),
                                _: 1
                            })) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("span", IU))]
                        }),
                        _: 1
                    }, 8, ["show"])], 64)
                }
            }
        });
        let IF = (0,
        eN.default)(Ij, [["__scopeId", "data-v-4765f988"]]);
        var Iz = v(53971)
          , IZ = v(70160)
          , IQ = v(21823)
          , IJ = {
            class: "phone-email-box"
        }
          , IH = {
            class: "phone-box"
        }
          , IG = {
            class: "model-right"
        }
          , IY = {
            key: 0,
            class: "error-tip"
        }
          , IW = {
            class: "email-box"
        }
          , Iq = {
            class: "model-right"
        }
          , IX = {
            key: 0,
            class: "error-tip"
        }
          , IK = {
            class: "dialog-footer"
        }
          , I$ = (0,
        ec.defineComponent)({
            __name: "UnlimitedRenew",
            setup: function(n) {
                var d, v, m = (0,
                ec.computed)(function() {
                    return hP.h.getters.mcnInfo
                }), h = (0,
                ec.ref)(!0), y = (0,
                ec.ref)(!1), N = (0,
                ec.ref)(!1), k = (0,
                ec.ref)(""), I = (0,
                ec.ref)("");
                (0,
                ec.watch)(function() {
                    return m.value.operatorPhone
                }, function(n) {
                    k.value = n
                }, {
                    immediate: !0
                }),
                (0,
                ec.watch)(function() {
                    return m.value.email
                }, function(n) {
                    I.value = n
                }, {
                    immediate: !0
                });
                var C = (d = (0,
                V._)(function(n) {
                    var d;
                    return (0,
                    R.Jh)(this, function(v) {
                        switch (v.label) {
                        case 0:
                            var m;
                            return d = n.phoneVal,
                            [4, (m = {
                                phone: d,
                                email: n.emailVal
                            },
                            U.dJ.post("MCN_CONTRACT", m))];
                        case 1:
                            return [2, v.sent()]
                        }
                    })
                }),
                function getContractUrl(n) {
                    return d.apply(this, arguments)
                }
                );
                var x = (v = (0,
                V._)(function() {
                    var n, d, v;
                    return (0,
                    R.Jh)(this, function(m) {
                        switch (m.label) {
                        case 0:
                            if (y.value || !k.value)
                                return y7.A.error("手机格式校验失败，或者输入框内容为空"),
                                [2];
                            if (N.value || !I.value)
                                return y7.A.error("邮箱格式校验失败，或者输入框内容为空"),
                                [2];
                            n = Iz.kN.service({
                                lock: !0,
                                text: "获取合同中...",
                                background: "rgba(0, 0, 0, 0.7)"
                            }),
                            m.label = 1;
                        case 1:
                            return m.trys.push([1, 3, , 4]),
                            [4, C({
                                phoneVal: k.value,
                                emailVal: I.value
                            })];
                        case 2:
                            return d = m.sent(),
                            h.value = !1,
                            n.close(),
                            console.log("contractUrl", d),
                            window.open(d, "_self"),
                            [3, 4];
                        case 3:
                            return v = m.sent(),
                            y7.A.error("获取合同失败，请稍后重试"),
                            console.log(v, "获取合同失败"),
                            n.close(),
                            [3, 4];
                        case 4:
                            return [2]
                        }
                    })
                }),
                function signContract() {
                    return v.apply(this, arguments)
                }
                )
                  , M = n1()(function() {
                    /^1[3456789]\d{9}$/.test(k.value) ? y.value = !1 : y.value = !0
                }, 1e3)
                  , S = n1()(function() {
                    /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(I.value) ? N.value = !1 : N.value = !0
                }, 1e3)
                  , onOrderCancel = function() {
                    h.value = !1
                }
                  , onOrderSubmit = function() {
                    x()
                };
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(IZ.d0), {
                        modelValue: h.value,
                        "onUpdate:modelValue": d[4] || (d[4] = function(n) {
                            return h.value = n
                        }
                        ),
                        class: "contract-signing-method-modal"
                    }, {
                        title: (0,
                        ec.withCtx)(function() {
                            return d[5] || (d[5] = [(0,
                            ec.createElementVNode)("div", {
                                class: "contract-signing-method-title"
                            }, "合同签署方式", -1)])
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            return [d[9] || (d[9] = (0,
                            ec.createElementVNode)("div", {
                                class: "model-gray-box"
                            }, [(0,
                            ec.createElementVNode)("p", {
                                class: "model-gray-box-title"
                            }, "线上电子签署"), (0,
                            ec.createElementVNode)("p", null, " 根据您提交的公司信息，我们将会通过专业的第三方电子合同机构为您申请数字签名证书，生成电子签章，只需几秒，您就可以在线上完成电子合同的签署，无需进行线下寄送。 "), (0,
                            ec.createElementVNode)("div", {
                                class: "model-gray-box-gray-text"
                            }, [(0,
                            ec.createTextVNode)(" 合法合规：严格遵照《电子签名法》相关规定，平台电子合同法律效力获得仲裁/司法机构认可。 "), (0,
                            ec.createElementVNode)("br"), (0,
                            ec.createTextVNode)(" 方便快捷：几秒内完成签署后，可直接在页面上下载包含双方公司签章的合同电子版，免去线下寄送和存储的麻烦。 ")])], -1)), (0,
                            ec.createElementVNode)("div", IJ, [(0,
                            ec.createElementVNode)("div", IH, [d[7] || (d[7] = (0,
                            ec.createElementVNode)("span", {
                                class: "model-left"
                            }, "手机号", -1)), (0,
                            ec.createElementVNode)("div", IG, [(0,
                            ec.createVNode)((0,
                            ec.unref)(IQ.EZ), {
                                modelValue: k.value,
                                "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                                    return k.value = n
                                }
                                ),
                                modelModifiers: {
                                    trim: !0
                                },
                                class: "phone-input",
                                placeholder: "请输入手机号",
                                onChange: d[1] || (d[1] = function(n) {
                                    return (0,
                                    ec.unref)(M)()
                                }
                                )
                            }, null, 8, ["modelValue"]), y.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", IY, " 手机格式校验失败 ")) : (0,
                            ec.createCommentVNode)("", !0), d[6] || (d[6] = (0,
                            ec.createElementVNode)("div", {
                                class: "phone-tip"
                            }, " 在签署合同的过程中，「验证码」将以短信或语音的方式发送到此手机号 ", -1))])]), (0,
                            ec.createElementVNode)("div", IW, [d[8] || (d[8] = (0,
                            ec.createElementVNode)("span", {
                                class: "model-left"
                            }, "邮箱", -1)), (0,
                            ec.createElementVNode)("div", Iq, [(0,
                            ec.createVNode)((0,
                            ec.unref)(IQ.EZ), {
                                modelValue: I.value,
                                "onUpdate:modelValue": d[2] || (d[2] = function(n) {
                                    return I.value = n
                                }
                                ),
                                modelModifiers: {
                                    trim: !0
                                },
                                class: "phone-input",
                                placeholder: "请输入邮箱",
                                onChange: d[3] || (d[3] = function(n) {
                                    return (0,
                                    ec.unref)(S)()
                                }
                                )
                            }, null, 8, ["modelValue"]), N.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", IX, " 邮箱格式校验失败 ")) : (0,
                            ec.createCommentVNode)("", !0)])])])]
                        }),
                        footer: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", IK, [(0,
                            ec.createVNode)((0,
                            ec.unref)(kv.Z), {
                                onClick: onOrderCancel
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[10] || (d[10] = [(0,
                                    ec.createTextVNode)("取消")])
                                }),
                                _: 1
                            }), (0,
                            ec.createVNode)((0,
                            ec.unref)(kv.Z), {
                                type: "primary",
                                onClick: onOrderSubmit
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[11] || (d[11] = [(0,
                                    ec.createTextVNode)(" 确定 ")])
                                }),
                                _: 1
                            })])]
                        }),
                        _: 1
                    }, 8, ["modelValue"])
                }
            }
        });
        let I0 = (0,
        eN.default)(I$, [["__scopeId", "data-v-01d38b9a"]]);
        var I1 = {
            class: "body"
        }
          , I2 = {
            key: 0,
            class: "loading"
        }
          , I4 = {
            key: 1
        }
          , I3 = {
            class: "progress"
        }
          , I5 = {
            class: "progress-box"
        }
          , I8 = {
            key: 0,
            class: "dis-flex"
        }
          , I6 = {
            key: 0,
            class: "height-32"
        }
          , I9 = {
            key: 3,
            class: "dis-flex height-32"
        }
          , I7 = {
            key: 4,
            class: "dis-flex"
        }
          , Ce = {
            key: 0,
            class: "line mar-left"
        }
          , Ct = {
            key: 1,
            class: "line-gray mar-left"
        }
          , Cn = {
            key: 2,
            class: "step3",
            src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAvcSURBVHgB7V1daBzXFT4zXsWpq4Bo8hBBU6uQxI+VBAXLxY5MAqWBJi5t7b5ZkZ0+JKWyoIWYQm21NTW0EMmkeWgsdf0WuYX6B9KXFMs2tQyBeB9b21CZFJSHmKooNE0k7+35Zucqq9lzZ+7szs6dlfSBrPXO7mrnfueec8/PPdejgmJ4RPX8r0T9XpX6fZ92Vj3q8xT1kaIe8viHgp96LPG1JeXRAl9f8hUtVKt0T/lUeXiVKnNlb4kKCI8KgmDAfTrgb6NnqErD/M36KFtUmCD8XGVi5m6WvQUqAJwSgEH/1KcR8ulF/iLDlCMU0RzPrnOuyXBCwO6japj/8Im8B90EVlsXeNadm5/2LlDOyI0ALe3eNhojlbl6yQawHw9o4saMV6ackAsBQy+rMTagJ6nRcBYTORLRVgKganyP/tCsxPc+RtT/NP9+tPYYvx9/LLz26PrXLv+X6ONPiD78iH/z49sfEN35V+3/dz6g5pADEW0hYPeI6mNV87rn0YE07+veQfT8ENHgLh54/nlkB2UCkFP5B9G1CtH7t2ukpIKicpWJaIexzpyAb/xQHVZVmiRLdaMHfd8A0cAuygW3mIx3bqQko02zITMCYGRXSnSCl3fHbF6PwX5+D9He/uwkvRmAiOnL9kTw/U1uX6WJrBy7TAiAyvG76IqNrsfAH/l2ftJui1RE8GyortD+LFRSywR8fUT1d5V48BNUzuNsNMcO1VRNkWFNBJOwQvSd997yKtQCWiIg1PflpNdB4r//nFtVkxYzl2pEJMFj3+Zvv/fOUZNomoBwbT8Z9xpI/elXiZ56gjoSi/eJfvTb5NnAdmF8/qw3SU2gKQJsBv/gs0SjL3SW1EuAT4HZMPvX+Nc1S0JqAmzUDnT9wedoQ8FGJTWjjlIREBrcW6brWNOffqV4K5ysAP/htTdrs8KEFY8G0hhmawKSlpqdru9tgbAGSIixC0vVVRqwXaJaEQAn67MulvyYwX/jp43xmY2KROPMS9SHVmjAxlnzyQLwcE2DH6idVzfP4AO4V6jabtMCg8fqU4yZBRIJ2D2qRuLCC/giG13tSMA9495NYNVyDAsWSkAsAYHe32ZmcrSAIYU8gXvHis8EBCUxhhSDWAKCwTeoHqzzj7xAmx5Ybh961ni5x+ui1ykGRgKgengejUjXYHRHtwZ/DRgLnSiKgh3WA0hMmd5rJCBO9WDF0+kebpbQ/o8JQVbQdE16MpB+g+qB3t9MKx5bwCgj6CiCx3LoqBIXMiIBJumH6tnS+2bAHhhVEdEJ+FPR5xsIiJP+rcGPB1TRsYPGyz3sG4xEn2wgIE76kULcQjz2xuS2PY/Gos+tI2DoiDqwJf2tI84WRFdE6whgPSV6blvSnw6YAcZZQOs1TEk/CDw2Qx1PUaQfQbDrqO3hsPDdsNhq8aNa0Vb3F2oGEDVF+/prQuMSEFiEr6NAPSyMsQ7UrRHAc2FY+qAiSD8Ge3JWviFgMYxKIlR8nbMVU2+HYYIf8PLwy+QEEIKpHXLuIDTGQfZsTQVxNkdUP4OOYz3nORV4+BfmwTcBrx+ZsEustwO64MyAF/WDgICglNBQKv4th9I/c7kmzS19BqcSp2bJCUwlOFoN4XFNBcWoH1czAJI/fUm+BumCiun9Uu0xpjkKcaGCpCl//t2afYgJmrUF+I7dBjX0mR/Y23JAAMcqnpE+wNXgf3i/JrlR4GawxMOslGJRKML947uy2sHn5U0AADV0Xqqo2BaMeTlQQewg9Etv3uuoig2SvxyRGgz+Gz+pufumQCCeR2RSitFDCt9PaUeyQIwQD+MfH7qIM14iAYNPkxNcE2oKIPm2mTeQJKULr9+i3GFMWLFThrH3sRVUuo6b7XYQcsbq5WNB+tPWGUkrkOVPKHfgu/caAnQYe1b/MgGmqF67IamJZtKekvDAtrhAv0GTYOxLweZnoTjFlQODbUZRiclqMeBiRgOm/AnGHqugndLFp75CTgADGpfotsVdYV+YK6EyqSDlUZ+vPLmuH7GVTgVUjWTI9w2SExhnAAu/7xnCz72ObECrgAH/lZCBxZLa1Qww2lMW/hIZZsAjHTYDAm+Y1c6p8ufBOQ29O6dwUCDAsLXIlcGyAQa6Pr4DlbNoqNN88gn3pZMxf7unRB0ISHtSdBR+DHyHoieSrIpzOxHamYur5S8CNiwByJ6dYmM8wrmEaw5CELbw9hxV/ybBDvzpdLELsBbrvFrdHwJLT2wzlfCzl9ypI3y3b46Jl5ZKaPNlWgkVGfXCoR9jqYloKAx0NPCG2QC74KKU3hiDQms1DkWLuzgW0za0KAj05gkpfuQqM2baSaMULfj4R3yTo8BVVpBqc6RIax6I+Zv/gRG+J13p1BmgodOBUaBDSt64behXxFGIhRLaPEo79RYdzICog6WBTFgzQM74TkT6XMyAuwYCMPYlzoZVJAIqDtJ3gORgYdCa8cy7v0iFgEmbYOx9NDUV33Q/f2mBAc1SbUityvKumNMVGxIw9n5QImcwxHnrSwy+tExEWUlamAxu3lHemJBJ0M038IR5KlwV3/x3yh37hAQpbiJNRQMG/lS58XmQm7dzec3UtEDVNE+NAEVz0mvemafcAW9VUkPH37TrfqgHX9K7LhqI3DJpEVUT+oCAh6t0QXqNi1oaXXwlfRfEdeDRSj4KrqMAauSXcuzHRZExZq7JAKNlMn6vLYCGjqorUn0o9gOjyjhvoBdDXMgZRVhPhvYiLh8AgNTyz/NXPxAWKTaFvtXzZ739eFwfDb0ofQjUkIu1c1ILhOUwJxAnZYCuqHMRWDSpHzQN14/XCNi+Kjdh0lHGvKGltpV6TnjD+AwXAThIfpL6Adb5YCY1hBtp1hvNAothsa4p1BxFEVpjfu+4TACrn4usftZ2IpUiFyckAvQy0FW1NNQH4vk/PlRz6/FdoqES3V/adSNYIE760Qa5/r8NUYg9R9Q/pdMrXM+CToJJ+uHw3pj2vlr/VENKkgNEU8Jbg1lQ5NReUZAg/RPRpxoICI2xmKQ5M1v8JLdrzJj2pEH6hcbfDQQgPqGqjUwB0LuzTcRlNgsw+GmkHzA27TPZAsDV0q7IgDP43dcMFwXdr2EsS6l69JLp2vHfbamiemAs4LkbYZB+wEjAzbPeXHC6kACoIlf7b4uI6XjVU4479CG2MEut0DgZDDJi9En9lDcDoPeN+Qqc5vfALP1ALAHo/spu87jp+pm33ew8LAqwNDftZQ6gks+dSSxNvInpo2TfALCN0280wCPHvRvBY2Zz3oxVbehDD+ikKW0JAwSj3Ol1RGmAe0X/6GXTQoTHKhgzC1gRAN+AdRni13IVHXop/2ZzzARIPlY8MUYXen+/7SE/6drXv6z6u1R8+/pfv+K+w0q7AJ1/PE7yGSurNPBeuQ3t6zXQ1M/3zX0wARTIGtt2dSiQ7kzs3MK+04230p0zlpoAYGhUHfP8+Ja8SICDhCJvdbIBbNz05eTSmNyOMNGwIaE3PFfAdfuwZnE3PKxhsWiH+GjYqCOg01QSpB5O5swlixc3oXbWv71FBIa5Sn+mhCPIe8OG30XfNIecx5nzFtXhipZWeLWTxuBKaJkAIDxn4ApZnANfVCICr/ayZW+6cKlZiKMMNYJzZrax8yF0h5VQBCLq95VZNwVkDxdOVqEO86xHYBc8OmEzGwAQgXwz2pDl5T/o9Opf5uPX9OuAvXQ+jbei7yVkTgAQHuh80vMo8QyVemgyUNkwuCu7JawuscTApxr0EErRBfWAxjviQOd6pJ0NUSDrhkYXaLKhO3ih9AR9LKLk6DIVGE9dqojnKrdb2G4FXc+rHORGqE1oKwEarRKRO1jdcDJqotm1fRrkQoBG4YlgiWd1M7W9SuWsjGwSciVAI2iT79NhHHBDBQCqlVEV2E5VY4ITAjSCju0+DaNvtal1cruAQacqXcxT2iU4JaAea2R4wc/XyNDNsWkgoeTTHDtQV7EhxeWg16MwBEQBxw59Nb0q/7DNUD7tRIepsMVaT0N/CxUki9D3YinY+1yle+gCwO+rYDdiUQY8iv8DBVqLmgSrdv0AAAAASUVORK5CYII=",
            alt: ""
        }
          , Ca = {
            key: 3,
            class: "step3",
            src: y2,
            alt: ""
        }
          , Co = {
            key: 4,
            class: "line mar-left"
        }
          , Cr = {
            key: 5,
            class: "line-gray mar-left"
        }
          , Ci = {
            key: 6,
            class: "step3",
            src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAqfSURBVHgB7V1NbFzVFT732SY0CpIlWCRSadxFkmXHkSolVAmOYFMkIFXVpDuMDV1A2sQSlRKpamKJqkhFIk4hi4KdyY5k04RIsAHhGBFHQsKzBBMJRyCRBUhGQfzZmcv53swzM2/uue/O35v77PdJkxnPe+N4znfud+7Puecq8hQjo3rw+34qqDIVgoC2lxUNKU1DpGmQFD8ofNRima8ta0VLfH050LRULtNNHVDp7lUqzRbVMnkIRZ4gNHhAB4M+epDKNMJ/2RB1FiUmCI+rTMzs9aJaIg/QUwJg9B8CGqWAHuc/ZIRShCaa5dZ1vtdk9ISAPU/pEf6PT6ZtdAksW5e41Z2fn1aXKGWkRkDk7aqPjpLuuLx0Bogfd2jy2owqUkpIhYC9T+ujHEBPUWPg9BMpEtFVAiA1gaJzrXr8tvuICjv5+d7Kazxvva967d76e29/S/TNd0S3vuRnfr34GdEnn1d+/uQzag0pENEVAvaM6iGWmpeUooPNfG7LZqJH9hLt3sWG58c9m6kjADmlj4nmSkQfLlZIaQqaimUmohvBuuME/O4v+gldptPkKDeR0fcPEw3volSwwGS8ea1JMrrUGjpGAILsSj+d5O7dMZf7YexHHiDaV+icp7cCEDF9xZ0I/n6nN63SZKcGdh0hAJITDNC7LloPw48/mp63u6IpIrg1lFfoQCckqW0CfjuqCwP9bPwEydnKQfPo4YrU+AxnIpiEFaI/fPCqKlEbaIuAqt4Xk+6Dx//p4d5KTbOYeaNCRBIUj23e/586Ty2iZQKqffvTtnvg9S88S7TjfsokvviK6MiLya2B48LE/GvqNLWAlghwMf6hh4jGHsuW15uAMQVaw4V37Pe1SkLTBLjIDrT+0MO0ruAiSa3IUVMEVAPugnQdffoXnvGvh9MpYPxw/GylVUhYUTTcTGB2JiCpq5l1vXcFpjVAgiUuLJdXadi1i+pEAAZZPw6w51uM//LfG+dn1isSgzN3Ue9aoWGXwVpADsAIVzJ+KDvPbhzjA/iukNotUgeDbfUDbOaARAL2jOlR2/QC/pD1Ljsm4Dvju0tgaTmGDgslwEpAqPt9MpNjHk4ppAl8d/T4JGBSEjYkC6wEhMYXpAf9/PHHaMMD3e3DD4mXB9UAvUQWiARAergdjZquIeiO5cZfA2wRLRTFwQPWg1iYkj4rEmCTHvR4sj7C7SSi8Y+EcFVQumZ6M/R+QXqg+xupx+MKBGVMOhrBttz7lDZ2ZIwESN4P6cl1XwbigShFRCcxnoq/30CAzftz49sBKTp2SLw8yGOD0fibDQTYvB9LiDns2GdZ21aKjsbfqyNg77g+mHt/+7DFgniPqI4A1injyC33/uaAFiC2AqpXmP7oRThiE/J4suL9mKm8HZsq3nm/Zc6mi4DDYvo6DuTDIhhHE3VrBHBbGDH9oqx4/y2eofzri40E/Pe5SqJX2thfIJrabF47qAbjcPVsTYJ4NccoP7szMNeDL3nEYPxeIko4E/B49CIkIEwlFFLFf58B75+6wHP0zaYbpgApBSeSIbyutACL/PjeAmauVHJ5fAQCsRR/fgwq8TYkgOcqHjTd5Lvxb3DQnX6DvIYoQ30Vm4cE8AChYLpnn8dZbAi6WJv1HRYnHsE/AbSIV7yMBOzeSd7i+XP1ur+1uofAN4gLVjwog+0DbAU1Xd/Ro/6zC6D78T72P56skOAbYEPJMWB7ln8zAVs99CYgTJ6N6b7vS6MFQUlg+0AJcz87fkneAbo/E8tOQ1fP95G6tH4C2yMIbzdd3PEr8g4YbMV1/2+HyXtIEqQVE6CVOa9/yy/IK5gGW1lJBhNbADu/KEE+9SguvsOPt+vfQzpIVpZGxXjKzh+Q0ALu8aQFQPenXq9/D5OD6yL7WoMAYWuRD13QW9UczFpkRfdrYWmpg065ob1CXPfhFOstJcZbAtDdnIvtRMiS7rvCSwIwyo0PtpAKuR6XRUGAMYcdOfC9AHT/X8X698Itrn+mzMKyo2Y5QJkv8gjHX2kcbEH3s4zb3wkXUFqNp6LNLaAHK0zQ/Xhlk/Wg+9JOGq1pKcA/xg+lLEHvLZgn2XzfWe8CiwR9jayIm6YrabcAUzNFHHr+HDnD5DSmJUtkLKRJ7KJQr4hnIZb6UebRtFOvV0G4Fm91YK3XlJsDSUuTgBsCAbB9oFHO0YDSx5SjQ5DUBLYPUNTU+KGv7BuSc7gBNkTpNBNg+36kyD0wrpdMhVJRUWp/gVIBlkDHHqW28NZ8o7dh8BZfqkwz22NBVpKwmm+YmshN4SrHgaGGD3+ULgHtbnddWGwkAIllvUyvmZOKFuiK8oRTEdwVnTXd8+Y85WgTcAojNF3FU0jA3WUyVoyFfn2YB+OWAfmRAjBKJuM5JABahFrKphvfE2uj5EiClDIJW0fFPGpnQy8bf8l83htqFZL8oGh49HqNgE2r5iJMMP5cW2XpNibg/UnyA6wRYJMhX7OPfcaMUF2LbXy5tpZQf+zipGmfAIIJgrHv2dIvP0dewOb9KINc+2Pditj119QsCbOjMw4lHHNUINqKbRs/o6BhSZIniKZMn0UrmMt7RIlI8P7J+FsNBFSDsXGR5syFvEeUBJv3mwp/NxAQBuNyI1MAJuguvE05BMD4zXg/IBbt4wm6T6WTjIr/3JhlymzAYtAfjwsX4f3T6temS2JaSlnRk9K1E6/kUlSLaJusCMH7AZEA9IjC04UMgBRN572iNUzbpadoO/TBmpilV2iChICMbOWkesobAdD9i1JcxGl+d2TvB6wEYMTGw+YJ6fqZ1zf2bKkpg68OOvncmcTUxOtoPto8NgBOnG3jlKIMAwvtJ2zbZNlmLufNOOWG3nWHTkkjZAQgBOVbHmRRpIVoj7JYm4JtFdrMAU4EYGzAWnaALHmkR/6zMVoCPD++V60OFd0/4HrIT3Pl65/WhQFtL1//72eyUWGlFUDzT5y1V2VZWaXhD4pdKF8fAUX9goCs+WooZDreZoaDb8A+tfhWqQbw2Onaq82dM9baESZj+pgK7CV5sYcLJPi6294ViHHTtq5mFakdYRLBhYRt1dRyH0sIuOBG9bCGL3w7xCeCixwBWZMkeD0GmTMupXBakJ36j7eJMDCX6f9JR5Bvqxb89n2bEdY8zlx0yA7XtLzCvZ1mAq4JbRMAVM8ZeJcczoH3lYhwVHvFmkr4M6pdTS+OMowQnjPTx4MPQ3VYE3wgIsr4wCrWguuUCo9wMcjy6jDPWoRxQdFJl9YAgAiUmkkzhzNaXkUyr3OlReylC2iiHb03oeMEANUDnU8pRYlnqNQiIgNH3O7e1bkubJRiCcM3ZfQqtKZL+g5NZOJA51o02xriwKobCl2gdlFUwQtFRFDHIk5OtKMHwRNzNXjGe6XFNrZbQeu5lxNmi3QJXSUgQrtEpA6WG16Mmmy1b98MUiEggvdEsMez3ExtKlOxU0E2CakSECEskx/QEzjghjwAUjKRFdhNqZHQEwIihBXbAxpB3WqpdHK3EObBlulymt5uQk8JqMUaGSp8/IaEao4tAwtKAc3yAOoqNqT00ui18IaAODCwQ11NVeYHxwwd0HZUmKqWWBtsqPRVqXmxjPoL4d7nMt1EFQD+XAm7EX0xeBw/ARTCDnaSqAPdAAAAAElFTkSuQmCC",
            alt: ""
        }
          , Cl = {
            key: 7,
            class: "step3",
            src: y4,
            alt: ""
        }
          , Cc = {
            class: "black-word"
        }
          , Cu = {
            key: 0,
            class: "black-word one"
        }
          , Cs = {
            key: 2
        }
          , Cd = {
            key: 3
        }
          , Cv = (0,
        ec.defineComponent)({
            __name: "Index",
            setup: function(n) {
                var d, v = (0,
                ec.ref)(!0), m = (0,
                ec.ref)(!1), h = (0,
                ec.ref)(1), y = (0,
                ec.ref)(), N = (0,
                ec.ref)(), k = (0,
                ec.ref)(), I = (0,
                ec.ref)(!0), C = (0,
                eu.yj)(), x = C.path, M = (0,
                ec.computed)(function() {
                    return "/new-mcn/renew" === x
                }), S = (0,
                ec.computed)(function() {
                    return "true" === C.query.unlimited
                }), _ = (0,
                ec.computed)(function() {
                    return +!!M.value
                }), U = (0,
                ec.computed)(function() {
                    return hP.h.getters.mcnInfo
                }), z = (0,
                ec.ref)(!1), Z = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["53873"]({
                        fromTab: "公司资质信息"
                    }))
                }), Q = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["53873"]({
                        fromTab: "机构运营人信息"
                    }))
                }), J = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["53875"]({
                        buttonName: "下一步",
                        fromTab: "业务信息"
                    }))
                }), H = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["53875"]({
                        buttonName: "下一步",
                        fromTab: "公司资质信息"
                    }))
                }), Y = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["53875"]({
                        buttonName: "保存",
                        fromTab: "机构运营人信息"
                    }))
                }), W = (0,
                ec.computed)(function() {
                    return JSON.stringify(el.tracker["53875"]({
                        buttonName: "提交审核",
                        fromTab: "机构运营人信息"
                    }))
                }), handleGoBusinessInfoPage = function() {
                    var n, d;
                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["53874"]({
                        fromTab: "公司资质信息"
                    })),
                    h.value = 1
                }, handleGoCompanyInfoPage = function(n) {
                    var d, v, m, y;
                    n ? null === (v = window) || void 0 === v || null === (d = v.eaglet) || void 0 === d || d.push(el.tracker["53874"]({
                        fromTab: "机构运营人信息"
                    })) : null === (y = window) || void 0 === y || null === (m = y.eaglet) || void 0 === m || m.push(el.tracker["53876"]({
                        buttonName: "下一步",
                        fromTab: "业务信息"
                    })),
                    h.value = 2
                }, handleGoAuditPage = function() {
                    h.value = 4
                }, handleGoOperatorInfoPage = function() {
                    h.value = 3
                }, q = n1()(function() {
                    var n;
                    if (null === (n = y.value) || void 0 === n ? void 0 : n.validateBeforeCommit()) {
                        var d = hP.h.getters.mcnInfo
                          , v = d.institutionName
                          , m = d.bloggerInfo
                          , h = d.contract
                          , N = d.companyDescInfo
                          , k = d.bloggerInfoName
                          , I = d.bloggerInfoReq
                          , C = d.contractName
                          , x = d.contractReq
                          , M = d.companyDescInfoName
                          , S = d.companyDescInfoReq;
                        h5.DW({
                            saveType: "SAVE",
                            institutionName: v,
                            bloggerInfo: m,
                            contract: h,
                            companyDescInfo: N,
                            bloggerInfoReq: I,
                            bloggerInfoName: k,
                            contractName: C,
                            contractReq: x,
                            companyDescInfoName: M,
                            companyDescInfoReq: S
                        }).then(function() {
                            y7.A.success("保存成功"),
                            handleGoCompanyInfoPage()
                        }).catch(function(n) {
                            y7.A.error(n)
                        })
                    }
                }, 200), handleCommitOperatorInfo = function() {
                    var n;
                    if (null === (n = k.value) || void 0 === n ? void 0 : n.validateBeforeCommit()) {
                        var d = U.value
                          , v = d.operatorName
                          , m = d.operatorPhone
                          , h = d.operatorWechat
                          , y = d.email
                          , N = d.operatorPhotoP
                          , I = d.operatorPhotoPositiveReq
                          , C = d.operatorPhotoL
                          , x = d.operatorPhotoReverseReq;
                        h5.DW({
                            saveType: "SAVE",
                            operatorName: v,
                            operatorPhone: m,
                            operatorWechat: h,
                            email: y,
                            operatorPhotoP: N,
                            operatorPhotoPositiveReq: I,
                            operatorPhotoL: C,
                            operatorPhotoReverseReq: x
                        }).then(function() {
                            var n, d;
                            y7.A.success("保存成功"),
                            null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["53876"]({
                                buttonName: "保存",
                                fromTab: "机构运营人信息"
                            }))
                        }).catch(function(n) {
                            y7.A.error(n)
                        })
                    }
                };
                var X = (d = (0,
                V._)(function() {
                    var n;
                    return (0,
                    R.Jh)(this, function(d) {
                        switch (d.label) {
                        case 0:
                            return [4, h5.eg()];
                        case 1:
                            return n = d.sent(),
                            [4, hP.h.dispatch("updateMcnInfo", (0,
                            B._)({}, n))];
                        case 2:
                            return d.sent(),
                            0 === n.status ? M.value ? h.value = 2 : h.value = 1 : h.value = 4,
                            I.value = !1,
                            [2]
                        }
                    })
                }),
                function handleRecover() {
                    return d.apply(this, arguments)
                }
                )
                  , handleApplyOperatorInfo = function() {
                    var n;
                    if (null === (n = k.value) || void 0 === n ? void 0 : n.validateBeforeCommit()) {
                        var d = (0,
                        O._)((0,
                        B._)({}, U.value), {
                            saveType: "SAVE_AND_APPLY"
                        });
                        h5.DW(d).then((0,
                        V._)(function() {
                            var n, d;
                            return (0,
                            R.Jh)(this, function(v) {
                                switch (v.label) {
                                case 0:
                                    return y7.A.success("保存并提交成功"),
                                    null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["53876"]({
                                        buttonName: "提交审核",
                                        fromTab: "机构运营人信息"
                                    })),
                                    [4, X()];
                                case 1:
                                    return v.sent(),
                                    handleGoAuditPage(),
                                    [2]
                                }
                            })
                        })).catch(function(n) {
                            y7.A.error(n.message)
                        })
                    }
                }
                  , handleCommitCompanyInfo = function() {
                    var n;
                    if (null === (n = N.value) || void 0 === n ? void 0 : n.validateBeforeCommit()) {
                        var d = U.value
                          , v = d.companyName
                          , m = d.companyCreditCode
                          , h = d.operatorAuthorityName
                          , y = d.operatorAuthority
                          , k = d.operatorAuthorityReq
                          , I = d.legalPersonPhotoReverseReq
                          , C = d.legalPersonPhotoL
                          , x = d.address
                          , M = d.companyBusinessLicense
                          , S = d.companyBusinessLicenseReq
                          , _ = d.legalPersonPhotoP
                          , V = d.legalPersonPhotoPositiveReq;
                        h5.DW({
                            saveType: "SAVE",
                            companyName: v,
                            companyCreditCode: m,
                            address: x,
                            companyBusinessLicense: M,
                            companyBusinessLicenseReq: S,
                            legalPersonPhotoP: _,
                            legalPersonPhotoPositiveReq: V,
                            legalPersonPhotoL: C,
                            legalPersonPhotoReverseReq: I,
                            operatorAuthority: y,
                            operatorAuthorityReq: k,
                            operatorAuthorityName: h
                        }).then(function() {
                            var n, d;
                            y7.A.success("保存成功"),
                            handleGoOperatorInfoPage(),
                            null === (d = window) || void 0 === d || null === (n = d.eaglet) || void 0 === n || n.push(el.tracker["53876"]({
                                buttonName: "下一步",
                                fromTab: "公司资质信息"
                            }))
                        }).catch(function(n) {
                            y7.A.error(n)
                        })
                    }
                };
                (0,
                ec.onBeforeUnmount)(function() {
                    hP.h.dispatch("updateMcnInfo", (0,
                    G.cloneDeep)(NT.ST))
                }),
                (0,
                ec.onMounted)(function() {
                    h5.gH().then(function(n) {
                        v.value = n
                    }),
                    X()
                });
                var handleEditTo = function() {
                    M.value ? h.value = 2 : h.value = 1
                };
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", I1, [I.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", I2, [(0,
                    ec.createVNode)((0,
                    ec.unref)(y5.Z), {
                        size: "large"
                    })])) : (0,
                    ec.createCommentVNode)("", !0), I.value || !v.value || S.value ? (0,
                    ec.createCommentVNode)("", !0) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", I4, [(0,
                    ec.createElementVNode)("div", I3, [(0,
                    ec.createElementVNode)("div", I5, [d[7] || (d[7] = (0,
                    ec.createElementVNode)("img", {
                        class: "step1",
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAnqSURBVHgB7Z1faFxVHsd/5yaxbqkQ0AcDu9vuQ+3jTgoLrUs1RV9WWO2yu/WxMdV9UKENrGBAbOOLgoJNUR/U1OmbzYutgvqgmFZsCoLJo9aCLRXqg0Kk4r+kc/x97584mTm/c++duXPvuZn7gcmkc+/VzO97zu93/v6OIkcZG9fDPw9STTWo5nm0taFom9K0jTQNk+IX+a9mlvnaslZ0ma8ve5ouNxp0RXu0dPMqLc3X1TI5iCJH8A3u0T5vgO6mBo3xX7aNsmWJBcLrLAszf6GuLpMDFCoAjP6LR+Pk0QP8h4xRjmiiea5dJ4sWoxABdj2sx/h/fCRvo0uw2zrNte7kwqw6TTmTmwBRaVcDdIh05u4lGxA/btD0+ROqTjmRiwC7H9GHOIAepfbA6SY5CtFTAeBqPEVvdFriR24jqt3B77cGv+P99tvCa7euv/f6j0Q//ET0zbf8zr9fvEr05dfBv7+8Sp2RgxA9EWDXuN7GruZFpWhfmue2bCa6bzfRzh1seH7dspkyAeIsfUF0bonos4uBKKnQVG+wEL0I1pkL8Pf/6QO6QccoobuJjH7XKNHoDsqFRRbj3fMpxehRbchMAATZlUE6ws27w0nuh7Hvu5NoTy27kt4JEGL2neRC8Pc7tmmVprPq2GUiAFyON0QfJfH1MPzBf+ZX2pOSSgiuDY0V2puFS+pagL+N69rQIBs/xuXczkHz0IOBq3GZxEKwCCtE//r0NbVEXdCVAKG/r8fdhxL/33uLdTVpOfF2IEQcivs2n7yqTlKHdCxA2LY/ZrsHpf65x4i2/4lKybXviB5/Ib42cFyYXHhdHaMO6EiAJMbffw/RxP3lKvUm0KdAbTj1of2+TkVILUAStwNfv/9e2lAkcUmduKNUAoQBd1G6jjb9c4+618LJCvQfnnwlqBUSK4pG0wTmxALENTXL7u+TgmENiGCJC8uNVRpN2kRNJAA6Wb8Occm3GP+lJ9rHZzYqscGZm6g3rdBoks6aRwlAD1cyvu92Husf4wN8V7jaLVIDg231C2yWgFgBdk3ocdvwAv6Qje52TOA747tLsGs5jAYLxWAVwPf7A7KSEw4OKeQJvjtafBIYlIQNyYJVAN/4gutBO//g/dT3oLn94D3i5WE1RC+SBVEAuB6uR+Omawi6E5Xx14AtoomiVrjDug8TU9KzogA214MWT9l7uFkS9X8k/FlB6ZrpQ7/0C64Hfr+fWjxJQVDGoKMRtuXuh7WxIWMUQCr9cD2V35dBPBBdEdER9KdaP28TwFb6K+PbgSs6vF+8PMx9g/HWD9sEsJV+TCFW2NljmdtWig61frZOgN0H9b6q9HePLRa0tojWCcB+ythzq0p/OlADxFpA6z3MmgB+j01Yx+Nq6cew8Gdf/P7CQixXkAos1sM2B+PBtSueeaGsq6X/m3BE8lrTiCRK3Uv/Jye4q0Y0s9k8dxAGY3/2bK0G8GyO0f3sdHCs59LVduO7RrTgTOCB6BdfAH8pobBU/B+OlX5MCx54xm3jR0hLcJrdUFADLO7HlRqA6cD/TAVzs2UBLlGaM/jVC+KtHwN4rOJu001FGx/+890Ffn3SxQrngoEbmjOtqBjwbV73BeAOQk0b7tlT4Cq2jxeDudeyg0I8Z17SMoYfHnwRG79mfPgOKozrP8nXytQvESesuFMG23vYCmq6jtG9LQ4OOSOw1Z8ORCgDsOGIMEAH2w8qofRLo3pFAYM/9VA5p0Cxy8fUaoPtB/3Nz4bFKdv/SE7g6nL2NEjzJ7A9gvBW08Xtf6ZCgcHfn9kYM2+SC9KKBeAfw6bVWVv+QIWykWbdxBrAhd9TwvDziGMxoMyI8ZQLvxcmvmjjloJrQF+gIYCwtcjFJmhZsbjT4URrQyt6RyVAwVQCFAwEMK5hxxr4imyw7KhZ9pDmiyp6ijiwiNRqPBRtrgElmHEqC9JOGq3psocfxocqF5QZFhf0PWLAFdOVqgZkx0VhNk/5NUCZa0AVhLPjkiAAbO9ppHM0gARHFdkgeRPY3kNSU+ND39k3JFckAzaUVuzB9p6/l1UIxMgoVdEdi7In8bP5+j1hrgpnjQ9/ThVdck5KWqADzxMIoGnedA/W5FR0x6LkRXRQ6H0Bbm6QMWNstPq4ojPgfqQAjJTJePcFgC9CLmXTjR+LuVEq4kD6MxOwdZTMo3k09IzxP7JQtYY6RXI/SBoe/b4mwKZVcxImGP9cV2np+hOU/jj3A9YEsLkhqSpVyJwQsmuxjc805xIabLk4bdonsBhuAXJpswa2Tbm6dcpW+pEGufmf62bELryu5qVO2YkEKRwrAkRbsW1bzyhom5LkAaIZ07OoBeeqFlEsMaV/uvWjNgHCYGycpDl+qmoRxWEr/abE320C+MG40a4UwADdqQ+oQgDGT1P6gZi0786D+ivpJCOsz+/HNGU2MIP47yeFiyj9s+ovpkvispSGooeka1MvV66oGdgC22ZFhNIPRAHQIvJPFzIAVzRbtYrWmLW7nrrt0Afrwiy9QpMkBOS5D+LzKfcD8PtzUlzEaX435NIPrAKgx8bd5knp+vE3+3u0FE3zWdu+ZR1/7kzs0sQLqD7a3DcAU6+Udw9vN2Cifcq2jZZtluS8mURrQ2+6QUelHjICEIJyP60jwnfFHubrUkOEbeXbLAGJBEDfgH3ZXrKsI338+f6oCbGJQgK/vzfpIT/p0tc/omtD2p6+/tlH3cywkgXw+VO2ks+srNLop/UepK+PQFI/z5PzYAIkMhXTdpUUpBuYeTPmJu47nX8t3TljnR1hMqEPK8+ekhcpHCFC2bc6IcbN2pqaIbkdYRKRRISR8FyBsqQVaOVSeFjDNdcO8YlI4o5A2VwSSj06mYlyE3XgdtY/3iV+YG7QW3FHkI+ECb9dz3KCOY/jcwlWh2taXuHWTpqAa6JrAUB4zsBHlOAceFeF8Hu171iXEv5O2NR04ijDCP+cmQHufBiyw5pwQYhoxQdmsRaTDqlwDxedLKcO82zGjwuKjiSpDQBCIDEHkgPm1X+IplffW7C36deBvXQeTXbj701kLgAID3Q+qhTFnqHSTCQGjrjduSO7Jmy0xBKGT2X0EK3ptL5Bk6U40LmZtLWhFcy6IdEFchdFGbyQRAR5LFrFiXb0IHhirAbv+GzpYhfbreDruZXjrxbpET0VIKJbIXKH3Q1PRk132rZPQy4CRDgvBJd4djczmxpUzyrIxpGrABF+mnyPDuCAG3IALMnEqsBeuhqJQgSI8DO2ezSGvNVS6uRe4a+DbdCZPEu7iUIFaGZNDOW//kpCNseOwYSSR/PcgTqLDSlFGr0ZZwRoBR075NVUDX5xzNAebUWGqTDF2nBbpq8g58Uy8i9g/y0/dwVZAPi5JexGdMXgrfwG1EbKTFuIa1UAAAAASUVORK5CYII=",
                        alt: ""
                    }, null, -1)), ((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, (0,
                    ec.renderList)(Math.max(h.value - 1, 0), function(n, v) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("div", {
                            key: v + 0
                        }, [v >= _.value ? ((0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("div", I8, d[1] || (d[1] = [(0,
                        ec.createElementVNode)("div", {
                            class: "line mar-left"
                        }, null, -1), (0,
                        ec.createElementVNode)("img", {
                            class: "finish",
                            src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALHSURBVHgBxZi/b9NAFMe/75K2q/8BpDAwEzaIkDASE0uZYMTlh8TW7gwpA3u6IUTVsNEuwMJEhRladczOgBH/QAYW1MTHe3acmPb8qzm7X8ny2TnfffLuvbt7R6iomy90h6ZYV0BXh3D5lQPiS6QxJkKgwRfB1y18PnlDQYXmuamS6j3XHmk85s5cVBB3MILC4OgtvS9ZP1+3n2l3qrHH/7yDZaQRUAvbRWCZQO6Wdk7/oM8W2YJFcXuDtQle+UMaoyyQ+Ima4CMXu6hDbK1wBXdN/kUmGDrFt6WH6IJQKv0gw9QIjIj7kFFwPe1kAonPNAKzUPdvG/30i/mQSVizGfdwCQrBQ/eOfCnPLcSTXB816tqV+DJJpQwRWahu67zcAO734vLBV2Bn/3wdUvBkjootpLGJBmBED++ZLRWG8OSuJMxR03xzFiZPPFRuNP/RBA9Qg7JgDg6BH7/N3wiLYrI7aAjmyzH7z4fs7xjmuvhQBznKi46qMK8LwkZ2Eu08oM1HsROKsqLDFsyMyBELOabfxCoJjEjK0mFtMLEchQqSDk1QlmAiCZBxXyKRIA0WQdmEEZa2jvfBxmFLGjzbYfrZIowoaPOM9B05jl0GyhKM6JcM2aiolnRgGj7LMBL2vtITfCpTuQhqWZgIiFnUyZAkj/LLfJAFZQOGNRKWKOwpRKmcKYHaP7QOA875BtE9eXHrqf5ZZfuaLCdZC2Ul8Yb/eJeuSnGxYyRsVGlDQKzAILLKdlKeA0V7Wo0dNC3u82h3kc3+t3SsTiPSwmnAIkww63Ou84mix4liq6FEccrZxjAnURRF0wBX5CUlQH0amWCMQAnU2hQ3avEpbnN1YoYRFR7H9J5ojyOwb+M4JuRIThLCLJU/sGIwtqekS5UylHh9wjAdSVaAEs2cfp2/dEl2CZqv1JEeA4w56fM5Ex7plepHev8AE58svfTlHlwAAAAASUVORK5CYII=",
                            alt: ""
                        }, null, -1)]))) : (0,
                        ec.createCommentVNode)("", !0)])
                    }), 128)), 4 !== h.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", I6, d[2] || (d[2] = [(0,
                    ec.createElementVNode)("div", {
                        class: "dis-flex"
                    }, [(0,
                    ec.createElementVNode)("div", {
                        class: "line mar-left"
                    }), (0,
                    ec.createElementVNode)("div", {
                        class: "no-finish mar-left"
                    })], -1)]))) : (0,
                    ec.createCommentVNode)("", !0), 4 === h.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, {
                        key: 1
                    }, [], 64)) : ((0,
                    ec.openBlock)(!0),
                    (0,
                    ec.createElementBlock)(ec.Fragment, {
                        key: 2
                    }, (0,
                    ec.renderList)(Math.max(3 - h.value, 0), function(n, v) {
                        return (0,
                        ec.openBlock)(),
                        (0,
                        ec.createElementBlock)("div", {
                            key: v + 1,
                            class: "height-32"
                        }, d[3] || (d[3] = [(0,
                        ec.createElementVNode)("div", {
                            class: "dis-flex"
                        }, [(0,
                        ec.createElementVNode)("div", {
                            class: "line-gray mar-left"
                        }), (0,
                        ec.createElementVNode)("div", {
                            class: "gray-point mar-left"
                        })], -1)]))
                    }), 128)), 4 !== h.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", I9, d[4] || (d[4] = [(0,
                    ec.createStaticVNode)('<div class="dis-flex height-32" data-v-18cc60f6><div class="line-gray mar-left" data-v-18cc60f6></div><img class="step2 mar-left" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAowSURBVHgB7V1rUhRJEC4Q36/BV6ihwfBH1DBi4QSLJ5A9gewJXE8gnGDZEzieYPEEiyeAfwphBG34foWDIYrvza+2a3boyayu7unpqh7mi2gb6O6xJ7+szKrKrKwhFSiWl5dr+/btmxwaGpocHh4e+/nzZ53+jKPWdrSjiYPuj+heff7x48cj+nlla2trZWpqqqkCxJAKBLHAZ3bt2vUrCW1a/SfsIrFCpKx8//79Hv28dOnSpUgFAK8EQOj79++fJQ2/Fgu9NBAZS0TGHeWZDC8E3L9/f5o0/VbZQrdgkY47ExMTi6pklEaA0XbSvBuqePNSFOA35qlFNFRJKIWAtbW1G6Ttc6rTcYaK0ojoKQEwNWTfb6ucGr97925FrUafcYyMjOizudYOEpgim66+fv2qf/78+bM+8DvOOdFzInpCAAm+ToL/k36cyfIcPaOOHj2qhX7gwAH9exEAIR8/flQfPnzQ52/fvmV6nsxmg8id74WzLpyAhw8fXqeXXVCO5sYI/eDBg1roZQAkvH//PisZPWkNhREAJ0tCRM/mD5f7IewjR46oQ4cOFabpeQAi3rx540wEtYaFzc3N+aIGdoUQEJucf5SDrYfgjx07Vpq2uyIjEWgNV4swSV0TQD2cSdJ6CN9qcuA0T506pU1NyMhAREQO/rcrV66sqC7QFQGxvW+k3Xf8+HE1Ojrq1dRkxdu3b/XhgFkawN1ROZGbgLhvv2C7B1p/9uxZtXfvXlVFoAv7+PHj1NZAcrh58eLFBZUDuQhwET40HppfJa3ngC4sWsK7d++s9+UlITMBLmbn5MmTmoB+gqNJymyOMhEQO9xl6Tq0HSYntB5OUcC44dmzZ7pVSCCzNZXFMTsTkNbVrLq9dwUFdzQJFr/QJIKmXLuoTgYag6w04Z8/f77vhQ9Q0Eh/V8xLCdCygsyUA5wIwAhXCcI3ZsfyQn0H09otHYx6LLNUpJogMj2z8Ywmi3PnzvWtzU8DfMKTJ09st6Q6ZSsBaXYf3UwcOxnNZlO9evVKvJzmD6wmCGFDJQjf9PN3Omq1mq3LXYun5UWIBMD0UJdzlrsGGzgQ/v+ALCw+cAaBKemiSAAxJzoR9AKqPsItEqYjYrku+lBWitB+ZbH7O6nH4wp0Ty1Wof7gwQM2TsISIGn/wPTYAV8gKScFcm5xY4MOAtK0fwAZMEWIeQjQaTkdzzAfImo/QogD2IEQK5IKOMQ5UduwjYDV1VVkMdS5hwfa7w6bL0j2iJIt4Dr31ED7swEzA1IriMdWLbRGwvGod5176PTp00EQgGlgk9vz5cuXViIWFIS+mHaAMAEQgO+eGmLLL168YK/R+4+arIr2t5zmbg5B+yF4RKRwcHPxIAEHAIIAvPOJEye8EWHSbbj3jZ2xjp61TBBpEGt+pKZUFiDYKIp0NMoWCEkCGoh4LlqLD5iEM+HatdbP+AfmR0oV96n9rkFx2/OYrfRFgpSCA1mbMYFpAdPcjTA/vqaabcKHdqGJm9lYHLYMu5QIVs9gy2/FaiCctYGMlwV13OTT/MDkcEKzZVuANJieZPAcpuv58+d6DqtswAxxGRX0/r/SqaG/BQl/knsYWuUDRpBJQPjIuJC0ykyVcP3wT58+ZfIhRcGixNP4Z3h9fR22iCXAl/nh0j8gXAjfBVIL2djYUGXDIsO6jrVTlJ8VPgLsvqacTVeyHVlH4lwPpIuFGrkBGUpdYSzDHcY6XO5icgVKWZBMRdbWyH1pH44YkN5dr4FWwtyPrxQT5N0kgXfJOqDCyDgUWJS5jhYwxl3xRQCn/XmEaUbGISCNADaByJf95wSXZzoBpiwJX0olEQDlH4lrMHRgz549ygcw8YejG4BEbvTra3GINYtOCStbqhx0f/nyZcfffI7qLeg/AjCG4LTfZ0DJ4gNqfZVbIuXwhxxQ6pv8ktevX0tzLl7mgFxReQLgcDHbKY1ykaUQch4T3gyhsQ4/gFFj6AlYm5ubepaTGzuEtFrHMgnYFAkIGWkL58yCkVAUCLFrAS0COoCgd4gtAKbm6dOn4rwOnC3MTki9OOldUdcOEo4UMx3ta+LKBmg8nC0HCNwsCA8NUguglryBkfAjYqLjYkhzKTA5WATBBWkA2HmMnkP1WZZp8FYL6EAoBKT1cqqwJtlKAOpqci2Am8wqG7bAfJWWxUrKDNkPU1RmRXrIRwy1HVI2A4Q+NjZWCeGb8mkcUFB2eHx8HL2giLvBVz4NgG4m9+KY0azSCh2LDHU1X/0tiKV73B2+zBBanzSnc+bMmUpNFHLx7Rja8phvssTd4SOLAJCKYlRxbZrUAozS634b+YFFGnjdZm7SH1DmcF7KCYLgUcmqGyC06ZraUgRgQSzjqSX8owmAH1hbW1vi8kMx31ImAZLZgzJI4wBXZMktKgKSBUHdarN4u9We6QvelT6kzN6Qj9ydXkEyP3HRcI0WAdSla3A3m0URZaFfCEBrTTM/QIsAmCE0De5uX864ypD8FZn5u+21I7ZNnqA8Lzm76eRDsMtlOWNUX6k6bNpPFqXR/vu2Ph0xs6SEQZljCccBlLL11qLLly9v26Ogo1NNTeQv7km0gjJ9QVWRov3zyb91EBA7YzZIg7l43/NDocOm/Vzh7w4C4IypFcxzn4BBUlr9zJ0MaVUPwGk/IFbMWl1dxZrhOnetKjORZQLKub6+Ll2OJiYmxrkL4sQKMfa7dC2tduZOA2SBuIXl+rx0TSQg7hGxuwqB7W7nZfoJNtNDaNg2fbBOLRJzN5XgkFGsbuAPVFpd6cim/YCVAIzYYhJYoFfkM2jjG+ia28ZH8ZYnkeUj0gu3ovlIYwPAFjDvZ5j8JAmQmct+M07RDerxzClhhAwH5Gslui/AB0L4lo5IRK1jTjnAiQCMDbBnihL8gcle2AktAd8xpX6F3l/GdZOfQfn6DIDNT9F8BFumLly44Fy+PlOAFR9sGx/gxVCdpB8n7tDTgebbhA/ZZBE+kGsLE9TAJKatJXlR0hcFkwZbmNiRexMfFxJCSxPPirRMbIPSN/ExSCttb1C1KuumRJqLKYXZ6WZ7w6I2cvtbpeyiZ0rJhF59EVkgWObq0K1GCPdqVpufROlbGYZKhBnVOo7sw9nK0AB1h8hmznHVYTmEQITJ+DA7q7oAI1wMsoLazLMdsV8QN35IwmzabPYRLgMmvJox5wmD0ZvBbmfbDpgkOs0REdezPGfIOHz4sD4XuaGzyezImWi2GAs/UgWjJwQYZG0NSaAmP7qwiL7hZxACknBOkmOcpiniag4IvovVPlHcy1lSPUJPCTDolggP0HHxvH37LCiFAIMKEBHFTrZRlJNNQ6kEGMRl8uEfZlQAQEomsgJ7aWrE/1t5ROysp1G3Wiqd3CtA6MgIL1Pb2fdQgcCQgYPM1C9KqGXaBaJY0+9tbW0t+hR6O4IhIAkUNUVdzbisZh311VDfLi6xVlOd9S2abQds+aP4vILViKEIPIl/ASKM32UyDrMsAAAAAElFTkSuQmCC" alt="" data-v-18cc60f6></div><div class="dis-flex height-32" data-v-18cc60f6><div class="line-gray mar-left" data-v-18cc60f6></div><img class="step3 mar-left" src="' + y2 + '" alt="" data-v-18cc60f6></div><div class="dis-flex height-32" data-v-18cc60f6><div class="line-gray mar-left" data-v-18cc60f6></div><img class="step4 mar-left" src="' + y4 + '" alt="" data-v-18cc60f6></div>', 3)]))) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", I7, [d[5] || (d[5] = (0,
                    ec.createElementVNode)("div", {
                        class: "line mar-left"
                    }, null, -1)), d[6] || (d[6] = (0,
                    ec.createElementVNode)("img", {
                        class: "step2",
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAtjSURBVHgB7V1daFzHFT5zvYpTo4DAebCgqV2ok8dKhoKV4kQmeWmgiUupnbcostOHJK0saMFuS2zR0AYSiGUSPzSRun6L04faMbVfUiKrxDIEon1sZUPluiA/pKDikjSWvJPzzb1XWe3Omb13f+7clfaD9a727q53zzfznZkzZ84oyimGR3Tf/ws0oMo0EAS0s6xol9K0izT1keIbmVsllvnasla0yNeXA02L5TLd1AGV7l+l0kxRLVMOoSgnMAYP6ECwhR6nMg3zN9tFrUWJCcLtChMzc62oFikH8EoAjP5lQCMU0DP8RYYpQ2iiGe5dZ32T4YWAvUf0MP/HJ7I2ugSWrfPc687OTanzlDEyIyBu7WoLjZFuuby0BvAf92ji6rQqUkbIhIChF/QYO9CTVOs484kMiWgrAZCaQNEfG23x/Q8SDTzM99vDx7jf8WB0bfv61975nOh/XxDd/ozv+fHCLaLr/w7/vn6LGkMGRLSFgL0jehdLzZtK0YE07+vdRvTUENGeR9jwfHtgG7UEIKf0D6LZEtGnCyEpqaCpWGYi2uGsW07A93+qn9NlOkUJ5SY2+mODRIOPUCaYZzIuXU1JRpt6Q8sIgJNdKdAJHt4dTfJ6GPupR4n2DbSupTcCEDF1MTkR/PtObV2liVZN7FpCACQn6KGPkmg9DH/4h9m19qRIRQT3hvIK7W+FJDVNwPdG9EBPgY1fR3J2sNMcOxRKTZ6RmAgmYYXoR5+8o0rUBJoiINL7Yr3XocX/5Em/UpMW0x+ERNSD4rnNx39QZ6lBNExANLY/5XoNWv1rLxHtfog6Ekv/IXr5jfq9gf3C+Ny76hQ1gIYISGL8g08QjT7dWa3eBswp0BvO/dX9ukZJSE1AEtmB1h98kjYUkkhSI3KUioDI4c5L1zGmf+3F/I1wWgXMH46dCXuFhBVFg2kcc2IC6g01O13vkwJhDZDg8AvL5VUaTDpETUQAJll3e7jlO4z/1i9r4zMbFXWdMw9R71uhwSSTtYASADNcyfhGdl7aPMYH8Fshtb3SAINt9SVslgB1Cdg7qkdc4QV8kY0uOzbgN+O3S2BpOYoBC9WBkwCj+1tkJkdzGFLIEvjtGPFJQFASNiQHnAQY4wvSg3H+4adp0wPD7UNPiJf7VA+9SQ6IBEB6uB+N2K7B6Y52jb8G2CJeKKoGT1gPYGFKeq9IgEt6MOLp9BluKxHPfySYVUHpmu1J0/oF6YHub6YRT1LAKSPoaAXbcuiItg5krARIrR/S09V9GfAHohQRncB8qvr5GgJcrb9rfDcgRUcPipf7eG4wUv1kDQGu1o8lxC7c2OdY21aKxqqfW0fA0GF9oNv6m4fLF1SPiNYRwDplnbl1W386oAeIvYDWK0whfmBmbEIeT15aP8LAJreHw8I3boWJWEufhUlbvd8IHeBjA2Fe0Q7PIzU0WISvq4F8WDjjOFC3RgD3hWHbB+Wh9cPwWJH604dhklU1lqKoJELFf4tWK/Cd0XB8EYGGMLnNvnYQOWOzerYmQbyaY5WfPZ5jPbc59Dvy23BF6s7nyd+H7IaXXw97iw/ECWcCnokfGAJMKqGQKv4Dj63/dhR3X0qbShgBcfufveGPBCkFJ5YhPA4lyCE/vnqAy/hoXXByu7/59XNIxIXm2rr8cV7BOvtK9nKE79gryNDdwPjboiGAYxWP2z7Ap/xMfWA3vivbAi3+8se1i+cwwKscjXnrF5Q5IEPv2zIqthibF40E8QRhwPbmfZ6y2ND6oeHVgPHHnpUDgf1RlNY2Dpd6R7vhaMTD+CeAFvGKl5WAPQ+TF6D1V8OkNj5LiQASbMuFf7lKmUNcsOJJGWwfYCuo7Tqie72eQs6zlqSOtHMR2wik4Y0aTQA27BcCdLA9y7+dACmq125IUpF26dP2oyFtPjAgKAlsHygh9lM5wsgStlaK3ph2DcJX77VB+u6wPZzwTtvF3d8iL7BNthoxZqNzh3ZAkiCtmACt7Hn9iK34wJJFJhoZv88v1D7nq1eLPYAbf8FIkCU/rt+TD/jN8+GtGUDrbYEwX8Nq0Z9y4w9I6AEPeOoBrcCrliVwn7N6ERoECFuL8uTE0mD6or31+wypOwYQfYlyQzsFML40icvrglKBNggmz3HM5cPa59GTkceUV3Q8AXC4x96WZ7nI3cxzHhMIwNJYjR/AcDDvCVizvPr1u6I8d8jLbh1HEHC5gDJf0kgor8APQsjZJjlA3jaM3PlCuKCYAA5FL2vLNbPYncMecCPaIiTNdOFsf34oX7mr0k4arWmxgH/Ish7gK3DlAhY2Jt+zX4PkYB0gj7szHRL0X/iAm7YreYql4AdglHNJiOdD53/9fH591oIwQFCmByhatO3UW8pJD0gyysn7nuQbwneH7Qus/yUbASVPmQSVcC3Md9K2WElNYPsCipretcwG0APQ9X2GJNDybV/+Ow+FC+ydsEkENkTGhg2wfWBS5OCILfh0gbwBYQWb7CDXplOMD8zLSmKq+ZpYEHeFK9Y3/528ANIjxXR+NdJZ26NmpaIFqOJLUWYcD0VnbK+5NEdeYDM+0Il70+YlFdFhozfqf3+Zzt8NajeSQb+Q1pdlHF3KCYIvkohJCpDn2tfbakB+JAeMksm4NwRAi4aO6BlbfiiyjbMkQMrjRGO43GReT//2bAmQ5i2oWx0X86hcD7hg/ZC5bDPKrv+LNgwk+UHR8PjxGgFbV+1FmOJNEVlBGrJ1GtD668kPsEYAZAhdQ/qwLtJhWqiuxTa+UFlLqFB1ccLmB+BMsnLGPjKYWw1X60cZ5Mo/160JX3tXzUiTsukEJRy7CCHaim1bfUZBzaI8B4gmbe9FL5gVq8V1EaNO65+ofqqGgMgZW0ttnT7nJ8e+k+Bq/bbC3zUEGGdcrmUKQIDunLAM2EVo/DStHxCL9j16WP9TOsmo+MrmLFPmAmbwPz4mXETrn1Lftl0SE7PKisQMzeNvd6WoErAF1i1ECK0fEAnAiMicLmQBpGiqOypaw5RbeoquQx+cqYl6hcZJcMhICalXT3kzYNqRHgPpwdEnrvc7CcCMjafN49L10+/52wSdB2Bo7ozQ6vrnztRNzr2G7qPtcwMAm6B9bH7zDSy047eLYJslOW8mUXb0fffopDRDhgOCU85jHlG7YDI1zjhqV7CtjM0SIBEBmBuwlu0nwR+YWsqvb46egJbvrF8R6v7+pIf8pCtf/4Ie6NHu8vW/fzGHO1FaBGj+8TPuqi0rqzT4SbEN5etjoKhfEMh1MAGpXEAnw5UWuQaeO119J905Y40dYTKqj6rAXZIX2WogoVO3OsWol4kdI7MjTGIkIaE/ShP3XT6sUdTLxI6R+SE+MZLIEdBpkhSXSJtOkoXRgOysf3uTMI65TH+mOkeQx6Vk8l59EWsep99PkB2uaXmFRztpHK4NTRMAROcMfEQJzoHPKxFmVnvRmUr4NaKhZi6OMoxhzpnZwpMPS3VYG/JARJzxgVWs+aQhFZ7hYpKVq8M8K2H8gqITSXoDACKwwQLFAbOaP8TLq5fnUlRixF66gMab0XsbWk4AEB3ofFIpqnuGSiViMvZFxVdbNYSNUyxh+FRGj6A1ndf3aLwjDnSuRNreUA2suqHQBaqcxBW8UEQEdSyqyYl39MB5IlaDezxXWmhiuxW0nkc5JlukTWgrATGaJSJzsNzwYtREo2P7NMiEgBi5J4JbPMvN5NYyFVvlZOshUwJimDL5AT2HA24oB0BKJrIC2yk1ErwQEMNUbA9oGHWrpdLJ7YLJgy3ThSxbuw1eCajEGhnK3L5LQjXHhoEFpYBmeAJ1BRtSfBq9ErkhoBqY2KGupirzjX2GDmgnKkxFVR77aupbaLNYhLoXy2bvc5luogoAv6+E3Yh5MXg1vgKveWyawxPEagAAAABJRU5ErkJggg==",
                        alt: ""
                    }, null, -1)), 2 === U.value.status || 3 === U.value.status ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", Ce)) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", Ct)), 2 === U.value.status || 3 === U.value.status ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("img", Cn)) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("img", Ca)), 3 === U.value.status ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", Co)) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", Cr)), 3 === U.value.status ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("img", Ci)) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("img", Cl))]))]), (0,
                    ec.createElementVNode)("div", {
                        class: (0,
                        ec.normalizeClass)(["box", [M.value ? "box-width-mcn-renew" : "box-width-mcn-entry"]])
                    }, [(0,
                    ec.createElementVNode)("span", Cc, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).WRITE_INFO), 1), M.value ? (0,
                    ec.createCommentVNode)("", !0) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("span", Cu, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).BUSINESS_INFO), 1)), (0,
                    ec.createElementVNode)("span", {
                        class: (0,
                        ec.normalizeClass)(["black-word two", {
                            "gray-word": h.value <= 1
                        }])
                    }, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).COMPANY_QUALI_INFO), 3), (0,
                    ec.createElementVNode)("span", {
                        class: (0,
                        ec.normalizeClass)(["black-word three", {
                            "gray-word": h.value <= 2
                        }])
                    }, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).OPERATOR_INFO), 3), (0,
                    ec.createElementVNode)("span", {
                        class: (0,
                        ec.normalizeClass)(["black-word four", {
                            "gray-word": h.value <= 3
                        }])
                    }, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).APPLY_AUDIT), 3), (0,
                    ec.createElementVNode)("span", {
                        class: (0,
                        ec.normalizeClass)(["black-word five", {
                            "gray-word": h.value <= 4 && U.value.status < 2
                        }])
                    }, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).SIGN_AGREE), 3), (0,
                    ec.createElementVNode)("span", {
                        class: (0,
                        ec.normalizeClass)(["black-word six", {
                            "gray-word": h.value <= 4 && 3 !== U.value.status
                        }])
                    }, (0,
                    ec.toDisplayString)((0,
                    ec.unref)(y8).FINISH_SIGN), 3)], 2)]), (0,
                    ec.createVNode)((0,
                    ec.unref)(ed.Z), {
                        class: (0,
                        ec.normalizeClass)(["info-progress-container", {
                            flagSignAgreementPanelHeight: 2 === U.value.status && m.value
                        }]),
                        bs: {
                            padding: "24px",
                            margin: "16px auto 0 auto"
                        }
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [1 !== h.value || M.value ? (0,
                            ec.createCommentVNode)("", !0) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(Nx, {
                                key: 0,
                                ref_key: "biRef",
                                ref: y
                            }, null, 512)), 2 === h.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(NX, {
                                key: 1,
                                ref_key: "cqRef",
                                ref: N
                            }, null, 512)) : (0,
                            ec.createCommentVNode)("", !0), 3 === h.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(kr, {
                                key: 2,
                                ref_key: "ioRef",
                                ref: k
                            }, null, 512)) : (0,
                            ec.createCommentVNode)("", !0), 4 === h.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(IF, {
                                key: 3,
                                "save-apply-again": z.value,
                                onHandleEditTo: handleEditTo
                            }, null, 8, ["save-apply-again"])) : (0,
                            ec.createCommentVNode)("", !0)]
                        }),
                        _: 1
                    }, 8, ["class"]), 1 === h.value || 2 === h.value || 3 === h.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(ed.Z), {
                        key: 0,
                        class: "next-step-container",
                        bs: {
                            padding: "20px 0 20px 0",
                            margin: "20px auto 0 auto"
                        }
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [1 === h.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(em.Z), {
                                key: 0
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)((0,
                                    ec.unref)(ef.Z), {
                                        disabled: !1,
                                        "data-impression": J.value,
                                        onClick: (0,
                                        ec.unref)(q)
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return d[8] || (d[8] = [(0,
                                            ec.createTextVNode)(" 下一步 ")])
                                        }),
                                        _: 1
                                    }, 8, ["data-impression", "onClick"])]
                                }),
                                _: 1
                            })) : (0,
                            ec.createCommentVNode)("", !0), 2 === h.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(em.Z), {
                                key: 1
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [M.value ? (0,
                                    ec.createCommentVNode)("", !0) : ((0,
                                    ec.openBlock)(),
                                    (0,
                                    ec.createBlock)((0,
                                    ec.unref)(ef.Z), {
                                        key: 0,
                                        variant: "secondary",
                                        "data-impression": Z.value,
                                        onClick: handleGoBusinessInfoPage
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return d[9] || (d[9] = [(0,
                                            ec.createTextVNode)(" 上一步 ")])
                                        }),
                                        _: 1
                                    }, 8, ["data-impression"])), (0,
                                    ec.createVNode)((0,
                                    ec.unref)(ef.Z), {
                                        "data-impression": H.value,
                                        onClick: handleCommitCompanyInfo
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return d[10] || (d[10] = [(0,
                                            ec.createTextVNode)(" 下一步 ")])
                                        }),
                                        _: 1
                                    }, 8, ["data-impression"])]
                                }),
                                _: 1
                            })) : (0,
                            ec.createCommentVNode)("", !0), 3 === h.value ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(em.Z), {
                                key: 2
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)((0,
                                    ec.unref)(ef.Z), {
                                        variant: "secondary",
                                        "data-impression": Q.value,
                                        onClick: d[0] || (d[0] = function(n) {
                                            return handleGoCompanyInfoPage(!0)
                                        }
                                        )
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return d[11] || (d[11] = [(0,
                                            ec.createTextVNode)(" 上一步 ")])
                                        }),
                                        _: 1
                                    }, 8, ["data-impression"]), (0,
                                    ec.createVNode)((0,
                                    ec.unref)(ef.Z), {
                                        disabled: !1,
                                        "data-impression": Y.value,
                                        onClick: handleCommitOperatorInfo
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return d[12] || (d[12] = [(0,
                                            ec.createTextVNode)(" 保存 ")])
                                        }),
                                        _: 1
                                    }, 8, ["data-impression"]), (0,
                                    ec.createVNode)((0,
                                    ec.unref)(ef.Z), {
                                        disabled: !1,
                                        "data-impression": W.value,
                                        onClick: handleApplyOperatorInfo
                                    }, {
                                        default: (0,
                                        ec.withCtx)(function() {
                                            return d[13] || (d[13] = [(0,
                                            ec.createTextVNode)(" 保存并提交申请 ")])
                                        }),
                                        _: 1
                                    }, 8, ["data-impression"])]
                                }),
                                _: 1
                            })) : (0,
                            ec.createCommentVNode)("", !0)]
                        }),
                        _: 1
                    })) : (0,
                    ec.createCommentVNode)("", !0)])), S.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", Cs, [(0,
                    ec.createVNode)(I0, {
                        show: !0
                    })])) : (0,
                    ec.createCommentVNode)("", !0), I.value || v.value || S.value ? (0,
                    ec.createCommentVNode)("", !0) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", Cd, [(0,
                    ec.createVNode)((0,
                    ec.unref)(ed.Z), {
                        class: "unable-box"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return d[14] || (d[14] = [(0,
                            ec.createElementVNode)("img", {
                                class: "unable-to-apply-for-img",
                                src: y3,
                                alt: ""
                            }, null, -1), (0,
                            ec.createElementVNode)("p", {
                                class: "unable-text1"
                            }, "无法申请，账号已认证了其他身份", -1), (0,
                            ec.createElementVNode)("p", {
                                class: "unable-text2"
                            }, "请尝试更换登录账号", -1)])
                        }),
                        _: 1
                    })]))])
                }
            }
        });
        let Cm = (0,
        eN.default)(Cv, [["__scopeId", "data-v-18cc60f6"]]);
        var Cf = {
            id: "header-area"
        }
          , Cp = ["src"]
          , Cg = {
            class: "name-box"
        }
          , Ch = {
            class: "menu-list"
        }
          , Cy = {
            key: 0,
            class: "popover_text flex-center"
        }
          , CN = {
            key: 0,
            class: "mobile-warn"
        }
          , Ck = {
            id: "content-area"
        };
        function Layoutvue_type_template_id_63f95fcc_scoped_true_render(n, d, v, m, h, y) {
            var N, k, I, C, x, M, S = (0,
            ec.resolveComponent)("router-link"), _ = (0,
            ec.resolveComponent)("TopBar"), V = (0,
            ec.resolveComponent)("router-view"), B = (0,
            ec.resolveComponent)("NewBsBox"), O = (0,
            ec.resolveComponent)("beer-button"), R = (0,
            ec.resolveComponent)("beer-modal"), U = (0,
            ec.resolveComponent)("ExpireModal"), z = (0,
            ec.resolveComponent)("ThemeProvider");
            return (0,
            ec.openBlock)(),
            (0,
            ec.createBlock)(z, {
                theme: n.$options.businessTheme,
                class: "main-page-container"
            }, {
                default: (0,
                ec.withCtx)(function() {
                    return [(0,
                    ec.createElementVNode)("div", Cf, [(0,
                    ec.createVNode)(_, {
                        bs: {
                            paddingLeft: 20
                        },
                        title: "创作服务平台",
                        class: "logoIcon",
                        onClick: y.goHome
                    }, (0,
                    ec.createSlots)({
                        _: 2
                    }, [y.userInfo ? h.isMobile ? {
                        name: "right",
                        fn: (0,
                        ec.withCtx)(function() {
                            return [d[11] || (d[11] = (0,
                            ec.createElementVNode)("span", null, null, -1))]
                        }),
                        key: "2"
                    } : {
                        name: "right",
                        fn: (0,
                        ec.withCtx)(function() {
                            return ["mcn" === y.userInfo.role ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("img", {
                                key: 0,
                                class: "message cursor-pointer",
                                src: "https://fe-img-qc.xhscdn.com/7ce486f9f27f4b0ac3315e1937db3aadcae29150",
                                alt: "消息中心",
                                onClick: d[0] || (d[0] = function() {
                                    for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                        d[v] = arguments[v];
                                    return y.messageCenter && (N = y).messageCenter.apply(N, (0,
                                    ee._)(d))
                                }
                                )
                            })) : (0,
                            ec.createCommentVNode)("", !0), (0,
                            ec.createElementVNode)("div", {
                                class: "cursor-pointer flex-center user-info",
                                onClick: d[3] || (d[3] = function() {
                                    for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                        d[v] = arguments[v];
                                    return y.showDropdown && (k = y).showDropdown.apply(k, (0,
                                    ee._)(d))
                                }
                                )
                            }, [(0,
                            ec.createElementVNode)("img", {
                                src: y.userInfo.userAvatar,
                                class: "user_avatar"
                            }, null, 8, Cp), (0,
                            ec.createElementVNode)("span", Cg, (0,
                            ec.toDisplayString)(y.userInfo.userName), 1), d[10] || (d[10] = (0,
                            ec.createElementVNode)("img", {
                                class: "arrow",
                                src: "https://fe-img-qc.xhscdn.com/48fd625e5dfe43f5a44ea81f99668b223802391d"
                            }, null, -1)), (0,
                            ec.withDirectives)((0,
                            ec.createElementVNode)("div", Ch, [(0,
                            ec.createElementVNode)("div", {
                                class: "popover_text flex-center",
                                onClick: d[1] || (d[1] = function() {
                                    for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                        d[v] = arguments[v];
                                    return y.handleLogout && (I = y).handleLogout.apply(I, (0,
                                    ee._)(d))
                                }
                                )
                            }, d[8] || (d[8] = [(0,
                            ec.createElementVNode)("img", {
                                src: "https://fe-img-qc.xhscdn.com/c058818aacf2f30e1031d70e63c2124501b41718",
                                alt: "登出"
                            }, null, -1), (0,
                            ec.createElementVNode)("span", {
                                class: "inline-block"
                            }, "退出登录", -1)])), "mcn" === y.userInfo.role && -1 !== y.userInfo.permissions.indexOf("mcnManage") ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createElementBlock)("div", Cy, [d[9] || (d[9] = (0,
                            ec.createElementVNode)("img", {
                                src: "https://fe-img-qc.xhscdn.com/0aeb0122af9bd22561e32744025817d6ecac732f",
                                alt: "账号管理"
                            }, null, -1)), (0,
                            ec.createElementVNode)("span", {
                                class: "inline-block",
                                onClick: d[2] || (d[2] = function() {
                                    for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                        d[v] = arguments[v];
                                    return y.countManagement && (C = y).countManagement.apply(C, (0,
                                    ee._)(d))
                                }
                                )
                            }, " 账号管理 ")])) : (0,
                            ec.createCommentVNode)("", !0)], 512), [[ec.vShow, h.isShowDropdown]])])]
                        }),
                        key: "1"
                    } : {
                        name: "right",
                        fn: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(S, {
                                to: "/",
                                tag: "span",
                                class: "link"
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[7] || (d[7] = [(0,
                                    ec.createTextVNode)(" 登录 ")])
                                }),
                                _: 1
                            })]
                        }),
                        key: "0"
                    }]), 1032, ["onClick"]), h.showMobileWarn ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", CN, [d[12] || (d[12] = (0,
                    ec.createElementVNode)("span", {
                        class: "mobile-warn-info-icon"
                    }, null, -1)), d[13] || (d[13] = (0,
                    ec.createElementVNode)("span", {
                        class: "mobile-warn-text"
                    }, "移动端暂不支持网页发布,", -1)), (0,
                    ec.createElementVNode)("span", {
                        class: "open-app-text",
                        onClick: d[4] || (d[4] = function() {
                            for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                d[v] = arguments[v];
                            return y.openApp && (x = y).openApp.apply(x, (0,
                            ee._)(d))
                        }
                        )
                    }, " 点击打开小红书App "), (0,
                    ec.createElementVNode)("span", {
                        class: "mobile-warn-close-icon",
                        onClick: d[5] || (d[5] = function() {
                            for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                d[v] = arguments[v];
                            return y.closeMobileWarn && (M = y).closeMobileWarn.apply(M, (0,
                            ee._)(d))
                        }
                        )
                    })])) : (0,
                    ec.createCommentVNode)("", !0)]), (0,
                    ec.createElementVNode)("div", Ck, [(0,
                    ec.createVNode)(B, {
                        bs: {
                            my: "3x",
                            mx: "auto",
                            display: "flex",
                            alignItems: "flex-start",
                            marginTop: "0",
                            borderTop: "1px solid #EDF0F7"
                        },
                        as: "main"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [n.$route.meta.micro ? (0,
                            ec.createCommentVNode)("", !0) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(B, {
                                key: 0,
                                class: "microapp-container",
                                bs: {
                                    flex: 1,
                                    alignSelf: "stretch"
                                }
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)(V)]
                                }),
                                _: 1
                            }))]
                        }),
                        _: 1
                    })]), (0,
                    ec.createVNode)(R, {
                        show: h.showLogout,
                        "onUpdate:show": d[6] || (d[6] = function(n) {
                            return h.showLogout = n
                        }
                        )
                    }, {
                        title: (0,
                        ec.withCtx)(function() {
                            return d[14] || (d[14] = [(0,
                            ec.createTextVNode)("退出登录")])
                        }),
                        footer: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createVNode)(O, {
                                variant: "secondary",
                                onClick: y.cancelLogout
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[15] || (d[15] = [(0,
                                    ec.createTextVNode)(" 取消 ")])
                                }),
                                _: 1
                            }, 8, ["onClick"]), (0,
                            ec.createVNode)(O, {
                                onClick: y.confirmLogout
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[16] || (d[16] = [(0,
                                    ec.createTextVNode)("确定")])
                                }),
                                _: 1
                            }, 8, ["onClick"])]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            return [d[17] || (d[17] = (0,
                            ec.createElementVNode)("div", null, "确定要退出登录吗？", -1))]
                        }),
                        _: 1
                    }, 8, ["show"]), y.userInfo && "mcn" === y.userInfo.role ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(U, {
                        key: 0
                    })) : (0,
                    ec.createCommentVNode)("", !0)]
                }),
                _: 1
            }, 8, ["theme"])
        }
        var CI = v(63782)
          , CC = v(68392)
          , Cb = v(16782)
          , CE = v(46353)
          , CA = v(63674)
          , Cw = v(85338)
          , Cx = v(19002)
          , CT = v(63185)
          , fadadaHandler = function(n) {
            var d, v, m = (null === (v = n.$store.state) || void 0 === v ? void 0 : null === (d = v.Auth) || void 0 === d ? void 0 : d.userInfo).role, h = n.$route.query.source;
            "mcn" === m && "/mcn/mcn-entry" === window.location.pathname && "fadada" !== h && (window.location.href = "/newmcn/home")
        }
          , CM = "creator-platform-mobile-warn"
          , CS = {
            name: "AppLayout",
            components: {
                TopBar: hq.Z,
                NewBsBox: em.Z,
                BeerButton: ef.Z,
                BeerModal: u2.Z,
                ThemeProvider: CI.Z,
                ExpireModal: Cx.Z
            },
            beforeRouteEnter: function(n, d, v) {
                v(function(d) {
                    var v, m;
                    (null === (m = d.$store.state) || void 0 === m ? void 0 : null === (v = m.Auth) || void 0 === v ? void 0 : v.userInfo) && [fadadaHandler].forEach(function(v) {
                        v(d, n)
                    })
                })
            },
            data: function() {
                return {
                    showLogout: !1,
                    isShowDropdown: !1,
                    isMobile: yd.tq,
                    showMobileWarn: yd.tq && !localStorage.getItem(CM),
                    startOpts: {
                        prefetch: !1,
                        singular: !0,
                        sandbox: {
                            experimentalStyleIsolation: !0
                        }
                    },
                    mounted: !1
                }
            },
            businessTheme: CC.Z,
            computed: {
                userInfo: function() {
                    var n, d;
                    return null === (d = this.$store.state) || void 0 === d ? void 0 : null === (n = d.Auth) || void 0 === n ? void 0 : n.userInfo
                }
            },
            created: function() {
                this.MicroappMountContainer = Cw.Z
            },
            mounted: function() {
                var n = this;
                window.document.documentElement.style.overflowY = "hidden",
                document.addEventListener("click", function() {
                    n.isShowDropdown = !1
                }),
                (0,
                CA.Td)(function(d) {
                    n.$eaglet.sendApm({
                        event: "microapp-load-fail",
                        message: d.message,
                        type: d.appOrParcelName
                    }, "SnsWebPublish"),
                    n.$eaglet.sendCustomError(d, {
                        title: "微前端加载错误"
                    })
                }),
                window.addEventListener("storage", this.onUserChange)
            },
            unmounted: function() {
                window.removeEventListener("storage", this.onUserChange)
            },
            methods: {
                openApp: function() {
                    (0,
                    CE.ld)({
                        deeplink: "https://www.xiaohongshu.com/picasso_pages/author-center/main?fullscreen=true"
                    })
                },
                onUserChange: function(n) {
                    "USER_INFO_FOR_BIZ" === n.key && (alert("该账户已退出登录"),
                    window.location.reload())
                },
                closeMobileWarn: function() {
                    this.showMobileWarn = !1,
                    localStorage.setItem(CM, "true")
                },
                showDropdown: function(n) {
                    n.stopPropagation(),
                    this.isShowDropdown = !this.isShowDropdown
                },
                messageCenter: function() {
                    this.$router.push({
                        path: "/mcn/notificationList"
                    })
                },
                countManagement: function() {
                    this.$router.push({
                        path: "/mcn/countInfo"
                    })
                },
                handleLogout: function() {
                    this.showLogout = !0
                },
                cancelLogout: function() {
                    this.showLogout = !1
                },
                goHome: function(n) {
                    if ("object" === (0,
                    dF._)(n.target.farthestViewportElement) || "创作服务平台" === n.target.innerHTML) {
                        var d, v = null === (d = this.userInfo) || void 0 === d ? void 0 : d.role;
                        if (!!v) {
                            var m = "creator" === v ? "/new/home" : "/mcn/home";
                            m !== window.location.pathname && this.$router.push({
                                path: m,
                                query: (0,
                                q.O6)()
                            })
                        }
                    }
                },
                confirmLogout: function() {
                    return (0,
                    V._)(function() {
                        return (0,
                        R.Jh)(this, function(n) {
                            switch (n.label) {
                            case 0:
                                return this.showLogout = !1,
                                [4, Cb.l3().catch(function(n) {
                                    console.log(n)
                                })];
                            case 1:
                                return n.sent(),
                                localStorage.removeItem("USER_INFO"),
                                localStorage.removeItem("USER_INFO_FOR_BIZ"),
                                window.location.href = "/login?selfLogout=true",
                                (0,
                                CT.t$)(),
                                [2]
                            }
                        })
                    }).apply(this)
                }
            }
        };
        let C_ = (0,
        eN.default)(CS, [["render", Layoutvue_type_template_id_63f95fcc_scoped_true_render], ["__scopeId", "data-v-63f95fcc"]]);
        var CV = v(91166)
          , CD = {
            class: "content"
        }
          , CB = {
            class: "image"
        }
          , CL = ["src"]
          , CP = {
            class: "infodetail"
        }
          , CO = {
            class: "header"
        }
          , CR = {
            class: "mcnname"
        }
          , CU = {
            class: "company"
        }
          , Cj = {
            key: 0,
            class: "audit-icon success-icon"
        }
          , CF = {
            key: 1,
            class: "audit-icon share-icon"
        }
          , Cz = {
            class: "num"
        }
          , CZ = {
            class: "num"
        }
          , CQ = {
            class: "border"
        }
          , CJ = {
            class: "num"
        }
          , CH = {
            class: "wan"
        }
          , CG = {
            key: 0,
            class: "cooperate-time"
        };
        function HomeTitlePanelvue_type_template_id_b8efe92e_scoped_true_ts_true_render(n, d, v, m, h, y) {
            var N;
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", CD, [(0,
            ec.createElementVNode)("div", CB, [(0,
            ec.createElementVNode)("img", {
                src: n.userInfo.userAvatar,
                class: "img",
                alt: ""
            }, null, 8, CL)]), (0,
            ec.createElementVNode)("div", CP, [(0,
            ec.createElementVNode)("p", CO, [(0,
            ec.createElementVNode)("span", CR, (0,
            ec.toDisplayString)(n.userInfo.userName), 1), (0,
            ec.createElementVNode)("span", CU, (0,
            ec.toDisplayString)(n.instituteName), 1), n.auditStatus ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("span", {
                key: 0,
                class: (0,
                ec.normalizeClass)({
                    audit: !0,
                    "audit-success": "success" === n.auditStatus,
                    "audit-ing": "ing" === n.auditStatus
                }),
                onClick: d[0] || (d[0] = function() {
                    for (var d = arguments.length, v = Array(d), m = 0; m < d; m++)
                        v[m] = arguments[m];
                    return n.handleAuditClick && (N = n).handleAuditClick.apply(N, (0,
                    ee._)(v))
                }
                )
            }, ["success" === n.auditStatus ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("span", Cj)) : (0,
            ec.createCommentVNode)("", !0), (0,
            ec.createTextVNode)(" " + (0,
            ec.toDisplayString)("success" === n.auditStatus ? "商业认证" : "") + " " + (0,
            ec.toDisplayString)("ing" === n.auditStatus ? "商业认证中" : "") + " " + (0,
            ec.toDisplayString)("not_start" === n.auditStatus ? "去商业认证" : "") + " ", 1), "success" !== n.auditStatus ? ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("span", CF)) : (0,
            ec.createCommentVNode)("", !0)], 2)) : (0,
            ec.createCommentVNode)("", !0)]), (0,
            ec.createElementVNode)("p", null, [(0,
            ec.createElementVNode)("span", null, [(0,
            ec.createElementVNode)("span", Cz, (0,
            ec.toDisplayString)(n.formatNum(n.signKolNum)), 1), d[1] || (d[1] = (0,
            ec.createTextVNode)(" 已签约博主 "))]), (0,
            ec.createElementVNode)("span", null, [(0,
            ec.createElementVNode)("span", CZ, (0,
            ec.toDisplayString)(n.formatNum(n.barndCoperNum)), 1), d[2] || (d[2] = (0,
            ec.createTextVNode)(" 内容合作 "))]), (0,
            ec.createElementVNode)("span", CQ, [(0,
            ec.createElementVNode)("span", CJ, [(0,
            ec.createTextVNode)((0,
            ec.toDisplayString)(n.getNumStatus(parseFloat(n.recommendPrice))) + " ", 1), (0,
            ec.withDirectives)((0,
            ec.createElementVNode)("span", CH, "万", 512), [[ec.vShow, n.judgeStatus]])]), d[3] || (d[3] = (0,
            ec.createTextVNode)(" 好物推荐金额 "))]), d[4] || (d[4] = (0,
            ec.createElementVNode)("span", {
                style: {
                    color: "##E8E8E8"
                }
            }, "|", -1)), (0,
            ec.createElementVNode)("span", null, "账号ID：" + (0,
            ec.toDisplayString)(n.userInfo.redId), 1)]), n.hideRenewTip ? (0,
            ec.createCommentVNode)("", !0) : ((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("p", CG, [(0,
            ec.createElementVNode)("span", null, "合作期限：" + (0,
            ec.toDisplayString)(n.startTime) + " - " + (0,
            ec.toDisplayString)(n.endTime), 1)]))])])
        }
        var fixNum = function(n) {
            var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
            return /\.?/.test("".concat(n)) ? (+(+n).toFixed(d)).toLocaleString() : n
        };
        function addDecimal(n) {
            return /\.\d{1,2}/.test("".concat(n)) || /,/.test("".concat(n)) ? n : +(+n).toFixed(2)
        }
        function getPlainNum(n) {
            return isNaN(n) ? "-" : n.toString().replace(/(\d)(?=(?:\d{3})+$)/g, "$1,")
        }
        function getWan(n) {
            var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
              , v = "".concat(n / 1e4);
            return v = addDecimal(v = fixNum(v, d)),
            "".concat(v)
        }
        function getBan(n) {
            var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
              , v = "".concat(n / 1e6);
            return v = addDecimal(v = fixNum(v, d)),
            "".concat(v)
        }
        function getK(n, d) {
            var v = "".concat(n / 1e3);
            return v = addDecimal(v = fixNum(v, d)),
            "".concat(v, "k")
        }
        function getTime(n) {
            var d = new Date(parseInt(n, 10))
              , v = d.getFullYear()
              , m = d.getMonth() + 1 < 10 ? "0".concat(d.getMonth() + 1) : d.getMonth() + 1
              , h = 10 > d.getDate() ? "0".concat(d.getDate()) : d.getDate();
            return "".concat(v, "-").concat(m, "-").concat(h)
        }
        var formatWanNumUnit = function(n) {
            var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1e8;
            if (n < 1e3)
                return getPlainNum(n);
            if (n < 1e4)
                return d >= 10 ? getK(n, 2) : getPlainNum(n);
            if (n < 1e8 || n >= 1e8)
                return d >= 100 ? getWan(n, 2) : d >= 10 ? getK(n, 2) : getPlainNum(n);
            return d >= 1e6 ? getBan(n, 2) : d >= 100 ? getWan(n, 2) : d >= 10 ? getK(n, 2) : getPlainNum(n)
        };
        function formatNum(n) {
            return n >= 1e6 ? formatWanNumUnit(n) : getPlainNum(n)
        }
        function judgeNum(n) {
            return !!(n >= 1e6) || !1
        }
        function dealNull(n) {
            return (console.log(n),
            null == n) ? "-" : formatNum(n)
        }
        var CY = (0,
        ec.computed)(function() {
            var n, d;
            return null === (d = hP.h.state) || void 0 === d ? void 0 : null === (n = d.user) || void 0 === n ? void 0 : n.userInfo
        })
          , CW = (0,
        ec.computed)(function() {
            var n, d;
            return (null === (d = hP.h.state) || void 0 === d ? void 0 : null === (n = d.mcn) || void 0 === n ? void 0 : n.mcnInfo.mcnRenewStatus) === 2
        })
          , Cq = {
            not_start: "1",
            ing: "2",
            success: "3"
        }
          , getAuditStatus = function(n) {
            var d = null;
            return 9 === n ? d = "success" : [1, 2, 3, 4].includes(n) ? d = "ing" : ([0, 10].includes(n) || !n) && (d = "not_start"),
            d
        }
          , CX = (0,
        ec.defineComponent)({
            name: "HomeTitle",
            components: {},
            setup: function(n, d) {
                var v = (0,
                ec.reactive)({
                    avatarUrl: "",
                    signKolNum: 0,
                    barndCoperNum: 0,
                    recommendPrice: "",
                    companyId: "",
                    instituteName: "",
                    endTime: "",
                    startTime: "",
                    judgeStatus: !1,
                    auditStatus: ""
                });
                function getInstitute() {
                    h5.q6({}).then(function(n) {
                        var d, m = n.instituteName, h = n.contactWeChatNo, y = n.endTime, N = n.startTime, k = n.mcnType, I = n.mcnAuditStatus;
                        if (n.mcnRenewStatus,
                        v.instituteName = m,
                        v.companyId = h,
                        v.endTime = getTime(y),
                        v.startTime = getTime(N),
                        1 === k) {
                            var C = getAuditStatus(I);
                            v.auditStatus = C,
                            C && (null === (d = window) || void 0 === d || d.eaglet.push(el.tracker["24745"]({
                                status: Cq[C]
                            })))
                        }
                    })
                }
                function getMcnInfo() {
                    h5.KL({}).then(function(n) {
                        var d = n.kolNum
                          , m = n.cooperNum
                          , h = n.cpsPrice;
                        v.signKolNum = d,
                        v.barndCoperNum = m,
                        v.recommendPrice = h
                    })
                }
                function getNumStatus(n) {
                    return n > 1e4 ? (v.judgeStatus = !0,
                    getWan(n, 2)) : (v.judgeStatus = !1,
                    getPlainNum(n))
                }
                return (0,
                ec.onMounted)(function() {
                    getInstitute(),
                    getMcnInfo()
                }),
                (0,
                O._)((0,
                B._)({}, (0,
                ec.toRefs)(v)), {
                    getTime: getTime,
                    formatNum: formatNum,
                    judgeNum: judgeNum,
                    getWan: getWan,
                    getPlainNum: getPlainNum,
                    getNumStatus: getNumStatus,
                    handleAuditClick: function() {
                        var n;
                        "not_start" === v.auditStatus && (window.open("https://partner.xiaohongshu.com/agent-entry", "_blank"),
                        null === (n = window) || void 0 === n || n.eaglet.push(el.tracker["24746"]({})))
                    },
                    onResetEntityConfirm: function() {
                        U.dJ.get("/api/galaxy/account/tip/clear", {
                            params: {
                                userId: CY.value.userId
                            }
                        })
                    },
                    userInfo: CY,
                    hideRenewTip: CW
                })
            }
        });
        let CK = (0,
        eN.default)(CX, [["render", HomeTitlePanelvue_type_template_id_b8efe92e_scoped_true_ts_true_render], ["__scopeId", "data-v-b8efe92e"]]);
        var C$ = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDEyIDE0Ij48cGF0aCBmaWxsPSIjRkZBRDMzIiBkPSJNMS4xNjYgNi43MzVDLjQxIDYuNzM1LjA1NSA1LjgxNi41OSA1LjNsNC4zNzUtNC4yMTZhMS40OSAxLjQ5IDAgMCAxIDIuMDcyIDBMMTEuNDEgNS4zYy41MzQuNTE1LjE3OSAxLjQzNC0uNTc3IDEuNDM0SDguNzA4djUuMDk4YzAgLjgyNi0uNjY2IDEuNS0xLjQ5NSAxLjVINC45MjZhMS41IDEuNSAwIDAgMS0xLjQ5NS0xLjVWNi43MzV6Ii8+PC9zdmc+"
          , C0 = {
            class: "content"
        }
          , C1 = {
            class: "title"
        }
          , C2 = {
            class: "detail"
        }
          , C4 = {
            class: "fansnum"
        }
          , C3 = {
            style: {
                display: "inline-block"
            }
        }
          , C5 = {
            class: "wan"
        }
          , C8 = {
            class: "fanstrend"
        }
          , C6 = {
            class: "addnum",
            style: {
                color: "#FFAD33"
            }
        }
          , C9 = {
            style: {
                color: "#FFAD33"
            },
            class: "wan"
        }
          , C7 = {
            class: "lossnum",
            style: {
                color: "#888888"
            }
        }
          , be = {
            class: "wan"
        }
          , bt = {
            class: "notenum"
        }
          , bn = {
            class: "num"
        }
          , ba = {
            class: "viedo"
        }
          , bo = {
            class: "wan"
        }
          , br = {
            class: "note"
        }
          , bi = {
            class: "wan"
        }
          , bl = {
            class: "num"
        }
          , bc = {
            class: "videopublish"
        }
          , bu = {
            class: "noteplubish"
        }
          , bs = {
            class: "brandnum"
        }
          , bd = {
            class: "num"
        }
          , bv = {
            class: "viedo"
        }
          , bm = {
            class: "wan"
        }
          , bf = {
            class: "note"
        }
          , bp = {
            class: "wan"
        }
          , bg = {
            class: "num"
        }
          , bh = {
            class: "viedo"
        };
        function DataOverRallvue_type_template_id_137c05b7_scoped_true_ts_true_render(n, d, v, m, h, y) {
            var N = (0,
            ec.resolveComponent)("Dropdown");
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", C0, [(0,
            ec.createElementVNode)("div", C1, [d[0] || (d[0] = (0,
            ec.createElementVNode)("span", null, "\xa0\xa0数据概览", -1)), (0,
            ec.createVNode)(N, {
                "btn-props": {
                    variant: "secondary"
                },
                options: n.options,
                label: n.dataLabel,
                class: "dropdown",
                style: {
                    float: "right",
                    "font-weight": "normal"
                },
                "onClick:option": n.handleTimeOption
            }, null, 8, ["options", "label", "onClick:option"])]), (0,
            ec.createElementVNode)("div", C2, [(0,
            ec.createElementVNode)("div", C4, [(0,
            ec.createElementVNode)("p", null, [d[1] || (d[1] = (0,
            ec.createElementVNode)("span", null, "总粉丝", -1)), (0,
            ec.createElementVNode)("span", C3, (0,
            ec.toDisplayString)(n.formatNum(n.fansNum)), 1), (0,
            ec.withDirectives)((0,
            ec.createElementVNode)("span", C5, "万", 512), [[ec.vShow, n.judgeNum(n.fansNum)]])]), (0,
            ec.createElementVNode)("div", C8, [(0,
            ec.createElementVNode)("p", null, [d[3] || (d[3] = (0,
            ec.createElementVNode)("span", {
                style: {
                    display: "block",
                    color: "#888"
                }
            }, "新增粉丝数", -1)), (0,
            ec.createElementVNode)("span", C6, [(0,
            ec.createTextVNode)((0,
            ec.toDisplayString)(n.formatNum(n.followNum)) + " ", 1), (0,
            ec.withDirectives)((0,
            ec.createElementVNode)("span", C9, "万", 512), [[ec.vShow, n.judgeNum(n.followNum)]]), d[2] || (d[2] = (0,
            ec.createElementVNode)("img", {
                src: C$,
                alt: ""
            }, null, -1))])]), (0,
            ec.createElementVNode)("p", null, [d[5] || (d[5] = (0,
            ec.createElementVNode)("span", {
                style: {
                    display: "block",
                    color: "#888"
                }
            }, "流失粉丝数", -1)), (0,
            ec.createElementVNode)("span", C7, [(0,
            ec.createTextVNode)((0,
            ec.toDisplayString)(n.formatNum(n.unFollowNum)) + " ", 1), (0,
            ec.withDirectives)((0,
            ec.createElementVNode)("span", be, "万", 512), [[ec.vShow, n.judgeNum(n.unFollowNum)]]), d[4] || (d[4] = (0,
            ec.createElementVNode)("img", {
                src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDEyIDE0Ij48cGF0aCBmaWxsPSIjQ0NDIiBkPSJNMS4xNjYgNy4yNjVDLjQxIDcuMjY1LjA1NSA4LjE4NC41OSA4LjdsNC4zNzUgNC4yMTZhMS40OSAxLjQ5IDAgMCAwIDIuMDcyIDBMMTEuNDEgOC43Yy41MzQtLjUxNS4xNzktMS40MzQtLjU3Ny0xLjQzNEg4LjcwOFYyLjE2N2MwLS44MjYtLjY2Ni0xLjUtMS40OTUtMS41SDQuOTI2Yy0uODMgMC0xLjQ5NS42NzQtMS40OTUgMS41djUuMDk4eiIvPjwvc3ZnPg==",
                alt: ""
            }, null, -1))])])])]), (0,
            ec.createElementVNode)("div", bt, [(0,
            ec.createElementVNode)("div", bn, [(0,
            ec.createElementVNode)("p", null, [d[6] || (d[6] = (0,
            ec.createElementVNode)("span", {
                style: {
                    display: "block",
                    color: "#888"
                }
            }, "视频笔记播放量", -1)), (0,
            ec.createElementVNode)("span", ba, [(0,
            ec.createTextVNode)((0,
            ec.toDisplayString)(n.formatNum(n.videoObj.readNum)) + " ", 1), (0,
            ec.withDirectives)((0,
            ec.createElementVNode)("span", bo, "万", 512), [[ec.vShow, n.judgeNum(n.videoObj.readNum)]])])]), (0,
            ec.createElementVNode)("p", null, [d[7] || (d[7] = (0,
            ec.createElementVNode)("span", {
                style: {
                    display: "block",
                    color: "#888"
                }
            }, "图文笔记阅读量", -1)), (0,
            ec.createElementVNode)("span", br, [(0,
            ec.createTextVNode)((0,
            ec.toDisplayString)(n.formatNum(n.pictureObj.readNum)) + " ", 1), (0,
            ec.withDirectives)((0,
            ec.createElementVNode)("span", bi, "万", 512), [[ec.vShow, n.judgeNum(n.pictureObj.readNum)]])])])]), (0,
            ec.createElementVNode)("div", bl, [(0,
            ec.createElementVNode)("p", null, [d[8] || (d[8] = (0,
            ec.createElementVNode)("span", {
                style: {
                    display: "block",
                    color: "#888"
                }
            }, "视频笔记发布量", -1)), (0,
            ec.createElementVNode)("span", bc, (0,
            ec.toDisplayString)(n.formatNum(n.videoObj.noteNum)), 1)]), (0,
            ec.createElementVNode)("p", null, [d[9] || (d[9] = (0,
            ec.createElementVNode)("span", {
                style: {
                    display: "block",
                    color: "#888"
                }
            }, "图文笔记发布量", -1)), (0,
            ec.createElementVNode)("span", bu, (0,
            ec.toDisplayString)(n.formatNum(n.pictureObj.noteNum)), 1)])])]), (0,
            ec.createElementVNode)("div", bs, [(0,
            ec.createElementVNode)("div", bd, [(0,
            ec.createElementVNode)("p", null, [d[11] || (d[11] = (0,
            ec.createElementVNode)("span", {
                style: {
                    display: "block",
                    color: "#888"
                }
            }, "内容合作金额", -1)), (0,
            ec.createElementVNode)("span", bv, [d[10] || (d[10] = (0,
            ec.createElementVNode)("span", {
                style: {
                    "font-size": "20px",
                    "margin-right": "8px"
                }
            }, "\xa5", -1)), (0,
            ec.createTextVNode)(" " + (0,
            ec.toDisplayString)(n.formatNum(parseFloat(n.cooperPrice))) + " ", 1), (0,
            ec.withDirectives)((0,
            ec.createElementVNode)("span", bm, "万", 512), [[ec.vShow, n.judgeNum(parseFloat(n.cooperPrice))]])])]), (0,
            ec.createElementVNode)("p", null, [d[13] || (d[13] = (0,
            ec.createElementVNode)("span", {
                style: {
                    display: "block",
                    color: "#888"
                }
            }, "好物推荐金额", -1)), (0,
            ec.createElementVNode)("span", bf, [d[12] || (d[12] = (0,
            ec.createElementVNode)("span", {
                style: {
                    "font-size": "20px",
                    "margin-right": "8px"
                }
            }, "\xa5", -1)), (0,
            ec.createTextVNode)(" " + (0,
            ec.toDisplayString)(n.formatNum(parseFloat(n.cpsPrice))) + " ", 1), (0,
            ec.withDirectives)((0,
            ec.createElementVNode)("span", bp, "万", 512), [[ec.vShow, n.judgeNum(parseFloat(n.cpsPrice))]])])])]), (0,
            ec.createElementVNode)("div", bg, [(0,
            ec.createElementVNode)("p", null, [d[14] || (d[14] = (0,
            ec.createElementVNode)("span", {
                style: {
                    display: "block",
                    color: "#888"
                }
            }, "内容合作单数", -1)), (0,
            ec.createElementVNode)("span", bh, (0,
            ec.toDisplayString)(n.formatNum(n.cooperNum)), 1)])])])])])
        }
        var by = v(27211)
          , bN = (0,
        ec.defineComponent)({
            name: "DataOverRall",
            components: {
                Dropdown: by.Z
            },
            props: {
                fansNum: {
                    type: Number,
                    default: function() {
                        return 0
                    }
                },
                followNum: {
                    type: Number,
                    default: function() {
                        return 0
                    }
                },
                unFollowNum: {
                    type: Number,
                    default: function() {
                        return 0
                    }
                },
                pictureObj: {
                    type: Object,
                    default: function() {
                        return {}
                    }
                },
                videoObj: {
                    type: Object,
                    default: function() {
                        return {}
                    }
                },
                cooperNum: {
                    type: Number,
                    default: function() {
                        return 0
                    }
                },
                cooperPrice: {
                    type: String,
                    default: function() {
                        return "0"
                    }
                },
                cpsPrice: {
                    type: String,
                    default: function() {
                        return "0"
                    }
                }
            },
            setup: function(n, d) {
                var v = d.emit
                  , m = (0,
                ec.reactive)({
                    options: [{
                        name: "昨日数据",
                        value: 1
                    }, {
                        name: "近7日数据",
                        value: 7
                    }, {
                        name: "近15日数据",
                        value: 15
                    }, {
                        name: "近30日数据",
                        value: 30
                    }],
                    dataLabel: "近7日数据"
                });
                function handleTimeOption(n, d) {
                    m.dataLabel = d.name,
                    v("clicked", d)
                }
                return (0,
                O._)((0,
                B._)({}, (0,
                ec.toRefs)(m)), {
                    handleTimeOption: handleTimeOption,
                    getWan: getWan,
                    getPlainNum: getPlainNum,
                    formatNum: formatNum,
                    judgeNum: judgeNum
                })
            }
        });
        let bk = (0,
        eN.default)(bN, [["render", DataOverRallvue_type_template_id_137c05b7_scoped_true_ts_true_render], ["__scopeId", "data-v-137c05b7"]]);
        var bI = v.p + "resource/svg/Empty.9ceaace3.svg"
          , bC = v(95388)
          , bb = {
            class: "detail"
        }
          , bE = {
            class: "num"
        }
          , bA = {
            class: "info"
        }
          , bw = {
            class: "image"
        }
          , bx = ["src"]
          , bT = {
            class: "nametag"
        }
          , bM = {
            class: "kolname",
            style: {
                "text-align": "left"
            }
        }
          , bS = {
            class: "tags"
        }
          , b_ = {
            key: 0,
            class: "fanstrend"
        }
          , bV = {
            class: "plainum"
        }
          , bD = {
            class: "wan"
        }
          , bB = {
            class: "plainum"
        }
          , bL = {
            class: "wan"
        }
          , bP = {
            key: 1,
            class: "fanstrend"
        }
          , bO = {
            style: {
                "font-size": "12px",
                color: "#666666",
                "font-weight": "normal"
            }
        }
          , bR = {
            class: "plainum"
        }
          , bU = {
            key: 0,
            class: "wan",
            style: {
                "margin-left": "0px"
            }
        }
          , bj = {
            class: "plainum"
        }
          , bF = {
            key: 0,
            class: "wan",
            style: {
                "margin-left": "0px"
            }
        }
          , bz = {
            key: 2,
            class: "fanstrend"
        }
          , bZ = {
            key: 0,
            class: "wan",
            style: {
                "margin-left": "0px",
                color: "#ffad33"
            }
        }
          , bQ = {
            class: "plainum"
        }
          , bJ = {
            key: 0,
            class: "wan",
            style: {
                "margin-left": "0px"
            }
        }
          , bH = {
            class: "plainum"
        }
          , bG = {
            key: 0,
            class: "wan",
            style: {
                "margin-left": "0px"
            }
        };
        function KolDetailPanelvue_type_template_id_7eba1568_scoped_true_ts_true_render(n, d, v, m, h, y) {
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", bb, [((0,
            ec.openBlock)(!0),
            (0,
            ec.createElementBlock)(ec.Fragment, null, (0,
            ec.renderList)(n.kolRankList, function(v, m) {
                return (0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", {
                    key: m,
                    class: "list"
                }, [(0,
                ec.createElementVNode)("div", bE, [(0,
                ec.createElementVNode)("span", null, (0,
                ec.toDisplayString)(m + (n.pageNumber - 1) * 10 + 1 >= 10 ? "".concat(m + (n.pageNumber - 1) * 10 + 1) : "0".concat(m + (n.pageNumber - 1) * 10 + 1)), 1)]), (0,
                ec.createElementVNode)("div", bA, [(0,
                ec.createElementVNode)("div", bw, [(0,
                ec.createElementVNode)("img", {
                    src: v.userAvatar,
                    class: "img",
                    alt: ""
                }, null, 8, bx)]), (0,
                ec.createElementVNode)("div", bT, [(0,
                ec.createElementVNode)("p", bM, [(0,
                ec.createElementVNode)("span", null, (0,
                ec.toDisplayString)(v.userName), 1)]), (0,
                ec.createElementVNode)("p", bS, [((0,
                ec.openBlock)(!0),
                (0,
                ec.createElementBlock)(ec.Fragment, null, (0,
                ec.renderList)(v.tags, function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("span", {
                        key: d,
                        class: "tag"
                    }, (0,
                    ec.toDisplayString)(n), 1)
                }), 128))])]), 0 === n.showType ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", b_, [(0,
                ec.createElementVNode)("div", null, [(0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, (0,
                ec.toDisplayString)(n.formatNum(v.followNum)), 1), d[0] || (d[0] = (0,
                ec.createElementVNode)("span", null, [(0,
                ec.createElementVNode)("img", {
                    src: C$
                })], -1))]), d[1] || (d[1] = (0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, "涨粉数")], -1))]), (0,
                ec.createElementVNode)("div", null, [(0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", bV, (0,
                ec.toDisplayString)(n.formatNum(v.fansNum)), 1), (0,
                ec.withDirectives)((0,
                ec.createElementVNode)("span", bD, "万", 512), [[ec.vShow, n.judgeNum(v.fansNum)]])]), d[2] || (d[2] = (0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, "总粉丝数")], -1))]), (0,
                ec.createElementVNode)("div", null, [(0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", bB, (0,
                ec.toDisplayString)(n.formatNum(v.activeFansNum, 2)), 1), (0,
                ec.withDirectives)((0,
                ec.createElementVNode)("span", bL, "万", 512), [[ec.vShow, n.judgeNum(v.activeFansNum)]])]), d[3] || (d[3] = (0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, "总活跃粉丝数")], -1))])])) : (0,
                ec.createCommentVNode)("", !0), 1 === n.showType ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", bP, [(0,
                ec.createElementVNode)("div", null, [(0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, (0,
                ec.toDisplayString)(n.formatNum(v.cooperNum)), 1), (0,
                ec.createElementVNode)("span", bO, " 含进行中" + (0,
                ec.toDisplayString)(n.formatNum(v.currentCooperNum)) + "单 ", 1)]), d[4] || (d[4] = (0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, "内容合作单数")], -1))]), (0,
                ec.createElementVNode)("div", null, [(0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", bR, "\xa5 " + (0,
                ec.toDisplayString)(n.dealNull(parseFloat(v.cooperPrice))), 1), n.judgeNum(parseFloat(v.cooperPrice)) ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("span", bU, "万")) : (0,
                ec.createCommentVNode)("", !0)]), d[5] || (d[5] = (0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, "内容合作金额")], -1))]), (0,
                ec.createElementVNode)("div", null, [(0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", bj, "\xa5 " + (0,
                ec.toDisplayString)(n.dealNull(parseFloat(v.l1mCooperPrice))), 1), n.judgeNum(parseFloat(v.cooperPrice)) ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("span", bF, "万")) : (0,
                ec.createCommentVNode)("", !0)]), d[6] || (d[6] = (0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, "上月结算金额")], -1))])])) : (0,
                ec.createCommentVNode)("", !0), 2 === n.showType ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", bz, [(0,
                ec.createElementVNode)("div", null, [(0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, "\xa5 " + (0,
                ec.toDisplayString)(n.dealNull(parseFloat(v.cpsPrice))), 1), n.judgeNum(parseFloat(v.cpsPrice)) ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("span", bZ, " 万 ")) : (0,
                ec.createCommentVNode)("", !0)]), d[7] || (d[7] = (0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, "好物推荐结算总金额")], -1))]), (0,
                ec.createElementVNode)("div", null, [(0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", bQ, "\xa5 " + (0,
                ec.toDisplayString)(n.dealNull(parseFloat(v.noteCpsPrice))), 1), n.judgeNum(parseFloat(v.noteCpsPrice)) ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("span", bJ, "万")) : (0,
                ec.createCommentVNode)("", !0)]), d[8] || (d[8] = (0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, "笔记带货结算金额")], -1))]), (0,
                ec.createElementVNode)("div", null, [(0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", bH, "\xa5 " + (0,
                ec.toDisplayString)(n.dealNull(parseFloat(v.liveCpsPrice))), 1), n.judgeNum(parseFloat(v.liveCpsPrice)) ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("span", bG, "万")) : (0,
                ec.createCommentVNode)("", !0)]), d[9] || (d[9] = (0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, "直播带货结算金额")], -1))])])) : (0,
                ec.createCommentVNode)("", !0)])])
            }), 128))])
        }
        var bY = (0,
        ec.defineComponent)({
            name: "KolDetailPanel",
            components: {},
            props: {
                showType: {
                    type: Number,
                    default: function() {
                        return 0
                    }
                },
                kolRankList: {
                    type: Array,
                    default: function() {
                        return []
                    }
                },
                pageNumber: {
                    type: Number,
                    default: function() {
                        return 0
                    }
                }
            },
            setup: function() {
                var n = (0,
                ec.reactive)({
                    tagsList: []
                });
                return (0,
                O._)((0,
                B._)({}, (0,
                ec.toRefs)(n)), {
                    formatNum: formatNum,
                    judgeNum: judgeNum,
                    dealNull: dealNull
                })
            }
        });
        let bW = (0,
        eN.default)(bY, [["render", KolDetailPanelvue_type_template_id_7eba1568_scoped_true_ts_true_render], ["__scopeId", "data-v-7eba1568"]]);
        var bq = {
            class: "content"
        }
          , bX = {
            class: "bottonselect"
        }
          , bK = {
            class: "selection"
        }
          , b$ = {
            key: 1,
            src: bI,
            class: "empty",
            alt: ""
        }
          , b0 = (0,
        ec.defineComponent)({
            __name: "KolRank",
            props: {
                searchTimeValue: {
                    type: Number,
                    default: 7
                }
            },
            setup: function(n) {
                var d = (0,
                ec.ref)([{
                    name: "涨粉能力排名",
                    value: "follow_num"
                }, {
                    name: "内容合作排名",
                    value: "cooper_num"
                }, {
                    name: "好物推荐排名",
                    value: "cps_price"
                }])
                  , v = (0,
                ec.ref)([{
                    name: "TOP 1-10",
                    value: 10
                }, {
                    name: "TOP 11-20",
                    value: 20
                }, {
                    name: "TOP 21-30",
                    value: 30
                }, {
                    name: "TOP 31-40",
                    value: 40
                }, {
                    name: "TOP 41-50",
                    value: 50
                }])
                  , m = (0,
                ec.ref)("TOP 1-10")
                  , h = (0,
                ec.ref)("follow_num")
                  , y = (0,
                ec.ref)(10)
                  , N = (0,
                ec.ref)(1)
                  , k = (0,
                ec.ref)(0)
                  , I = (0,
                ec.ref)(0)
                  , C = (0,
                ec.ref)([])
                  , x = (0,
                ec.ref)({
                    "text-align": "center"
                });
                (0,
                ec.ref)("follow_num");
                var optionShow = function() {
                    var n = Math.ceil(k.value / 10);
                    v.value = v.value.slice(0, n)
                }
                  , getQueryKolRank = function() {
                    h5.$K({
                        params: {
                            rankField: h.value,
                            time: n.searchTimeValue,
                            pageNum: N.value,
                            pageSize: y.value
                        }
                    }).then(function(n) {
                        C.value = n.kols,
                        k.value = n.total,
                        optionShow()
                    })
                }
                  , handleNoteChange = function(n) {
                    var v = d.value.findIndex(function(d) {
                        return d.value === n
                    });
                    I.value = v,
                    h.value = n,
                    getQueryKolRank()
                }
                  , handleTimeOption = function(n, d) {
                    m.value = d.name,
                    N.value = d.value,
                    getQueryKolRank()
                };
                return (0,
                ec.watch)(function() {
                    return n.searchTimeValue
                }, function() {
                    getQueryKolRank()
                }),
                (0,
                ec.onMounted)(function() {
                    getQueryKolRank()
                }),
                function(n, y) {
                    var M = (0,
                    ec.resolveComponent)("Dropdown");
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", bq, [(0,
                    ec.createElementVNode)("div", bX, [(0,
                    ec.createVNode)((0,
                    ec.unref)(bC.KD), {
                        modelValue: h.value,
                        "onUpdate:modelValue": y[0] || (y[0] = function(n) {
                            return h.value = n
                        }
                        ),
                        onChange: handleNoteChange
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(d.value, function(n) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createBlock)((0,
                                ec.unref)(bC.dn), {
                                    key: n.value,
                                    value: n.value
                                }, {
                                    default: (0,
                                    ec.withCtx)(function() {
                                        return [(0,
                                        ec.createTextVNode)((0,
                                        ec.toDisplayString)(n.name), 1)]
                                    }),
                                    _: 2
                                }, 1032, ["value"])
                            }), 128))]
                        }),
                        _: 1
                    }, 8, ["modelValue"])]), (0,
                    ec.createElementVNode)("div", bK, [(0,
                    ec.withDirectives)((0,
                    ec.createVNode)(M, {
                        "btn-props": {
                            variant: "secondary"
                        },
                        options: v.value,
                        "handle-click": handleTimeOption,
                        label: m.value
                    }, null, 8, ["options", "label"]), [[ec.vShow, k.value > 0]])]), (0,
                    ec.createElementVNode)("div", {
                        style: (0,
                        ec.normalizeStyle)(C.value.length > 0 ? "" : x.value),
                        class: "mainlist"
                    }, [C.value.length > 0 ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(bW, {
                        key: 0,
                        "show-type": I.value,
                        "kol-rank-list": C.value,
                        "page-number": N.value
                    }, null, 8, ["show-type", "kol-rank-list", "page-number"])) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("img", b$))], 4)])
                }
            }
        });
        let b1 = (0,
        eN.default)(b0, [["__scopeId", "data-v-9f027b52"]]);
        var b2 = v.p + "resource/svg/Frame.4f4e75e0.svg"
          , b4 = {
            class: "detail"
        }
          , b3 = {
            class: "num"
        }
          , b5 = {
            class: "info"
        }
          , b8 = {
            class: "image"
        }
          , b6 = ["href"]
          , b9 = ["src"]
          , b7 = {
            src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNyIgaGVpZ2h0PSIxOCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDE3IDE4Ij48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04IDE2QTggOCAwIDEgMCA4IDBhOCA4IDAgMCAwIDAgMTYiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxnIGZpbHRlcj0idXJsKCNhKSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTYuMDUgNS40NjRjMC0uMTE4LjAzMS0uMjM0LjA5LS4zMzguMTk4LS4zNDguNjU3LS40NzggMS4wMjUtLjI5bDMuOTg3IDIuNTM1YS42OTQuNjk0IDAgMCAxIDAgMS4yNThsLTMuOTg3IDIuNTM2YS44LjggMCAwIDEtLjM1OS4wODVjLS40MTcgMC0uNzU2LS4zMi0uNzU2LS43MTR6Ii8+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImEiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgeD0iLS4yIiB5PSIwIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiLz48ZmVPZmZzZXQgZHk9IjEiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyLjUiLz48ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMiAwIi8+PGZlQmxlbmQgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PC9kZWZzPjwvc3ZnPg==",
            style: {
                cursor: "pointer"
            },
            class: "play"
        }
          , Ee = {
            class: "nametag"
        }
          , Et = {
            class: "kolname"
        }
          , En = ["href"]
          , Ea = {
            class: "avatar"
        }
          , Eo = ["src"]
          , Er = {
            class: "name"
        }
          , Ei = {
            key: 0,
            class: "fanstrend"
        }
          , El = {
            key: 0
        }
          , Ec = {
            class: "wan"
        }
          , Eu = {
            key: 1
        }
          , Es = {
            class: "wan"
        }
          , Ed = {
            key: 0
        }
          , Ev = {
            key: 1
        }
          , Em = {
            class: "plainum"
        }
          , Ef = {
            class: "plainum"
        }
          , Ep = {
            key: 1,
            class: "fanstrend"
        }
          , Eg = {
            class: "plainum",
            style: {
                color: "#FFAD33"
            }
        }
          , Eh = {
            key: 0
        }
          , Ey = {
            style: {
                color: "#666666"
            }
        }
          , EN = {
            class: "wan"
        }
          , Ek = {
            key: 1
        }
          , EI = {
            style: {
                color: "#666666"
            }
        }
          , EC = {
            style: {
                color: "#666666"
            },
            class: "wan"
        }
          , Eb = {
            key: 0
        }
          , EE = {
            key: 1
        }
          , EA = {
            class: "plainum"
        };
        function NoteDetailPanelvue_type_template_id_a703f3da_scoped_true_ts_true_render(n, d, v, m, h, y) {
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", b4, [((0,
            ec.openBlock)(!0),
            (0,
            ec.createElementBlock)(ec.Fragment, null, (0,
            ec.renderList)(n.noteRankList, function(v, m) {
                return (0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", {
                    key: m,
                    class: "list"
                }, [(0,
                ec.createElementVNode)("div", b3, [(0,
                ec.createElementVNode)("span", null, (0,
                ec.toDisplayString)(m + (n.pageNumber - 1) * 10 + 1 >= 10 ? "".concat(m + (n.pageNumber - 1) * 10 + 1) : "0".concat(m + (n.pageNumber - 1) * 10 + 1)), 1)]), (0,
                ec.createElementVNode)("div", b5, [(0,
                ec.createElementVNode)("div", b8, [(0,
                ec.createElementVNode)("a", {
                    href: n.generateNoteDetailPage(v),
                    target: "_blank"
                }, [(0,
                ec.createElementVNode)("img", {
                    src: v.noteCover,
                    class: "img",
                    alt: ""
                }, null, 8, b9)], 8, b6), (0,
                ec.withDirectives)((0,
                ec.createElementVNode)("img", b7, null, 512), [[ec.vShow, 2 === v.noteType]])]), (0,
                ec.createElementVNode)("div", Ee, [(0,
                ec.createElementVNode)("p", Et, [(0,
                ec.createElementVNode)("a", {
                    href: n.generateNoteDetailPage(v),
                    target: "_blank"
                }, [(0,
                ec.createElementVNode)("span", null, (0,
                ec.toDisplayString)(v.noteDesc), 1)], 8, En)]), (0,
                ec.createElementVNode)("p", Ea, [(0,
                ec.createElementVNode)("span", null, [(0,
                ec.createElementVNode)("img", {
                    src: v.userAvatar,
                    class: "img",
                    alt: ""
                }, null, 8, Eo)]), (0,
                ec.createElementVNode)("span", Er, (0,
                ec.toDisplayString)(v.userName), 1)])]), 0 === n.showType ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", Ei, [(0,
                ec.createElementVNode)("div", null, [2 === v.noteType ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("p", El, [(0,
                ec.createElementVNode)("span", null, (0,
                ec.toDisplayString)(n.formatNum(v.videoViews)), 1), (0,
                ec.withDirectives)((0,
                ec.createElementVNode)("span", Ec, "万", 512), [[ec.vShow, n.judgeNum(v.videoViews)]])])) : ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("p", Eu, [(0,
                ec.createElementVNode)("span", null, (0,
                ec.toDisplayString)(n.formatNum(v.readNum)), 1), (0,
                ec.withDirectives)((0,
                ec.createElementVNode)("span", Es, "万", 512), [[ec.vShow, n.judgeNum(v.readNum)]])])), (0,
                ec.createElementVNode)("p", null, [2 === v.noteType ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("span", Ed, "播放数")) : ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("span", Ev, "阅读数"))])]), (0,
                ec.createElementVNode)("div", null, [(0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", Em, (0,
                ec.toDisplayString)("".concat((100 * v.finishRate).toFixed(0), "%")), 1)]), d[0] || (d[0] = (0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, "完播率")], -1))]), (0,
                ec.createElementVNode)("div", null, [(0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", Ef, (0,
                ec.toDisplayString)(n.formatNum(v.followNum)), 1)]), d[1] || (d[1] = (0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, "涨粉数")], -1))])])) : ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", Ep, [(0,
                ec.createElementVNode)("div", null, [(0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", Eg, (0,
                ec.toDisplayString)(n.formatNum(v.followNum)), 1), d[2] || (d[2] = (0,
                ec.createElementVNode)("span", null, [(0,
                ec.createElementVNode)("img", {
                    src: C$
                })], -1))]), d[3] || (d[3] = (0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, "涨粉数")], -1))]), (0,
                ec.createElementVNode)("div", null, [2 === v.noteType ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("p", Eh, [(0,
                ec.createElementVNode)("span", Ey, (0,
                ec.toDisplayString)(n.formatNum(v.videoViews)), 1), (0,
                ec.withDirectives)((0,
                ec.createElementVNode)("span", EN, "万", 512), [[ec.vShow, n.judgeNum(v.videoViews)]])])) : ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("p", Ek, [(0,
                ec.createElementVNode)("span", EI, (0,
                ec.toDisplayString)(n.formatNum(v.readNum)), 1), (0,
                ec.withDirectives)((0,
                ec.createElementVNode)("span", EC, "万", 512), [[ec.vShow, n.judgeNum(v.readNum)]])])), (0,
                ec.createElementVNode)("p", null, [2 === v.noteType ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("span", Eb, "播放量")) : ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("span", EE, "阅读量"))])]), (0,
                ec.createElementVNode)("div", null, [(0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", EA, (0,
                ec.toDisplayString)("".concat((100 * v.finishRate).toFixed(0), "%")), 1)]), d[4] || (d[4] = (0,
                ec.createElementVNode)("p", null, [(0,
                ec.createElementVNode)("span", null, "完播率")], -1))])]))])])
            }), 128))])
        }
        var generateNoteDetailPage = function(n) {
            var d = n.noteId
              , v = n.xsecSource
              , m = n.xsecToken
              , h = new URL(window.location.host.match(/\.sit\.xiaohongshu\.com$/) ? "http://www.sit.xiaohongshu.com" : window.location.host.match(/\.beta\.xiaohongshu\.com$/) ? "https://www.beta.xiaohongshu.com" : "https://www.xiaohongshu.com");
            return h.pathname = "/explore/".concat(d),
            v && h.searchParams.append("xsec_source", v),
            m && h.searchParams.append("xsec_token", m),
            h.toString()
        }
          , Ew = (0,
        ec.defineComponent)({
            name: "NoteDetailPanel",
            components: {},
            props: {
                showType: {
                    type: Number,
                    default: function() {
                        return 0
                    }
                },
                noteRankList: {
                    type: Array,
                    default: function() {
                        return []
                    }
                },
                pageNumber: {
                    type: Number,
                    default: function() {
                        return 0
                    }
                }
            },
            setup: function() {
                var n = (0,
                ec.reactive)({
                    tagsList: ["美食", "美妆"]
                });
                return (0,
                O._)((0,
                B._)({}, (0,
                ec.toRefs)(n)), {
                    formatNum: formatNum,
                    judgeNum: judgeNum,
                    generateNoteDetailPage: generateNoteDetailPage
                })
            }
        });
        let Ex = (0,
        eN.default)(Ew, [["render", NoteDetailPanelvue_type_template_id_a703f3da_scoped_true_ts_true_render], ["__scopeId", "data-v-a703f3da"]]);
        var ET = {
            class: "content"
        }
          , EM = {
            class: "bottonselect"
        }
          , ES = {
            class: "selection"
        }
          , E_ = {
            key: 1,
            src: b2,
            class: "empty",
            alt: ""
        }
          , EV = (0,
        ec.defineComponent)({
            __name: "NoteRank",
            props: {
                searchTimeValue: {
                    type: Number,
                    default: 7
                }
            },
            setup: function(n) {
                var d = (0,
                ec.ref)([{
                    name: "笔记播放/阅读排名",
                    value: "read_num"
                }, {
                    name: "笔记涨粉能力排名",
                    value: "follow_num"
                }])
                  , v = (0,
                ec.ref)([{
                    name: "TOP 1-10",
                    value: 1
                }, {
                    name: "TOP 11-20",
                    value: 2
                }, {
                    name: "TOP 21-30",
                    value: 3
                }, {
                    name: "TOP 31-40",
                    value: 4
                }, {
                    name: "TOP 41-50",
                    value: 5
                }])
                  , m = (0,
                ec.ref)("TOP 1-10")
                  , h = (0,
                ec.ref)(0)
                  , y = (0,
                ec.ref)(10)
                  , N = (0,
                ec.ref)(1)
                  , k = (0,
                ec.ref)(0)
                  , I = (0,
                ec.ref)("read_num")
                  , C = (0,
                ec.ref)([])
                  , x = {
                    "text-align": "center"
                }
                  , optionShow = function() {
                    var n = Math.ceil(k.value / 10);
                    v.value = v.value.slice(0, n)
                }
                  , getNoteRankList = function() {
                    h5.I2({
                        params: {
                            rankField: I.value,
                            time: n.searchTimeValue,
                            pageNum: N.value,
                            pageSize: y.value
                        }
                    }).then(function(n) {
                        C.value = n.notes,
                        k.value = n.total,
                        optionShow()
                    })
                }
                  , handleNoteChange = function(n) {
                    var v = d.value.findIndex(function(d) {
                        return d.value === n
                    });
                    h.value = v,
                    I.value = n,
                    getNoteRankList()
                }
                  , handleTimeOption = function(n, d) {
                    m.value = d.name,
                    N.value = d.value,
                    getNoteRankList()
                };
                return (0,
                ec.onMounted)(function() {
                    getNoteRankList()
                }),
                (0,
                ec.watch)(function() {
                    return n.searchTimeValue
                }, function() {
                    getNoteRankList()
                }),
                function(n, y) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", ET, [(0,
                    ec.createElementVNode)("div", EM, [(0,
                    ec.createVNode)((0,
                    ec.unref)(bC.KD), {
                        modelValue: I.value,
                        "onUpdate:modelValue": y[0] || (y[0] = function(n) {
                            return I.value = n
                        }
                        ),
                        onChange: handleNoteChange
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(d.value, function(n) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createBlock)((0,
                                ec.unref)(bC.dn), {
                                    key: n.value,
                                    value: n.value
                                }, {
                                    default: (0,
                                    ec.withCtx)(function() {
                                        return [(0,
                                        ec.createTextVNode)((0,
                                        ec.toDisplayString)(n.name), 1)]
                                    }),
                                    _: 2
                                }, 1032, ["value"])
                            }), 128))]
                        }),
                        _: 1
                    }, 8, ["modelValue"])]), (0,
                    ec.createElementVNode)("div", ES, [(0,
                    ec.createVNode)((0,
                    ec.unref)(by.Z), {
                        "btn-props": {
                            variant: "secondary"
                        },
                        options: v.value,
                        label: m.value,
                        class: "dropdown",
                        "onClick:option": handleTimeOption
                    }, null, 8, ["options", "label"])]), (0,
                    ec.createElementVNode)("div", {
                        style: (0,
                        ec.normalizeStyle)(C.value.length > 0 ? "" : x),
                        class: "mainlist"
                    }, [C.value.length > 0 ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(Ex, {
                        key: 0,
                        "note-rank-list": C.value,
                        "show-type": h.value,
                        "page-number": N.value
                    }, null, 8, ["note-rank-list", "show-type", "page-number"])) : ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("img", E_))], 4)])
                }
            }
        });
        let ED = (0,
        eN.default)(EV, [["__scopeId", "data-v-37eef16f"]]);
        var EB = {
            class: "dialog-footer"
        }
          , EL = (0,
        ec.defineComponent)({
            __name: "RenewGuideModal",
            props: {
                show: {
                    type: Boolean
                }
            },
            emits: ["submit", "close", "reject"],
            setup: function(n, d) {
                var v, m = d.emit, h = (0,
                ec.computed)(function() {
                    return n.show
                }), y = "cancel", onModalClose = function() {
                    "reject" !== y && (mcnRenewFeedback({
                        type: 1
                    }),
                    m("close"))
                }, onRejectClick = function() {
                    y = "reject",
                    mcnRenewFeedback({
                        type: 2
                    }),
                    m("reject")
                };
                var N = (v = (0,
                V._)(function() {
                    return (0,
                    R.Jh)(this, function(n) {
                        return m("submit"),
                        [2]
                    })
                }),
                function goOrderMcn() {
                    return v.apply(this, arguments)
                }
                );
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(IZ.d0), {
                        modelValue: h.value,
                        "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                            return h.value = n
                        }
                        ),
                        width: "500",
                        overflow: "",
                        onClose: d[1] || (d[1] = function(n) {
                            return onModalClose("cancel")
                        }
                        )
                    }, {
                        title: (0,
                        ec.withCtx)(function() {
                            return d[2] || (d[2] = [(0,
                            ec.createElementVNode)("span", {
                                class: "modal-title"
                            }, [(0,
                            ec.createElementVNode)("img", {
                                class: "title-icon",
                                src: "https://picasso-static.xiaohongshu.com/fe-platform/0ec37317767518b81ab0b692094427b72aedf04e.png"
                            }), (0,
                            ec.createTextVNode)(" 平台协议更新 ")], -1)])
                        }),
                        footer: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", EB, [(0,
                            ec.createVNode)((0,
                            ec.unref)(kv.Z), {
                                class: "footer-cancel",
                                onClick: onRejectClick
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[3] || (d[3] = [(0,
                                    ec.createTextVNode)("拒绝签署")])
                                }),
                                _: 1
                            }), (0,
                            ec.createVNode)((0,
                            ec.unref)(kv.Z), {
                                type: "primary",
                                onClick: N
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return d[4] || (d[4] = [(0,
                                    ec.createTextVNode)(" 去签订协议 ")])
                                }),
                                _: 1
                            })])]
                        }),
                        default: (0,
                        ec.withCtx)(function() {
                            return [d[5] || (d[5] = (0,
                            ec.createElementVNode)("span", {
                                class: "font-normal"
                            }, [(0,
                            ec.createTextVNode)(" 为优化合作签约流程，小红书创作者服务平台启动MCN机构无固定期限合作计划。 "), (0,
                            ec.createElementVNode)("span", {
                                class: "font-black"
                            }, [(0,
                            ec.createTextVNode)(" 平台拟对与您订立的《小红书MCN机构合作协议》（下称“协议”）第2条“合作期间”条款由原定的固定结束日期调整为“自起始日起生效，并将持续有效，直至双方通过书面协议决定终止或依据本合同约定的终止条款终止”；（ "), (0,
                            ec.createElementVNode)("span", {
                                class: "font-red"
                            }, " 注：您与达人的签约时长不受该调整影响 "), (0,
                            ec.createTextVNode)(" ） ")]), (0,
                            ec.createTextVNode)(" 合作期间，平台将每年进行资质复审，对不符合小红书MCN入驻要求的机构予以清退处理。 "), (0,
                            ec.createElementVNode)("br"), (0,
                            ec.createElementVNode)("br"), (0,
                            ec.createTextVNode)(" 如您同意并确认接受协议变更的，请于 "), (0,
                            ec.createElementVNode)("span", {
                                class: "font-black"
                            }, "2024年12月15日"), (0,
                            ec.createTextVNode)(" 前完成协议签署，签署后系统将自动更新调整后的合作期限；若您点击「拒绝签署」或逾期未操作的，平台与您的合作期限将维持不变，后续再次入驻不受影响。 ")], -1))]
                        }),
                        _: 1
                    }, 8, ["modelValue"])
                }
            }
        });
        let EP = (0,
        eN.default)(EL, [["__scopeId", "data-v-387254bd"]]);
        var EO = {
            class: "container"
        }
          , ER = (0,
        ec.defineComponent)({
            __name: "RenewGuideBanner",
            emits: ["click"],
            setup: function(n, d) {
                var v = d.emit
                  , detailClick = function() {
                    v("click")
                };
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", EO, [d[0] || (d[0] = (0,
                    ec.createElementVNode)("img", {
                        class: "banner-icon",
                        src: "https://picasso-static.xiaohongshu.com/fe-platform/0ec37317767518b81ab0b692094427b72aedf04e.png"
                    }, null, -1)), d[1] || (d[1] = (0,
                    ec.createElementVNode)("span", {
                        class: "banner-text"
                    }, " 小红书创作者服务平台将启动MCN机构无固定期限合作计划，请于2024年12月15日前处理。 ", -1)), (0,
                    ec.createElementVNode)("span", {
                        class: "banner-detail",
                        onClick: detailClick
                    }, "查看详情")])
                }
            }
        });
        let EU = (0,
        eN.default)(ER, [["__scopeId", "data-v-06fb9b3c"]]);
        v(61047);
        var Ej = v(33402)
          , EF = {
            class: "swiper-item-container"
        }
          , Ez = ["src"]
          , EZ = ["src"]
          , EQ = (0,
        ec.defineComponent)({
            __name: "ActivityBanner",
            setup: function(n) {
                var d = (0,
                ec.ref)([])
                  , v = (0,
                ec.ref)(!0)
                  , m = (0,
                ec.ref)(0)
                  , h = {}
                  , y = null
                  , reportItemShow = function(n) {
                    var v, m, y, N, k, I = d.value[n];
                    console.log("=============>report item show", n, I.activityId, h),
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || v.push(el.tracker["76903"]({
                        componentId: I.activityId,
                        bannerId: I.activityId
                    })),
                    null === (k = window) || void 0 === k || null === (N = k.eaglet) || void 0 === N || null === (y = N.push) || void 0 === y || y.call(N, {
                        measurement_name: "sns_web_mcn_banner_show",
                        measurement_data: {
                            component_id: I.activityId
                        }
                    }, "ApmXrayTracker")
                }
                  , reportItemClick = function(n) {
                    var v, m, h, y, N, k = d.value[n];
                    console.log("=============>report item click", n, k.activityId),
                    null === (m = window) || void 0 === m || null === (v = m.eaglet) || void 0 === v || v.push(el.tracker["76904"]({
                        componentId: k.activityId,
                        bannerId: k.activityId
                    })),
                    null === (N = window) || void 0 === N || null === (y = N.eaglet) || void 0 === y || null === (h = y.push) || void 0 === h || h.call(y, {
                        measurement_name: "sns_web_mcn_banner_click",
                        measurement_data: {
                            component_id: k.activityId
                        }
                    }, "ApmXrayTracker")
                }
                  , onClick = function(n) {
                    var v = d.value[n];
                    reportItemClick(n),
                    window.open(v.url)
                }
                  , checkAvailable = function(n) {
                    var d = new Date().getTime()
                      , v = new Date(n.startTime).getTime()
                      , m = new Date(n.endTime).getTime();
                    return d >= v && d <= m
                }
                  , resizeListener = function() {
                    y && clearTimeout(y),
                    v.value = !1,
                    y = setTimeout(function() {
                        v.value = !0
                    }, 3e3)
                }
                  , onChange = function(n) {
                    !h[n] && (h[n] = !0,
                    reportItemShow(n))
                };
                return (0,
                ec.onBeforeUnmount)(function() {
                    window.removeEventListener("resize", resizeListener),
                    h = {}
                }),
                (0,
                ec.onMounted)(function() {
                    window.addEventListener("resize", resizeListener),
                    console.log("=============>onMounted", h),
                    U.dJ.get("https://edith.xiaohongshu.com/api/sns/v1/activity_platform/config/query_config?material_id=480&module_id=543").then(function(n) {
                        var v = n.filter(function(n) {
                            return checkAvailable(n)
                        }).reverse();
                        d.value = v;
                        var h = Math.floor(Math.random() * (v.length - 1));
                        !(h < 0) && (m.value = h,
                        console.log("===========>report first", h),
                        onChange(h))
                    })
                }),
                function(n, h) {
                    var y, N;
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)(ec.Fragment, null, [d.value.length && d.value.length > 1 ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(Ej.$J), {
                        key: 0,
                        height: "128px",
                        direction: "horizontal",
                        trigger: "click",
                        "initial-index": m.value,
                        autoplay: v.value,
                        style: {
                            "margin-bottom": "20px"
                        },
                        onChange: onChange
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [((0,
                            ec.openBlock)(!0),
                            (0,
                            ec.createElementBlock)(ec.Fragment, null, (0,
                            ec.renderList)(d.value, function(n, d) {
                                return (0,
                                ec.openBlock)(),
                                (0,
                                ec.createBlock)((0,
                                ec.unref)(Ej.B6), {
                                    key: d,
                                    onClick: function(n) {
                                        return onClick(d)
                                    }
                                }, {
                                    default: (0,
                                    ec.withCtx)(function() {
                                        var d;
                                        return [(0,
                                        ec.createElementVNode)("div", EF, [(0,
                                        ec.createElementVNode)("img", {
                                            class: "banner-img",
                                            src: null == n ? void 0 : null === (d = n.image) || void 0 === d ? void 0 : d.url
                                        }, null, 8, Ez)])]
                                    }),
                                    _: 2
                                }, 1032, ["onClick"])
                            }), 128))]
                        }),
                        _: 1
                    }, 8, ["initial-index", "autoplay"])) : (0,
                    ec.createCommentVNode)("", !0), 1 === d.value.length ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", {
                        key: 1,
                        class: "single-item-container",
                        onClick: h[0] || (h[0] = function(n) {
                            return onClick(0)
                        }
                        )
                    }, [(0,
                    ec.createElementVNode)("img", {
                        class: "single-item",
                        src: null === (N = d.value[0]) || void 0 === N ? void 0 : null === (y = N.image) || void 0 === y ? void 0 : y.url
                    }, null, 8, EZ)])) : (0,
                    ec.createCommentVNode)("", !0)], 64)
                }
            }
        });
        let EJ = (0,
        eN.default)(EQ, [["__scopeId", "data-v-72c46231"]]);
        var EH = {
            class: "child-container"
        }
          , EG = {
            class: "mcn-detail"
        }
          , EY = {
            class: "mcn-data"
        }
          , EW = {
            class: "tablist"
        }
          , Eq = (0,
        ec.defineComponent)({
            __name: "Main",
            setup: function(n) {
                var d, v, m = (0,
                eu.tv)(), h = (0,
                ec.computed)(function() {
                    var n, d, v, m;
                    return (null === (d = hP.h.state) || void 0 === d ? void 0 : null === (n = d.mcn) || void 0 === n ? void 0 : n.showRenewModal) && (null === (m = hP.h.state) || void 0 === m ? void 0 : null === (v = m.mcn) || void 0 === v ? void 0 : v.mcnInfo.mcnRenewStatus) === 1
                }), y = (0,
                ec.computed)(function() {
                    var n, d, v, m;
                    return !(null === (d = hP.h.state) || void 0 === d ? void 0 : null === (n = d.mcn) || void 0 === n ? void 0 : n.showRenewModal) && (null === (m = hP.h.state) || void 0 === m ? void 0 : null === (v = m.mcn) || void 0 === v ? void 0 : v.mcnInfo.mcnRenewStatus) === 1
                }), N = (0,
                ec.computed)(function() {
                    var n, d;
                    return (null === (d = hP.h.state) || void 0 === d ? void 0 : null === (n = d.mcn) || void 0 === n ? void 0 : n.mcnInfo.mcnType) === 1
                }), k = (0,
                ec.ref)(0), I = (0,
                ec.ref)(0), C = (0,
                ec.ref)(0), x = (0,
                ec.ref)(0), M = (0,
                ec.ref)(""), S = (0,
                ec.ref)(""), _ = (0,
                ec.ref)({}), B = (0,
                ec.ref)({}), O = (0,
                ec.ref)(7), z = (0,
                ec.ref)("kolRank"), Z = (0,
                ec.ref)([{
                    name: "kolRank",
                    label: "博主排名"
                }, {
                    name: "noteRank",
                    label: "笔记排名"
                }]), getMcnData = function() {
                    h5.y7({
                        params: {
                            time: O.value
                        }
                    }).then(function(n) {
                        k.value = n.fansNum,
                        I.value = n.followNum,
                        C.value = n.unFollowNum,
                        _.value = n.picture || {},
                        B.value = n.video || {},
                        x.value = n.cooperNum,
                        S.value = n.cooperPrice,
                        M.value = n.cpsPrice
                    })
                }, getInfo = function(n) {
                    console.log("Main", n),
                    O.value = n.value
                }, onBannerDetailClick = function() {
                    hP.h.dispatch("updateRenewModal", !0)
                }, onRenewModalClose = function() {
                    hP.h.dispatch("updateRenewModal", !1)
                }, onRenewModalReject = function() {
                    hP.h.dispatch("updateRenewModal", !1)
                }, onRenewFinish = function() {
                    m.push("/new-mcn/renew?unlimited=true")
                };
                var Q = (d = (0,
                V._)(function() {
                    var n;
                    return (0,
                    R.Jh)(this, function(d) {
                        switch (d.label) {
                        case 0:
                            return [4, h5.q6()];
                        case 1:
                            return n = d.sent(),
                            hP.h.dispatch("updateMcnInfo", n),
                            [2]
                        }
                    })
                }),
                function fetchMcnInfo() {
                    return d.apply(this, arguments)
                }
                );
                var J = (v = (0,
                V._)(function() {
                    var n, d, v, h;
                    return (0,
                    R.Jh)(this, function(y) {
                        switch (y.label) {
                        case 0:
                            return [4, phoneLogin_getUserInfo({
                                source: v = null === (d = m.currentRoute.value) || void 0 === d ? void 0 : null === (n = d.query) || void 0 === n ? void 0 : n.source
                            }, !!v)];
                        case 1:
                            return h = y.sent(),
                            hP.h.dispatch("setUserInfo", h),
                            [2]
                        }
                    })
                }),
                function fetchUserInfo() {
                    return v.apply(this, arguments)
                }
                );
                return (0,
                ec.onMounted)((0,
                V._)(function() {
                    return (0,
                    R.Jh)(this, function(n) {
                        switch (n.label) {
                        case 0:
                            return [4, Q()];
                        case 1:
                            return n.sent(),
                            [4, J()];
                        case 2:
                            return n.sent(),
                            getMcnData(),
                            U.dJ.get("MCN_RENEW_NOTICE").then(function(n) {
                                hP.h.dispatch("updateRenewModal", 1 === n)
                            }),
                            [2]
                        }
                    })
                })),
                (0,
                ec.watch)(function() {
                    return O.value
                }, function() {
                    getMcnData()
                }),
                function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("section", EH, [y.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(EU, {
                        key: 0,
                        onClick: onBannerDetailClick
                    })) : (0,
                    ec.createCommentVNode)("", !0), N.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)(EJ, {
                        key: 1
                    })) : (0,
                    ec.createCommentVNode)("", !0), (0,
                    ec.createVNode)(EP, {
                        show: h.value,
                        onSubmit: onRenewFinish,
                        onClose: onRenewModalClose,
                        onReject: onRenewModalReject
                    }, null, 8, ["show"]), (0,
                    ec.createElementVNode)("div", EG, [(0,
                    ec.createVNode)(CK)]), (0,
                    ec.createElementVNode)("div", EY, [(0,
                    ec.createVNode)(bk, {
                        "fans-num": k.value,
                        "follow-num": I.value,
                        "un-follow-num": C.value,
                        "cooper-num": x.value,
                        "cooper-price": S.value,
                        "cps-price": M.value,
                        "picture-obj": _.value,
                        "video-obj": B.value,
                        onClicked: getInfo
                    }, null, 8, ["fans-num", "follow-num", "un-follow-num", "cooper-num", "cooper-price", "cps-price", "picture-obj", "video-obj"]), (0,
                    ec.createElementVNode)("div", EW, [(0,
                    ec.createVNode)((0,
                    ec.unref)(CV.Z), {
                        modelValue: z.value,
                        "onUpdate:modelValue": d[0] || (d[0] = function(n) {
                            return z.value = n
                        }
                        ),
                        list: Z.value,
                        class: "tabs"
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.withDirectives)((0,
                            ec.createVNode)((0,
                            ec.unref)(em.Z), {
                                bs: {
                                    pt: 16
                                }
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)(b1, {
                                        "search-time-value": O.value
                                    }, null, 8, ["search-time-value"])]
                                }),
                                _: 1
                            }, 512), [[ec.vShow, "kolRank" === z.value]]), (0,
                            ec.withDirectives)((0,
                            ec.createVNode)((0,
                            ec.unref)(em.Z), {
                                bs: {
                                    pt: 16
                                }
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)(ED, {
                                        "search-time-value": O.value
                                    }, null, 8, ["search-time-value"])]
                                }),
                                _: 1
                            }, 512), [[ec.vShow, "noteRank" === z.value]])]
                        }),
                        _: 1
                    }, 8, ["modelValue", "list"])])])])
                }
            }
        });
        let EX = (0,
        eN.default)(Eq, [["__scopeId", "data-v-0dd19429"]]);
        var EK = v(69517)
          , mcn_config_routes_config_getLoginMeta = function(n) {
            return {
                auth: {
                    check: n ? ["isLogin"] : [],
                    fallback: n ? {
                        path: "login",
                        query: {
                            lastUrl: encodeURIComponent(window.location.pathname + window.location.search),
                            redirectReason: "401"
                        }
                    } : {}
                },
                pageInstance: "creator_service_platform",
                instanceId: "创作者服务平台"
            }
        }
          , E$ = [{
            path: "/new-mcn",
            component: C_,
            redirect: {
                name: "McnEntry"
            },
            children: [{
                path: "entry",
                name: "McnEntry",
                component: Cm,
                meta: (0,
                B._)({}, mcn_config_routes_config_getLoginMeta(!0))
            }, {
                path: "renew",
                name: "McnRenew",
                component: Cm,
                meta: (0,
                B._)({}, mcn_config_routes_config_getLoginMeta(!0))
            }]
        }, {
            path: "/newmcn",
            component: eL.default,
            redirect: {
                name: "McnHome"
            },
            children: [{
                path: "home",
                name: "McnHome",
                component: EX,
                getTrackerData: function() {
                    return el.tracker["7732"]((0,
                    B._)({
                        channelTabId: "mcn首页"
                    }, (0,
                    EK.Js)()))
                },
                meta: (0,
                B._)({}, mcn_config_routes_config_getLoginMeta(!0))
            }]
        }]
          , E0 = (0,
        ee._)(hQ || []).concat((0,
        ee._)(y0), (0,
        ee._)(y1 || []), (0,
        ee._)(E$ || []))
          , E1 = v(69369)
          , E2 = v(72729)
          , E4 = {
            class: "expand-list"
        }
          , E3 = {
            class: "text-counter"
        }
          , E5 = {
            style: {
                width: "560px"
            }
        };
        function feedbackvue_type_template_id_2e03876e_scoped_true_render(n, d, v, m, h, y) {
            var N, k, I = (0,
            ec.resolveComponent)("Popover"), C = (0,
            ec.resolveComponent)("Gallery"), x = (0,
            ec.resolveComponent)("Checkbox"), M = (0,
            ec.resolveComponent)("Button"), S = (0,
            ec.resolveComponent)("Modal");
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)(ec.Fragment, null, [(0,
            ec.createVNode)(I, {
                onChange: y.handleVisibleChange,
                mouseLeaveDelay: 100,
                placement: "left"
            }, {
                content: (0,
                ec.withCtx)(function() {
                    return [(0,
                    ec.createElementVNode)("div", E4, [(0,
                    ec.createElementVNode)("div", {
                        onClick: d[0] || (d[0] = function() {
                            for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                d[v] = arguments[v];
                            return y.showModal && (N = y).showModal.apply(N, (0,
                            ee._)(d))
                        }
                        )
                    }, d[4] || (d[4] = [(0,
                    ec.createElementVNode)("h4", null, [(0,
                    ec.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABMklEQVR4Xu2WYQ3CMBBGqwADYAADYAADYAADYAADYAAFKMAABlCAG/oYF46yre21P0bgJV8IaW/3rbte69yfATPy2nqdvC6Z2rlPpl4Hr3E40AaTeNDNKGI1JL8+xzARRZITtPFaZkq/pU7OL/97WbnXmyQtVw/ZyYHvR8AxHMjElBz4RgRRgFbMyaHUQFFyKDVwdgXJodSA9AJTcugyQEOS3dGm2WtqGW0G6IphwlDs/yq0GQCWNGw4Wn2weiiJLgNWaGaySkmNbbAG5q5p0zEtXFMzQhUDKUWopU+8agZyjud1E/agioES/ga+14Cu5BLooGJAb89OqGAmc5wmBURgJXleeFHthKRyoSCIBjQxSq53KHZevMHRKoE1tHcGKJjYHSAmVlA3JTOYyVWN+vkB7tjzvbvlyP9+AAAAAElFTkSuQmCC"
                    }), (0,
                    ec.createTextVNode)(" 问题反馈 ")], -1), (0,
                    ec.createElementVNode)("p", null, "期待你的反馈和意见", -1)])), (0,
                    ec.createElementVNode)("div", {
                        onClick: d[1] || (d[1] = function() {
                            for (var n = arguments.length, d = Array(n), v = 0; v < n; v++)
                                d[v] = arguments[v];
                            return y.togoHelperCenter && (k = y).togoHelperCenter.apply(k, (0,
                            ee._)(d))
                        }
                        )
                    }, d[5] || (d[5] = [(0,
                    ec.createElementVNode)("h4", null, [(0,
                    ec.createElementVNode)("img", {
                        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA6ElEQVR4Xu2Xaw3CMBSFrwIMoAADYAADYAADYAAFGEABPjCAAtzQEzisdFnhPggL6ZecP3vcfFt7u06kMXJ2KZeUqyEbcbKXflFNDuJgKV2hVcrk9XQVvDW3AJ/eUiREADezyEIZ3nssjqtgkcjgrX4MBdABZ2fYRaohoQDG04tpTjSB0QpgQZpJv/Vq7RYqcHocrwX9nxMqgA9M2WZlts+r74QKWPgvgWnK+k1wTU6owM8nIfYJOFcL9g85oQIWmoBJgFsy1SZiAJPAXLpZjdbyYBIAHIaoqAUA1nWs72UxS9w/Ko2vcAPBIspaAL/1qwAAAABJRU5ErkJggg=="
                    }), (0,
                    ec.createTextVNode)(" 帮助中心 ")], -1), (0,
                    ec.createElementVNode)("p", null, "前往创作百科查找解决办法", -1)]))])]
                }),
                default: (0,
                ec.withCtx)(function() {
                    return [(0,
                    ec.createElementVNode)("div", {
                        id: "creator-feedback-wrapper",
                        class: (0,
                        ec.normalizeClass)(["global-wrapper", h.expand ? "expand" : ""])
                    }, d[6] || (d[6] = [(0,
                    ec.createElementVNode)("span", null, null, -1), (0,
                    ec.createElementVNode)("div", {
                        class: "problem"
                    }, "遇到问题", -1)]), 2)]
                }),
                _: 1
            }, 8, ["onChange"]), (0,
            ec.createVNode)(S, {
                bs: {
                    width: "670px",
                    maxHeight: "696px",
                    ".content": {
                        overflow: "hidden",
                        display: "flex",
                        flexDirection: "column",
                        justifyContent: "center",
                        alignItems: "center",
                        position: "relative",
                        flexShrink: 0,
                        minHeight: "406px"
                    },
                    overflow: "hidden"
                },
                fixed: "",
                show: h.isShow,
                title: "问题反馈",
                class: "fallback-model",
                onClose: y.hiddenModal
            }, {
                footer: (0,
                ec.withCtx)(function() {
                    return [(0,
                    ec.createVNode)(M, {
                        variant: "secondary",
                        onClick: y.hiddenModal
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return d[7] || (d[7] = [(0,
                            ec.createTextVNode)("取消")])
                        }),
                        _: 1
                    }, 8, ["onClick"]), (0,
                    ec.createVNode)(M, {
                        class: "btn-confirm",
                        disabled: h.uploading || !h.text.length,
                        modifier: "danger",
                        onClick: y.inConfirm
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return d[8] || (d[8] = [(0,
                            ec.createTextVNode)(" 确定 ")])
                        }),
                        _: 1
                    }, 8, ["disabled", "onClick"])]
                }),
                default: (0,
                ec.withCtx)(function() {
                    return [d[9] || (d[9] = (0,
                    ec.createElementVNode)("div", {
                        class: "divider"
                    }, null, -1)), d[10] || (d[10] = (0,
                    ec.createElementVNode)("h3", null, [(0,
                    ec.createElementVNode)("span", {
                        style: {
                            color: "red"
                        }
                    }, "*"), (0,
                    ec.createTextVNode)(" 问题描述 ")], -1)), (0,
                    ec.withDirectives)((0,
                    ec.createElementVNode)("textarea", {
                        ref: "textarea",
                        "onUpdate:modelValue": d[2] || (d[2] = function(n) {
                            return h.text = n
                        }
                        ),
                        class: "feedback-model-textarea",
                        placeholder: "请输入,最多500字",
                        maxlength: 500
                    }, null, 512), [[ec.vModelText, h.text]]), (0,
                    ec.createElementVNode)("span", E3, (0,
                    ec.toDisplayString)(y.textLength) + "/500", 1), d[11] || (d[11] = (0,
                    ec.createElementVNode)("h3", null, "添加素材", -1)), (0,
                    ec.createVNode)(C, {
                        items: h.items,
                        onUpload: y.uploadFile,
                        onDelete: y.deleteFile
                    }, null, 8, ["items", "onUpload", "onDelete"]), (0,
                    ec.createElementVNode)("div", E5, [(0,
                    ec.createVNode)(x, {
                        modelValue: h.hasCapture,
                        "onUpdate:modelValue": d[3] || (d[3] = function(n) {
                            return h.hasCapture = n
                        }
                        ),
                        label: "自动添加截图",
                        onOnChange: y.toggleCapture
                    }, null, 8, ["modelValue", "onOnChange"])])]
                }),
                _: 1
            }, 8, ["show", "onClose"])], 64)
        }
        var E8 = v(28569)
          , E6 = v(90434)
          , E9 = v(77617)
          , E7 = v(64239)
          , Ae = {
            i8: "0.50.8"
        }
          , At = v(34079)
          , An = {
            class: "imgs-container"
        }
          , Aa = ["onClick"]
          , Ao = {
            key: 1
        }
          , Ar = {
            key: 2
        }
          , Ai = ["src"]
          , Al = {
            key: 3
        }
          , Ac = ["src"]
          , Au = ["src"]
          , As = {
            key: 4
        };
        function galleryvue_type_template_id_105994bc_scoped_true_render(n, d, v, m, h, y) {
            var N = (0,
            ec.resolveComponent)("Loading");
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", An, [((0,
            ec.openBlock)(!0),
            (0,
            ec.createElementBlock)(ec.Fragment, null, (0,
            ec.renderList)(v.items, function(n) {
                return (0,
                ec.withDirectives)(((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", {
                    key: n.timestamp,
                    class: "item"
                }, ["upload" !== n.type ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("span", {
                    key: 0,
                    class: "closeBtn",
                    onClick: function(d) {
                        return y.removeFile(n.timestamp)
                    }
                }, d[1] || (d[1] = [(0,
                ec.createElementVNode)("img", {
                    src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDEwIDEwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJtNi4xNzkgNSAzLjU3Ny0zLjU3N0EuODMzLjgzMyAwIDEgMCA4LjU3Ny4yNDRMNSAzLjgyMSAxLjQyMy4yNDRBLjgzMy44MzMgMCAxIDAgLjI0NCAxLjQyM0wzLjgyMSA1IC4yNDQgOC41NzdhLjgzMy44MzMgMCAxIDAgMS4xNzkgMS4xNzlMNSA2LjE3OWwzLjU3NyAzLjU3N2EuODMzLjgzMyAwIDEgMCAxLjE3OS0xLjE3OXoiLz48L3N2Zz4="
                }, null, -1)]), 8, Aa)) : (0,
                ec.createCommentVNode)("", !0), "loading" === n.type ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", Ao, [(0,
                ec.createVNode)(N, {
                    progress: n.progress || 0,
                    size: "36px"
                }, null, 8, ["progress"])])) : "image" === n.type ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", Ar, [((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("img", {
                    key: n.thumbnailUrl,
                    src: n.thumbnailUrl,
                    alt: "图片"
                }, null, 8, Ai))])) : "video" === n.type ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", Al, [n.thumbnailUrl ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("img", {
                    key: n.thumbnailUrl,
                    alt: "图片",
                    src: n.thumbnailUrl
                }, null, 8, Ac)) : n.url ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("video", {
                    key: 1,
                    src: n.url
                }, null, 8, Au)) : (0,
                ec.createCommentVNode)("", !0)])) : "upload" === n.type ? ((0,
                ec.openBlock)(),
                (0,
                ec.createElementBlock)("div", As, [(0,
                ec.createElementVNode)("div", {
                    class: "uploader",
                    onClick: d[0] || (d[0] = function(n) {
                        return y.uploadFile()
                    }
                    )
                }, d[2] || (d[2] = [(0,
                ec.createElementVNode)("img", {
                    src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjODg4IiBkPSJNMjIuODg0IDEwLjg1NmgtOS44NzZWMS4xMjhjMC0uNjI0LS41LTEuMTI4LTEuMTE2LTEuMTI4LS42MTggMC0xLjExNy41MDQtMS4xMTcgMS4xMjh2OS43MjhIMS4xMTZDLjUgMTAuODU2IDAgMTEuMzYxIDAgMTEuOTg0YzAgLjYyNC41IDEuMTI4IDEuMTE2IDEuMTI4aDkuNjZ2OS43NmMwIC42MjQuNDk4IDEuMTI4IDEuMTE2IDEuMTI4LjYxNyAwIDEuMTE2LS41MDQgMS4xMTYtMS4xMjh2LTkuNzZoOS44NzZjLjYxNyAwIDEuMTE2LS41MDQgMS4xMTYtMS4xMjhzLS41LTEuMTI4LTEuMTE2LTEuMTI4Ii8+PC9zdmc+"
                }, null, -1), (0,
                ec.createElementVNode)("p", null, "上传图片/视频", -1)]))])) : (0,
                ec.createCommentVNode)("", !0)])), [[ec.vShow, !(v.items.length > 5 && "upload" === n.type)]])
            }), 128))])
        }
        var Ad = ["viewBox"]
          , Av = ["d", "stroke-width"]
          , Am = ["d", "stroke-width"]
          , Af = {
            class: "inner-content"
        };
        function circleLoadingvue_type_template_id_7f5d5688_scoped_true_render(n, d, v, m, h, y) {
            return (0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("div", {
                style: (0,
                ec.normalizeStyle)({
                    width: v.size,
                    height: v.size
                }),
                class: "progress-container"
            }, [((0,
            ec.openBlock)(),
            (0,
            ec.createElementBlock)("svg", {
                viewBox: "0 0 ".concat(y.svgWidth, " ").concat(y.svgWidth)
            }, [(0,
            ec.createElementVNode)("path", {
                d: y.backPath,
                fill: "none",
                "stroke-width": y.lineWidth,
                stroke: "#d5d5d6"
            }, null, 8, Av), (0,
            ec.createElementVNode)("path", {
                class: "path",
                d: y.path,
                fill: "none",
                "stroke-width": y.lineWidth,
                "stroke-linecap": "round",
                style: (0,
                ec.normalizeStyle)({
                    "stroke-dasharray": y.dashArray
                }),
                stroke: "red"
            }, null, 12, Am)], 8, Ad)), (0,
            ec.createElementVNode)("div", Af, [(0,
            ec.renderSlot)(n.$slots, "default", {}, function() {
                return [(0,
                ec.createTextVNode)((0,
                ec.toDisplayString)(y.progressText), 1)]
            }, !0)])], 4)
        }
        let Ap = (0,
        eN.default)({
            props: {
                progress: {
                    type: Number,
                    default: 50
                },
                size: {
                    type: String,
                    default: "100px"
                }
            },
            computed: {
                lineWidth: function() {
                    return 10
                },
                svgWidth: function() {
                    return 100
                },
                radius: function() {
                    return (this.svgWidth - this.lineWidth) / 2
                },
                fixedProgress: function() {
                    return Math.max(Math.min(100, this.progress), 0)
                },
                progressText: function() {
                    return "".concat(this.fixedProgress, "%")
                },
                deg: function() {
                    return 2 * Math.PI * (this.fixedProgress - .1) / 100
                },
                backPath: function() {
                    var n = this.svgWidth / 2
                      , d = this.lineWidth / 2
                      , v = this.svgWidth - this.lineWidth / 2
                      , m = this.svgWidth / 2
                      , h = this.radius;
                    return "M ".concat(n, " ").concat(d, " A ").concat(h, " ").concat(h, " 0 0 1 ").concat(v, " ").concat(m, " A ").concat(h, " ").concat(h, " 0 1 1 ").concat(n, " ").concat(d)
                },
                path: function() {
                    var n = this.radius
                      , d = this.svgWidth / 2
                      , v = this.lineWidth / 2
                      , m = this.svgWidth / 2 + Math.sin(this.deg) * n
                      , h = this.svgWidth / 2 - Math.cos(this.deg) * n
                      , y = +(this.fixedProgress > 50);
                    return "M ".concat(d, " ").concat(v, " A ").concat(n, " ").concat(n, " 0 ").concat(y, " 1 ").concat(m, " ").concat(h)
                },
                dashArray: function() {
                    var n = this.fixedProgress / 100
                      , d = 2 * Math.PI * this.radius;
                    return "".concat(d * n / this.svgWidth * 100, ", ").concat(d * (1 - n) / this.svgWidth * 100)
                }
            }
        }, [["render", circleLoadingvue_type_template_id_7f5d5688_scoped_true_render], ["__scopeId", "data-v-7f5d5688"]])
          , Ag = (0,
        eN.default)({
            name: "Gallery",
            components: {
                Loading: Ap
            },
            props: {
                items: {
                    type: Array,
                    default: function() {
                        return []
                    }
                }
            },
            methods: {
                uploadFile: function() {
                    return (0,
                    V._)(function() {
                        var n, d;
                        return (0,
                        R.Jh)(this, function(v) {
                            switch (v.label) {
                            case 0:
                                return n = Date.now(),
                                [4, (0,
                                E7.jz)()];
                            case 1:
                                if ((d = v.sent()).size >= 0x6400000)
                                    return E9.ZP.danger("文件不能大于100MB"),
                                    [2];
                                return this.$emit("upload", {
                                    file: d,
                                    timestamp: n
                                }),
                                [2]
                            }
                        })
                    }).apply(this)
                },
                removeFile: function(n) {
                    this.$emit("delete", n)
                }
            }
        }, [["render", galleryvue_type_template_id_105994bc_scoped_true_render], ["__scopeId", "data-v-105994bc"]]);
        var Ah = /video\/.*/
          , Ay = {
            name: "Feedback",
            components: {
                Button: ef.Z,
                Modal: u2.Z,
                Checkbox: E6.Z,
                Gallery: Ag,
                Popover: E8.Z
            },
            data: function() {
                return {
                    containerShow: !1,
                    expand: !1,
                    isShow: !1,
                    text: "",
                    items: [],
                    hasCapture: !1,
                    uploading: !1,
                    taskObj: {},
                    imageCos: null,
                    videoCos: null,
                    offsetX: 0,
                    offsetY: 0,
                    clientX: 0,
                    clientY: 0,
                    pressing: !1
                }
            },
            computed: {
                textLength: function() {
                    return this.text.length
                }
            },
            watch: {
                isShow: function(n) {
                    n && !this.hasCapture && this.setScreenShot()
                }
            },
            mounted: function() {
                return (0,
                V._)(function() {
                    var n, d;
                    return (0,
                    R.Jh)(this, function(v) {
                        this.userInfo = {};
                        try {
                            n = localStorage.getItem("USER_INFO_FOR_BIZ"),
                            (d = JSON.parse(n)).userId && (this.userInfo = {
                                userId: d.userId,
                                userName: d.userName,
                                redId: d.redId
                            },
                            this.containerShow = !0)
                        } catch (n) {
                            return [2]
                        }
                        return this.uploadItem = (0,
                        ec.reactive)({
                            type: "upload",
                            timestamp: Date.now()
                        }),
                        this.insertItems(this.uploadItem),
                        this.screenShotFileTimeStamp = null,
                        this.imageList = [],
                        this.videoList = [],
                        this.uploadPool = [],
                        [2]
                    })
                }).apply(this)
            },
            methods: {
                handleVisibleChange: function(n) {
                    n ? this.toggleExpand(!0) : this.toggleExpand(!1)
                },
                insertItems: function(n) {
                    n === this.uploadItem ? this.items.push(n) : this.items.unshift(n)
                },
                togoHelperCenter: function() {
                    this.expand = !1,
                    this.$router.push({
                        path: "/creator/encyclopedia",
                        query: (0,
                        q.O6)()
                    })
                },
                toggleCapture: function() {
                    this.hasCapture ? this.setScreenShot() : this.deleteFile(this.screenShotFileTimeStamp)
                },
                removeImg: function(n) {
                    this.imgs = this.imgs.filter(function(d) {
                        return d.timestamp !== n
                    })
                },
                toggleExpand: function(n) {
                    this.expand = n
                },
                showModal: function() {
                    this.expand = !1,
                    this.isShow = !0
                },
                setScreenShot: function() {
                    return (0,
                    V._)(function() {
                        var n, d, v;
                        return (0,
                        R.Jh)(this, function(m) {
                            switch (m.label) {
                            case 0:
                                return [4, (0,
                                E7.pB)("page")];
                            case 1:
                                return n = m.sent(),
                                d = (0,
                                E7.Ll)(n),
                                v = Date.now(),
                                [4, this.uploadFile({
                                    file: d,
                                    timestamp: v
                                })];
                            case 2:
                                return m.sent(),
                                this.hasCapture = !0,
                                this.screenShotFileTimeStamp = v,
                                [2]
                            }
                        })
                    }).apply(this)
                },
                hiddenModal: function() {
                    this.text = "",
                    this.imageList = [],
                    this.videoList = [],
                    this.items = [],
                    this.uploadItem = (0,
                    ec.reactive)({
                        type: "upload",
                        timestamp: Date.now()
                    }),
                    this.insertItems(this.uploadItem),
                    this.hasCapture = !1,
                    this.screenShotFileTimeStamp = null,
                    this.isShow = !1
                },
                uploadFile: function(n) {
                    var d = n.file
                      , v = n.timestamp;
                    return (0,
                    V._)(function() {
                        var n, m, h, y, N, k, I, C;
                        return (0,
                        R.Jh)(this, function(x) {
                            switch (x.label) {
                            case 0:
                                if (n = this,
                                this.uploadPool.push({
                                    file: d,
                                    timestamp: v
                                }),
                                m = (0,
                                ec.reactive)({
                                    type: "loading",
                                    timestamp: v,
                                    progress: 0
                                }),
                                this.insertItems(m),
                                this.uploading = !0,
                                !this.isShow)
                                    return [2];
                                if (!Ah.test(d.type))
                                    return [3, 2];
                                return [4, E7.KQ.post({
                                    Body: d,
                                    onProgress: function(n) {
                                        m.progress = Number((n.loaded / n.total * 100).toFixed(0))
                                    },
                                    onTaskReady: function(d) {
                                        n.taskObj[v] = d
                                    },
                                    onInstanceCreated: function(d) {
                                        n.videoCos = d
                                    }
                                })];
                            case 1:
                                return (h = x.sent()).success && (y = h.data.previewUrl,
                                N = h.data.fileId,
                                m.url = y,
                                m.type = "video",
                                m.fileId = N,
                                this.videoList.push(N)),
                                [3, 5];
                            case 2:
                                return [4, E7.Qm.post({
                                    Body: d,
                                    onProgress: function(n) {
                                        m.progress = Number((n.loaded / n.total * 100).toFixed(0))
                                    },
                                    onTaskReady: function(d) {
                                        n.taskObj[v] = d
                                    },
                                    onInstanceCreated: function(d) {
                                        n.imageCos = d
                                    }
                                })];
                            case 3:
                                if (!(k = x.sent()).success)
                                    return [3, 5];
                                return I = k.data.previewUrl || k.data.url,
                                C = k.data.fileId,
                                [4, (0,
                                E7.pl)(I)];
                            case 4:
                                m.thumbnailUrl = x.sent(),
                                m.url = I,
                                m.fileId = C,
                                m.type = "image",
                                this.imageList.push(C),
                                x.label = 5;
                            case 5:
                                return this.uploading = !1,
                                this.uploadPool = this.uploadPool.filter(function(n) {
                                    return n.timestamp !== v
                                }),
                                [2]
                            }
                        })
                    }).apply(this)
                },
                videoFrameImageGenerator: function(n) {
                    return new Promise(function(d, v) {
                        var m, h = (m = (0,
                        V._)(function() {
                            var m, y;
                            return (0,
                            R.Jh)(this, function(N) {
                                switch (N.label) {
                                case 0:
                                    return [4, (0,
                                    At.BC)({
                                        inputKey: n
                                    })];
                                case 1:
                                    if (!(m = N.sent()).success && v("获取封面失败"),
                                    2 !== m.code && 3 !== m.code)
                                        return [3, 3];
                                    return [4, (0,
                                    At.ay)({
                                        videoKey: n
                                    })];
                                case 2:
                                    return (y = N.sent()).fileId && d("http://ci.xiaohongshu.com/".concat(y.fileId)),
                                    [3, 4];
                                case 3:
                                    -1 === m.code ? v("获取封面失败") : setTimeout(h, 3e3),
                                    N.label = 4;
                                case 4:
                                    return [2]
                                }
                            })
                        }),
                        function loop() {
                            return m.apply(this, arguments)
                        }
                        );
                        h()
                    }
                    )
                },
                deleteFile: function(n) {
                    var d, v = this, m = this.uploadPool.find(function(d) {
                        return d.timestamp === n
                    });
                    m && this.taskObj[n] && (Ah.test(m.file.type) ? this.videoCos.cancelTask(this.taskObj[n]) : this.imageCos.cancelTask(this.taskObj[n])),
                    this.items = this.items.filter(function(v) {
                        return v.timestamp !== n || (d = v.fileId,
                        URL.revokeObjectURL(v.thumbnailUrl),
                        !1)
                    }),
                    this.videoList = this.videoList.filter(function(n) {
                        return n !== d
                    }),
                    this.imageList = this.imageList.filter(function(n) {
                        return n !== d
                    }),
                    this.$nextTick(function() {
                        v.screenShotFileTimeStamp === n && (v.screenShotFileTimeStamp = null,
                        v.hasCapture = !1)
                    })
                },
                inConfirm: n1()((0,
                V._)(function() {
                    var n, d;
                    return (0,
                    R.Jh)(this, function(v) {
                        switch (v.label) {
                        case 0:
                            if (this.uploading)
                                return [2];
                            return n = window.location.pathname,
                            this.text = this.text.replace(/</g, "&lt;").replace(/>/g, "&gt;"),
                            d = {
                                userId: this.userInfo.userId,
                                userName: this.userInfo.userName,
                                redId: this.userInfo.redId,
                                devicesInfo: navigator.userAgent,
                                content: n.includes("/publish/") ? "web发布: ".concat(this.text) : this.text,
                                caseSource: "创作服务平台",
                                appVersion: "web ".concat(Ae.i8),
                                sourceType: "community",
                                imageList: [],
                                videoList: [],
                                imageFileIdList: this.imageList,
                                videoFileIdList: this.videoList
                            },
                            [4, (0,
                            At.PL)(d)];
                        case 1:
                            return v.sent(),
                            this.hiddenModal(),
                            E9.ZP.success("反馈提交成功"),
                            [2]
                        }
                    })
                }), 1e3, {
                    leading: !0,
                    trailing: !1
                })
            }
        };
        let AN = (0,
        eN.default)(Ay, [["render", feedbackvue_type_template_id_2e03876e_scoped_true_render], ["__scopeId", "data-v-2e03876e"]]);
        var Ak = v(86881)
          , AI = {
            key: 0,
            id: "page"
        }
          , AC = (0,
        ec.defineComponent)({
            __name: "Root",
            setup: function(n) {
                var d = (0,
                Ak.oR)()
                  , v = (0,
                ec.computed)(function() {
                    var n, v;
                    return null === (v = d.state) || void 0 === v ? void 0 : null === (n = v.Auth) || void 0 === n ? void 0 : n.userInfo
                })
                  , m = (0,
                ec.ref)(!1)
                  , resetAndFetchAb = function() {
                    var n;
                    if (!(null === (n = v.value) || void 0 === n ? void 0 : n.userId)) {
                        m.value = !0;
                        return
                    }
                    m.value = !1,
                    (0,
                    X.Ni)("userExp").then(function(n) {
                        hP.h.dispatch("setAbTest", n)
                    }).catch(function(n) {}).finally(function() {
                        m.value = !0
                    })
                };
                return resetAndFetchAb(),
                (0,
                ec.watch)(v, function(n) {
                    resetAndFetchAb()
                }),
                function(n, d) {
                    var v = (0,
                    ec.resolveComponent)("router-view");
                    return m.value ? ((0,
                    ec.openBlock)(),
                    (0,
                    ec.createElementBlock)("div", AI, [(0,
                    ec.createVNode)(v)])) : (0,
                    ec.createCommentVNode)("", !0)
                }
            }
        })
          , Ab = {
            id: "CreatorPlatform"
        }
          , AE = (0,
        ec.defineComponent)({
            __name: "AppContainer",
            setup: function(n) {
                return function(n, d) {
                    return (0,
                    ec.openBlock)(),
                    (0,
                    ec.createBlock)((0,
                    ec.unref)(E2.BR), {
                        locale: (0,
                        ec.unref)(E1.Z)
                    }, {
                        default: (0,
                        ec.withCtx)(function() {
                            return [(0,
                            ec.createElementVNode)("div", Ab, ["Login" !== n.$route.name ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(AN, {
                                key: 0
                            })) : (0,
                            ec.createCommentVNode)("", !0), "Login" === n.$route.name ? ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)(AC, {
                                key: 1
                            })) : ((0,
                            ec.openBlock)(),
                            (0,
                            ec.createBlock)((0,
                            ec.unref)(X.jP), {
                                key: 2
                            }, {
                                default: (0,
                                ec.withCtx)(function() {
                                    return [(0,
                                    ec.createVNode)(AC)]
                                }),
                                _: 1
                            }))])]
                        }),
                        _: 1
                    }, 8, ["locale"])
                }
            }
        });
        function setCookie(n) {
            var d = n.split(".")[2];
            document.cookie = "access-token=".concat(d, "; expires=").concat(new Date().getTime() + 1e9, "; domain=.xiaohongshu.com; path=/ "),
            document.cookie = "subsystem=ares; expires=".concat(new Date().getTime() + 1e9, "; domain=.xiaohongshu.com; path=/"),
            document.cookie = "sso-type=customer; expires=".concat(new Date().getTime() + 1e9, "; domain=.xiaohongshu.com; path=/")
        }
        v(109),
        v(54060),
        v(20266);
        var getCookieValue = function(n) {
            var d = new RegExp("(^| )".concat(n, "=([^;]+)"))
              , v = document.cookie.match(d);
            return v ? v[2] : ""
        }
          , getWebId = function() {
            return getCookieValue("webId")
        }
          , AA = new U.ZP("#app",{
            routes: E0,
            http: ei.ZP,
            appContainer: AE
        });
        AA.router.beforeEach(function(n, d, v) {
            var m, h = null === (m = d.query) || void 0 === m ? void 0 : m.proxy;
            h && n.query.proxy !== h ? v((0,
            O._)((0,
            B._)({}, n), {
                query: (0,
                O._)((0,
                B._)({}, n.query), {
                    proxy: h
                })
            })) : v()
        }),
        AA.use(J.ZP, (0,
        K.P)({
            carryDeviceInfo: !1,
            callFrom: "creator-platform",
            process461Response: !0,
            includes: [],
            captchaOption: {
                "z-index": 9999
            },
            captchaInCurrent: !0
        })),
        AA.use(Z.Z),
        AA.use(z.Z, {
            services: {
                login: phoneLogin_login,
                logout: phoneLogin_logout,
                getUserInfo: phoneLogin_getUserInfo
            },
            scheme: {
                type: "localStorage"
            },
            apiFallback: {
                unauthorized: function() {
                    if ("/" !== window.location.pathname) {
                        var n, d = new URLSearchParams;
                        d.set("source", null !== (n = (0,
                        ex.b5)()) && void 0 !== n ? n : ""),
                        d.set("redirectReason", "401"),
                        d.set("lastUrl", encodeURIComponent(window.location.pathname + window.location.search)),
                        window.location.href = "/login?".concat(d.toString())
                    }
                },
                forbidden: function() {
                    "/" !== window.location.pathname && (window.location.href = "/login?redirectReason=403")
                }
            }
        }),
        AA.use(W.ZP, er);
        var Aw = {
            threshold: .95,
            domThreshold: 2,
            maxDepth: 3,
            lines: 5,
            columns: 10,
            autoCheckBS: !0,
            autoCheckBSTime: 3e3,
            screenshot: !0,
            rootElementSelector: "#app"
        };
        new URLSearchParams(window.location.search).get("__debugger__");
        AA.use(Q.Z, {
            tracker: function() {
                return Promise.resolve().then(v.bind(v, 25618))
            },
            apm: !1,
            getUserInfo: (0,
            V._)(function() {
                var n, d;
                return (0,
                R.Jh)(this, function(v) {
                    return (d = (n = localStorage.getItem("USER_INFO")) && JSON.parse(n)) ? [2, Promise.resolve(d)] : [2, Promise.resolve()]
                })
            }),
            getDeviceInfo: function() {
                return Promise.resolve({
                    deviceId: getWebId(),
                    deviceScreenWidth: window.innerWidth,
                    deviceScreenHeight: window.innerHeight
                })
            }
        }),
        AA.use(X.mD, {
            retry: !0,
            disableCache: !0,
            artifactName: "creator-publish",
            env: "prod",
            reportUserMapping: !0,
            requests: [{
                name: "webExp",
                domain: "web_ab",
                type: "WEB_ID"
            }, {
                name: "userExp",
                domain: "web_user",
                type: "USER_ID",
                id: (0,
                V._)(function() {
                    var n, d, v, m;
                    return (0,
                    R.Jh)(this, function(h) {
                        return (d = (n = localStorage.getItem("USER_INFO")) && JSON.parse(n)) ? [2, Promise.resolve(null == d ? void 0 : null === (m = d.user) || void 0 === m ? void 0 : null === (v = m.value) || void 0 === v ? void 0 : v.userId)] : [2, Promise.resolve()]
                    })
                })
            }]
        }),
        H.Z.init({
            getUserInfo: (0,
            V._)(function() {
                var n, d;
                return (0,
                R.Jh)(this, function(v) {
                    n = localStorage.getItem("USER_INFO");
                    try {
                        if (d = n && JSON.parse(n))
                            return [2, Promise.resolve(d)];
                        return [2, Promise.resolve()]
                    } catch (n) {
                        return console.error(n),
                        [2, Promise.resolve()]
                    }
                    return [2]
                })
            }),
            getDeviceInfo: function() {
                return Promise.resolve({
                    deviceId: getWebId()
                })
            },
            app: AA,
            Launcher: U.ZP,
            jsError: {
                enableIgnoreDefaultError: !0,
                ignoreError: function(n) {
                    var d, v, m, h, y;
                    return !!((null === (d = n.errorMessage) || void 0 === d ? void 0 : d.includes("Launcher Auth")) || ["QuotaExceededError"].indexOf(n.errorType || "") > -1 || (null === (v = n.errorMessage) || void 0 === v ? void 0 : v.includes("[Eaglet Exception]")) || (null === (m = n.errorMessage) || void 0 === m ? void 0 : m.includes("Script error.")) || (null === (h = n.errorStack) || void 0 === h ? void 0 : h.includes("chrome-extension://")) || (null === (y = n.errorStack) || void 0 === y ? void 0 : y.includes("safari-extension://")) || n.errorMessage.includes("e.getColdStartId") || n.errorMessage.includes("Sortable") || n.errorMessage.includes("jsFinder") || n.errorMessage.includes("querySelector") || n.errorMessage.includes("Navigation cancelled") || n.errorMessage.includes("cache_") || ["Uncaught TypeError: Cannot read property '$el' of null", "TypeError: right-hand side of 'in' should be an object, got null"].includes(n.errorMessage || "") || ["TypeError: undefined is not an object (evaluating 'n[t].end=Date.now()')", "TypeError: n[t] is undefined", "Uncaught TypeError: Cannot set properties of undefined (setting 'end')", "Uncaught TypeError: Cannot set property 'end' of undefined", "Cannot set property 'end' of undefined", "Cannot set properties of undefined (setting 'end')"].includes(n.errorMessage || "") || ["Cannot read properties of undefined (reading 'map')", "Cannot read property 'map' of undefined"].includes(n.errorMessage || "") || ["The play() request was interrupted by a call to pause(). https://goo.gl/LdLk22", "The play() request was interrupted because the media was removed from the document. https://goo.gl/LdLk22", "The play() request was interrupted by a call to pause().", "Cannot read properties of null (reading 'data')", "Cannot read property 'data' of null"].includes(n.errorMessage || "")) || !1
                }
            },
            performance: {
                getFrameObserve: function() {
                    return !0
                }
            },
            network: {
                open: !0
            },
            blankScreen: Aw
        }),
        H.Z.checkBlankScreenError(Aw),
        null == AA || AA.start(),
        null === (_ = AA.router) || void 0 === _ || _.beforeEach(function(n, d, v) {
            Y().isEmpty(window.history.state.current) && Y().assign(window.history.state, {
                current: d.fullPath
            }),
            v()
        }),
        window.setCookie = setCookie,
        (0,
        q.kG)()
    },
    13334: function(n, d, v) {
        "use strict";
        v.d(d, {
            h: function() {
                return S
            }
        });
        var m = v(86881)
          , h = v(51606)
          , y = "creator-ugc-set-ab-test"
          , N = {
            state: {
                userExp: {}
            },
            getters: {
                userExp: function(n) {
                    return n.userExp
                }
            },
            mutations: (0,
            h._)({}, y, function(n) {
                var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                n.userExp = d
            }),
            actions: {
                setAbTest: function(n, d) {
                    (0,
                    n.commit)(y, d)
                }
            }
        }
          , k = v(97991)
          , I = "creator-ugc-set-permission"
          , C = {
            state: {
                permissions: {
                    product_note: !1,
                    creatorActivityCenter: !1
                }
            },
            getters: {
                permissions: function(n) {
                    return n.permissions
                },
                hasEventsPermission: function(n) {
                    return n.permissions.creatorActivityCenter
                }
            },
            mutations: (0,
            h._)({}, I, function(n) {
                var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                n.permissions = d
            }),
            actions: {
                setPermission: function(n, d) {
                    (0,
                    n.commit)(I, d)
                }
            }
        }
          , x = "creator-ugc-mcn-user-info"
          , M = {
            state: {
                userInfo: {}
            },
            getters: {
                userInfo: function(n) {
                    return n.userInfo
                }
            },
            mutations: (0,
            h._)({}, x, function(n) {
                var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                n.userInfo = d
            }),
            actions: {
                setUserInfo: function(n, d) {
                    (0,
                    n.commit)(x, d)
                }
            }
        }
          , S = (0,
        m.MT)({
            modules: {
                ab: N,
                mcn: k.ZP,
                permissions: C,
                user: M
            }
        })
    },
    97991: function(n, d, v) {
        "use strict";
        v.d(d, {
            ST: function() {
                return I
            }
        });
        var m, h = v(51606);
        v(75973),
        v(87535),
        v(75204),
        v(97357),
        v(34333);
        var y = v(39378)
          , N = "update-mcn-info"
          , k = "show-renew-modal"
          , I = {
            institutionName: "",
            bloggerInfo: "",
            contract: "",
            companyDescInfo: "",
            bloggerInfoName: "",
            contractName: "",
            companyDescInfoName: "",
            bloggerInfoReq: {},
            contractReq: {},
            companyDescInfoReq: {},
            companyName: "",
            companyCreditCode: "",
            address: "",
            companyBusinessLicense: "",
            companyBusinessLicenseReq: {},
            legalPersonPhotoP: "",
            legalPersonPhotoPositiveReq: {},
            legalPersonPhotoL: "",
            legalPersonPhotoReverseReq: {},
            operatorAuthority: "",
            operatorAuthorityReq: {},
            operatorAuthorityName: "",
            operatorName: "",
            operatorPhone: "",
            operatorWechat: "",
            email: "",
            operatorPhotoP: "",
            operatorPhotoL: "",
            operatorPhotoPositiveReq: {},
            operatorPhotoReverseReq: {},
            createPhone: "",
            createEmail: ""
        }
          , C = {
            state: {
                mcnInfo: (0,
                y.cloneDeep)(I),
                showRenewModal: !1
            },
            getters: {
                mcnInfo: function(n) {
                    return n.mcnInfo
                },
                showRenewModal: function(n) {
                    return n.showRenewModal
                }
            },
            mutations: (m = {},
            (0,
            h._)(m, N, function(n, d) {
                Object.keys(d || {}).forEach(function(v) {
                    n.mcnInfo[v] = d[v]
                })
            }),
            (0,
            h._)(m, k, function(n, d) {
                n.showRenewModal = d
            }),
            m),
            actions: {
                updateMcnInfo: function(n, d) {
                    (0,
                    n.commit)(N, d)
                },
                updateRenewModal: function(n, d) {
                    (0,
                    n.commit)(k, d)
                }
            }
        };
        d.ZP = C
    },
    64594: function(n, d, v) {
        "use strict";
        v.d(d, {
            DZ: function() {
                return formatDatetime
            },
            mr: function() {
                return formatTime
            }
        }),
        v(34333),
        v(55947),
        v(57015),
        v(72169),
        v(58486),
        v(99808),
        v(87989);
        var m = v(88329)
          , formatDatetime = function(n) {
            var d = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "yyyy年MM月dd日 HH:mm"
              , v = new Date(n)
              , m = v.getFullYear()
              , h = v.getMonth() + 1
              , y = v.getDate()
              , N = v.getHours()
              , k = N % 12 == 0 ? 12 : N % 12
              , I = v.getMinutes()
              , C = v.getSeconds()
              , x = v.getMilliseconds()
              , M = {
                yyyy: m,
                MM: h.toString().padStart(2, "0"),
                M: h,
                dd: y.toString().padStart(2, "0"),
                d: y,
                HH: N.toString().padStart(2, "0"),
                H: N,
                hh: k.toString().padStart(2, "0"),
                h: k,
                mm: I.toString().padStart(2, "0"),
                m: I,
                ss: C.toString().padStart(2, "0"),
                s: C,
                S: x
            };
            return d.replace(/y+|M+|d+|H+|h+|m+|s+|S+/g, function(n) {
                return M[n].toString()
            })
        }
          , formatTime = function(n) {
            "number" == typeof n && (n += (new Date().getTimezoneOffset() + 480) * 6e4);
            try {
                var d, v, h, y, N, k;
                if ((0,
                m.isSafari)())
                    return v = (d = n.split(" "))[0],
                    h = d[1],
                    y = v.split("-")[0],
                    N = v.split("-")[1],
                    k = v.split("-")[2],
                    "".concat(y, "年").concat(N, "月").concat(k, "日 ").concat(h);
                if (!n)
                    return "----年--月--日 --:--";
                return formatDatetime(n)
            } catch (n) {
                return "----年--月--日 --:--"
            }
        }
    },
    61338: function(n, d, v) {
        "use strict";
        v.d(d, {
            Df: function() {
                return getDebugger
            },
            Yi: function() {
                return getCreatorDomain
            },
            Zd: function() {
                return getXhsDomain
            },
            b5: function() {
                return getSource
            }
        }),
        v(80156),
        v(50721),
        v(29112),
        v(67275),
        v(59989),
        v(7099),
        v(27461),
        v(23339),
        v(51109),
        v(34333),
        v(95477),
        v(58486),
        v(87989),
        v(109),
        v(54060),
        v(20266),
        v(55947),
        v(19683);
        var getDebugger = function() {
            return new URL(window.location.href).searchParams.get("__debugger__") || ""
        };
        window.location.host.match(/\.sl\.sit\.xiaohongshu\.com$/);
        var m = window.location.host.match(/\.sit\.xiaohongshu\.com$/);
        window.location.host.match(/\.sl\.beta\.xiaohongshu\.com$/);
        var h = window.location.host.match(/\.beta\.xiaohongshu\.com$/)
          , getCreatorDomain = function() {
            return "https://creator.xiaohongshu.com"
        }
          , getXhsDomain = function() {
            return m ? "http://www.sit.xiaohongshu.com" : h ? "https://www.beta.xiaohongshu.com" : "https://www.xiaohongshu.com"
        }
          , getSource = function() {
            return new URL(window.location.href).searchParams.get("source")
        }
    }
}, function(n) {
    n.O(0, ["305", "37", "39", "420", "447", "659", "929"], function() {
        return n(n.s = "28865")
    }),
    n.O()
}
]);
//# sourceMappingURL=https://picasso-private-1251524319.cos.ap-shanghai.myqcloud.com/data/formula-static/formula/ugc/index.1d95cfef.js.map
